(self["webpackChunkdigicanvas"]=self["webpackChunkdigicanvas"]||[]).push([[504],{1656:function(t,e,n){"use strict";function i(t,e,n,i,r,s,a,o){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,{A:function(){return i}})},5189:function(t,e,n){n(4114),n(9479),function(t,n){n(e)}(0,(function(t){"use strict";var e=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],n=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],i="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",r="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",s={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},a="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",o={5:a,"5module":a+" export import",6:a+" const class extends export import super"},l=/^in(stanceof)?$/,c=new RegExp("["+r+"]"),u=new RegExp("["+r+i+"]");function h(t,e){for(var n=65536,i=0;i<e.length;i+=2){if(n+=e[i],n>t)return!1;if(n+=e[i+1],n>=t)return!0}return!1}function d(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&c.test(String.fromCharCode(t)):!1!==e&&h(t,n)))}function f(t,i){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&u.test(String.fromCharCode(t)):!1!==i&&(h(t,n)||h(t,e)))))}var p=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function m(t,e){return new p(t,{beforeExpr:!0,binop:e})}var _={beforeExpr:!0},v={startsExpr:!0},g={};function y(t,e){return void 0===e&&(e={}),e.keyword=t,g[t]=new p(t,e)}var b={num:new p("num",v),regexp:new p("regexp",v),string:new p("string",v),name:new p("name",v),privateId:new p("privateId",v),eof:new p("eof"),bracketL:new p("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new p("]"),braceL:new p("{",{beforeExpr:!0,startsExpr:!0}),braceR:new p("}"),parenL:new p("(",{beforeExpr:!0,startsExpr:!0}),parenR:new p(")"),comma:new p(",",_),semi:new p(";",_),colon:new p(":",_),dot:new p("."),question:new p("?",_),questionDot:new p("?."),arrow:new p("=>",_),template:new p("template"),invalidTemplate:new p("invalidTemplate"),ellipsis:new p("...",_),backQuote:new p("`",v),dollarBraceL:new p("${",{beforeExpr:!0,startsExpr:!0}),eq:new p("=",{beforeExpr:!0,isAssign:!0}),assign:new p("_=",{beforeExpr:!0,isAssign:!0}),incDec:new p("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new p("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:m("||",1),logicalAND:m("&&",2),bitwiseOR:m("|",3),bitwiseXOR:m("^",4),bitwiseAND:m("&",5),equality:m("==/!=/===/!==",6),relational:m("</>/<=/>=",7),bitShift:m("<</>>/>>>",8),plusMin:new p("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:m("%",10),star:m("*",10),slash:m("/",10),starstar:new p("**",{beforeExpr:!0}),coalesce:m("??",1),_break:y("break"),_case:y("case",_),_catch:y("catch"),_continue:y("continue"),_debugger:y("debugger"),_default:y("default",_),_do:y("do",{isLoop:!0,beforeExpr:!0}),_else:y("else",_),_finally:y("finally"),_for:y("for",{isLoop:!0}),_function:y("function",v),_if:y("if"),_return:y("return",_),_switch:y("switch"),_throw:y("throw",_),_try:y("try"),_var:y("var"),_const:y("const"),_while:y("while",{isLoop:!0}),_with:y("with"),_new:y("new",{beforeExpr:!0,startsExpr:!0}),_this:y("this",v),_super:y("super",v),_class:y("class",v),_extends:y("extends",_),_export:y("export"),_import:y("import",v),_null:y("null",v),_true:y("true",v),_false:y("false",v),_in:y("in",{beforeExpr:!0,binop:7}),_instanceof:y("instanceof",{beforeExpr:!0,binop:7}),_typeof:y("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:y("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:y("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},w=/\r\n?|\n|\u2028|\u2029/,x=new RegExp(w.source,"g");function k(t){return 10===t||13===t||8232===t||8233===t}function S(t,e,n){void 0===n&&(n=t.length);for(var i=e;i<n;i++){var r=t.charCodeAt(i);if(k(r))return i<n-1&&13===r&&10===t.charCodeAt(i+1)?i+2:i+1}return-1}var C=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,T=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,A=Object.prototype,E=A.hasOwnProperty,M=A.toString,O=Object.hasOwn||function(t,e){return E.call(t,e)},I=Array.isArray||function(t){return"[object Array]"===M.call(t)},P=Object.create(null);function R(t){return P[t]||(P[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function D(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}var N=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,L=function(t,e){this.line=t,this.column=e};L.prototype.offset=function(t){return new L(this.line,this.column+t)};var B=function(t,e,n){this.start=e,this.end=n,null!==t.sourceFile&&(this.source=t.sourceFile)};function V(t,e){for(var n=1,i=0;;){var r=S(t,i,e);if(r<0)return new L(n,e-i);++n,i=r}}var z={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},j=!1;function F(t){var e={};for(var n in z)e[n]=t&&O(t,n)?t[n]:z[n];if("latest"===e.ecmaVersion?e.ecmaVersion=1e8:null==e.ecmaVersion?(!j&&"object"===typeof console&&console.warn&&(j=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),t&&null!=t.allowHashBang||(e.allowHashBang=e.ecmaVersion>=14),I(e.onToken)){var i=e.onToken;e.onToken=function(t){return i.push(t)}}return I(e.onComment)&&(e.onComment=q(e,e.onComment)),e}function q(t,e){return function(n,i,r,s,a,o){var l={type:n?"Block":"Line",value:i,start:r,end:s};t.locations&&(l.loc=new B(this,a,o)),t.ranges&&(l.range=[r,s]),e.push(l)}}var U=1,H=2,W=4,X=8,$=16,Y=32,G=64,Z=128,K=256,Q=U|H|K;function J(t,e){return H|(t?W:0)|(e?X:0)}var tt=0,et=1,nt=2,it=3,rt=4,st=5,at=function(t,e,n){this.options=t=F(t),this.sourceFile=t.sourceFile,this.keywords=R(o[t.ecmaVersion>=6?6:"module"===t.sourceType?"5module":5]);var i="";!0!==t.allowReserved&&(i=s[t.ecmaVersion>=6?6:5===t.ecmaVersion?5:3],"module"===t.sourceType&&(i+=" await")),this.reservedWords=R(i);var r=(i?i+" ":"")+s.strict;this.reservedWordsStrict=R(r),this.reservedWordsStrictBind=R(r+" "+s.strictBind),this.input=String(e),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(w).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=b.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(U),this.regexpState=null,this.privateNameStack=[]},ot={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};at.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},ot.inFunction.get=function(){return(this.currentVarScope().flags&H)>0},ot.inGenerator.get=function(){return(this.currentVarScope().flags&X)>0&&!this.currentVarScope().inClassFieldInit},ot.inAsync.get=function(){return(this.currentVarScope().flags&W)>0&&!this.currentVarScope().inClassFieldInit},ot.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&K)return!1;if(e.flags&H)return(e.flags&W)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},ot.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&G)>0||n||this.options.allowSuperOutsideMethod},ot.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Z)>0},ot.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},ot.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&(H|K))>0||n},ot.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&K)>0},at.extend=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];for(var n=this,i=0;i<t.length;i++)n=t[i](n);return n},at.parse=function(t,e){return new this(e,t).parse()},at.parseExpressionAt=function(t,e,n){var i=new this(n,t,e);return i.nextToken(),i.parseExpression()},at.tokenizer=function(t,e){return new this(e,t)},Object.defineProperties(at.prototype,ot);var lt=at.prototype,ct=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;lt.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){T.lastIndex=t,t+=T.exec(this.input)[0].length;var e=ct.exec(this.input.slice(t));if(!e)return!1;if("use strict"===(e[1]||e[2])){T.lastIndex=t+e[0].length;var n=T.exec(this.input),i=n.index+n[0].length,r=this.input.charAt(i);return";"===r||"}"===r||w.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||"!"===r&&"="===this.input.charAt(i+1))}t+=e[0].length,T.lastIndex=t,t+=T.exec(this.input)[0].length,";"===this.input[t]&&t++}},lt.eat=function(t){return this.type===t&&(this.next(),!0)},lt.isContextual=function(t){return this.type===b.name&&this.value===t&&!this.containsEsc},lt.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},lt.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},lt.canInsertSemicolon=function(){return this.type===b.eof||this.type===b.braceR||w.test(this.input.slice(this.lastTokEnd,this.start))},lt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},lt.semicolon=function(){this.eat(b.semi)||this.insertSemicolon()||this.unexpected()},lt.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},lt.expect=function(t){this.eat(t)||this.unexpected()},lt.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")};var ut=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};lt.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,e?"Assigning to rvalue":"Parenthesized pattern")}},lt.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,i=t.doubleProto;if(!e)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},lt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},lt.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var ht=at.prototype;ht.parseTopLevel=function(t){var e=Object.create(null);t.body||(t.body=[]);while(this.type!==b.eof){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var i=0,r=Object.keys(this.undefinedExports);i<r.length;i+=1){var s=r[i];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var dt={kind:"loop"},ft={kind:"switch"};ht.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;T.lastIndex=this.pos;var e=T.exec(this.input),n=this.pos+e[0].length,i=this.input.charCodeAt(n);if(91===i||92===i)return!0;if(t)return!1;if(123===i||i>55295&&i<56320)return!0;if(d(i,!0)){var r=n+1;while(f(i=this.input.charCodeAt(r),!0))++r;if(92===i||i>55295&&i<56320)return!0;var s=this.input.slice(n,r);if(!l.test(s))return!0}return!1},ht.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;T.lastIndex=this.pos;var t,e=T.exec(this.input),n=this.pos+e[0].length;return!w.test(this.input.slice(this.pos,n))&&"function"===this.input.slice(n,n+8)&&(n+8===this.input.length||!(f(t=this.input.charCodeAt(n+8))||t>55295&&t<56320))},ht.parseStatement=function(t,e,n){var i,r=this.type,s=this.startNode();switch(this.isLet(t)&&(r=b._var,i="let"),r){case b._break:case b._continue:return this.parseBreakContinueStatement(s,r.keyword);case b._debugger:return this.parseDebuggerStatement(s);case b._do:return this.parseDoStatement(s);case b._for:return this.parseForStatement(s);case b._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!t);case b._class:return t&&this.unexpected(),this.parseClass(s,!0);case b._if:return this.parseIfStatement(s);case b._return:return this.parseReturnStatement(s);case b._switch:return this.parseSwitchStatement(s);case b._throw:return this.parseThrowStatement(s);case b._try:return this.parseTryStatement(s);case b._const:case b._var:return i=i||this.value,t&&"var"!==i&&this.unexpected(),this.parseVarStatement(s,i);case b._while:return this.parseWhileStatement(s);case b._with:return this.parseWithStatement(s);case b.braceL:return this.parseBlock(!0,s);case b.semi:return this.parseEmptyStatement(s);case b._export:case b._import:if(this.options.ecmaVersion>10&&r===b._import){T.lastIndex=this.pos;var a=T.exec(this.input),o=this.pos+a[0].length,l=this.input.charCodeAt(o);if(40===l||46===l)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===b._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!t);var c=this.value,u=this.parseExpression();return r===b.name&&"Identifier"===u.type&&this.eat(b.colon)?this.parseLabeledStatement(s,c,u,t):this.parseExpressionStatement(s,u)}},ht.parseBreakContinueStatement=function(t,e){var n="break"===e;this.next(),this.eat(b.semi)||this.insertSemicolon()?t.label=null:this.type!==b.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var r=this.labels[i];if(null==t.label||r.name===t.label.name){if(null!=r.kind&&(n||"loop"===r.kind))break;if(t.label&&n)break}}return i===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")},ht.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},ht.parseDoStatement=function(t){return this.next(),this.labels.push(dt),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(b._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(b.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},ht.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(dt),this.enterScope(0),this.expect(b.parenL),this.type===b.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===b._var||this.type===b._const||n){var i=this.startNode(),r=n?"let":this.value;return this.next(),this.parseVar(i,!0,r),this.finishNode(i,"VariableDeclaration"),(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===i.declarations.length?(this.options.ecmaVersion>=9&&(this.type===b._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,i)):(e>-1&&this.unexpected(e),this.parseFor(t,i))}var s=this.isContextual("let"),a=!1,o=this.containsEsc,l=new ut,c=this.start,u=e>-1?this.parseExprSubscripts(l,"await"):this.parseExpression(!0,l);return this.type===b._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===b._in&&this.unexpected(e),t.await=!0):a&&this.options.ecmaVersion>=8&&(u.start!==c||o||"Identifier"!==u.type||"async"!==u.name?this.options.ecmaVersion>=9&&(t.await=!1):this.unexpected()),s&&a&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,l),this.checkLValPattern(u),this.parseForIn(t,u)):(this.checkExpressionErrors(l,!0),e>-1&&this.unexpected(e),this.parseFor(t,u))},ht.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,mt|(n?0:_t),!1,e)},ht.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(b._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},ht.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(b.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},ht.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(b.braceL),this.labels.push(ft),this.enterScope(0);for(var n=!1;this.type!==b.braceR;)if(this.type===b._case||this.type===b._default){var i=this.type===b._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),i?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(b.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},ht.parseThrowStatement=function(t){return this.next(),w.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var pt=[];ht.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e="Identifier"===t.type;return this.enterScope(e?Y:0),this.checkLValPattern(t,e?rt:nt),this.expect(b.parenR),t},ht.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===b._catch){var e=this.startNode();this.next(),this.eat(b.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(b._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},ht.parseVarStatement=function(t,e,n){return this.next(),this.parseVar(t,!1,e,n),this.semicolon(),this.finishNode(t,"VariableDeclaration")},ht.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(dt),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},ht.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},ht.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},ht.parseLabeledStatement=function(t,e,n,i){for(var r=0,s=this.labels;r<s.length;r+=1){var a=s[r];a.name===e&&this.raise(n.start,"Label '"+e+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===b._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var c=this.labels[l];if(c.statementStart!==t.start)break;c.statementStart=this.start,c.kind=o}return this.labels.push({name:e,kind:o,statementStart:this.start}),t.body=this.parseStatement(i?-1===i.indexOf("label")?i+"label":i:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")},ht.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},ht.parseBlock=function(t,e,n){void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),e.body=[],this.expect(b.braceL),t&&this.enterScope(0);while(this.type!==b.braceR){var i=this.parseStatement(null);e.body.push(i)}return n&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")},ht.parseFor=function(t,e){return t.init=e,this.expect(b.semi),t.test=this.type===b.semi?null:this.parseExpression(),this.expect(b.semi),t.update=this.type===b.parenR?null:this.parseExpression(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},ht.parseForIn=function(t,e){var n=this.type===b._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)&&this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")},ht.parseVar=function(t,e,n,i){for(t.declarations=[],t.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(b.eq)?r.init=this.parseMaybeAssign(e):i||"const"!==n||this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of")?i||"Identifier"===r.id.type||e&&(this.type===b._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(b.comma))break}return t},ht.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,"var"===e?et:nt,!1)};var mt=1,_t=2,vt=4;function gt(t,e){var n=e.key.name,i=t[n],r="true";return"MethodDefinition"!==e.type||"get"!==e.kind&&"set"!==e.kind||(r=(e.static?"s":"i")+e.kind),"iget"===i&&"iset"===r||"iset"===i&&"iget"===r||"sget"===i&&"sset"===r||"sset"===i&&"sget"===r?(t[n]="true",!1):!!i||(t[n]=r,!1)}function yt(t,e){var n=t.computed,i=t.key;return!n&&("Identifier"===i.type&&i.name===e||"Literal"===i.type&&i.value===e)}ht.parseFunction=function(t,e,n,i,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===b.star&&e&_t&&this.unexpected(),t.generator=this.eat(b.star)),this.options.ecmaVersion>=8&&(t.async=!!i),e&mt&&(t.id=e&vt&&this.type!==b.name?null:this.parseIdent(),!t.id||e&_t||this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?et:nt:it));var s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(J(t.async,t.generator)),e&mt||(t.id=this.type===b.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1,r),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(t,e&mt?"FunctionDeclaration":"FunctionExpression")},ht.parseFunctionParams=function(t){this.expect(b.parenL),t.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},ht.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var i=this.enterClassBody(),r=this.startNode(),s=!1;r.body=[],this.expect(b.braceL);while(this.type!==b.braceR){var a=this.parseClassElement(null!==t.superClass);a&&(r.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind?(s&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),s=!0):a.key&&"PrivateIdentifier"===a.key.type&&gt(i,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},ht.parseClassElement=function(t){if(this.eat(b.semi))return null;var e=this.options.ecmaVersion,n=this.startNode(),i="",r=!1,s=!1,a="method",o=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(b.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===b.star?o=!0:i="static"}if(n.static=o,!i&&e>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==b.star||this.canInsertSemicolon()?i="async":s=!0),!i&&(e>=9||!s)&&this.eat(b.star)&&(r=!0),!i&&!s&&!r){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=l:i=l)}if(i?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=i,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),e<13||this.type===b.parenL||"method"!==a||r||s){var c=!n.static&&yt(n,"constructor"),u=c&&t;c&&"method"!==a&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=c?"constructor":a,this.parseClassMethod(n,r,s,u)}else this.parseClassField(n);return n},ht.isClassElementNameStart=function(){return this.type===b.name||this.type===b.privateId||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword},ht.parseClassElementName=function(t){this.type===b.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)},ht.parseClassMethod=function(t,e,n,i){var r=t.key;"constructor"===t.kind?(e&&this.raise(r.start,"Constructor can't be a generator"),n&&this.raise(r.start,"Constructor can't be an async method")):t.static&&yt(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,n,i);return"get"===t.kind&&0!==s.params.length&&this.raiseRecoverable(s.start,"getter should have no params"),"set"===t.kind&&1!==s.params.length&&this.raiseRecoverable(s.start,"setter should have exactly one param"),"set"===t.kind&&"RestElement"===s.params[0].type&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")},ht.parseClassField=function(t){if(yt(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&yt(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(b.eq)){var e=this.currentThisScope(),n=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=n}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")},ht.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;this.labels=[],this.enterScope(K|G);while(this.type!==b.braceR){var n=this.parseStatement(null);t.body.push(n)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")},ht.parseClassId=function(t,e){this.type===b.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,nt,!1)):(!0===e&&this.unexpected(),t.id=null)},ht.parseClassSuper=function(t){t.superClass=this.eat(b._extends)?this.parseExprSubscripts(null,!1):null},ht.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared},ht.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,n=t.used;if(this.options.checkPrivateFields)for(var i=this.privateNameStack.length,r=0===i?null:this.privateNameStack[i-1],s=0;s<n.length;++s){var a=n[s];O(e,a.name)||(r?r.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}},ht.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")},ht.parseExport=function(t,e){if(this.next(),this.eat(b.star))return this.parseExportAllDeclaration(t,e);if(this.eat(b._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var n=0,i=t.specifiers;n<i.length;n+=1){var r=i[n];this.checkUnreserved(r.local),this.checkLocalExport(r.local),"Literal"===r.local.type&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},ht.parseExportDeclaration=function(t){return this.parseStatement(null)},ht.parseExportDefaultDeclaration=function(){var t;if(this.type===b._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,mt|vt,!1,t)}if(this.type===b._class){var n=this.startNode();return this.parseClass(n,"nullableID")}var i=this.parseMaybeAssign();return this.semicolon(),i},ht.checkExport=function(t,e,n){t&&("string"!==typeof e&&(e="Identifier"===e.type?e.name:e.value),O(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)},ht.checkPatternExport=function(t,e){var n=e.type;if("Identifier"===n)this.checkExport(t,e,e.start);else if("ObjectPattern"===n)for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.checkPatternExport(t,s)}else if("ArrayPattern"===n)for(var a=0,o=e.elements;a<o.length;a+=1){var l=o[a];l&&this.checkPatternExport(t,l)}else"Property"===n?this.checkPatternExport(t,e.value):"AssignmentPattern"===n?this.checkPatternExport(t,e.left):"RestElement"===n&&this.checkPatternExport(t,e.argument)},ht.checkVariableExport=function(t,e){if(t)for(var n=0,i=e;n<i.length;n+=1){var r=i[n];this.checkPatternExport(t,r.id)}},ht.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},ht.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")},ht.parseExportSpecifiers=function(t){var e=[],n=!0;this.expect(b.braceL);while(!this.eat(b.braceR)){if(n)n=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;e.push(this.parseExportSpecifier(t))}return e},ht.parseImport=function(t){return this.next(),this.type===b.string?(t.specifiers=pt,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===b.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},ht.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,nt),this.finishNode(t,"ImportSpecifier")},ht.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,nt),this.finishNode(t,"ImportDefaultSpecifier")},ht.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,nt),this.finishNode(t,"ImportNamespaceSpecifier")},ht.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===b.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(b.comma)))return t;if(this.type===b.star)return t.push(this.parseImportNamespaceSpecifier()),t;this.expect(b.braceL);while(!this.eat(b.braceR)){if(e)e=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;t.push(this.parseImportSpecifier())}return t},ht.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===b.string){var t=this.parseLiteral(this.value);return N.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)},ht.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},ht.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"===typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var bt=at.prototype;bt.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,r=t.properties;i<r.length;i+=1){var s=r[i];this.toAssignable(s,e),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t},bt.toAssignableList=function(t,e){for(var n=t.length,i=0;i<n;i++){var r=t[i];r&&this.toAssignable(r,e)}if(n){var s=t[n-1];6===this.options.ecmaVersion&&e&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return t},bt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},bt.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==b.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},bt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case b.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(b.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case b.braceL:return this.parseObj(!0)}return this.parseIdent()},bt.parseBindingList=function(t,e,n,i){var r=[],s=!0;while(!this.eat(t))if(s?s=!1:this.expect(b.comma),e&&this.type===b.comma)r.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===b.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),r.push(a),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}r.push(this.parseAssignableListItem(i))}return r},bt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e},bt.parseBindingListItem=function(t){return t},bt.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(b.eq))return n;var i=this.startNodeAt(t,e);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},bt.checkLValSimple=function(t,e,n){void 0===e&&(e=tt);var i=e!==tt;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(i?"Binding ":"Assigning to ")+t.name+" in strict mode"),i&&(e===nt&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),n&&(O(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),e!==st&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,n);default:this.raise(t.start,(i?"Binding":"Assigning to")+" rvalue")}},bt.checkLValPattern=function(t,e,n){switch(void 0===e&&(e=tt),t.type){case"ObjectPattern":for(var i=0,r=t.properties;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,e,n)}break;case"ArrayPattern":for(var a=0,o=t.elements;a<o.length;a+=1){var l=o[a];l&&this.checkLValInnerPattern(l,e,n)}break;default:this.checkLValSimple(t,e,n)}},bt.checkLValInnerPattern=function(t,e,n){switch(void 0===e&&(e=tt),t.type){case"Property":this.checkLValInnerPattern(t.value,e,n);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,n);break;case"RestElement":this.checkLValPattern(t.argument,e,n);break;default:this.checkLValPattern(t,e,n)}};var wt=function(t,e,n,i,r){this.token=t,this.isExpr=!!e,this.preserveSpace=!!n,this.override=i,this.generator=!!r},xt={b_stat:new wt("{",!1),b_expr:new wt("{",!0),b_tmpl:new wt("${",!1),p_stat:new wt("(",!1),p_expr:new wt("(",!0),q_tmpl:new wt("`",!0,!0,(function(t){return t.tryReadTemplateToken()})),f_stat:new wt("function",!1),f_expr:new wt("function",!0),f_expr_gen:new wt("function",!0,!1,null,!0),f_gen:new wt("function",!1,!1,null,!0)},kt=at.prototype;kt.initialContext=function(){return[xt.b_stat]},kt.curContext=function(){return this.context[this.context.length-1]},kt.braceIsBlock=function(t){var e=this.curContext();return e===xt.f_expr||e===xt.f_stat||(t!==b.colon||e!==xt.b_stat&&e!==xt.b_expr?t===b._return||t===b.name&&this.exprAllowed?w.test(this.input.slice(this.lastTokEnd,this.start)):t===b._else||t===b.semi||t===b.eof||t===b.parenR||t===b.arrow||(t===b.braceL?e===xt.b_stat:t!==b._var&&t!==b._const&&t!==b.name&&!this.exprAllowed):!e.isExpr)},kt.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},kt.updateContext=function(t){var e,n=this.type;n.keyword&&t===b.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr},kt.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)},b.parenR.updateContext=b.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===xt.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},b.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?xt.b_stat:xt.b_expr),this.exprAllowed=!0},b.dollarBraceL.updateContext=function(){this.context.push(xt.b_tmpl),this.exprAllowed=!0},b.parenL.updateContext=function(t){var e=t===b._if||t===b._for||t===b._with||t===b._while;this.context.push(e?xt.p_stat:xt.p_expr),this.exprAllowed=!0},b.incDec.updateContext=function(){},b._function.updateContext=b._class.updateContext=function(t){!t.beforeExpr||t===b._else||t===b.semi&&this.curContext()!==xt.p_stat||t===b._return&&w.test(this.input.slice(this.lastTokEnd,this.start))||(t===b.colon||t===b.braceL)&&this.curContext()===xt.b_stat?this.context.push(xt.f_stat):this.context.push(xt.f_expr),this.exprAllowed=!1},b.colon.updateContext=function(){"function"===this.curContext().token&&this.context.pop(),this.exprAllowed=!0},b.backQuote.updateContext=function(){this.curContext()===xt.q_tmpl?this.context.pop():this.context.push(xt.q_tmpl),this.exprAllowed=!1},b.star.updateContext=function(t){if(t===b._function){var e=this.context.length-1;this.context[e]===xt.f_expr?this.context[e]=xt.f_expr_gen:this.context[e]=xt.f_gen}this.exprAllowed=!0},b.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==b.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var St=at.prototype;function Ct(t){return"Identifier"===t.type||"ParenthesizedExpression"===t.type&&Ct(t.expression)}function Tt(t){return"MemberExpression"===t.type&&"PrivateIdentifier"===t.property.type||"ChainExpression"===t.type&&Tt(t.expression)||"ParenthesizedExpression"===t.type&&Tt(t.expression)}St.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type)&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var i,r=t.key;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6)"__proto__"===i&&"init"===s&&(e.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0);else{i="$"+i;var a,o=e[i];if(o)a="init"===s?this.strict&&o.init||o.get||o.set:o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property");else o=e[i]={init:!1,get:!1,set:!1};o[s]=!0}}},St.parseExpression=function(t,e){var n=this.start,i=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===b.comma){var s=this.startNodeAt(n,i);s.expressions=[r];while(this.eat(b.comma))s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return r},St.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var i=!1,r=-1,s=-1,a=-1;e?(r=e.parenthesizedAssign,s=e.trailingComma,a=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new ut,i=!0);var o=this.start,l=this.startLoc;this.type!==b.parenL&&this.type!==b.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===t);var c=this.parseMaybeConditional(t,e);if(n&&(c=n.call(this,c,o,l)),this.type.isAssign){var u=this.startNodeAt(o,l);return u.operator=this.value,this.type===b.eq&&(c=this.toAssignable(c,!1,e)),i||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=c.start&&(e.shorthandAssign=-1),this.type===b.eq?this.checkLValPattern(c):this.checkLValSimple(c),u.left=c,this.next(),u.right=this.parseMaybeAssign(t),a>-1&&(e.doubleProto=a),this.finishNode(u,"AssignmentExpression")}return i&&this.checkExpressionErrors(e,!0),r>-1&&(e.parenthesizedAssign=r),s>-1&&(e.trailingComma=s),c},St.parseMaybeConditional=function(t,e){var n=this.start,i=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(b.question)){var s=this.startNodeAt(n,i);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(b.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return r},St.parseExprOps=function(t,e){var n=this.start,i=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===n&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,n,i,-1,t)},St.parseExprOp=function(t,e,n,i,r){var s=this.type.binop;if(null!=s&&(!r||this.type!==b._in)&&s>i){var a=this.type===b.logicalOR||this.type===b.logicalAND,o=this.type===b.coalesce;o&&(s=b.logicalAND.binop);var l=this.value;this.next();var c=this.start,u=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),c,u,s,r),d=this.buildBinary(e,n,t,h,l,a||o);return(a&&this.type===b.coalesce||o&&(this.type===b.logicalOR||this.type===b.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,e,n,i,r)}return t},St.buildBinary=function(t,e,n,i,r,s){"PrivateIdentifier"===i.type&&this.raise(i.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(t,e);return a.left=n,a.operator=r,a.right=i,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},St.parseMaybeUnary=function(t,e,n,i){var r,s=this.start,a=this.startLoc;if(this.isContextual("await")&&this.canAwait)r=this.parseAwait(i),e=!0;else if(this.type.prefix){var o=this.startNode(),l=this.type===b.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,l,i),this.checkExpressionErrors(t,!0),l?this.checkLValSimple(o.argument):this.strict&&"delete"===o.operator&&Ct(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):"delete"===o.operator&&Tt(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):e=!0,r=this.finishNode(o,l?"UpdateExpression":"UnaryExpression")}else if(e||this.type!==b.privateId){if(r=this.parseExprSubscripts(t,i),this.checkExpressionErrors(t))return r;while(this.type.postfix&&!this.canInsertSemicolon()){var c=this.startNodeAt(s,a);c.operator=this.value,c.prefix=!1,c.argument=r,this.checkLValSimple(r),this.next(),r=this.finishNode(c,"UpdateExpression")}}else(i||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),r=this.parsePrivateIdent(),this.type!==b._in&&this.unexpected();return n||!this.eat(b.starstar)?r:e?void this.unexpected(this.lastTokStart):this.buildBinary(s,a,r,this.parseMaybeUnary(null,!1,!1,i),"**",!1)},St.parseExprSubscripts=function(t,e){var n=this.start,i=this.startLoc,r=this.parseExprAtom(t,e);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var s=this.parseSubscripts(r,n,i,!1,e);return t&&"MemberExpression"===s.type&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s},St.parseSubscripts=function(t,e,n,i,r){var s=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,a=!1;while(1){var o=this.parseSubscript(t,e,n,i,s,a,r);if(o.optional&&(a=!0),o===t||"ArrowFunctionExpression"===o.type){if(a){var l=this.startNodeAt(e,n);l.expression=o,o=this.finishNode(l,"ChainExpression")}return o}t=o}},St.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(b.arrow)},St.parseSubscriptAsyncArrow=function(t,e,n,i){return this.parseArrowExpression(this.startNodeAt(t,e),n,!0,i)},St.parseSubscript=function(t,e,n,i,r,s,a){var o=this.options.ecmaVersion>=11,l=o&&this.eat(b.questionDot);i&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(b.bracketL);if(c||l&&this.type!==b.parenL&&this.type!==b.backQuote||this.eat(b.dot)){var u=this.startNodeAt(e,n);u.object=t,c?(u.property=this.parseExpression(),this.expect(b.bracketR)):this.type===b.privateId&&"Super"!==t.type?u.property=this.parsePrivateIdent():u.property=this.parseIdent("never"!==this.options.allowReserved),u.computed=!!c,o&&(u.optional=l),t=this.finishNode(u,"MemberExpression")}else if(!i&&this.eat(b.parenL)){var h=new ut,d=this.yieldPos,f=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1,h);if(r&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=f,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(e,n,m,a);this.checkExpressionErrors(h,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=f||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var _=this.startNodeAt(e,n);_.callee=t,_.arguments=m,o&&(_.optional=l),t=this.finishNode(_,"CallExpression")}else if(this.type===b.backQuote){(l||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var v=this.startNodeAt(e,n);v.tag=t,v.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(v,"TaggedTemplateExpression")}return t},St.parseExprAtom=function(t,e,n){this.type===b.slash&&this.readRegexp();var i,r=this.potentialArrowAt===this.start;switch(this.type){case b._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type!==b.parenL||this.allowDirectSuper||this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==b.dot&&this.type!==b.bracketL&&this.type!==b.parenL&&this.unexpected(),this.finishNode(i,"Super");case b._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case b.name:var s=this.start,a=this.startLoc,o=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&"async"===l.name&&!this.canInsertSemicolon()&&this.eat(b._function))return this.overrideContext(xt.f_expr),this.parseFunction(this.startNodeAt(s,a),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(b.arrow))return this.parseArrowExpression(this.startNodeAt(s,a),[l],!1,e);if(this.options.ecmaVersion>=8&&"async"===l.name&&this.type===b.name&&!o&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return l=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(b.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,a),[l],!0,e)}return l;case b.regexp:var c=this.value;return i=this.parseLiteral(c.value),i.regex={pattern:c.pattern,flags:c.flags},i;case b.num:case b.string:return this.parseLiteral(this.value);case b._null:case b._true:case b._false:return i=this.startNode(),i.value=this.type===b._null?null:this.type===b._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case b.parenL:var u=this.start,h=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(t.parenthesizedAssign=u),t.parenthesizedBind<0&&(t.parenthesizedBind=u)),h;case b.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(b.bracketR,!0,!0,t),this.finishNode(i,"ArrayExpression");case b.braceL:return this.overrideContext(xt.b_expr),this.parseObj(!1,t);case b._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case b._class:return this.parseClass(this.startNode(),!1);case b._new:return this.parseNew();case b.backQuote:return this.parseTemplate();case b._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}},St.parseExprAtomDefault=function(){this.unexpected()},St.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===b.parenL&&!t)return this.parseDynamicImport(e);if(this.type===b.dot){var n=this.startNodeAt(e.start,e.loc&&e.loc.start);return n.name="import",e.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(e)}this.unexpected()},St.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(b.parenR)){var e=this.start;this.eat(b.comma)&&this.eat(b.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")},St.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")},St.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")},St.parseParenExpression=function(){this.expect(b.parenL);var t=this.parseExpression();return this.expect(b.parenR),t},St.shouldParseArrow=function(t){return!this.canInsertSemicolon()},St.parseParenAndDistinguishExpression=function(t,e){var n,i=this.start,r=this.startLoc,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a,o=this.start,l=this.startLoc,c=[],u=!0,h=!1,d=new ut,f=this.yieldPos,p=this.awaitPos;this.yieldPos=0,this.awaitPos=0;while(this.type!==b.parenR){if(u?u=!1:this.expect(b.comma),s&&this.afterTrailingComma(b.parenR,!0)){h=!0;break}if(this.type===b.ellipsis){a=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}c.push(this.parseMaybeAssign(!1,d,this.parseParenItem))}var m=this.lastTokEnd,_=this.lastTokEndLoc;if(this.expect(b.parenR),t&&this.shouldParseArrow(c)&&this.eat(b.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=p,this.parseParenArrowList(i,r,c,e);c.length&&!h||this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=p||this.awaitPos,c.length>1?(n=this.startNodeAt(o,l),n.expressions=c,this.finishNodeAt(n,"SequenceExpression",m,_)):n=c[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var v=this.startNodeAt(i,r);return v.expression=n,this.finishNode(v,"ParenthesizedExpression")}return n},St.parseParenItem=function(t){return t},St.parseParenArrowList=function(t,e,n,i){return this.parseArrowExpression(this.startNodeAt(t,e),n,!1,i)};var At=[];St.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===b.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var n=this.containsEsc;return t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var i=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),i,r,!0,!1),this.eat(b.parenL)?t.arguments=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1):t.arguments=At,this.finishNode(t,"NewExpression")},St.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===b.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,"\n"),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===b.backQuote,this.finishNode(n,"TemplateElement")},St.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:e});n.quasis=[i];while(!i.tail)this.type===b.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(b.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(b.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")},St.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===b.name||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===b.star)&&!w.test(this.input.slice(this.lastTokEnd,this.start))},St.parseObj=function(t,e){var n=this.startNode(),i=!0,r={};n.properties=[],this.next();while(!this.eat(b.braceR)){if(i)i=!1;else if(this.expect(b.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(b.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,r,e),n.properties.push(s)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")},St.parseProperty=function(t,e){var n,i,r,s,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(b.ellipsis))return t?(a.argument=this.parseIdent(!1),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(a.argument=this.parseMaybeAssign(!1,e),this.type===b.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(t||e)&&(r=this.start,s=this.startLoc),t||(n=this.eat(b.star)));var o=this.containsEsc;return this.parsePropertyName(a),!t&&!o&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(i=!0,n=this.options.ecmaVersion>=9&&this.eat(b.star),this.parsePropertyName(a)):i=!1,this.parsePropertyValue(a,t,n,i,r,s,e,o),this.finishNode(a,"Property")},St.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e="get"===t.kind?0:1;if(t.value.params.length!==e){var n=t.value.start;"get"===t.kind?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")},St.parsePropertyValue=function(t,e,n,i,r,s,a,o){(n||i)&&this.type===b.colon&&this.unexpected(),this.eat(b.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init"):this.options.ecmaVersion>=6&&this.type===b.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,i)):e||o||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===b.comma||this.type===b.braceR||this.type===b.eq?this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((n||i)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key)):this.type===b.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected():((n||i)&&this.unexpected(),this.parseGetterSetter(t))},St.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(b.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(b.bracketR),t.key;t.computed=!1}return t.key=this.type===b.num||this.type===b.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},St.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},St.parseMethod=function(t,e,n){var i=this.startNode(),r=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=t),this.options.ecmaVersion>=8&&(i.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(J(e,i.generator)|G|(n?Z:0)),this.expect(b.parenL),i.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(i,"FunctionExpression")},St.parseArrowExpression=function(t,e,n,i){var r=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(J(n,!1)|$),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,i),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(t,"ArrowFunctionExpression")},St.parseFunctionBody=function(t,e,n,i){var r=e&&this.type!==b.braceL,s=this.strict,a=!1;if(r)t.body=this.parseMaybeAssign(i),t.expression=!0,this.checkParams(t,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);s&&!o||(a=this.strictDirective(this.end),a&&o&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(t,!s&&!a&&!e&&!n&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,st),t.body=this.parseBlock(!1,void 0,a&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=l}this.exitScope()},St.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1){var i=n[e];if("Identifier"!==i.type)return!1}return!0},St.checkParams=function(t,e){for(var n=Object.create(null),i=0,r=t.params;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,et,e?null:n)}},St.parseExprList=function(t,e,n,i){var r=[],s=!0;while(!this.eat(t)){if(s)s=!1;else if(this.expect(b.comma),e&&this.afterTrailingComma(t))break;var a=void 0;n&&this.type===b.comma?a=null:this.type===b.ellipsis?(a=this.parseSpread(i),i&&this.type===b.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),r.push(a)}return r},St.checkUnreserved=function(t){var e=t.start,n=t.end,i=t.name;if(this.inGenerator&&"yield"===i&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===i&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||"arguments"!==i&&"await"!==i||this.raise(e,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(e,"Unexpected keyword '"+i+"'"),!(this.options.ecmaVersion<6&&-1!==this.input.slice(e,n).indexOf("\\"))){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(i)&&(this.inAsync||"await"!==i||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+i+"' is reserved"))}},St.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),"await"!==e.name||this.awaitIdentPos||(this.awaitIdentPos=e.start)),e},St.parseIdentNode=function(){var t=this.startNode();return this.type===b.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,"class"!==t.name&&"function"!==t.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop(),this.type=b.name):this.unexpected(),t},St.parsePrivateIdent=function(){var t=this.startNode();return this.type===b.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t},St.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===b.semi||this.canInsertSemicolon()||this.type!==b.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(b.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},St.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Et=at.prototype;Et.raise=function(t,e){var n=V(this.input,t);e+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(e);throw i.pos=t,i.loc=n,i.raisedAt=this.pos,i},Et.raiseRecoverable=Et.raise,Et.curPosition=function(){if(this.options.locations)return new L(this.curLine,this.pos-this.lineStart)};var Mt=at.prototype,Ot=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Mt.enterScope=function(t){this.scopeStack.push(new Ot(t))},Mt.exitScope=function(){this.scopeStack.pop()},Mt.treatFunctionsAsVarInScope=function(t){return t.flags&H||!this.inModule&&t.flags&U},Mt.declareName=function(t,e,n){var i=!1;if(e===nt){var r=this.currentScope();i=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&U&&delete this.undefinedExports[t]}else if(e===rt){var s=this.currentScope();s.lexical.push(t)}else if(e===it){var a=this.currentScope();i=this.treatFunctionsAsVar?a.lexical.indexOf(t)>-1:a.lexical.indexOf(t)>-1||a.var.indexOf(t)>-1,a.functions.push(t)}else for(var o=this.scopeStack.length-1;o>=0;--o){var l=this.scopeStack[o];if(l.lexical.indexOf(t)>-1&&!(l.flags&Y&&l.lexical[0]===t)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(t)>-1){i=!0;break}if(l.var.push(t),this.inModule&&l.flags&U&&delete this.undefinedExports[t],l.flags&Q)break}i&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")},Mt.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},Mt.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Mt.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Q)return e}},Mt.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Q&&!(e.flags&$))return e}};var It=function(t,e,n){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new B(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},Pt=at.prototype;function Rt(t,e,n,i){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=i),this.options.ranges&&(t.range[1]=n),t}Pt.startNode=function(){return new It(this,this.start,this.startLoc)},Pt.startNodeAt=function(t,e){return new It(this,t,e)},Pt.finishNode=function(t,e){return Rt.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},Pt.finishNodeAt=function(t,e,n,i){return Rt.call(this,t,e,n,i)},Pt.copyNode=function(t){var e=new It(this,t.start,this.startLoc);for(var n in t)e[n]=t[n];return e};var Dt="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Nt=Dt+" Extended_Pictographic",Lt=Nt,Bt=Lt+" EBase EComp EMod EPres ExtPict",Vt=Bt,zt=Vt,jt={9:Dt,10:Nt,11:Lt,12:Bt,13:Vt,14:zt},Ft="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",qt={9:"",10:"",11:"",12:"",13:"",14:Ft},Ut="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ht="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Wt=Ht+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Xt=Wt+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",$t=Xt+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Yt=$t+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Gt=Yt+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",Zt={9:Ht,10:Wt,11:Xt,12:$t,13:Yt,14:Gt},Kt={};function Qt(t){var e=Kt[t]={binary:R(jt[t]+" "+Ut),binaryOfStrings:R(qt[t]),nonBinary:{General_Category:R(Ut),Script:R(Zt[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var Jt=0,te=[9,10,11,12,13,14];Jt<te.length;Jt+=1){var ee=te[Jt];Qt(ee)}var ne=at.prototype,ie=function(t,e){this.parent=t,this.base=e||this};ie.prototype.separatedFrom=function(t){for(var e=this;e;e=e.parent)for(var n=t;n;n=n.parent)if(e.base===n.base&&e!==n)return!0;return!1},ie.prototype.sibling=function(){return new ie(this.parent,this.base)};var re=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Kt[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};function se(t){for(var e in t)return!0;return!1}function ae(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function oe(t){return d(t,!0)||36===t||95===t}function le(t){return f(t,!0)||36===t||95===t||8204===t||8205===t}function ce(t){return t>=65&&t<=90||t>=97&&t<=122}function ue(t){return t>=0&&t<=1114111}re.prototype.reset=function(t,e,n){var i=-1!==n.indexOf("v"),r=-1!==n.indexOf("u");this.start=0|t,this.source=e+"",this.flags=n,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=r&&this.parser.options.ecmaVersion>=9)},re.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},re.prototype.at=function(t,e){void 0===e&&(e=!1);var n=this.source,i=n.length;if(t>=i)return-1;var r=n.charCodeAt(t);if(!e&&!this.switchU||r<=55295||r>=57344||t+1>=i)return r;var s=n.charCodeAt(t+1);return s>=56320&&s<=57343?(r<<10)+s-56613888:r},re.prototype.nextIndex=function(t,e){void 0===e&&(e=!1);var n=this.source,i=n.length;if(t>=i)return i;var r,s=n.charCodeAt(t);return!e&&!this.switchU||s<=55295||s>=57344||t+1>=i||(r=n.charCodeAt(t+1))<56320||r>57343?t+1:t+2},re.prototype.current=function(t){return void 0===t&&(t=!1),this.at(this.pos,t)},re.prototype.lookahead=function(t){return void 0===t&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},re.prototype.advance=function(t){void 0===t&&(t=!1),this.pos=this.nextIndex(this.pos,t)},re.prototype.eat=function(t,e){return void 0===e&&(e=!1),this.current(e)===t&&(this.advance(e),!0)},re.prototype.eatChars=function(t,e){void 0===e&&(e=!1);for(var n=this.pos,i=0,r=t;i<r.length;i+=1){var s=r[i],a=this.at(n,e);if(-1===a||a!==s)return!1;n=this.nextIndex(n,e)}return this.pos=n,!0},ne.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,i=!1,r=!1,s=0;s<n.length;s++){var a=n.charAt(s);-1===e.indexOf(a)&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(a,s+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),"u"===a&&(i=!0),"v"===a&&(r=!0)}this.options.ecmaVersion>=15&&i&&r&&this.raise(t.start,"Invalid regular expression flag")},ne.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&se(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))},ne.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var i=n[e];t.groupNames[i]||t.raise("Invalid named capture referenced")}},ne.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;e&&(t.branchID=new ie(t.branchID,null)),this.regexp_alternative(t);while(t.eat(124))e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},ne.regexp_alternative=function(t){while(t.pos<t.source.length&&this.regexp_eatTerm(t));},ne.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!!(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},ne.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1},ne.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},ne.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},ne.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var i=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return-1!==r&&r<i&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1},ne.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},ne.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},ne.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},ne.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},ne.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},ne.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},ne.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!ae(e)&&(t.lastIntValue=e,t.advance(),!0)},ne.regexp_eatPatternCharacters=function(t){var e=t.pos,n=0;while(-1!==(n=t.current())&&!ae(n))t.advance();return t.pos!==e},ne.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||e>=40&&e<=43||46===e||63===e||91===e||94===e||124===e)&&(t.advance(),!0)},ne.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,n=t.groupNames[t.lastStringValue];if(n)if(e)for(var i=0,r=n;i<r.length;i+=1){var s=r[i];s.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(n||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}},ne.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},ne.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){t.lastStringValue+=D(t.lastIntValue);while(this.regexp_eatRegExpIdentifierPart(t))t.lastStringValue+=D(t.lastIntValue);return!0}return!1},ne.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,i=t.current(n);return t.advance(n),92===i&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(i=t.lastIntValue),oe(i)?(t.lastIntValue=i,!0):(t.pos=e,!1)},ne.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,i=t.current(n);return t.advance(n),92===i&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(i=t.lastIntValue),le(i)?(t.lastIntValue=i,!0):(t.pos=e,!1)},ne.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},ne.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1},ne.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},ne.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},ne.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},ne.regexp_eatZero=function(t){return 48===t.current()&&!be(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},ne.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},ne.regexp_eatControlLetter=function(t){var e=t.current();return!!ce(e)&&(t.lastIntValue=e%32,t.advance(),!0)},ne.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){void 0===e&&(e=!1);var n=t.pos,i=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(i&&r>=55296&&r<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var a=t.lastIntValue;if(a>=56320&&a<=57343)return t.lastIntValue=1024*(r-55296)+(a-56320)+65536,!0}t.pos=s,t.lastIntValue=r}return!0}if(i&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&ue(t.lastIntValue))return!0;i&&t.raise("Invalid unicode escape"),t.pos=n}return!1},ne.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e)&&(t.lastIntValue=e,t.advance(),!0)},ne.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do{t.lastIntValue=10*t.lastIntValue+(e-48),t.advance()}while((e=t.current())>=48&&e<=57);return!0}return!1};var he=0,de=1,fe=2;function pe(t){return 100===t||68===t||115===t||83===t||119===t||87===t}function me(t){return ce(t)||95===t}function _e(t){return me(t)||be(t)}function ve(t){return 33===t||t>=35&&t<=38||t>=42&&t<=44||46===t||t>=58&&t<=64||94===t||96===t||126===t}function ge(t){return 40===t||41===t||45===t||47===t||t>=91&&t<=93||t>=123&&t<=125}function ye(t){return 33===t||35===t||37===t||38===t||44===t||45===t||t>=58&&t<=62||64===t||96===t||126===t}function be(t){return t>=48&&t<=57}function we(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function xe(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t-48}function ke(t){return t>=48&&t<=55}ne.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(pe(e))return t.lastIntValue=-1,t.advance(),de;var n=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((n=80===e)||112===e)){var i;if(t.lastIntValue=-1,t.advance(),t.eat(123)&&(i=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return n&&i===fe&&t.raise("Invalid property name"),i;t.raise("Invalid property name")}return he},ne.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,i),de}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return he},ne.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){O(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")},ne.regexp_validateUnicodePropertyNameOrValue=function(t,e){return t.unicodeProperties.binary.test(e)?de:t.switchV&&t.unicodeProperties.binaryOfStrings.test(e)?fe:void t.raise("Invalid property name")},ne.regexp_eatUnicodePropertyName=function(t){var e=0;t.lastStringValue="";while(me(e=t.current()))t.lastStringValue+=D(e),t.advance();return""!==t.lastStringValue},ne.regexp_eatUnicodePropertyValue=function(t){var e=0;t.lastStringValue="";while(_e(e=t.current()))t.lastStringValue+=D(e),t.advance();return""!==t.lastStringValue},ne.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},ne.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),n=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&n===fe&&t.raise("Negated character class may contain strings"),!0}return!1},ne.regexp_classContents=function(t){return 93===t.current()?de:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),de)},ne.regexp_nonEmptyClassRanges=function(t){while(this.regexp_eatClassAtom(t)){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;!t.switchU||-1!==e&&-1!==n||t.raise("Invalid character class"),-1!==e&&-1!==n&&e>n&&t.raise("Range out of order in character class")}}},ne.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(99===n||ke(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var i=t.current();return 93!==i&&(t.lastIntValue=i,t.advance(),!0)},ne.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},ne.regexp_classSetExpression=function(t){var e,n=de;if(this.regexp_eatClassSetRange(t));else if(e=this.regexp_eatClassSetOperand(t)){e===fe&&(n=fe);var i=t.pos;while(t.eatChars([38,38]))38!==t.current()&&(e=this.regexp_eatClassSetOperand(t))?e!==fe&&(n=de):t.raise("Invalid character in character class");if(i!==t.pos)return n;while(t.eatChars([45,45]))this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(i!==t.pos)return n}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(e=this.regexp_eatClassSetOperand(t),!e)return n;e===fe&&(n=fe)}},ne.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;return-1!==n&&-1!==i&&n>i&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1},ne.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?de:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)},ne.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var n=t.eat(94),i=this.regexp_classContents(t);if(t.eat(93))return n&&i===fe&&t.raise("Negated character class may contain strings"),i;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null},ne.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var n=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return n}else t.raise("Invalid escape");t.pos=e}return null},ne.regexp_classStringDisjunctionContents=function(t){var e=this.regexp_classString(t);while(t.eat(124))this.regexp_classString(t)===fe&&(e=fe);return e},ne.regexp_classString=function(t){var e=0;while(this.regexp_eatClassSetCharacter(t))e++;return 1===e?de:fe},ne.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return!(!this.regexp_eatCharacterEscape(t)&&!this.regexp_eatClassSetReservedPunctuator(t))||(t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1));var n=t.current();return!(n<0||n===t.lookahead()&&ve(n))&&(!ge(n)&&(t.advance(),t.lastIntValue=n,!0))},ne.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return!!ye(e)&&(t.lastIntValue=e,t.advance(),!0)},ne.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!be(e)&&95!==e)&&(t.lastIntValue=e%32,t.advance(),!0)},ne.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},ne.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;t.lastIntValue=0;while(be(n=t.current()))t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e},ne.regexp_eatHexDigits=function(t){var e=t.pos,n=0;t.lastIntValue=0;while(we(n=t.current()))t.lastIntValue=16*t.lastIntValue+xe(n),t.advance();return t.pos!==e},ne.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*n+t.lastIntValue:t.lastIntValue=8*e+n}else t.lastIntValue=e;return!0}return!1},ne.regexp_eatOctalDigit=function(t){var e=t.current();return ke(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},ne.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var i=0;i<e;++i){var r=t.current();if(!we(r))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+xe(r),t.advance()}return!0};var Se=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new B(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Ce=at.prototype;function Te(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function Ae(t){return"function"!==typeof BigInt?null:BigInt(t.replace(/_/g,""))}Ce.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Se(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Ce.getToken=function(){return this.next(),new Se(this)},"undefined"!==typeof Symbol&&(Ce[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===b.eof,value:e}}}}),Ce.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(b.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},Ce.readToken=function(t){return d(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},Ce.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888},Ce.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var i=void 0,r=e;(i=S(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,n),e,this.pos,t,this.curPosition())},Ce.skipLineComment=function(t){var e=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=t);while(this.pos<this.input.length&&!k(i))i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())},Ce.skipSpace=function(){t:while(this.pos<this.input.length){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&C.test(String.fromCharCode(t))))break t;++this.pos}}},Ce.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)},Ce.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(b.ellipsis)):(++this.pos,this.finishToken(b.dot))},Ce.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(b.assign,2):this.finishOp(b.slash,1)},Ce.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,i=42===t?b.star:b.modulo;return this.options.ecmaVersion>=7&&42===t&&42===e&&(++n,i=b.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(b.assign,n+1):this.finishOp(i,n)},Ce.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(61===n)return this.finishOp(b.assign,3)}return this.finishOp(124===t?b.logicalOR:b.logicalAND,2)}return 61===e?this.finishOp(b.assign,2):this.finishOp(124===t?b.bitwiseOR:b.bitwiseAND,1)},Ce.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(b.assign,2):this.finishOp(b.bitwiseXOR,1)},Ce.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!w.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(b.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(b.assign,2):this.finishOp(b.plusMin,1)},Ce.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(b.assign,n+1):this.finishOp(b.bitShift,n)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===e&&(n=2),this.finishOp(b.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Ce.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(b.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(b.arrow)):this.finishOp(61===t?b.eq:b.prefix,1)},Ce.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(46===e){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(b.questionDot,2)}if(63===e){if(t>=12){var i=this.input.charCodeAt(this.pos+2);if(61===i)return this.finishOp(b.assign,3)}return this.finishOp(b.coalesce,2)}}return this.finishOp(b.question,1)},Ce.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),d(e,!0)||92===e))return this.finishToken(b.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+D(e)+"'")},Ce.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(b.parenL);case 41:return++this.pos,this.finishToken(b.parenR);case 59:return++this.pos,this.finishToken(b.semi);case 44:return++this.pos,this.finishToken(b.comma);case 91:return++this.pos,this.finishToken(b.bracketL);case 93:return++this.pos,this.finishToken(b.bracketR);case 123:return++this.pos,this.finishToken(b.braceL);case 125:return++this.pos,this.finishToken(b.braceR);case 58:return++this.pos,this.finishToken(b.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(b.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(b.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+D(t)+"'")},Ce.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)},Ce.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(w.test(i)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if("["===i)e=!0;else if("]"===i&&e)e=!1;else if("/"===i&&!e)break;t="\\"===i}++this.pos}var r=this.input.slice(n,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new re(this));o.reset(n,r,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(r,a)}catch(c){}return this.finishToken(b.regexp,{pattern:r,flags:a,value:l})},Ce.readInt=function(t,e,n){for(var i=this.options.ecmaVersion>=12&&void 0===e,r=n&&48===this.input.charCodeAt(this.pos),s=this.pos,a=0,o=0,l=0,c=null==e?1/0:e;l<c;++l,++this.pos){var u=this.input.charCodeAt(this.pos),h=void 0;if(i&&95===u)r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===o&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=u;else{if(h=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:1/0,h>=t)break;o=u,a=a*t+h}}return i&&95===o&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||null!=e&&this.pos-s!==e?null:a},Ce.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return null==n&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=Ae(this.input.slice(e,this.pos)),++this.pos):d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,n)},Ce.readNumber=function(t){var e=this.pos;t||null!==this.readInt(10,void 0,!0)||this.raise(e,"Invalid number");var n=this.pos-e>=2&&48===this.input.charCodeAt(e);n&&this.strict&&this.raise(e,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&110===i){var r=Ae(this.input.slice(e,this.pos));return++this.pos,d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,r)}n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1),46!==i||n||(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),69!==i&&101!==i||n||(i=this.input.charCodeAt(++this.pos),43!==i&&45!==i||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=Te(this.input.slice(e,this.pos),n);return this.finishToken(b.num,s)},Ce.readCodePoint=function(){var t,e=this.input.charCodeAt(this.pos);if(123===e){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t},Ce.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===t)break;92===i?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):8232===i||8233===i?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(k(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(b.string,e)};var Ee={};Ce.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==Ee)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Ce.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ee;this.raise(t,e)},Ce.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==b.template&&this.type!==b.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(b.template,t)):36===n?(this.pos+=2,this.finishToken(b.dollarBraceL)):(++this.pos,this.finishToken(b.backQuote));if(92===n)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(k(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},Ce.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(b.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":"\n"===this.input[this.pos+1]&&++this.pos;case"\n":case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},Ce.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return D(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(i,8);return r>255&&(i=i.slice(0,-1),r=parseInt(i,8)),this.pos+=i.length-1,e=this.input.charCodeAt(this.pos),"0"===i&&56!==e&&57!==e||!this.strict&&!t||this.invalidStringToken(this.pos-1-i.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return k(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}},Ce.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return null===n&&this.invalidStringToken(e,"Bad character escape sequence"),n},Ce.readWord1=function(){this.containsEsc=!1;var t="",e=!0,n=this.pos,i=this.options.ecmaVersion>=6;while(this.pos<this.input.length){var r=this.fullCharCodeAtPos();if(f(r,i))this.pos+=r<=65535?1:2;else{if(92!==r)break;this.containsEsc=!0,t+=this.input.slice(n,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?d:f)(a,i)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=D(a),n=this.pos}e=!1}return t+this.input.slice(n,this.pos)},Ce.readWord=function(){var t=this.readWord1(),e=b.name;return this.keywords.test(t)&&(e=g[t]),this.finishToken(e,t)};var Me="8.12.1";function Oe(t,e){return at.parse(t,e)}function Ie(t,e,n){return at.parseExpressionAt(t,e,n)}function Pe(t,e){return at.tokenizer(t,e)}at.acorn={Parser:at,version:Me,defaultOptions:z,Position:L,SourceLocation:B,getLineInfo:V,Node:It,TokenType:p,tokTypes:b,keywordTypes:g,TokContext:wt,tokContexts:xt,isIdentifierChar:f,isIdentifierStart:d,Token:Se,isNewLine:k,lineBreak:w,lineBreakG:x,nonASCIIwhitespace:C},t.Node=It,t.Parser=at,t.Position=L,t.SourceLocation=B,t.TokContext=wt,t.Token=Se,t.TokenType=p,t.defaultOptions=z,t.getLineInfo=V,t.isIdentifierChar=f,t.isIdentifierStart=d,t.isNewLine=k,t.keywordTypes=g,t.lineBreak=w,t.lineBreakG=x,t.nonASCIIwhitespace=C,t.parse=Oe,t.parseExpressionAt=Ie,t.tokContexts=xt,t.tokTypes=b,t.tokenizer=Pe,t.version=Me}))},1132:function(t,e,n){n(4114),function(t,i){i(e,n(8764),n(6710),n(4864))}(0,(function(t,e,n,i){"use strict";var r=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},s=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},a=function(t,e){return{startTime:e,type:"setValue",value:t}},o=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},l=function(t,e,n){var i=n.startTime,r=n.target,s=n.timeConstant;return r+(e-r)*Math.exp((i-t)/s)},c=function(t){return"exponentialRampToValue"===t.type},u=function(t){return"linearRampToValue"===t.type},h=function(t){return c(t)||u(t)},d=function(t){return"setValue"===t.type},f=function(t){return"setValueCurve"===t.type},p=function(t,e,n,i){var r=t[e];return void 0===r?i:h(r)||d(r)?r.value:f(r)?r.values[r.values.length-1]:l(n,p(t,e-1,r.startTime,i),r)},m=function(t,e,n,i,r){return void 0===n?[i.insertTime,r]:h(n)?[n.endTime,n.value]:d(n)?[n.startTime,n.value]:f(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,p(t,e-1,n.startTime,r)]},_=function(t){return"cancelAndHold"===t.type},v=function(t){return"cancelScheduledValues"===t.type},g=function(t){return _(t)||v(t)?t.cancelTime:c(t)||u(t)?t.endTime:t.startTime},y=function(t,e,n,i){var r=i.endTime,s=i.value;return n===s?s:0<n&&0<s||n<0&&s<0?n*Math.pow(s/n,(t-e)/(r-e)):0},b=function(t,e,n,i){var r=i.endTime,s=i.value;return n+(t-e)/(r-e)*(s-n)},w=function(t,e){var n=Math.floor(e),i=Math.ceil(e);return n===i?t[n]:(1-(e-n))*t[n]+(1-(i-e))*t[i]},x=function(t,e){var n=e.duration,i=e.startTime,r=e.values,s=(t-i)/n*(r.length-1);return w(r,s)},k=function(t){return"setTarget"===t.type},S=function(){function t(e){n(this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return i(t,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=g(t);if(_(t)||v(t)){var n=this._automationEvents.findIndex((function(n){return v(t)&&f(n)?n.startTime+n.duration>=e:g(n)>=e})),i=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),_(t)){var l=this._automationEvents[this._automationEvents.length-1];if(void 0!==i&&h(i)){if(void 0!==l&&k(l))throw new Error("The internal list is malformed.");var d=void 0===l?i.insertTime:f(l)?l.startTime+l.duration:g(l),p=void 0===l?this._defaultValue:f(l)?l.values[l.values.length-1]:l.value,m=c(i)?y(e,d,p,i):b(e,d,p,i),w=c(i)?r(m,e,this._currenTime):s(m,e,this._currenTime);this._automationEvents.push(w)}if(void 0!==l&&k(l)&&this._automationEvents.push(a(this.getValue(e),e)),void 0!==l&&f(l)&&l.startTime+l.duration>e){var x=e-l.startTime,S=(l.values.length-1)/l.duration,C=Math.max(2,1+Math.ceil(x*S)),T=x/(C-1)*S,A=l.values.slice(0,C);if(T<1)for(var E=1;E<C;E+=1){var M=T*E%1;A[E]=l.values[E-1]*(1-M)+l.values[E]*M}this._automationEvents[this._automationEvents.length-1]=o(A,l.startTime,x)}}}else{var O=this._automationEvents.findIndex((function(t){return g(t)>e})),I=-1===O?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[O-1];if(void 0!==I&&f(I)&&g(I)+I.duration>e)return!1;var P=c(t)?r(t.value,t.endTime,this._currenTime):u(t)?s(t.value,e,this._currenTime):t;if(-1===O)this._automationEvents.push(P);else{if(f(t)&&e+t.duration>g(this._automationEvents[O]))return!1;this._automationEvents.splice(O,0,P)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return g(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),i=n[0];k(i)&&n.unshift(a(p(this._automationEvents,e-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents.findIndex((function(e){return g(e)>t})),i=this._automationEvents[n],r=(-1===n?this._automationEvents.length:n)-1,s=this._automationEvents[r];if(void 0!==s&&k(s)&&(void 0===i||!h(i)||i.insertTime>t))return l(t,p(this._automationEvents,r-1,s.startTime,this._defaultValue),s);if(void 0!==s&&d(s)&&(void 0===i||!h(i)))return s.value;if(void 0!==s&&f(s)&&(void 0===i||!h(i)||s.startTime+s.duration>t))return t<s.startTime+s.duration?x(t,s):s.values[s.values.length-1];if(void 0!==s&&h(s)&&(void 0===i||!h(i)))return s.value;if(void 0!==i&&c(i)){var a=m(this._automationEvents,r,s,i,this._defaultValue),o=e(a,2),_=o[0],v=o[1];return y(t,_,v,i)}if(void 0!==i&&u(i)){var w=m(this._automationEvents,r,s,i,this._defaultValue),S=e(w,2),C=S[0],T=S[1];return b(t,C,T,i)}return this._defaultValue}}])}(),C=function(t){return{cancelTime:t,type:"cancelAndHold"}},T=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},A=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},E=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},M=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}};t.AutomationEventList=S,t.createCancelAndHoldAutomationEvent=C,t.createCancelScheduledValuesAutomationEvent=T,t.createExponentialRampToValueAutomationEvent=A,t.createLinearRampToValueAutomationEvent=E,t.createSetTargetAutomationEvent=M,t.createSetValueAutomationEvent=a,t.createSetValueCurveAutomationEvent=o}))},194:function(t,e,n){"use strict";n.d(e,{VW:function(){return Ht}});n(4114),n(4603),n(7566),n(8721),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var i=n(5322);const r=t=>"function"===typeof t.start,s=new WeakMap,a=t=>({...t,connect:({call:t})=>async()=>{const{port1:e,port2:n}=new MessageChannel,i=await t("connect",{port:e},[e]);return s.set(n,i),n},disconnect:({call:t})=>async e=>{const n=s.get(e);if(void 0===n)throw new Error("The given port is not connected.");await t("disconnect",{portId:n})},isSupported:({call:t})=>()=>t("isSupported")}),o=new WeakMap,l=t=>{if(o.has(t))return o.get(t);const e=new Map;return o.set(t,e),e},c=t=>{const e=a(t);return t=>{const n=l(t);t.addEventListener("message",(({data:t})=>{const{id:e}=t;if(null!==e&&n.has(e)){const{reject:i,resolve:r}=n.get(e);n.delete(e),void 0===t.error?r(t.result):i(new Error(t.error.message))}})),r(t)&&t.start();const s=(e,r=null,s=[])=>new Promise(((a,o)=>{const l=(0,i.generateUniqueNumber)(n);n.set(l,{reject:o,resolve:a}),null===r?t.postMessage({id:l,method:e},s):t.postMessage({id:l,method:e,params:r},s)})),a=(e,n,i=[])=>{t.postMessage({id:null,method:e,params:n},i)};let o={};for(const[i,r]of Object.entries(e))o={...o,[i]:r({call:s,notify:a})};return{...o}}},u=new Set,h=new Set,d=new WeakMap,f=c({deregister:({call:t})=>async e=>{const n=d.get(e);if(void 0===n)throw new Error("There is no encoder registered with the given port.");const i=await t("deregister",{encoderId:n});return u.delete(n),d.delete(e),i},encode:({call:t})=>async(e,n)=>{const i=await t("encode",{encoderInstanceId:e,timeslice:n});return h.delete(e),i},instantiate:({call:t})=>async(e,n)=>{const r=(0,i.addUniqueNumber)(h),s=await t("instantiate",{encoderInstanceId:r,mimeType:e,sampleRate:n});return{encoderInstanceId:r,port:s}},register:({call:t})=>async e=>{if(d.has(e))throw new Error("");const n=(0,i.addUniqueNumber)(u);d.set(e,n);try{return await t("register",{encoderId:n,port:e},[e])}catch(r){throw u.delete(n),d.delete(e),r}}}),p=t=>{const e=new Worker(t);return f(e)},m='(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),c=void 0===a?r.size:a<s?a+1:0;if(!r.has(c))return e(r,c);if(r.size<o){for(;r.has(c);)c=Math.floor(Math.random()*s);return e(r,c)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(c);)c=Math.floor(Math.random()*n);return e(r,c)}},c=new WeakMap,i=r(c),l=a(i,c),d=t(l);e.addUniqueNumber=d,e.generateUniqueNumber=l}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";var e=r(455);const t=new WeakMap,n=new WeakMap,o=(r=>{const o=(s=r,{...s,connect:e=>{let{call:r}=e;return async()=>{const{port1:e,port2:n}=new MessageChannel,o=await r("connect",{port:e},[e]);return t.set(n,o),n}},disconnect:e=>{let{call:r}=e;return async e=>{const n=t.get(e);if(void 0===n)throw new Error("The given port is not connected.");await r("disconnect",{portId:n})}},isSupported:e=>{let{call:t}=e;return()=>t("isSupported")}});var s;return t=>{const r=(e=>{if(n.has(e))return n.get(e);const t=new Map;return n.set(e,t),t})(t);t.addEventListener("message",(e=>{let{data:t}=e;const{id:n}=t;if(null!==n&&r.has(n)){const{reject:e,resolve:o}=r.get(n);r.delete(n),void 0===t.error?o(t.result):e(new Error(t.error.message))}})),(e=>"function"==typeof e.start)(t)&&t.start();const s=function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(((a,c)=>{const i=(0,e.generateUniqueNumber)(r);r.set(i,{reject:c,resolve:a}),null===o?t.postMessage({id:i,method:n},s):t.postMessage({id:i,method:n,params:o},s)}))},a=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t.postMessage({id:null,method:e,params:r},n)};let c={};for(const[e,t]of Object.entries(o))c={...c,[e]:t({call:s,notify:a})};return{...c}}})({characterize:e=>{let{call:t}=e;return()=>t("characterize")},encode:e=>{let{call:t}=e;return(e,r)=>t("encode",{recordingId:e,timeslice:r})},record:e=>{let{call:t}=e;return async(e,r,n)=>{await t("record",{recordingId:e,sampleRate:r,typedArrays:n},n.map((e=>{let{buffer:t}=e;return t})))}}}),s=-32603,a=-32602,c=-32601,i=(e,t)=>Object.assign(new Error(e),{status:t}),l=e=>i(\'The handler of the method called "\'.concat(e,\'" returned an unexpected result.\'),s),d=(e,t)=>async r=>{let{data:{id:n,method:o,params:a}}=r;const d=t[o];try{if(void 0===d)throw(e=>i(\'The requested method called "\'.concat(e,\'" is not supported.\'),c))(o);const t=void 0===a?d():d(a);if(void 0===t)throw(e=>i(\'The handler of the method called "\'.concat(e,\'" returned no required result.\'),s))(o);const r=t instanceof Promise?await t:t;if(null===n){if(void 0!==r.result)throw l(o)}else{if(void 0===r.result)throw l(o);const{result:t,transferables:s=[]}=r;e.postMessage({id:n,result:t},s)}}catch(t){const{message:r,status:o=-32603}=t;e.postMessage({error:{code:o,message:r},id:n})}},u=new Map,h=(t,r,n)=>({...r,connect:n=>{let{port:o}=n;o.start();const s=t(o,r),a=(0,e.generateUniqueNumber)(u);return u.set(a,(()=>{s(),o.close(),u.delete(a)})),{result:a}},disconnect:e=>{let{portId:t}=e;const r=u.get(t);if(void 0===r)throw(e=>i(\'The specified parameter called "portId" with the given value "\'.concat(e,\'" does not identify a port connected to this worker.\'),a))(t);return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),f=function(e,t){const r=h(f,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=d(e,r);return e.addEventListener("message",n),()=>e.removeEventListener("message",n)},w=e=>{e.onmessage=null,e.close()},p=new Map,g=new Map,m=((e,t)=>r=>{const n=t.get(r);if(void 0===n)throw new Error("There was no encoder stored with the given id.");e.delete(n),t.delete(r)})(p,g),v=new Map,y=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error("There was no instance of an encoder stored with the given id.");return r})(v),M=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(v,y),E=((e,t)=>r=>{const[n,o,s,a]=t(r);return s?new Promise((t=>{o.onmessage=s=>{let{data:c}=s;0===c.length?(e(o),t(n.encode(r,null))):n.record(r,a,c)}})):n.encode(r,null)})(w,M),b=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error("There is no encoder registered which could handle the given mimeType.")})(p),T=((e,t,r)=>(n,o,s)=>{if(t.has(n))throw new Error(\'There is already an encoder instance registered with an id called "\'.concat(n,\'".\'));const a=r(o),{port1:c,port2:i}=new MessageChannel,l=[a,c,!0,s];return t.set(n,l),c.onmessage=t=>{let{data:r}=t;0===r.length?(e(c),l[2]=!1):a.record(n,s,r.map((e=>"number"==typeof e?new Float32Array(e):e)))},i})(w,v,b),I=((e,t,r)=>async(n,o)=>{const s=r(o),a=await s.characterize(),c=a.toString();if(e.has(c))throw new Error("There is already an encoder stored which handles exactly the same mime types.");if(t.has(n))throw new Error(\'There is already an encoder registered with an id called "\'.concat(n,\'".\'));return e.set(c,[a,s]),t.set(n,c),a})(p,g,o),A=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(y);f(self,{deregister:async e=>{let{encoderId:t}=e;return m(t),{result:null}},encode:async e=>{let{encoderInstanceId:t,timeslice:r}=e;const n=null===r?await E(t):await A(t,r);return{result:n,transferables:n}},instantiate:e=>{let{encoderInstanceId:t,mimeType:r,sampleRate:n}=e;const o=T(t,r,n);return{result:o,transferables:[o]}},register:async e=>{let{encoderId:t,port:r}=e;return{result:await I(t,r)}}})})()})();',_=new Blob([m],{type:"application/javascript; charset=utf-8"}),v=URL.createObjectURL(_),g=p(v),y=(g.connect,g.deregister,g.disconnect,g.encode),b=g.instantiate;g.isSupported,g.register;URL.revokeObjectURL(v);const w=t=>(e,n)=>{if(null===t)throw new Error("A native BlobEvent could not be created.");return new t(e,n)},x=(t,e)=>(n,i,r)=>{const s=[];let a=i,o=0;while(o<n.byteLength)if(null===a){const t=e(n,o);if(null===t)break;const{length:i,type:r}=t;a=r,o+=i}else{const e=t(n,o,a,r);if(null===e)break;const{content:i,length:l}=e;a=null,o+=l,null!==i&&s.push(i)}return{contents:s,currentElementType:a,offset:o}},k=(t,e)=>class{constructor(e=null){this._listeners=new WeakMap,this._nativeEventTarget=null===e?t():e}addEventListener(t,n,i){if(null!==n){let r=this._listeners.get(n);void 0===r&&(r=e(this,n),"function"===typeof n&&this._listeners.set(n,r)),this._nativeEventTarget.addEventListener(t,r,i)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const i=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===i?null:i,n)}},S=t=>()=>{if(null===t)throw new Error("A native EventTarget could not be created.");return t.document.createElement("p")};n(4979);const C=(t="")=>{try{return new DOMException(t,"InvalidModificationError")}catch(e){return e.code=13,e.message=t,e.name="InvalidModificationError",e}},T=()=>{try{return new DOMException("","InvalidStateError")}catch(t){return t.code=11,t.name="InvalidStateError",t}},A=(t,e,n,i,r,s,a)=>class extends s{constructor(s,o={}){const{mimeType:l}=o;if(null!==a&&(void 0===l||void 0!==a.isTypeSupported&&a.isTypeSupported(l))){const e=t(a,s,o);super(e),this._internalMediaRecorder=e}else{if(void 0===l||!r.some((t=>t.test(l))))throw null!==a&&t(a,s,o),e();super(),null!==a&&void 0!==a.isTypeSupported&&a.isTypeSupported("audio/webm;codecs=pcm")?this._internalMediaRecorder=i(this,a,s,l):this._internalMediaRecorder=n(this,s,l)}this._ondataavailable=null,this._onerror=null,this._onpause=null,this._onresume=null,this._onstart=null,this._onstop=null}get mimeType(){return this._internalMediaRecorder.mimeType}get ondataavailable(){return null===this._ondataavailable?this._ondataavailable:this._ondataavailable[0]}set ondataavailable(t){if(null!==this._ondataavailable&&this.removeEventListener("dataavailable",this._ondataavailable[1]),"function"===typeof t){const e=t.bind(this);this.addEventListener("dataavailable",e),this._ondataavailable=[t,e]}else this._ondataavailable=null}get onerror(){return null===this._onerror?this._onerror:this._onerror[0]}set onerror(t){if(null!==this._onerror&&this.removeEventListener("error",this._onerror[1]),"function"===typeof t){const e=t.bind(this);this.addEventListener("error",e),this._onerror=[t,e]}else this._onerror=null}get onpause(){return null===this._onpause?this._onpause:this._onpause[0]}set onpause(t){if(null!==this._onpause&&this.removeEventListener("pause",this._onpause[1]),"function"===typeof t){const e=t.bind(this);this.addEventListener("pause",e),this._onpause=[t,e]}else this._onpause=null}get onresume(){return null===this._onresume?this._onresume:this._onresume[0]}set onresume(t){if(null!==this._onresume&&this.removeEventListener("resume",this._onresume[1]),"function"===typeof t){const e=t.bind(this);this.addEventListener("resume",e),this._onresume=[t,e]}else this._onresume=null}get onstart(){return null===this._onstart?this._onstart:this._onstart[0]}set onstart(t){if(null!==this._onstart&&this.removeEventListener("start",this._onstart[1]),"function"===typeof t){const e=t.bind(this);this.addEventListener("start",e),this._onstart=[t,e]}else this._onstart=null}get onstop(){return null===this._onstop?this._onstop:this._onstop[0]}set onstop(t){if(null!==this._onstop&&this.removeEventListener("stop",this._onstop[1]),"function"===typeof t){const e=t.bind(this);this.addEventListener("stop",e),this._onstop=[t,e]}else this._onstop=null}get state(){return this._internalMediaRecorder.state}pause(){return this._internalMediaRecorder.pause()}resume(){return this._internalMediaRecorder.resume()}start(t){return this._internalMediaRecorder.start(t)}stop(){return this._internalMediaRecorder.stop()}static isTypeSupported(t){return null!==a&&void 0!==a.isTypeSupported&&a.isTypeSupported(t)||r.some((e=>e.test(t)))}},E=t=>null!==t&&void 0!==t.BlobEvent?t.BlobEvent:null,M=t=>null===t||void 0===t.MediaRecorder?null:t.MediaRecorder,O=t=>(e,n,i)=>{const r=new Map,s=new WeakMap,a=new WeakMap,o=[],l=new e(n,i),c=new WeakMap;return l.addEventListener("stop",(({isTrusted:t})=>{t&&setTimeout((()=>o.shift()))})),l.addEventListener=(t=>(e,n,i)=>{let u=n;if("function"===typeof n)if("dataavailable"===e){const t=[];u=e=>{const[[i,r]=[!1,!1]]=o;i&&!r?t.push(e):n.call(l,e)},r.set(n,t),s.set(n,u)}else"error"===e?(u=t=>{t instanceof ErrorEvent?n.call(l,t):n.call(l,new ErrorEvent("error",{error:t.error}))},a.set(n,u)):"stop"===e&&(u=t=>{for(const[e,n]of r.entries())if(n.length>0){const[t]=n;n.length>1&&Object.defineProperty(t,"data",{value:new Blob(n.map((({data:t})=>t)),{type:t.data.type})}),n.length=0,e.call(l,t)}n.call(l,t)},c.set(n,u));return t.call(l,e,u,i)})(l.addEventListener),l.removeEventListener=(t=>(e,n,i)=>{let o=n;if("function"===typeof n)if("dataavailable"===e){r.delete(n);const t=s.get(n);void 0!==t&&(o=t)}else if("error"===e){const t=a.get(n);void 0!==t&&(o=t)}else if("stop"===e){const t=c.get(n);void 0!==t&&(o=t)}return t.call(l,e,o,i)})(l.removeEventListener),l.start=(e=>r=>{if(void 0!==i.mimeType&&i.mimeType.startsWith("audio/")&&n.getVideoTracks().length>0)throw t();return"inactive"===l.state&&o.push([void 0!==r,!0]),void 0===r?e.call(l):e.call(l,r)})(l.start),l.stop=(t=>()=>{"inactive"!==l.state&&(o[0][1]=!1),t.call(l)})(l.stop),l},I=()=>{try{return new DOMException("","NotSupportedError")}catch(t){return t.code=9,t.name="NotSupportedError",t}};n(6573),n(8100),n(7936),n(7467),n(4732),n(9577);const P=t=>(e,n,i,r=2)=>{const s=t(e,n);if(null===s)return s;const{length:a,value:o}=s;if("master"===i)return{content:null,length:a};if(n+a+o>e.byteLength)return null;if("binary"===i){const t=(o/Float32Array.BYTES_PER_ELEMENT-1)/r,i=Array.from({length:r},(()=>new Float32Array(t)));for(let s=0;s<t;s+=1){const t=s*r+1;for(let o=0;o<r;o+=1)i[o][s]=e.getFloat32(n+a+(t+o)*Float32Array.BYTES_PER_ELEMENT,!0)}return{content:i,length:a+o}}return{content:null,length:a+o}},R=t=>(e,n)=>{const i=t(e,n);if(null===i)return i;const{length:r,value:s}=i;return 35===s?{length:r,type:"binary"}:46===s||97===s||88713574===s||106212971===s||139690087===s||172351395===s||256095861===s?{length:r,type:"master"}:{length:r,type:"unknown"}},D=t=>(e,n)=>{const i=t(e,n);if(null===i)return i;const r=n+Math.floor((i-1)/8);if(r+i>e.byteLength)return null;const s=e.getUint8(r);let a=s&(1<<8-i%8)-1;for(let t=1;t<i;t+=1)a=(a<<8)+e.getUint8(r+t);return{length:i,value:a}},N=Symbol.observable||"@@observable";function L(t){return Symbol.observable||("function"===typeof t&&t.prototype&&t.prototype[Symbol.observable]?(t.prototype[N]=t.prototype[Symbol.observable],delete t.prototype[Symbol.observable]):(t[N]=t[Symbol.observable],delete t[Symbol.observable])),t}const B=()=>{},V=t=>{throw t};function z(t){return t?t.next&&t.error&&t.complete?t:{complete:(t.complete??B).bind(t),error:(t.error??V).bind(t),next:(t.next??B).bind(t)}:{complete:B,error:V,next:B}}const j=(t,e,n)=>()=>n((n=>{if(null===e||void 0===e.cancelAnimationFrame||void 0===e.requestAnimationFrame)return t(n);let i=e.requestAnimationFrame((function t(r){i=e.requestAnimationFrame(t),n.next(r)}));return()=>e.cancelAnimationFrame(i)})),F=(t,e,n)=>(i,r)=>{const s=()=>i.getAttribute(r);return n(t(e(i,{attributeFilter:[r],childList:!1,subtree:!1}),(()=>s())),s())},q=(t,e,n)=>i=>n((n=>{if(null===e||void 0===e.navigator||void 0===e.navigator.geolocation||void 0===e.navigator.geolocation.clearWatch||void 0===e.navigator.geolocation.watchPosition)return t(n);const r=e.navigator.geolocation.watchPosition((t=>n.next(t)),(t=>n.error(t)),i);return()=>e.navigator.geolocation.clearWatch(r)})),U=(t,e,n)=>(i,r)=>n((n=>{if(null===e||void 0===e.IntersectionObserver)return t(n);const s=new e.IntersectionObserver((t=>n.next(t)),r);try{s.observe(i)}catch(a){n.error(a)}return()=>s.disconnect()})),H=t=>(e,n)=>t((t=>e({...t,next:e=>t.next(n(e))}))),W=(t,e,n)=>()=>n((n=>{if(null===e||void 0===e.navigator||void 0===e.navigator.mediaDevices||void 0===e.navigator.mediaDevices.enumerateDevices)return t(n);let i=!0;const r=()=>{e.navigator.mediaDevices.enumerateDevices().then((t=>{i&&n.next(t)}),(t=>{i&&(s(),n.error(t))}))},s=()=>{i=!1,e.navigator.mediaDevices.removeEventListener("devicechange",r)};return r(),e.navigator.mediaDevices.addEventListener("devicechange",r),s})),X=(t,e,n)=>i=>n((n=>{if(null===e||void 0===e.matchMedia)return t(n);const r=e.matchMedia(i);return n.next(r.matches),r.onchange=()=>n.next(r.matches),()=>{r.onchange=null}})),$=(t,e,n)=>i=>n((n=>{if(null===e||void 0===e.PerformanceObserver)return t(n);const r=new e.PerformanceObserver((t=>n.next(t.getEntries())));try{r.observe(i)}catch(s){n.error(s)}return()=>r.disconnect()})),Y=t=>e=>t((t=>{let n=Array.from(e.inputs.values());const i=()=>{const i=e.inputs;(n.length!==i.size||n.some((({id:t})=>!i.has(t))))&&(n=Array.from(i.values()),t.next(n))};return t.next(n),e.addEventListener("statechange",i),()=>e.removeEventListener("statechange",i)})),G=t=>e=>t((t=>{let n=Array.from(e.outputs.values());const i=()=>{const i=e.outputs;(n.length!==i.size||n.some((({id:t})=>!i.has(t))))&&(n=Array.from(i.values()),t.next(n))};return t.next(n),e.addEventListener("statechange",i),()=>e.removeEventListener("statechange",i)})),Z=(t,e,n)=>(i,r)=>n((n=>{if(null===e||void 0===e.MutationObserver)return t(n);const s=new e.MutationObserver((t=>n.next(t)));try{s.observe(i,r)}catch(a){n.error(a)}return()=>s.disconnect()})),K=t=>(e,n,i)=>t((t=>{const r=e=>t.next(e);return e.addEventListener(n,r,i),()=>e.removeEventListener(n,r,i)})),Q=(t,e,n)=>()=>n((n=>{if(null===e||void 0===e.navigator||void 0===e.navigator.onLine)return t(n);const i=()=>n.next(!1),r=()=>n.next(!0);return e.addEventListener("offline",i),e.addEventListener("online",r),n.next(e.navigator.onLine),()=>{e.removeEventListener("offline",i),e.removeEventListener("online",r)}})),J=(t,e,n)=>i=>n((n=>{if(null===e||void 0===e.navigator||void 0===e.navigator.permissions||void 0===e.navigator.permissions.query)return t(n);let r=!0,s=()=>{r=!1};return e.navigator.permissions.query(i).then((t=>{r&&n.next(t.state),r&&(t.onchange=()=>n.next(t.state),s=()=>{t.onchange=null})}),(t=>{r&&n.error(t)})),()=>s()})),tt=t=>(e,n)=>t((t=>(t.next(n),e(t)))),et=(t,e,n)=>i=>n((n=>{if(null===e||void 0===e.ReportingObserver)return t(n);const r=new e.ReportingObserver((t=>n.next(t)),i);return r.observe(),()=>r.disconnect()})),nt=(t,e,n)=>(i,r)=>n((n=>{if(null===e||void 0===e.ResizeObserver)return t(n);const s=new e.ResizeObserver((t=>n.next(t)));try{s.observe(i,r)}catch(a){n.error(a)}return()=>s.disconnect()})),it=(t,e,n)=>i=>n((n=>{if(null===e||void 0===e.clearInterval||void 0===e.setInterval)return t(n);const r=new Map;let s=null;const a=({promise:t})=>r.delete(t),o=()=>{const t=Date.now()-i;r.forEach((({reason:e,timestamp:i},s)=>{i>t||(r.delete(s),n.next(e))})),null!==s&&0===r.size&&(e.clearInterval(s),s=null)},l=t=>{t.preventDefault(),r.set(t.promise,{reason:t.reason,timestamp:Date.now()}),null===s&&(s=e.setInterval(o,i/2))};return e.addEventListener("rejectionhandled",a),e.addEventListener("unhandledrejection",l),()=>{null!==s&&e.clearInterval(s),e.removeEventListener("rejectionhandled",a),e.removeEventListener("unhandledrejection",l)}})),rt=(t,e)=>n=>e((e=>{if(void 0===n.cancelVideoFrameCallback||void 0===n.requestVideoFrameCallback)return t(e);let i=n.requestVideoFrameCallback((function t(r,s){i=n.requestVideoFrameCallback(t),e.next({...s,now:r})}));return()=>n.cancelVideoFrameCallback(i)})),st=(t,e,n)=>i=>n((n=>{if(null===e||void 0===e.navigator||void 0===e.navigator.wakeLock)return t(n);const r=t=>t.release().catch((()=>{})),s=t=>{t.onrelease=null};let a=!0;const o=()=>{a=!1};let l=o;const c=()=>e.navigator.wakeLock.request(i).then((t=>{a&&n.next(!0),a?(t.onrelease=()=>{n.next(!1),l=o,s(t),c()},l=()=>{s(t),r(t)}):r(t)}),(t=>{a&&n.error(t)}));return c(),()=>l()})),at=()=>"undefined"===typeof window?null:window,ot=(t,e)=>{const n=()=>{},i=t=>"function"===typeof t[0];return r=>{const s=(...t)=>{const s=r(i(t)?e({next:t[0]}):e(...t));return void 0!==s?s:n};return s[Symbol.observable]=()=>({subscribe:(...t)=>({unsubscribe:s(...t)})}),t(s)}},lt=t=>(t.error(new Error("The required browser API seems to be not supported.")),()=>{}),ct=at(),ut=ot(L,z),ht=(j(lt,ct,ut),Z(lt,ct,ut)),dt=H(ut),ft=tt(ut),pt=(F(dt,ht,ft),q(lt,ct,ut),U(lt,ct,ut),W(lt,ct,ut),X(lt,ct,ut),$(lt,ct,ut),Y(ut),G(ut),K(ut)),mt=(Q(lt,ct,ut),J(lt,ct,ut),et(lt,ct,ut),nt(lt,ct,ut),it(lt,ct,ut),rt(lt,ut),st(lt,ct,ut),new Map,(t,e,n)=>async i=>{const r=new t([n],{type:"application/javascript; charset=utf-8"}),s=e.createObjectURL(r);try{await i(s)}finally{e.revokeObjectURL(s)}}),_t=t=>({data:e})=>{const{id:n}=e;if(null!==n){const i=t.get(n);if(void 0!==i){const{reject:r,resolve:s}=i;t.delete(n),void 0===e.error?s(e.result):r(new Error(e.error.message))}}},vt=t=>(e,n)=>(i,r=[])=>new Promise(((s,a)=>{const o=t(e);e.set(o,{reject:a,resolve:s}),n.postMessage({id:o,...i},r)})),gt=(t,e,n,i)=>(r,s,a={})=>{const o=new r(s,"recorder-audio-worklet-processor",{...a,channelCountMode:"explicit",numberOfInputs:1,numberOfOutputs:0}),l=new Map,c=e(l,o.port),u=n(o.port,"message")(t(l));o.port.start();let h="inactive";return Object.defineProperties(o,{pause:{get(){return async()=>(i(["recording"],h),h="paused",c({method:"pause"}))}},port:{get(){throw new Error("The port of a RecorderAudioWorkletNode can't be accessed.")}},record:{get(){return async t=>(i(["inactive"],h),h="recording",c({method:"record",params:{encoderPort:t}},[t]))}},resume:{get(){return async()=>(i(["paused"],h),h="recording",c({method:"resume"}))}},stop:{get(){return async()=>{i(["paused","recording"],h),h="stopped";try{await c({method:"stop"})}finally{u()}}}}}),o},yt=(t,e)=>{if(!t.includes(e))throw new Error(`Expected the state to be ${t.map((t=>`"${t}"`)).join(" or ")} but it was "${e}".`)},bt='(()=>{"use strict";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._numberOfChannels=0,this._state="inactive",this.port.onmessage=e=>{let{data:t}=e;"pause"===t.method?"active"===this._state||"recording"===this._state?(this._state="paused",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"record"===t.method?"inactive"===this._state?(this._encoderPort=t.params.encoderPort,this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"resume"===t.method?"paused"===this._state?(this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"stop"===t.method?"active"!==this._state&&"paused"!==this._state&&"recording"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(t.id):(this._stop(this._encoderPort),this._sendAcknowledgement(t.id)):"number"==typeof t.id&&this.port.postMessage({error:{code:-32601,message:"The requested method is not supported."},id:t.id})}}process(e){let[t]=e;if("inactive"===this._state||"paused"===this._state)return!0;if("active"===this._state){if(void 0===t)throw new Error("No channelData was received for the first input.");if(0===t.length)return!0;this._state="recording"}if("recording"===this._state&&null!==this._encoderPort){if(void 0===t)throw new Error("No channelData was received for the first input.");return 0===t.length?this._encoderPort.postMessage(Array.from({length:this._numberOfChannels},(()=>128))):(this._encoderPort.postMessage(t,t.map((e=>{let{buffer:t}=e;return t}))),this._numberOfChannels=t.length),!0}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:"The internal state does not allow to process the given message."},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state="stopped"}}e.parameterDescriptors=[],registerProcessor("recorder-audio-worklet-processor",e)})();',wt=mt(Blob,URL,bt),xt=gt(_t,vt(i.generateUniqueNumber),pt,yt);var kt=n(5048);const St="Missing AudioWorklet support. Maybe this is not running in a secure context.",Ct=async(t,e,n,i,r)=>{const{encoderInstanceId:s,port:a}=await b(r,e.sampleRate);if(void 0===kt.Ph)throw new Error(St);const o=new kt.MQ(e,{buffer:t}),l=new kt.uz(e,{mediaStream:i}),c=xt(kt.Ph,e,{channelCount:n});return{audioBufferSourceNode:o,encoderInstanceId:s,mediaStreamAudioSourceNode:l,port:a,recorderAudioWorkletNode:c}},Tt=(t,e,n,i)=>(r,s,a)=>{var o;const l=null===(o=s.getAudioTracks()[0])||void 0===o?void 0:o.getSettings().sampleRate,c=new kt.xS({latencyHint:"playback",sampleRate:l}),u=Math.max(1024,Math.ceil(c.baseLatency*c.sampleRate)),h=new kt.HI({length:u,sampleRate:c.sampleRate}),d=[],f=wt((t=>{if(void 0===kt._G)throw new Error(St);return(0,kt._G)(c,t)}));let p=null,m=null,_=null,v=null,g=!0;const b=e=>{r.dispatchEvent(t("dataavailable",{data:new Blob(e,{type:a})}))},w=async(t,e)=>{const n=await y(t,e);null===_?d.push(...n):(b(n),v=w(t,e))},x=()=>(g=!0,c.resume()),k=()=>{null!==_&&(null!==p&&(s.removeEventListener("addtrack",p),s.removeEventListener("removetrack",p)),null!==m&&clearTimeout(m),_.then((async({encoderInstanceId:t,mediaStreamAudioSourceNode:e,recorderAudioWorkletNode:n})=>{null!==v&&(v.catch((()=>{})),v=null),await n.stop(),e.disconnect(n);const i=await y(t,null);null===_&&await S(),b([...d,...i]),d.length=0,r.dispatchEvent(new Event("stop"))})),_=null)},S=()=>(g=!1,c.suspend());return S(),{get mimeType(){return a},get state(){return null===_?"inactive":g?"recording":"paused"},pause(){if(null===_)throw n();g&&(S(),r.dispatchEvent(new Event("pause")))},resume(){if(null===_)throw n();g||(x(),r.dispatchEvent(new Event("resume")))},start(t){var o;if(null!==_)throw n();if(s.getVideoTracks().length>0)throw i();r.dispatchEvent(new Event("start"));const l=s.getAudioTracks(),d=0===l.length?2:null!==(o=l[0].getSettings().channelCount)&&void 0!==o?o:2;_=Promise.all([x(),f.then((()=>Ct(h,c,d,s,a)))]).then((async([,{audioBufferSourceNode:e,encoderInstanceId:n,mediaStreamAudioSourceNode:i,port:r,recorderAudioWorkletNode:s}])=>(i.connect(s),await new Promise((t=>{e.onended=t,e.connect(s),e.start(c.currentTime+u/c.sampleRate)})),e.disconnect(s),await s.record(r),void 0!==t&&(v=w(n,t)),{encoderInstanceId:n,mediaStreamAudioSourceNode:i,recorderAudioWorkletNode:s})));const g=s.getTracks();p=()=>{k(),r.dispatchEvent(new ErrorEvent("error",{error:e()}))},s.addEventListener("addtrack",p),s.addEventListener("removetrack",p),m=setInterval((()=>{const t=s.getTracks();t.length===g.length&&!t.some(((t,e)=>t!==g[e]))||null===p||p()}),1e3)},stop:k}};var At=n(10);const Et=(t,e,n)=>(i,r,s,a)=>{const o=[],l=new r(s,{mimeType:"audio/webm;codecs=pcm"});let c=null,u=()=>{};const h=e=>{i.dispatchEvent(t("dataavailable",{data:new Blob(e,{type:a})}))},d=async(t,e)=>{const n=await y(t,e);"inactive"===l.state?o.push(...n):(h(n),c=d(t,e))},f=()=>{"inactive"!==l.state&&(null!==c&&(c.catch((()=>{})),c=null),u(),u=()=>{},l.stop())};return l.addEventListener("error",(t=>{f(),i.dispatchEvent(new ErrorEvent("error",{error:t.error}))})),l.addEventListener("pause",(()=>i.dispatchEvent(new Event("pause")))),l.addEventListener("resume",(()=>i.dispatchEvent(new Event("resume")))),l.addEventListener("start",(()=>i.dispatchEvent(new Event("start")))),{get mimeType(){return a},get state(){return l.state},pause(){return l.pause()},resume(){return l.resume()},start(t){const[r]=s.getAudioTracks();if(void 0!==r&&"inactive"===l.state){const{channelCount:s,sampleRate:f}=r.getSettings();if(void 0===s)throw new Error("The channelCount is not defined.");if(void 0===f)throw new Error("The sampleRate is not defined.");let p=!1,m=!1,_=0,v=b(a,f);u=()=>{m=!0};const g=pt(l,"dataavailable")((({data:t})=>{_+=1;const r=t.arrayBuffer();v=v.then((async({dataView:t=null,elementType:a=null,encoderInstanceId:c,port:u})=>{const d=await r;_-=1;const f=null===t?new At.MultiBufferDataView([d]):new At.MultiBufferDataView([...t.buffers,d],t.byteOffset);if(!p&&"recording"===l.state&&!m){const e=n(f,0);if(null===e)return{dataView:f,elementType:a,encoderInstanceId:c,port:u};const{value:i}=e;if(172351395!==i)return{dataView:t,elementType:a,encoderInstanceId:c,port:u};p=!0}const{currentElementType:v,offset:b,contents:w}=e(f,a,s),x=b<f.byteLength?new At.MultiBufferDataView(f.buffers,f.byteOffset+b):null;return w.forEach((t=>u.postMessage(t,t.map((({buffer:t})=>t))))),0!==_||"inactive"!==l.state&&!m||(y(c,null).then((t=>{h([...o,...t]),o.length=0,i.dispatchEvent(new Event("stop"))})),u.postMessage([]),u.close(),g()),{dataView:x,elementType:v,encoderInstanceId:c,port:u}}))}));void 0!==t&&v.then((({encoderInstanceId:e})=>{m||(c=d(e,t))}))}l.start(100)},stop:f}},Mt=()=>"undefined"===typeof window?null:window,Ot=(t,e)=>{if(e>=t.byteLength)return null;const n=t.getUint8(e);if(n>127)return 1;if(n>63)return 2;if(n>31)return 3;if(n>15)return 4;if(n>7)return 5;if(n>3)return 6;if(n>1)return 7;if(n>0)return 8;const i=Ot(t,e+1);return null===i?null:i+8},It=(t,e)=>n=>{const i={value:t};return Object.defineProperties(n,{currentTarget:i,target:i}),"function"===typeof e?e.call(t,n):e.handleEvent.call(t,n)},Pt=[],Rt=Mt(),Dt=E(Rt),Nt=w(Dt),Lt=Tt(Nt,C,T,I),Bt=D(Ot),Vt=P(Bt),zt=R(Bt),jt=x(Vt,zt),Ft=Et(Nt,jt,Bt),qt=S(Rt),Ut=M(Rt),Ht=A(O(I),I,Lt,Ft,Pt,k(qt,It),Ut);new WeakMap},5322:function(t,e){(function(t,n){n(e)})(0,(function(t){"use strict";var e=function(t){return function(e){var n=t(e);return e.add(n),n}},n=function(t){return function(e,n){return t.set(e,n),n}},i=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,r=536870912,s=2*r,a=function(t,e){return function(n){var a=e.get(n),o=void 0===a?n.size:a<s?a+1:0;if(!n.has(o))return t(n,o);if(n.size<r){while(n.has(o))o=Math.floor(Math.random()*s);return t(n,o)}if(n.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");while(n.has(o))o=Math.floor(Math.random()*i);return t(n,o)}},o=new WeakMap,l=n(o),c=a(l,o),u=e(c);t.addUniqueNumber=u,t.generateUniqueNumber=c}))},6517:function(t,e,n){"use strict";n.d(e,{A:function(){return re}});n(4114);var i,r,s,a,o,l,c,u,h,d="transform",f=d+"Origin",p=function(t){var e=t.ownerDocument||t;!(d in t.style)&&"msTransform"in t.style&&(d="msTransform",f=d+"Origin");while(e.parentNode&&(e=e.parentNode));if(r=window,c=new A,e){i=e,s=e.documentElement,a=e.body,u=i.createElementNS("http://www.w3.org/2000/svg","g"),u.style.transform="none";var n=e.createElement("div"),o=e.createElement("div"),l=e&&(e.body||e.firstElementChild);l&&l.appendChild&&(l.appendChild(n),n.appendChild(o),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),h=o.offsetParent!==n,l.removeChild(n))}return e},m=function(t){var e,n;while(t&&t!==a)n=t._gsap,n&&n.uncache&&n.get(t,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),e?e.push(n):e=[n]),t=t.parentNode;return e},_=[],v=[],g=function(){return r.pageYOffset||i.scrollTop||s.scrollTop||a.scrollTop||0},y=function(){return r.pageXOffset||i.scrollLeft||s.scrollLeft||a.scrollLeft||0},b=function(t){return t.ownerSVGElement||("svg"===(t.tagName+"").toLowerCase()?t:null)},w=function t(e){return"fixed"===r.getComputedStyle(e).position||(e=e.parentNode,e&&1===e.nodeType?t(e):void 0)},x=function t(e,n){if(e.parentNode&&(i||p(e))){var r=b(e),s=r?r.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",a=r?n?"rect":"g":"div",c=2!==n?0:100,u=3===n?100:0,h="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",d=i.createElementNS?i.createElementNS(s.replace(/^https/,"http"),a):i.createElement(a);return n&&(r?(l||(l=t(e)),d.setAttribute("width",.01),d.setAttribute("height",.01),d.setAttribute("transform","translate("+c+","+u+")"),l.appendChild(d)):(o||(o=t(e),o.style.cssText=h),d.style.cssText=h+"width:0.1px;height:0.1px;top:"+u+"px;left:"+c+"px",o.appendChild(d))),d}throw"Need document and parent."},k=function(t){for(var e=new A,n=0;n<t.numberOfItems;n++)e.multiply(t.getItem(n).matrix);return e},S=function(t){var e,n=t.getCTM();return n||(e=t.style[d],t.style[d]="none",t.appendChild(u),n=u.getCTM(),t.removeChild(u),e?t.style[d]=e:t.style.removeProperty(d.replace(/([A-Z])/g,"-$1").toLowerCase())),n||c.clone()},C=function(t,e){var n,i,s,a,u,p,m=b(t),g=t===m,y=m?_:v,w=t.parentNode;if(t===r)return t;if(y.length||y.push(x(t,1),x(t,2),x(t,3)),n=m?l:o,m)g?(s=S(t),a=-s.e/s.a,u=-s.f/s.d,i=c):t.getBBox?(s=t.getBBox(),i=t.transform?t.transform.baseVal:{},i=i.numberOfItems?i.numberOfItems>1?k(i):i.getItem(0).matrix:c,a=i.a*s.x+i.c*s.y,u=i.b*s.x+i.d*s.y):(i=new A,a=u=0),e&&"g"===t.tagName.toLowerCase()&&(a=u=0),(g?m:w).appendChild(n),n.setAttribute("transform","matrix("+i.a+","+i.b+","+i.c+","+i.d+","+(i.e+a)+","+(i.f+u)+")");else{if(a=u=0,h){i=t.offsetParent,s=t;while(s&&(s=s.parentNode)&&s!==i&&s.parentNode)(r.getComputedStyle(s)[d]+"").length>4&&(a=s.offsetLeft,u=s.offsetTop,s=0)}if(p=r.getComputedStyle(t),"absolute"!==p.position&&"fixed"!==p.position){i=t.offsetParent;while(w&&w!==i)a+=w.scrollLeft||0,u+=w.scrollTop||0,w=w.parentNode}s=n.style,s.top=t.offsetTop-u+"px",s.left=t.offsetLeft-a+"px",s[d]=p[d],s[f]=p[f],s.position="fixed"===p.position?"fixed":"absolute",t.parentNode.appendChild(n)}return n},T=function(t,e,n,i,r,s,a){return t.a=e,t.b=n,t.c=i,t.d=r,t.e=s,t.f=a,t},A=function(){function t(t,e,n,i,r,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===r&&(r=0),void 0===s&&(s=0),T(this,t,e,n,i,r,s)}var e=t.prototype;return e.inverse=function(){var t=this.a,e=this.b,n=this.c,i=this.d,r=this.e,s=this.f,a=t*i-e*n||1e-10;return T(this,i/a,-e/a,-n/a,t/a,(n*s-i*r)/a,-(t*s-e*r)/a)},e.multiply=function(t){var e=this.a,n=this.b,i=this.c,r=this.d,s=this.e,a=this.f,o=t.a,l=t.c,c=t.b,u=t.d,h=t.e,d=t.f;return T(this,o*e+c*i,o*n+c*r,l*e+u*i,l*n+u*r,s+h*e+d*i,a+h*n+d*r)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(t){var e=this.a,n=this.b,i=this.c,r=this.d,s=this.e,a=this.f;return e===t.a&&n===t.b&&i===t.c&&r===t.d&&s===t.e&&a===t.f},e.apply=function(t,e){void 0===e&&(e={});var n=t.x,i=t.y,r=this.a,s=this.b,a=this.c,o=this.d,l=this.e,c=this.f;return e.x=n*r+i*a+l||0,e.y=n*s+i*o+c||0,e},t}();function E(t,e,n,r){if(!t||!t.parentNode||(i||p(t)).documentElement===t)return new A;var s=m(t),a=b(t),o=a?_:v,l=C(t,n),c=o[0].getBoundingClientRect(),u=o[1].getBoundingClientRect(),h=o[2].getBoundingClientRect(),d=l.parentNode,f=!r&&w(t),x=new A((u.left-c.left)/100,(u.top-c.top)/100,(h.left-c.left)/100,(h.top-c.top)/100,c.left+(f?0:y()),c.top+(f?0:g()));if(d.removeChild(l),s){c=s.length;while(c--)u=s[c],u.scaleX=u.scaleY=0,u.renderTransform(1,u)}return e?x.inverse():x}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}
/*!
 * Draggable 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */var I,P,R,D,N,L,B,V,z,j,F,q,U,H,W,X,$,Y,G,Z,K,Q,J=0,tt=function(){return"undefined"!==typeof window},et=function(){return I||tt()&&(I=window.gsap)&&I.registerPlugin&&I},nt=function(t){return"function"===typeof t},it=function(t){return"object"===typeof t},rt=function(t){return"undefined"===typeof t},st=function(){return!1},at="transform",ot="transformOrigin",lt=function(t){return Math.round(1e4*t)/1e4},ct=Array.isArray,ut=function(t,e){var n=R.createElementNS?R.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):R.createElement(t);return n.style?n:R.createElement(t)},ht=180/Math.PI,dt=1e20,ft=new A,pt=Date.now||function(){return(new Date).getTime()},mt=[],_t={},vt=0,gt=/^(?:a|input|textarea|button|select)$/i,yt=0,bt={},wt={},xt=function(t,e){var n,i={};for(n in t)i[n]=e?t[n]*e:t[n];return i},kt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},St=function t(e,n){var i,r=e.length;while(r--)n?e[r].style.touchAction=n:e[r].style.removeProperty("touch-action"),i=e[r].children,i&&i.length&&t(i,n)},Ct=function(){return mt.forEach((function(t){return t()}))},Tt=function(t){mt.push(t),1===mt.length&&I.ticker.add(Ct)},At=function(){return!mt.length&&I.ticker.remove(Ct)},Et=function(t){var e=mt.length;while(e--)mt[e]===t&&mt.splice(e,1);I.to(At,{overwrite:!0,delay:15,duration:0,onComplete:At,data:"_draggable"})},Mt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Ot=function(t,e,n,i){if(t.addEventListener){var r=U[e];i=i||(F?{passive:!1}:null),t.addEventListener(r||e,n,i),r&&e!==r&&t.addEventListener(e,n,i)}},It=function(t,e,n,i){if(t.removeEventListener){var r=U[e];t.removeEventListener(r||e,n,i),r&&e!==r&&t.removeEventListener(e,n,i)}},Pt=function(t){t.preventDefault&&t.preventDefault(),t.preventManipulation&&t.preventManipulation()},Rt=function(t,e){var n=t.length;while(n--)if(t[n].identifier===e)return!0},Dt=function t(e){H=e.touches&&J<e.touches.length,It(e.target,"touchend",t)},Nt=function(t){H=t.touches&&J<t.touches.length,Ot(t.target,"touchend",Dt)},Lt=function(t){return P.pageYOffset||t.scrollTop||t.documentElement.scrollTop||t.body.scrollTop||0},Bt=function(t){return P.pageXOffset||t.scrollLeft||t.documentElement.scrollLeft||t.body.scrollLeft||0},Vt=function t(e,n){Ot(e,"scroll",n),jt(e.parentNode)||t(e.parentNode,n)},zt=function t(e,n){It(e,"scroll",n),jt(e.parentNode)||t(e.parentNode,n)},jt=function(t){return!(t&&t!==D&&9!==t.nodeType&&t!==R.body&&t!==P&&t.nodeType&&t.parentNode)},Ft=function(t,e){var n="x"===e?"Width":"Height",i="scroll"+n,r="client"+n;return Math.max(0,jt(t)?Math.max(D[i],N[i])-(P["inner"+n]||D[r]||N[r]):t[i]-t[r])},qt=function t(e,n){var i=Ft(e,"x"),r=Ft(e,"y");jt(e)?e=wt:t(e.parentNode,n),e._gsMaxScrollX=i,e._gsMaxScrollY=r,n||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},Ut=function(t,e,n){var i=t.style;i&&(rt(i[e])&&(e=z(e,t)||e),null==n?i.removeProperty&&i.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):i[e]=n)},Ht=function(t){return P.getComputedStyle(t instanceof Element?t:t.host||(t.parentNode||{}).host||t)},Wt={},Xt=function(t){if(t===P)return Wt.left=Wt.top=0,Wt.width=Wt.right=D.clientWidth||t.innerWidth||N.clientWidth||0,Wt.height=Wt.bottom=(t.innerHeight||0)-20<D.clientHeight?D.clientHeight:t.innerHeight||N.clientHeight||0,Wt;var e=t.ownerDocument||R,n=rt(t.pageX)?t.nodeType||rt(t.left)||rt(t.top)?j(t)[0].getBoundingClientRect():t:{left:t.pageX-Bt(e),top:t.pageY-Lt(e),right:t.pageX-Bt(e)+1,bottom:t.pageY-Lt(e)+1};return rt(n.right)&&!rt(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):rt(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n},$t=function(t,e,n){var i,r=t.vars,s=r[n],a=t._listeners[e];return nt(s)&&(i=s.apply(r.callbackScope||t,r[n+"Params"]||[t.pointerEvent])),a&&!1===t.dispatchEvent(e)&&(i=!1),i},Yt=function(t,e){var n,i,r,s=j(t)[0];return s.nodeType||s===P?Zt(s,e):rt(t.left)?(i=t.min||t.minX||t.minRotation||0,n=t.min||t.minY||0,{left:i,top:n,width:(t.max||t.maxX||t.maxRotation||0)-i,height:(t.max||t.maxY||0)-n}):(r={x:0,y:0},{left:t.left-r.x,top:t.top-r.y,width:t.width,height:t.height})},Gt={},Zt=function(t,e){e=j(e)[0];var n,i,r,s,a,o,l,c,u,h,d,f,p,m=t.getBBox&&t.ownerSVGElement,_=t.ownerDocument||R;if(t===P)r=Lt(_),n=Bt(_),i=n+(_.documentElement.clientWidth||t.innerWidth||_.body.clientWidth||0),s=r+((t.innerHeight||0)-20<_.documentElement.clientHeight?_.documentElement.clientHeight:t.innerHeight||_.body.clientHeight||0);else{if(e===P||rt(e))return t.getBoundingClientRect();n=r=0,m?(h=t.getBBox(),d=h.width,f=h.height):(t.viewBox&&(h=t.viewBox.baseVal)&&(n=h.x||0,r=h.y||0,d=h.width,f=h.height),d||(p=Ht(t),h="border-box"===p.boxSizing,d=(parseFloat(p.width)||t.clientWidth||0)+(h?0:parseFloat(p.borderLeftWidth)+parseFloat(p.borderRightWidth)),f=(parseFloat(p.height)||t.clientHeight||0)+(h?0:parseFloat(p.borderTopWidth)+parseFloat(p.borderBottomWidth)))),i=d,s=f}return t===e?{left:n,top:r,width:i-n,height:s-r}:(a=E(e,!0).multiply(E(t)),o=a.apply({x:n,y:r}),l=a.apply({x:i,y:r}),c=a.apply({x:i,y:s}),u=a.apply({x:n,y:s}),n=Math.min(o.x,l.x,c.x,u.x),r=Math.min(o.y,l.y,c.y,u.y),{left:n,top:r,width:Math.max(o.x,l.x,c.x,u.x)-n,height:Math.max(o.y,l.y,c.y,u.y)-r})},Kt=function(t,e,n,i,r,s){var a,o,l,c={};if(e)if(1!==r&&e instanceof Array){if(c.end=a=[],l=e.length,it(e[0]))for(o=0;o<l;o++)a[o]=xt(e[o],r);else for(o=0;o<l;o++)a[o]=e[o]*r;n+=1.1,i-=1.1}else nt(e)?c.end=function(n){var i,s,a=e.call(t,n);if(1!==r)if(it(a)){for(s in i={},a)i[s]=a[s]*r;a=i}else a*=r;return a}:c.end=e;return(n||0===n)&&(c.max=n),(i||0===i)&&(c.min=i),s&&(c.velocity=0),c},Qt=function t(e){var n;return!(!e||!e.getAttribute||e===N)&&(!("true"!==(n=e.getAttribute("data-clickable"))&&("false"===n||!gt.test(e.nodeName+"")&&"true"!==e.getAttribute("contentEditable")))||t(e.parentNode))},Jt=function(t,e){var n,i=t.length;while(i--)n=t[i],n.ondragstart=n.onselectstart=e?null:st,I.set(n,{lazy:!0,userSelect:e?"text":"none"})},te=function t(e){return"fixed"===Ht(e).position||(e=e.parentNode,e&&1===e.nodeType?t(e):void 0)},ee=function(t,e){t=I.utils.toArray(t)[0],e=e||{};var n,i,r,s,a,o,l=document.createElement("div"),c=l.style,u=t.firstChild,h=0,d=0,f=t.scrollTop,p=t.scrollLeft,m=t.scrollWidth,_=t.scrollHeight,v=0,g=0,y=0;K&&!1!==e.force3D?(a="translate3d(",o="px,0px)"):at&&(a="translate(",o="px)"),this.scrollTop=function(t,e){if(!arguments.length)return-this.top();this.top(-t,e)},this.scrollLeft=function(t,e){if(!arguments.length)return-this.left();this.left(-t,e)},this.left=function(n,i){if(!arguments.length)return-(t.scrollLeft+d);var r=t.scrollLeft-p,s=d;if((r>2||r<-2)&&!i)return p=t.scrollLeft,I.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-p),void(e.onKill&&e.onKill());n=-n,n<0?(d=n-.5|0,n=0):n>g?(d=n-g|0,n=g):d=0,(d||s)&&(this._skip||(c[at]=a+-d+"px,"+-h+o),d+v>=0&&(c.paddingRight=d+v+"px")),t.scrollLeft=0|n,p=t.scrollLeft},this.top=function(n,i){if(!arguments.length)return-(t.scrollTop+h);var r=t.scrollTop-f,s=h;if((r>2||r<-2)&&!i)return f=t.scrollTop,I.killTweensOf(this,{top:1,scrollTop:1}),this.top(-f),void(e.onKill&&e.onKill());n=-n,n<0?(h=n-.5|0,n=0):n>y?(h=n-y|0,n=y):h=0,(h||s)&&(this._skip||(c[at]=a+-d+"px,"+-h+o)),t.scrollTop=0|n,f=t.scrollTop},this.maxScrollTop=function(){return y},this.maxScrollLeft=function(){return g},this.disable=function(){u=l.firstChild;while(u)s=u.nextSibling,t.appendChild(u),u=s;t===l.parentNode&&t.removeChild(l)},this.enable=function(){if(u=t.firstChild,u!==l){while(u)s=u.nextSibling,l.appendChild(u),u=s;t.appendChild(l),this.calibrate()}},this.calibrate=function(e){var s,a,o,u=t.clientWidth===n;f=t.scrollTop,p=t.scrollLeft,u&&t.clientHeight===i&&l.offsetHeight===r&&m===t.scrollWidth&&_===t.scrollHeight&&!e||((h||d)&&(a=this.left(),o=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),s=Ht(t),u&&!e||(c.display="block",c.width="auto",c.paddingRight="0px",v=Math.max(0,t.scrollWidth-t.clientWidth),v&&(v+=parseFloat(s.paddingLeft)+(Q?parseFloat(s.paddingRight):0))),c.display="inline-block",c.position="relative",c.overflow="visible",c.verticalAlign="top",c.boxSizing="content-box",c.width="100%",c.paddingRight=v+"px",Q&&(c.paddingBottom=s.paddingBottom),n=t.clientWidth,i=t.clientHeight,m=t.scrollWidth,_=t.scrollHeight,g=t.scrollWidth-n,y=t.scrollHeight-i,r=l.offsetHeight,c.display="block",(a||o)&&(this.left(a),this.top(o)))},this.content=l,this.element=t,this._skip=!1,this.enable()},ne=function(t){if(tt()&&document.body){var e=window&&window.navigator;P=window,R=document,D=R.documentElement,N=R.body,L=ut("div"),Y=!!window.PointerEvent,B=ut("div"),B.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",$="grab"===B.style.cursor?"grab":"move",W=e&&-1!==e.userAgent.toLowerCase().indexOf("android"),q="ontouchstart"in D&&"orientation"in P||e&&(e.MaxTouchPoints>0||e.msMaxTouchPoints>0),Q=function(){var t,e=ut("div"),n=ut("div"),i=n.style,r=N;return i.display="inline-block",i.position="relative",e.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",e.appendChild(n),r.appendChild(e),t=n.offsetHeight+18>e.scrollHeight,r.removeChild(e),t}(),U=function(t){var e=t.split(","),n=("onpointerdown"in L?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in L?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":t).split(","),i={},r=4;while(--r>-1)i[e[r]]=n[r],i[n[r]]=e[r];try{D.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){F=1}}))}catch(s){}return i}("touchstart,touchmove,touchend,touchcancel"),Ot(R,"touchcancel",st),Ot(P,"touchmove",st),N&&N.addEventListener("touchstart",st),Ot(R,"contextmenu",(function(){for(var t in _t)_t[t].isPressed&&_t[t].endDrag()})),I=V=et()}I?(X=I.plugins.inertia,G=I.core.context||function(){},z=I.utils.checkPrefix,at=z(at),ot=z(ot),j=I.utils.toArray,Z=I.core.getStyleSaver,K=!!z("perspective")):t&&console.warn("Please gsap.registerPlugin(Draggable)")},ie=function(){function t(t){this._listeners={},this.target=t||this}var e=t.prototype;return e.addEventListener=function(t,e){var n=this._listeners[t]||(this._listeners[t]=[]);~n.indexOf(e)||n.push(e)},e.removeEventListener=function(t,e){var n=this._listeners[t],i=n&&n.indexOf(e);i>=0&&n.splice(i,1)},e.dispatchEvent=function(t){var e,n=this;return(this._listeners[t]||[]).forEach((function(i){return!1===i.call(n,{type:t,target:n.target})&&(e=!1)})),e},t}(),re=function(t){function e(n,i){var r;r=t.call(this)||this,V||ne(1),n=j(n)[0],r.styles=Z&&Z(n,"transform,left,top"),X||(X=I.plugins.inertia),r.vars=i=xt(i||{}),r.target=n,r.x=r.y=r.rotation=0,r.dragResistance=parseFloat(i.dragResistance)||0,r.edgeResistance=isNaN(i.edgeResistance)?1:parseFloat(i.edgeResistance)||0,r.lockAxis=i.lockAxis,r.autoScroll=i.autoScroll||0,r.lockedAxis=null,r.allowEventDefault=!!i.allowEventDefault,I.getProperty(n,"x");var s,a,o,l,c,u,h,d,f,p,m,_,v,g,y,b,w,x,k,S,C,T,O,N,L,z,F,K,Q,tt,et,st,at,ut=(i.type||"x,y").toLowerCase(),mt=~ut.indexOf("x")||~ut.indexOf("y"),gt=-1!==ut.indexOf("rotation"),Ct=gt?"rotation":mt?"x":"left",At=mt?"y":"top",Mt=!(!~ut.indexOf("x")&&!~ut.indexOf("left")&&"scroll"!==ut),Dt=!(!~ut.indexOf("y")&&!~ut.indexOf("top")&&"scroll"!==ut),Ft=i.minimumMovement||2,Wt=M(r),Zt=j(i.trigger||i.handle||n),ie={},re=0,se=!1,ae=i.autoScrollMarginTop||40,oe=i.autoScrollMarginRight||40,le=i.autoScrollMarginBottom||40,ce=i.autoScrollMarginLeft||40,ue=i.clickableTest||Qt,he=0,de=n._gsap||I.core.getCache(n),fe=te(n),pe=function(t,e){return parseFloat(de.get(n,t,e))},me=n.ownerDocument||R,_e=function(t){return Pt(t),t.stopImmediatePropagation&&t.stopImmediatePropagation(),!1},ve=function t(e){if(Wt.autoScroll&&Wt.isDragging&&(se||w)){var i,r,s,o,l,c,u,h,f=n,p=15*Wt.autoScroll;se=!1,wt.scrollTop=null!=P.pageYOffset?P.pageYOffset:null!=me.documentElement.scrollTop?me.documentElement.scrollTop:me.body.scrollTop,wt.scrollLeft=null!=P.pageXOffset?P.pageXOffset:null!=me.documentElement.scrollLeft?me.documentElement.scrollLeft:me.body.scrollLeft,o=Wt.pointerX-wt.scrollLeft,l=Wt.pointerY-wt.scrollTop;while(f&&!r)r=jt(f.parentNode),i=r?wt:f.parentNode,s=r?{bottom:Math.max(D.clientHeight,P.innerHeight||0),right:Math.max(D.clientWidth,P.innerWidth||0),left:0,top:0}:i.getBoundingClientRect(),c=u=0,Dt&&(h=i._gsMaxScrollY-i.scrollTop,h<0?u=h:l>s.bottom-le&&h?(se=!0,u=Math.min(h,p*(1-Math.max(0,s.bottom-l)/le)|0)):l<s.top+ae&&i.scrollTop&&(se=!0,u=-Math.min(i.scrollTop,p*(1-Math.max(0,l-s.top)/ae)|0)),u&&(i.scrollTop+=u)),Mt&&(h=i._gsMaxScrollX-i.scrollLeft,h<0?c=h:o>s.right-oe&&h?(se=!0,c=Math.min(h,p*(1-Math.max(0,s.right-o)/oe)|0)):o<s.left+ce&&i.scrollLeft&&(se=!0,c=-Math.min(i.scrollLeft,p*(1-Math.max(0,o-s.left)/ce)|0)),c&&(i.scrollLeft+=c)),r&&(c||u)&&(P.scrollTo(i.scrollLeft,i.scrollTop),Ie(Wt.pointerX+c,Wt.pointerY+u)),f=i}if(w){var m=Wt.x,_=Wt.y;gt?(Wt.deltaX=m-parseFloat(de.rotation),Wt.rotation=m,de.rotation=m+"deg",de.renderTransform(1,de)):a?(Dt&&(Wt.deltaY=_-a.top(),a.top(_)),Mt&&(Wt.deltaX=m-a.left(),a.left(m))):mt?(Dt&&(Wt.deltaY=_-parseFloat(de.y),de.y=_+"px"),Mt&&(Wt.deltaX=m-parseFloat(de.x),de.x=m+"px"),de.renderTransform(1,de)):(Dt&&(Wt.deltaY=_-parseFloat(n.style.top||0),n.style.top=_+"px"),Mt&&(Wt.deltaX=m-parseFloat(n.style.left||0),n.style.left=m+"px")),!d||e||K||(K=!0,!1===$t(Wt,"drag","onDrag")&&(Mt&&(Wt.x-=Wt.deltaX),Dt&&(Wt.y-=Wt.deltaY),t(!0)),K=!1)}w=!1},ge=function(t,e){var i,r,s=Wt.x,o=Wt.y;n._gsap||(de=I.core.getCache(n)),de.uncache&&I.getProperty(n,"x"),mt?(Wt.x=parseFloat(de.x),Wt.y=parseFloat(de.y)):gt?Wt.x=Wt.rotation=parseFloat(de.rotation):a?(Wt.y=a.top(),Wt.x=a.left()):(Wt.y=parseFloat(n.style.top||(r=Ht(n))&&r.top)||0,Wt.x=parseFloat(n.style.left||(r||{}).left)||0),(k||S||C)&&!e&&(Wt.isDragging||Wt.isThrowing)&&(C&&(bt.x=Wt.x,bt.y=Wt.y,i=C(bt),i.x!==Wt.x&&(Wt.x=i.x,w=!0),i.y!==Wt.y&&(Wt.y=i.y,w=!0)),k&&(i=k(Wt.x),i!==Wt.x&&(Wt.x=i,gt&&(Wt.rotation=i),w=!0)),S&&(i=S(Wt.y),i!==Wt.y&&(Wt.y=i),w=!0)),w&&ve(!0),t||(Wt.deltaX=Wt.x-s,Wt.deltaY=Wt.y-o,$t(Wt,"throwupdate","onThrowUpdate"))},ye=function(t,e,n,i){return null==e&&(e=-dt),null==n&&(n=dt),nt(t)?function(r){var s=Wt.isPressed?1-Wt.edgeResistance:1;return t.call(Wt,(r>n?n+(r-n)*s:r<e?e+(r-e)*s:r)*i)*i}:ct(t)?function(i){var r,s,a=t.length,o=0,l=dt;while(--a>-1)r=t[a],s=r-i,s<0&&(s=-s),s<l&&r>=e&&r<=n&&(o=a,l=s);return t[o]}:isNaN(t)?function(t){return t}:function(){return t*i}},be=function(t,e,n,i,r,s,a){return s=s&&s<dt?s*s:dt,nt(t)?function(o){var l,c,u,h=Wt.isPressed?1-Wt.edgeResistance:1,d=o.x,f=o.y;return o.x=d=d>n?n+(d-n)*h:d<e?e+(d-e)*h:d,o.y=f=f>r?r+(f-r)*h:f<i?i+(f-i)*h:f,l=t.call(Wt,o),l!==o&&(o.x=l.x,o.y=l.y),1!==a&&(o.x*=a,o.y*=a),s<dt&&(c=o.x-d,u=o.y-f,c*c+u*u>s&&(o.x=d,o.y=f)),o}:ct(t)?function(e){var n,i,r,a,o=t.length,l=0,c=dt;while(--o>-1)r=t[o],n=r.x-e.x,i=r.y-e.y,a=n*n+i*i,a<c&&(l=o,c=a);return c<=s?t[l]:e}:function(t){return t}},we=function(){var t,e,r,s;h=!1,a?(a.calibrate(),Wt.minX=m=-a.maxScrollLeft(),Wt.minY=v=-a.maxScrollTop(),Wt.maxX=p=Wt.maxY=_=0,h=!0):i.bounds&&(t=Yt(i.bounds,n.parentNode),gt?(Wt.minX=m=t.left,Wt.maxX=p=t.left+t.width,Wt.minY=v=Wt.maxY=_=0):rt(i.bounds.maxX)&&rt(i.bounds.maxY)?(e=Yt(n,n.parentNode),Wt.minX=m=Math.round(pe(Ct,"px")+t.left-e.left),Wt.minY=v=Math.round(pe(At,"px")+t.top-e.top),Wt.maxX=p=Math.round(m+(t.width-e.width)),Wt.maxY=_=Math.round(v+(t.height-e.height))):(t=i.bounds,Wt.minX=m=t.minX,Wt.minY=v=t.minY,Wt.maxX=p=t.maxX,Wt.maxY=_=t.maxY),m>p&&(Wt.minX=p,Wt.maxX=p=m,m=Wt.minX),v>_&&(Wt.minY=_,Wt.maxY=_=v,v=Wt.minY),gt&&(Wt.minRotation=m,Wt.maxRotation=p),h=!0),i.liveSnap&&(r=!0===i.liveSnap?i.snap||{}:i.liveSnap,s=ct(r)||nt(r),gt?(k=ye(s?r:r.rotation,m,p,1),S=null):r.points?C=be(s?r:r.points,m,p,v,_,r.radius,a?-1:1):(Mt&&(k=ye(s?r:r.x||r.left||r.scrollLeft,m,p,a?-1:1)),Dt&&(S=ye(s?r:r.y||r.top||r.scrollTop,v,_,a?-1:1))))},xe=function(){Wt.isThrowing=!1,$t(Wt,"throwcomplete","onThrowComplete")},ke=function(){Wt.isThrowing=!1},Se=function(t,e){var r,s,o,l;t&&X?(!0===t&&(r=i.snap||i.liveSnap||{},s=ct(r)||nt(r),t={resistance:(i.throwResistance||i.resistance||1e3)/(gt?10:1)},gt?t.rotation=Kt(Wt,s?r:r.rotation,p,m,1,e):(Mt&&(t[Ct]=Kt(Wt,s?r:r.points||r.x||r.left,p,m,a?-1:1,e||"x"===Wt.lockedAxis)),Dt&&(t[At]=Kt(Wt,s?r:r.points||r.y||r.top,_,v,a?-1:1,e||"y"===Wt.lockedAxis)),(r.points||ct(r)&&it(r[0]))&&(t.linkedProps=Ct+","+At,t.radius=r.radius))),Wt.isThrowing=!0,l=isNaN(i.overshootTolerance)?1===i.edgeResistance?0:1-Wt.edgeResistance+.2:i.overshootTolerance,t.duration||(t.duration={max:Math.max(i.minDuration||0,"maxDuration"in i?i.maxDuration:2),min:isNaN(i.minDuration)?0===l||it(t)&&t.resistance>1e3?0:.5:i.minDuration,overshoot:l}),Wt.tween=o=I.to(a||n,{inertia:t,data:"_draggable",inherit:!1,onComplete:xe,onInterrupt:ke,onUpdate:i.fastMode?$t:ge,onUpdateParams:i.fastMode?[Wt,"onthrowupdate","onThrowUpdate"]:r&&r.radius?[!1,!0]:[]}),i.fastMode||(a&&(a._skip=!0),o.render(1e9,!0,!0),ge(!0,!0),Wt.endX=Wt.x,Wt.endY=Wt.y,gt&&(Wt.endRotation=Wt.x),o.play(0),ge(!0,!0),a&&(a._skip=!1))):h&&Wt.applyBounds()},Ce=function(t){var e,i=N;N=E(n.parentNode,!0),t&&Wt.isPressed&&!N.equals(i||new A)&&(e=i.inverse().apply({x:o,y:l}),N.apply(e,e),o=e.x,l=e.y),N.equals(ft)&&(N=null)},Te=function(){var t,e,i,r=1-Wt.edgeResistance,s=fe?Bt(me):0,d=fe?Lt(me):0;mt&&(de.x=pe(Ct,"px")+"px",de.y=pe(At,"px")+"px",de.renderTransform()),Ce(!1),Gt.x=Wt.pointerX-s,Gt.y=Wt.pointerY-d,N&&N.apply(Gt,Gt),o=Gt.x,l=Gt.y,w&&(Ie(Wt.pointerX,Wt.pointerY),ve(!0)),st=E(n),a?(we(),u=a.top(),c=a.left()):(Ae()?(ge(!0,!0),we()):Wt.applyBounds(),gt?(t=n.ownerSVGElement?[de.xOrigin-n.getBBox().x,de.yOrigin-n.getBBox().y]:(Ht(n)[ot]||"0 0").split(" "),b=Wt.rotationOrigin=E(n).apply({x:parseFloat(t[0])||0,y:parseFloat(t[1])||0}),ge(!0,!0),e=Wt.pointerX-b.x-s,i=b.y-Wt.pointerY+d,c=Wt.x,u=Wt.y=Math.atan2(i,e)*ht):(u=pe(At,"px"),c=pe(Ct,"px"))),h&&r&&(c>p?c=p+(c-p)/r:c<m&&(c=m-(m-c)/r),gt||(u>_?u=_+(u-_)/r:u<v&&(u=v-(v-u)/r))),Wt.startX=c=lt(c),Wt.startY=u=lt(u)},Ae=function(){return Wt.tween&&Wt.tween.isActive()},Ee=function(){!B.parentNode||Ae()||Wt.isDragging||B.parentNode.removeChild(B)},Me=function(t,r){var c;if(!s||Wt.isPressed||!t||!("mousedown"!==t.type&&"pointerdown"!==t.type||r)&&pt()-he<30&&U[Wt.pointerEvent.type])et&&t&&s&&Pt(t);else{if(L=Ae(),at=!1,Wt.pointerEvent=t,U[t.type]?(O=~t.type.indexOf("touch")?t.currentTarget||t.target:me,Ot(O,"touchend",Pe),Ot(O,"touchmove",Oe),Ot(O,"touchcancel",Pe),Ot(me,"touchstart",Nt)):(O=null,Ot(me,"mousemove",Oe)),F=null,Y&&O||(Ot(me,"mouseup",Pe),t&&t.target&&Ot(t.target,"mouseup",Pe)),T=ue.call(Wt,t.target)&&!1===i.dragClickables&&!r,T)return Ot(t.target,"change",Pe),$t(Wt,"pressInit","onPressInit"),$t(Wt,"press","onPress"),Jt(Zt,!0),void(et=!1);if(z=!(!O||Mt===Dt||!1===Wt.vars.allowNativeTouchScrolling||Wt.vars.allowContextMenu&&t&&(t.ctrlKey||t.which>2))&&(Mt?"y":"x"),et=!z&&!Wt.allowEventDefault,et&&(Pt(t),Ot(P,"touchforcechange",Pt)),t.changedTouches?(t=g=t.changedTouches[0],y=t.identifier):t.pointerId?y=t.pointerId:g=y=null,J++,Tt(ve),l=Wt.pointerY=t.pageY,o=Wt.pointerX=t.pageX,$t(Wt,"pressInit","onPressInit"),(z||Wt.autoScroll)&&qt(n.parentNode),!n.parentNode||!Wt.autoScroll||a||gt||!n.parentNode._gsMaxScrollX||B.parentNode||n.getBBox||(B.style.width=n.parentNode.scrollWidth+"px",n.parentNode.appendChild(B)),Te(),Wt.tween&&Wt.tween.kill(),Wt.isThrowing=!1,I.killTweensOf(a||n,ie,!0),a&&I.killTweensOf(n,{scrollTo:1},!0),Wt.tween=Wt.lockedAxis=null,(i.zIndexBoost||!gt&&!a&&!1!==i.zIndexBoost)&&(n.style.zIndex=e.zIndex++),Wt.isPressed=!0,d=!(!i.onDrag&&!Wt._listeners.drag),f=!(!i.onMove&&!Wt._listeners.move),!1!==i.cursor||i.activeCursor){c=Zt.length;while(--c>-1)I.set(Zt[c],{cursor:i.activeCursor||i.cursor||("grab"===$?"grabbing":$)})}$t(Wt,"press","onPress")}},Oe=function(t){var e,i,r,a,c,u,h=t;if(s&&!H&&Wt.isPressed&&t){if(Wt.pointerEvent=t,e=t.changedTouches,e){if(t=e[0],t!==g&&t.identifier!==y){a=e.length;while(--a>-1&&(t=e[a]).identifier!==y&&t.target!==n);if(a<0)return}}else if(t.pointerId&&y&&t.pointerId!==y)return;O&&z&&!F&&(Gt.x=t.pageX-(fe?Bt(me):0),Gt.y=t.pageY-(fe?Lt(me):0),N&&N.apply(Gt,Gt),i=Gt.x,r=Gt.y,c=Math.abs(i-o),u=Math.abs(r-l),(c!==u&&(c>Ft||u>Ft)||W&&z===F)&&(F=c>u&&Mt?"x":"y",z&&F!==z&&Ot(P,"touchforcechange",Pt),!1!==Wt.vars.lockAxisOnTouchScroll&&Mt&&Dt&&(Wt.lockedAxis="x"===F?"y":"x",nt(Wt.vars.onLockAxis)&&Wt.vars.onLockAxis.call(Wt,h)),W&&z===F))?Pe(h):(Wt.allowEventDefault||z&&(!F||z===F)||!1===h.cancelable?et&&(et=!1):(Pt(h),et=!0),Wt.autoScroll&&(se=!0),Ie(t.pageX,t.pageY,f))}else et&&t&&s&&Pt(t)},Ie=function(t,e,n){var i,r,s,a,d,f,g=1-Wt.dragResistance,y=1-Wt.edgeResistance,x=Wt.pointerX,T=Wt.pointerY,A=u,E=Wt.x,M=Wt.y,O=Wt.endX,I=Wt.endY,P=Wt.endRotation,R=w;Wt.pointerX=t,Wt.pointerY=e,fe&&(t-=Bt(me),e-=Lt(me)),gt?(a=Math.atan2(b.y-e,t-b.x)*ht,d=Wt.y-a,d>180?(u-=360,Wt.y=a):d<-180&&(u+=360,Wt.y=a),Wt.x!==c||Math.abs(u-a)>Ft?(Wt.y=a,s=c+(u-a)*g):s=c):(N&&(f=t*N.a+e*N.c+N.e,e=t*N.b+e*N.d+N.f,t=f),r=e-l,i=t-o,r<Ft&&r>-Ft&&(r=0),i<Ft&&i>-Ft&&(i=0),(Wt.lockAxis||Wt.lockedAxis)&&(i||r)&&(f=Wt.lockedAxis,f||(Wt.lockedAxis=f=Mt&&Math.abs(i)>Math.abs(r)?"y":Dt?"x":null,f&&nt(Wt.vars.onLockAxis)&&Wt.vars.onLockAxis.call(Wt,Wt.pointerEvent)),"y"===f?r=0:"x"===f&&(i=0)),s=lt(c+i*g),a=lt(u+r*g)),(k||S||C)&&(Wt.x!==s||Wt.y!==a&&!gt)&&(C&&(bt.x=s,bt.y=a,f=C(bt),s=lt(f.x),a=lt(f.y)),k&&(s=lt(k(s))),S&&(a=lt(S(a)))),h&&(s>p?s=p+Math.round((s-p)*y):s<m&&(s=m+Math.round((s-m)*y)),gt||(a>_?a=Math.round(_+(a-_)*y):a<v&&(a=Math.round(v+(a-v)*y)))),(Wt.x!==s||Wt.y!==a&&!gt)&&(gt?(Wt.endRotation=Wt.x=Wt.endX=s,w=!0):(Dt&&(Wt.y=Wt.endY=a,w=!0),Mt&&(Wt.x=Wt.endX=s,w=!0)),n&&!1===$t(Wt,"move","onMove")?(Wt.pointerX=x,Wt.pointerY=T,u=A,Wt.x=E,Wt.y=M,Wt.endX=O,Wt.endY=I,Wt.endRotation=P,w=R):!Wt.isDragging&&Wt.isPressed&&(Wt.isDragging=at=!0,$t(Wt,"dragstart","onDragStart")))},Pe=function t(e,r){if(s&&Wt.isPressed&&(!e||null==y||r||!(e.pointerId&&e.pointerId!==y&&e.target!==n||e.changedTouches&&!Rt(e.changedTouches,y)))){Wt.isPressed=!1;var a,o,l,c,u,h=e,d=Wt.isDragging,f=Wt.vars.allowContextMenu&&e&&(e.ctrlKey||e.which>2),p=I.delayedCall(.001,Ee);if(O?(It(O,"touchend",t),It(O,"touchmove",Oe),It(O,"touchcancel",t),It(me,"touchstart",Nt)):It(me,"mousemove",Oe),It(P,"touchforcechange",Pt),Y&&O||(It(me,"mouseup",t),e&&e.target&&It(e.target,"mouseup",t)),w=!1,d&&(re=yt=pt(),Wt.isDragging=!1),Et(ve),T&&!f)return e&&(It(e.target,"change",t),Wt.pointerEvent=h),Jt(Zt,!1),$t(Wt,"release","onRelease"),$t(Wt,"click","onClick"),void(T=!1);o=Zt.length;while(--o>-1)Ut(Zt[o],"cursor",i.cursor||(!1!==i.cursor?$:null));if(J--,e){if(a=e.changedTouches,a&&(e=a[0],e!==g&&e.identifier!==y)){o=a.length;while(--o>-1&&(e=a[o]).identifier!==y&&e.target!==n);if(o<0&&!r)return}Wt.pointerEvent=h,Wt.pointerX=e.pageX,Wt.pointerY=e.pageY}return f&&h?(Pt(h),et=!0,$t(Wt,"release","onRelease")):h&&!d?(et=!1,L&&(i.snap||i.bounds)&&Se(i.inertia||i.throwProps),$t(Wt,"release","onRelease"),W&&"touchmove"===h.type||-1!==h.type.indexOf("cancel")||($t(Wt,"click","onClick"),pt()-he<300&&$t(Wt,"doubleclick","onDoubleClick"),c=h.target||n,he=pt(),u=function(){he===Q||!Wt.enabled()||Wt.isPressed||h.defaultPrevented||(c.click?c.click():me.createEvent&&(l=me.createEvent("MouseEvents"),l.initMouseEvent("click",!0,!0,P,1,Wt.pointerEvent.screenX,Wt.pointerEvent.screenY,Wt.pointerX,Wt.pointerY,!1,!1,!1,!1,0,null),c.dispatchEvent(l)))},W||h.defaultPrevented||I.delayedCall(.05,u))):(Se(i.inertia||i.throwProps),Wt.allowEventDefault||!h||!1===i.dragClickables&&ue.call(Wt,h.target)||!d||z&&(!F||z!==F)||!1===h.cancelable?et=!1:(et=!0,Pt(h)),$t(Wt,"release","onRelease")),Ae()&&p.duration(Wt.tween.duration()),d&&$t(Wt,"dragend","onDragEnd"),!0}et&&e&&s&&Pt(e)},Re=function(t){if(t&&Wt.isDragging&&!a){var e=t.target||n.parentNode,i=e.scrollLeft-e._gsScrollX,r=e.scrollTop-e._gsScrollY;(i||r)&&(N?(o-=i*N.a+r*N.c,l-=r*N.d+i*N.b):(o-=i,l-=r),e._gsScrollX+=i,e._gsScrollY+=r,Ie(Wt.pointerX,Wt.pointerY))}},De=function(t){var e=pt(),n=e-he<100,i=e-re<50,r=n&&Q===he,s=Wt.pointerEvent&&Wt.pointerEvent.defaultPrevented,a=n&&tt===he,o=t.isTrusted||null==t.isTrusted&&n&&r;if((r||i&&!1!==Wt.vars.suppressClickOnDrag)&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),n&&(!Wt.pointerEvent||!Wt.pointerEvent.defaultPrevented)&&(!r||o&&!a))return o&&r&&(tt=he),void(Q=he);(Wt.isPressed||i||n)&&(o&&t.detail&&n&&!s||Pt(t)),n||i||at||(t&&t.target&&(Wt.pointerEvent=t),$t(Wt,"click","onClick"))},Ne=function(t){return N?{x:t.x*N.a+t.y*N.c+N.e,y:t.x*N.b+t.y*N.d+N.f}:{x:t.x,y:t.y}};return x=e.get(n),x&&x.kill(),r.startDrag=function(t,e){var i,r,s,a;Me(t||Wt.pointerEvent,!0),e&&!Wt.hitTest(t||Wt.pointerEvent)&&(i=Xt(t||Wt.pointerEvent),r=Xt(n),s=Ne({x:i.left+i.width/2,y:i.top+i.height/2}),a=Ne({x:r.left+r.width/2,y:r.top+r.height/2}),o-=s.x-a.x,l-=s.y-a.y),Wt.isDragging||(Wt.isDragging=at=!0,$t(Wt,"dragstart","onDragStart"))},r.drag=Oe,r.endDrag=function(t){return Pe(t||Wt.pointerEvent,!0)},r.timeSinceDrag=function(){return Wt.isDragging?0:(pt()-re)/1e3},r.timeSinceClick=function(){return(pt()-he)/1e3},r.hitTest=function(t,n){return e.hitTest(Wt.target,t,n)},r.getDirection=function(t,e){var i,r,s,a,o,l,h="velocity"===t&&X?t:it(t)&&!gt?"element":"start";return"element"===h&&(o=Xt(Wt.target),l=Xt(t)),i="start"===h?Wt.x-c:"velocity"===h?X.getVelocity(n,Ct):o.left+o.width/2-(l.left+l.width/2),gt?i<0?"counter-clockwise":"clockwise":(e=e||2,r="start"===h?Wt.y-u:"velocity"===h?X.getVelocity(n,At):o.top+o.height/2-(l.top+l.height/2),s=Math.abs(i/r),a=s<1/e?"":i<0?"left":"right",s<e&&(""!==a&&(a+="-"),a+=r<0?"up":"down"),a)},r.applyBounds=function(t,e){var r,s,a,o,l,c;if(t&&i.bounds!==t)return i.bounds=t,Wt.update(!0,e);if(ge(!0),we(),h&&!Ae()){if(r=Wt.x,s=Wt.y,r>p?r=p:r<m&&(r=m),s>_?s=_:s<v&&(s=v),(Wt.x!==r||Wt.y!==s)&&(a=!0,Wt.x=Wt.endX=r,gt?Wt.endRotation=r:Wt.y=Wt.endY=s,w=!0,ve(!0),Wt.autoScroll&&!Wt.isDragging)){qt(n.parentNode),o=n,wt.scrollTop=null!=P.pageYOffset?P.pageYOffset:null!=me.documentElement.scrollTop?me.documentElement.scrollTop:me.body.scrollTop,wt.scrollLeft=null!=P.pageXOffset?P.pageXOffset:null!=me.documentElement.scrollLeft?me.documentElement.scrollLeft:me.body.scrollLeft;while(o&&!c)c=jt(o.parentNode),l=c?wt:o.parentNode,Dt&&l.scrollTop>l._gsMaxScrollY&&(l.scrollTop=l._gsMaxScrollY),Mt&&l.scrollLeft>l._gsMaxScrollX&&(l.scrollLeft=l._gsMaxScrollX),o=l}Wt.isThrowing&&(a||Wt.endX>p||Wt.endX<m||Wt.endY>_||Wt.endY<v)&&Se(i.inertia||i.throwProps,a)}return Wt},r.update=function(t,e,i){if(e&&Wt.isPressed){var r=E(n),s=st.apply({x:Wt.x-c,y:Wt.y-u}),a=E(n.parentNode,!0);a.apply({x:r.e-s.x,y:r.f-s.y},s),Wt.x-=s.x-a.e,Wt.y-=s.y-a.f,ve(!0),Te()}var o=Wt.x,l=Wt.y;return Ce(!e),t?Wt.applyBounds():(w&&i&&ve(!0),ge(!0)),e&&(Ie(Wt.pointerX,Wt.pointerY),w&&ve(!0)),Wt.isPressed&&!e&&(Mt&&Math.abs(o-Wt.x)>.01||Dt&&Math.abs(l-Wt.y)>.01&&!gt)&&Te(),Wt.autoScroll&&(qt(n.parentNode,Wt.isDragging),se=Wt.isDragging,ve(!0),zt(n,Re),Vt(n,Re)),Wt},r.enable=function(t){var e,r,o,l={lazy:!0};if(!1!==i.cursor&&(l.cursor=i.cursor||$),I.utils.checkPrefix("touchCallout")&&(l.touchCallout="none"),"soft"!==t){St(Zt,Mt===Dt?"none":i.allowNativeTouchScrolling&&n.scrollHeight===n.clientHeight===(n.scrollWidth===n.clientHeight)||i.allowEventDefault?"manipulation":Mt?"pan-y":"pan-x"),r=Zt.length;while(--r>-1)o=Zt[r],Y||Ot(o,"mousedown",Me),Ot(o,"touchstart",Me),Ot(o,"click",De,!0),I.set(o,l),o.getBBox&&o.ownerSVGElement&&Mt!==Dt&&I.set(o.ownerSVGElement,{touchAction:i.allowNativeTouchScrolling||i.allowEventDefault?"manipulation":Mt?"pan-y":"pan-x"}),i.allowContextMenu||Ot(o,"contextmenu",_e);Jt(Zt,!1)}return Vt(n,Re),s=!0,X&&"soft"!==t&&X.track(a||n,mt?"x,y":gt?"rotation":"top,left"),n._gsDragID=e="d"+vt++,_t[e]=Wt,a&&(a.enable(),a.element._gsDragID=e),(i.bounds||gt)&&Te(),i.bounds&&Wt.applyBounds(),Wt},r.disable=function(t){var e,i=Wt.isDragging,r=Zt.length;while(--r>-1)Ut(Zt[r],"cursor",null);if("soft"!==t){St(Zt,null),r=Zt.length;while(--r>-1)e=Zt[r],Ut(e,"touchCallout",null),It(e,"mousedown",Me),It(e,"touchstart",Me),It(e,"click",De,!0),It(e,"contextmenu",_e);Jt(Zt,!0),O&&(It(O,"touchcancel",Pe),It(O,"touchend",Pe),It(O,"touchmove",Oe)),It(me,"mouseup",Pe),It(me,"mousemove",Oe)}return zt(n,Re),s=!1,X&&"soft"!==t&&(X.untrack(a||n,mt?"x,y":gt?"rotation":"top,left"),Wt.tween&&Wt.tween.kill()),a&&a.disable(),Et(ve),Wt.isDragging=Wt.isPressed=T=!1,i&&$t(Wt,"dragend","onDragEnd"),Wt},r.enabled=function(t,e){return arguments.length?t?Wt.enable(e):Wt.disable(e):s},r.kill=function(){return Wt.isThrowing=!1,Wt.tween&&Wt.tween.kill(),Wt.disable(),I.set(Zt,{clearProps:"userSelect"}),delete _t[n._gsDragID],Wt},r.revert=function(){this.kill(),this.styles&&this.styles.revert()},~ut.indexOf("scroll")&&(a=r.scrollProxy=new ee(n,kt({onKill:function(){Wt.isPressed&&Pe(null)}},i)),n.style.overflowY=Dt&&!q?"auto":"hidden",n.style.overflowX=Mt&&!q?"auto":"hidden",n=a.content),gt?ie.rotation=1:(Mt&&(ie[Ct]=1),Dt&&(ie[At]=1)),de.force3D=!("force3D"in i)||i.force3D,G(M(r)),r.enable(),r}return O(e,t),e.register=function(t){I=t,ne()},e.create=function(t,n){return V||ne(!0),j(t).map((function(t){return new e(t,n)}))},e.get=function(t){return _t[(j(t)[0]||{})._gsDragID]},e.timeSinceDrag=function(){return(pt()-yt)/1e3},e.hitTest=function(t,e,n){if(t===e)return!1;var i,r,s,a=Xt(t),o=Xt(e),l=a.top,c=a.left,u=a.right,h=a.bottom,d=a.width,f=a.height,p=o.left>u||o.right<c||o.top>h||o.bottom<l;return p||!n?!p:(s=-1!==(n+"").indexOf("%"),n=parseFloat(n)||0,i={left:Math.max(c,o.left),top:Math.max(l,o.top)},i.width=Math.min(u,o.right)-i.left,i.height=Math.min(h,o.bottom)-i.top,!(i.width<0||i.height<0)&&(s?(n*=.01,r=i.width*i.height,r>=d*f*n||r>=o.width*o.height*n):i.width>n&&i.height>n))},e}(ie);Mt(re.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1}),re.zIndex=1e3,re.version="3.12.5",et()&&I.registerPlugin(re)},5193:function(t,e,n){"use strict";n.d(e,{Ay:function(){return lr}});n(4114),n(6573),n(8100),n(7936);function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}
/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var s,a,o,l,c,u,h,d,f,p,m,_={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},v={duration:.5,overwrite:!1,delay:0},g=1e8,y=1/g,b=2*Math.PI,w=b/4,x=0,k=Math.sqrt,S=Math.cos,C=Math.sin,T=function(t){return"string"===typeof t},A=function(t){return"function"===typeof t},E=function(t){return"number"===typeof t},M=function(t){return"undefined"===typeof t},O=function(t){return"object"===typeof t},I=function(t){return!1!==t},P=function(){return"undefined"!==typeof window},R=function(t){return A(t)||T(t)},D="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},N=Array.isArray,L=/(?:-?\.?\d|\.)+/gi,B=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,V=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,z=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,j=/[+-]=-?[.\d]+/,F=/[^,'"\[\]\s]+/gi,q=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,U={},H={},W=function(t){return(H=wt(t,U))&&jn},X=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},$=function(t,e){return!e&&console.warn(t)},Y=function(t,e){return t&&(U[t]=e)&&H&&(H[t]=e)||U},G=function(){return 0},Z={suppressEvents:!0,isStart:!0,kill:!1},K={suppressEvents:!0,kill:!1},Q={suppressEvents:!0},J={},tt=[],et={},nt={},it={},rt=30,st=[],at="",ot=function(t){var e,n,i=t[0];if(O(i)||A(i)||(t=[t]),!(e=(i._gsap||{}).harness)){n=st.length;while(n--&&!st[n].targetTest(i));e=st[n]}n=t.length;while(n--)t[n]&&(t[n]._gsap||(t[n]._gsap=new Ge(t[n],e)))||t.splice(n,1);return t},lt=function(t){return t._gsap||ot(re(t))[0]._gsap},ct=function(t,e,n){return(n=t[e])&&A(n)?t[e]():M(n)&&t.getAttribute&&t.getAttribute(e)||n},ut=function(t,e){return(t=t.split(",")).forEach(e)||t},ht=function(t){return Math.round(1e5*t)/1e5||0},dt=function(t){return Math.round(1e7*t)/1e7||0},ft=function(t,e){var n=e.charAt(0),i=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+i:"-"===n?t-i:"*"===n?t*i:t/i},pt=function(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n},mt=function(){var t,e,n=tt.length,i=tt.slice(0);for(et={},tt.length=0,t=0;t<n;t++)e=i[t],e&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},_t=function(t,e,n,i){tt.length&&!a&&mt(),t.render(e,n,i||a&&e<0&&(t._initted||t._startAt)),tt.length&&!a&&mt()},vt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(F).length<2?e:T(t)?t.trim():t},gt=function(t){return t},yt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},bt=function(t){return function(e,n){for(var i in n)i in e||"duration"===i&&t||"ease"===i||(e[i]=n[i])}},wt=function(t,e){for(var n in e)t[n]=e[n];return t},xt=function t(e,n){for(var i in n)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(e[i]=O(n[i])?t(e[i]||(e[i]={}),n[i]):n[i]);return e},kt=function(t,e){var n,i={};for(n in t)n in e||(i[n]=t[n]);return i},St=function(t){var e=t.parent||l,n=t.keyframes?bt(N(t.keyframes)):yt;if(I(t.inherit))while(e)n(t,e.vars.defaults),e=e.parent||e._dp;return t},Ct=function(t,e){var n=t.length,i=n===e.length;while(i&&n--&&t[n]===e[n]);return n<0},Tt=function(t,e,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var s,a=t[i];if(r){s=e[r];while(a&&a[r]>s)a=a._prev}return a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=a,e.parent=e._dp=t,e},At=function(t,e,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=e._prev,s=e._next;r?r._next=s:t[n]===e&&(t[n]=s),s?s._prev=r:t[i]===e&&(t[i]=r),e._next=e._prev=e.parent=null},Et=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Mt=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0)){var n=t;while(n)n._dirty=1,n=n.parent}return t},Ot=function(t){var e=t.parent;while(e&&e.parent)e._dirty=1,e.totalDuration(),e=e.parent;return t},It=function(t,e,n,i){return t._startAt&&(a?t._startAt.revert(K):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,i))},Pt=function t(e){return!e||e._ts&&t(e.parent)},Rt=function(t){return t._repeat?Dt(t._tTime,t=t.duration()+t._rDelay)*t:0},Dt=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},Nt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Lt=function(t){return t._end=dt(t._start+(t._tDur/Math.abs(t._ts||t._rts||y)||0))},Bt=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=dt(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Lt(t),n._dirty||Mt(n,t)),t},Vt=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=Nt(t.rawTime(),e),(!e._dur||Qt(0,e.totalDuration(),n)-e._tTime>y)&&e.render(n,!0)),Mt(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration()){n=t;while(n._dp)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp}t._zTime=-y}},zt=function(t,e,n,i){return e.parent&&Et(e),e._start=dt((E(n)?n:n||t!==l?Gt(t,n,e):t._time)+e._delay),e._end=dt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Tt(t,e,"_first","_last",t._sort?"_start":0),Ut(e)||(t._recent=e),i||Vt(t,e),t._ts<0&&Bt(t,t._tTime),t},jt=function(t,e){return(U.ScrollTrigger||X("scrollTrigger",e))&&U.ScrollTrigger.create(e,t)},Ft=function(t,e,n,i,r){return sn(t,e,r),t._initted?!n&&t._pt&&!a&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&f!==De.frame?(tt.push(t),t._lazy=[r,i],1):void 0:1},qt=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Ut=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Ht=function(t,e,n,i){var r,s,o,l=t.ratio,c=e<0||!e&&(!t._start&&qt(t)&&(t._initted||!Ut(t))||(t._ts<0||t._dp._ts<0)&&!Ut(t))?0:1,u=t._rDelay,h=0;if(u&&t._repeat&&(h=Qt(0,t._tDur,e),s=Dt(h,u),t._yoyo&&1&s&&(c=1-c),s!==Dt(t._tTime,u)&&(l=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==l||a||i||t._zTime===y||!e&&t._zTime){if(!t._initted&&Ft(t,e,i,n,h))return;o=t._zTime,t._zTime=e||(n?y:0),n||(n=e&&!o),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=h,r=t._pt;while(r)r.r(c,r.d),r=r._next;e<0&&It(t,e,n,!0),t._onUpdate&&!n&&we(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&we(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===c&&(c&&Et(t,1),n||a||(we(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},Wt=function(t,e,n){var i;if(n>e){i=t._first;while(i&&i._start<=n){if("isPause"===i.data&&i._start>e)return i;i=i._next}}else{i=t._last;while(i&&i._start>=n){if("isPause"===i.data&&i._start<e)return i;i=i._prev}}},Xt=function(t,e,n,i){var r=t._repeat,s=dt(e)||0,a=t._tTime/t._tDur;return a&&!i&&(t._time*=s/t._dur),t._dur=s,t._tDur=r?r<0?1e10:dt(s*(r+1)+t._rDelay*r):s,a>0&&!i&&Bt(t,t._tTime=t._tDur*a),t.parent&&Lt(t),n||Mt(t.parent,t),t},$t=function(t){return t instanceof Ke?Mt(t):Xt(t,t._dur)},Yt={_start:0,endTime:G,totalDuration:G},Gt=function t(e,n,i){var r,s,a,o=e.labels,l=e._recent||Yt,c=e.duration()>=g?l.endTime(!1):e._dur;return T(n)&&(isNaN(n)||n in o)?(s=n.charAt(0),a="%"===n.substr(-1),r=n.indexOf("="),"<"===s||">"===s?(r>=0&&(n=n.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(a?(r<0?l:i).totalDuration()/100:1)):r<0?(n in o||(o[n]=c),o[n]):(s=parseFloat(n.charAt(r-1)+n.substr(r+1)),a&&i&&(s=s/100*(N(i)?i[0]:i).totalDuration()),r>1?t(e,n.substr(0,r-1),i)+s:c+s)):null==n?c:+n},Zt=function(t,e,n){var i,r,s=E(e[1]),a=(s?2:1)+(t<2?0:1),o=e[a];if(s&&(o.duration=e[1]),o.parent=n,t){i=o,r=n;while(r&&!("immediateRender"in i))i=r.vars.defaults||{},r=I(r.vars.inherit)&&r.parent;o.immediateRender=I(i.immediateRender),t<2?o.runBackwards=1:o.startAt=e[a-1]}return new dn(e[0],o,e[a+1])},Kt=function(t,e){return t||0===t?e(t):e},Qt=function(t,e,n){return n<t?t:n>e?e:n},Jt=function(t,e){return T(t)&&(e=q.exec(t))?e[1]:""},te=function(t,e,n){return Kt(n,(function(n){return Qt(t,e,n)}))},ee=[].slice,ne=function(t,e){return t&&O(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&O(t[0]))&&!t.nodeType&&t!==c},ie=function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var i;return T(t)&&!e||ne(t,1)?(i=n).push.apply(i,re(t)):n.push(t)}))||n},re=function(t,e,n){return o&&!e&&o.selector?o.selector(t):!T(t)||n||!u&&Ne()?N(t)?ie(t,n):ne(t)?ee.call(t,0):t?[t]:[]:ee.call((e||h).querySelectorAll(t),0)},se=function(t){return t=re(t)[0]||$("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return re(e,n.querySelectorAll?n:n===t?$("Invalid scope")||h.createElement("div"):t)}},ae=function(t){return t.sort((function(){return.5-Math.random()}))},oe=function(t){if(A(t))return t;var e=O(t)?t:{each:t},n=He(e.ease),i=e.from||0,r=parseFloat(e.base)||0,s={},a=i>0&&i<1,o=isNaN(i)||a,l=e.axis,c=i,u=i;return T(i)?c=u={center:.5,edges:.5,end:1}[i]||0:!a&&o&&(c=i[0],u=i[1]),function(t,a,h){var d,f,p,m,_,v,y,b,w,x=(h||e).length,S=s[x];if(!S){if(w="auto"===e.grid?0:(e.grid||[1,g])[1],!w){y=-g;while(y<(y=h[w++].getBoundingClientRect().left)&&w<x);w<x&&w--}for(S=s[x]=[],d=o?Math.min(w,x)*c-.5:i%w,f=w===g?0:o?x*u/w-.5:i/w|0,y=0,b=g,v=0;v<x;v++)p=v%w-d,m=f-(v/w|0),S[v]=_=l?Math.abs("y"===l?m:p):k(p*p+m*m),_>y&&(y=_),_<b&&(b=_);"random"===i&&ae(S),S.max=y-b,S.min=b,S.v=x=(parseFloat(e.amount)||parseFloat(e.each)*(w>x?x-1:l?"y"===l?x/w:w:Math.max(w,x/w))||0)*("edges"===i?-1:1),S.b=x<0?r-x:r,S.u=Jt(e.amount||e.each)||0,n=n&&x<0?qe(n):n}return x=(S[t]-S.min)/S.max||0,dt(S.b+(n?n(x):x)*S.v)+S.u}},le=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var i=dt(Math.round(parseFloat(n)/t)*t*e);return(i-i%1)/e+(E(n)?0:Jt(n))}},ce=function(t,e){var n,i,r=N(t);return!r&&O(t)&&(n=r=t.radius||g,t.values?(t=re(t.values),(i=!E(t[0]))&&(n*=n)):t=le(t.increment)),Kt(e,r?A(t)?function(e){return i=t(e),Math.abs(i-e)<=n?i:e}:function(e){var r,s,a=parseFloat(i?e.x:e),o=parseFloat(i?e.y:0),l=g,c=0,u=t.length;while(u--)i?(r=t[u].x-a,s=t[u].y-o,r=r*r+s*s):r=Math.abs(t[u]-a),r<l&&(l=r,c=u);return c=!n||l<=n?t[c]:e,i||c===e||E(e)?c:c+Jt(e)}:le(t))},ue=function(t,e,n,i){return Kt(N(t)?!e:!0===n?!!(n=0):!i,(function(){return N(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*i)/i}))},he=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},de=function(t,e){return function(n){return t(parseFloat(n))+(e||Jt(n))}},fe=function(t,e,n){return ge(t,e,0,1,n)},pe=function(t,e,n){return Kt(n,(function(n){return t[~~e(n)]}))},me=function t(e,n,i){var r=n-e;return N(e)?pe(e,t(0,e.length),n):Kt(i,(function(t){return(r+(t-e)%r)%r+e}))},_e=function t(e,n,i){var r=n-e,s=2*r;return N(e)?pe(e,t(0,e.length-1),n):Kt(i,(function(t){return t=(s+(t-e)%s)%s||0,e+(t>r?s-t:t)}))},ve=function(t){var e,n,i,r,s=0,a="";while(~(e=t.indexOf("random(",s)))i=t.indexOf(")",e),r="["===t.charAt(e+7),n=t.substr(e+7,i-e-7).match(r?F:L),a+=t.substr(s,e-s)+ue(r?n:+n[0],r?0:+n[1],+n[2]||1e-5),s=i+1;return a+t.substr(s,t.length-s)},ge=function(t,e,n,i,r){var s=e-t,a=i-n;return Kt(r,(function(e){return n+((e-t)/s*a||0)}))},ye=function t(e,n,i,r){var s=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!s){var a,o,l,c,u,h=T(e),d={};if(!0===i&&(r=1)&&(i=null),h)e={p:e},n={p:n};else if(N(e)&&!N(n)){for(l=[],c=e.length,u=c-2,o=1;o<c;o++)l.push(t(e[o-1],e[o]));c--,s=function(t){t*=c;var e=Math.min(u,~~t);return l[e](t-e)},i=n}else r||(e=wt(N(e)?[]:{},e));if(!l){for(a in n)en.call(d,e,a,"get",n[a]);s=function(t){return wn(t,d)||(h?e.p:e)}}}return Kt(i,s)},be=function(t,e,n){var i,r,s,a=t.labels,o=g;for(i in a)r=a[i]-e,r<0===!!n&&r&&o>(r=Math.abs(r))&&(s=i,o=r);return s},we=function(t,e,n){var i,r,s,a=t.vars,l=a[e],c=o,u=t._ctx;if(l)return i=a[e+"Params"],r=a.callbackScope||t,n&&tt.length&&mt(),u&&(o=u),s=i?l.apply(r,i):l.call(r),o=c,s},xe=function(t){return Et(t),t.scrollTrigger&&t.scrollTrigger.kill(!!a),t.progress()<1&&we(t,"onInterrupt"),t},ke=[],Se=function(t){if(t)if(t=!t.name&&t["default"]||t,P()||t.headless){var e=t.name,n=A(t),i=e&&!n&&t.init?function(){this._props=[]}:t,r={init:G,render:wn,add:en,kill:kn,modifier:xn,rawVars:0},s={targetTest:0,get:0,getSetter:vn,aliases:{},register:0};if(Ne(),t!==i){if(nt[e])return;yt(i,yt(kt(t,r),s)),wt(i.prototype,wt(r,kt(t,s))),nt[i.prop=e]=i,t.targetTest&&(st.push(i),J[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}Y(e,i),t.register&&t.register(jn,i,Tn)}else ke.push(t)},Ce=255,Te={aqua:[0,Ce,Ce],lime:[0,Ce,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ce],navy:[0,0,128],white:[Ce,Ce,Ce],olive:[128,128,0],yellow:[Ce,Ce,0],orange:[Ce,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ce,0,0],pink:[Ce,192,203],cyan:[0,Ce,Ce],transparent:[Ce,Ce,Ce,0]},Ae=function(t,e,n){return t+=t<0?1:t>1?-1:0,(6*t<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*Ce+.5|0},Ee=function(t,e,n){var i,r,s,a,o,l,c,u,h,d,f=t?E(t)?[t>>16,t>>8&Ce,t&Ce]:0:Te.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Te[t])f=Te[t];else if("#"===t.charAt(0)){if(t.length<6&&(i=t.charAt(1),r=t.charAt(2),s=t.charAt(3),t="#"+i+i+r+r+s+s+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return f=parseInt(t.substr(1,6),16),[f>>16,f>>8&Ce,f&Ce,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),f=[t>>16,t>>8&Ce,t&Ce]}else if("hsl"===t.substr(0,3))if(f=d=t.match(L),e){if(~t.indexOf("="))return f=t.match(B),n&&f.length<4&&(f[3]=1),f}else a=+f[0]%360/360,o=+f[1]/100,l=+f[2]/100,r=l<=.5?l*(o+1):l+o-l*o,i=2*l-r,f.length>3&&(f[3]*=1),f[0]=Ae(a+1/3,i,r),f[1]=Ae(a,i,r),f[2]=Ae(a-1/3,i,r);else f=t.match(L)||Te.transparent;f=f.map(Number)}return e&&!d&&(i=f[0]/Ce,r=f[1]/Ce,s=f[2]/Ce,c=Math.max(i,r,s),u=Math.min(i,r,s),l=(c+u)/2,c===u?a=o=0:(h=c-u,o=l>.5?h/(2-c-u):h/(c+u),a=c===i?(r-s)/h+(r<s?6:0):c===r?(s-i)/h+2:(i-r)/h+4,a*=60),f[0]=~~(a+.5),f[1]=~~(100*o+.5),f[2]=~~(100*l+.5)),n&&f.length<4&&(f[3]=1),f},Me=function(t){var e=[],n=[],i=-1;return t.split(Ie).forEach((function(t){var r=t.match(V)||[];e.push.apply(e,r),n.push(i+=r.length+1)})),e.c=n,e},Oe=function(t,e,n){var i,r,s,a,o="",l=(t+o).match(Ie),c=e?"hsla(":"rgba(",u=0;if(!l)return t;if(l=l.map((function(t){return(t=Ee(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(s=Me(t),i=n.c,i.join(o)!==s.c.join(o)))for(r=t.replace(Ie,"1").split(V),a=r.length-1;u<a;u++)o+=r[u]+(~i.indexOf(u)?l.shift()||c+"0,0,0,0)":(s.length?s:l.length?l:n).shift());if(!r)for(r=t.split(Ie),a=r.length-1;u<a;u++)o+=r[u]+l[u];return o+r[a]},Ie=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Te)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Pe=/hsl[a]?\(/,Re=function(t){var e,n=t.join(" ");if(Ie.lastIndex=0,Ie.test(n))return e=Pe.test(n),t[1]=Oe(t[1],e),t[0]=Oe(t[0],e,Me(t[1])),!0},De=function(){var t,e,n,i,r,s,a=Date.now,o=500,l=33,f=a(),p=f,_=1e3/240,v=_,g=[],y=function n(c){var u,h,d,m,y=a()-p,b=!0===c;if((y>o||y<0)&&(f+=y-l),p+=y,d=p-f,u=d-v,(u>0||b)&&(m=++i.frame,r=d-1e3*i.time,i.time=d/=1e3,v+=u+(u>=_?4:_-u),h=1),b||(t=e(n)),h)for(s=0;s<g.length;s++)g[s](d,r,m,c)};return i={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(t){return r/(1e3/(t||60))},wake:function(){d&&(!u&&P()&&(c=u=window,h=c.document||{},U.gsap=jn,(c.gsapVersions||(c.gsapVersions=[])).push(jn.version),W(H||c.GreenSockGlobals||!c.gsap&&c||{}),ke.forEach(Se)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,t&&i.sleep(),e=n||function(t){return setTimeout(t,v-1e3*i.time+1|0)},m=1,y(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(t),m=0,e=G},lagSmoothing:function(t,e){o=t||1/0,l=Math.min(e||33,o)},fps:function(t){_=1e3/(t||240),v=1e3*i.time+_},add:function(t,e,n){var r=e?function(e,n,s,a){t(e,n,s,a),i.remove(r)}:t;return i.remove(t),g[n?"unshift":"push"](r),Ne(),r},remove:function(t,e){~(e=g.indexOf(t))&&g.splice(e,1)&&s>=e&&s--},_listeners:g},i}(),Ne=function(){return!m&&De.wake()},Le={},Be=/^[\d.\-M][\d.\-,\s]/,Ve=/["']/g,ze=function(t){for(var e,n,i,r={},s=t.substr(1,t.length-3).split(":"),a=s[0],o=1,l=s.length;o<l;o++)n=s[o],e=o!==l-1?n.lastIndexOf(","):n.length,i=n.substr(0,e),r[a]=isNaN(i)?i.replace(Ve,"").trim():+i,a=n.substr(e+1).trim();return r},je=function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<n?t.indexOf(")",n+1):n)},Fe=function(t){var e=(t+"").split("("),n=Le[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[ze(e[1])]:je(t).split(",").map(vt)):Le._CE&&Be.test(t)?Le._CE("",t):n},qe=function(t){return function(e){return 1-t(1-e)}},Ue=function t(e,n){var i,r=e._first;while(r)r instanceof Ke?t(r,n):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===n||(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},He=function(t,e){return t&&(A(t)?t:Le[t]||Fe(t))||e},We=function(t,e,n,i){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,s={easeIn:e,easeOut:n,easeInOut:i};return ut(t,(function(t){for(var e in Le[t]=U[t]=s,Le[r=t.toLowerCase()]=n,s)Le[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Le[t+"."+e]=s[e]})),s},Xe=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},$e=function t(e,n,i){var r=n>=1?n:1,s=(i||(e?.3:.45))/(n<1?n:1),a=s/b*(Math.asin(1/r)||0),o=function(t){return 1===t?1:r*Math.pow(2,-10*t)*C((t-a)*s)+1},l="out"===e?o:"in"===e?function(t){return 1-o(1-t)}:Xe(o);return s=b/s,l.config=function(n,i){return t(e,n,i)},l},Ye=function t(e,n){void 0===n&&(n=1.70158);var i=function(t){return t?--t*t*((n+1)*t+n)+1:0},r="out"===e?i:"in"===e?function(t){return 1-i(1-t)}:Xe(i);return r.config=function(n){return t(e,n)},r};ut("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;We(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Le.Linear.easeNone=Le.none=Le.Linear.easeIn,We("Elastic",$e("in"),$e("out"),$e()),function(t,e){var n=1/e,i=2*n,r=2.5*n,s=function(s){return s<n?t*s*s:s<i?t*Math.pow(s-1.5/e,2)+.75:s<r?t*(s-=2.25/e)*s+.9375:t*Math.pow(s-2.625/e,2)+.984375};We("Bounce",(function(t){return 1-s(1-t)}),s)}(7.5625,2.75),We("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),We("Circ",(function(t){return-(k(1-t*t)-1)})),We("Sine",(function(t){return 1===t?1:1-S(t*w)})),We("Back",Ye("in"),Ye("out"),Ye()),Le.SteppedEase=Le.steps=U.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,i=t+(e?0:1),r=e?1:0,s=1-y;return function(t){return((i*Qt(0,s,t)|0)+r)*n}}},v.ease=Le["quad.out"],ut("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return at+=t+","+t+"Params,"}));var Ge=function(t,e){this.id=x++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:ct,this.set=e?e.getSetter:vn},Ze=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Xt(this,+t.duration,1,1),this.data=t.data,o&&(this._ctx=o,o.data.push(this)),m||De.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Xt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Ne(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){Bt(this,t),!n._dp||n.parent||Vt(n,this);while(n&&n.parent)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&zt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===y||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),_t(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Rt(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Rt(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Dt(this._tTime,n)+1:1},e.timeScale=function(t,e){if(!arguments.length)return this._rts===-y?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?Nt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-y?0:this._rts,this.totalTime(Qt(-Math.abs(this._delay),this._tDur,n),!1!==e),Lt(this),Ot(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ne(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==y&&(this._tTime-=y)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&zt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(I(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Nt(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=Q);var e=a;return a=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),a=e,this},e.globalTime=function(t){var e=this,n=arguments.length?t:e.rawTime();while(e)n=e._start+n/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,$t(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,$t(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Gt(this,t),I(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,I(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-y:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-y,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-y))},e.eventCallback=function(t,e,n){var i=this.vars;return arguments.length>1?(e?(i[t]=e,n&&(i[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},e.then=function(t){var e=this;return new Promise((function(n){var i=A(t)?t:gt,r=function(){var t=e.then;e.then=null,A(i)&&(i=i(e))&&(i.then||i===e)&&(e.then=t),n(i),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?r():e._prom=r}))},e.kill=function(){xe(this)},t}();yt(Ze.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-y,_prom:0,_ps:!1,_rts:1});var Ke=function(t){function e(e,n){var r;return void 0===e&&(e={}),r=t.call(this,e)||this,r.labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=I(e.sortChildren),l&&zt(e.parent||l,i(r),n),e.reversed&&r.reverse(),e.paused&&r.paused(!0),e.scrollTrigger&&jt(i(r),e.scrollTrigger),r}r(e,t);var n=e.prototype;return n.to=function(t,e,n){return Zt(0,arguments,this),this},n.from=function(t,e,n){return Zt(1,arguments,this),this},n.fromTo=function(t,e,n,i){return Zt(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,St(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new dn(t,e,Gt(this,n),1),this},n.call=function(t,e,n){return zt(this,dn.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,i,r,s,a){return n.duration=e,n.stagger=n.stagger||i,n.onComplete=s,n.onCompleteParams=a,n.parent=this,new dn(t,n,Gt(this,r)),this},n.staggerFrom=function(t,e,n,i,r,s,a){return n.runBackwards=1,St(n).immediateRender=I(n.immediateRender),this.staggerTo(t,e,n,i,r,s,a)},n.staggerFromTo=function(t,e,n,i,r,s,a,o){return i.startAt=n,St(i).immediateRender=I(i.immediateRender),this.staggerTo(t,e,i,r,s,a,o)},n.render=function(t,e,n){var i,r,s,o,c,u,h,d,f,p,m,_,v=this._time,g=this._dirty?this.totalDuration():this._tDur,b=this._dur,w=t<=0?0:dt(t),x=this._zTime<0!==t<0&&(this._initted||!b);if(this!==l&&w>g&&t>=0&&(w=g),w!==this._tTime||n||x){if(v!==this._time&&b&&(w+=this._time-v,t+=this._time-v),i=w,f=this._start,d=this._ts,u=!d,x&&(b||(v=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(m=this._yoyo,c=b+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*c+t,e,n);if(i=dt(w%c),w===g?(o=this._repeat,i=b):(o=~~(w/c),o&&o===w/c&&(i=b,o--),i>b&&(i=b)),p=Dt(this._tTime,c),!v&&this._tTime&&p!==o&&this._tTime-p*c-this._dur<=0&&(p=o),m&&1&o&&(i=b-i,_=1),o!==p&&!this._lock){var k=m&&1&p,S=k===(m&&1&o);if(o<p&&(k=!k),v=k?0:w%b?b:w,this._lock=1,this.render(v||(_?0:dt(o*c)),e,!b)._lock=0,this._tTime=w,!e&&this.parent&&we(this,"onRepeat"),this.vars.repeatRefresh&&!_&&(this.invalidate()._lock=1),v&&v!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(b=this._dur,g=this._tDur,S&&(this._lock=2,v=k?b:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!_&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;Ue(this,_)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=Wt(this,dt(v),dt(i)),h&&(w-=i-(i=h._start))),this._tTime=w,this._time=i,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,v=0),!v&&i&&!e&&!o&&(we(this,"onStart"),this._tTime!==w))return this;if(i>=v&&t>=0){r=this._first;while(r){if(s=r._next,(r._act||i>=r._start)&&r._ts&&h!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!u){h=0,s&&(w+=this._zTime=-y);break}}r=s}}else{r=this._last;var C=t<0?t:i;while(r){if(s=r._prev,(r._act||C<=r._end)&&r._ts&&h!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(C-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(C-r._start)*r._ts,e,n||a&&(r._initted||r._startAt)),i!==this._time||!this._ts&&!u){h=0,s&&(w+=this._zTime=C?-y:y);break}}r=s}}if(h&&!e&&(this.pause(),h.render(i>=v?0:-y)._zTime=i>=v?1:-1,this._ts))return this._start=f,Lt(this),this.render(t,e,n);this._onUpdate&&!e&&we(this,"onUpdate",!0),(w===g&&this._tTime>=this.totalDuration()||!w&&v)&&(f!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((t||!b)&&(w===g&&this._ts>0||!w&&this._ts<0)&&Et(this,1),e||t<0&&!v||!w&&!v&&g||(we(this,w===g&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(w<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(E(e)||(e=Gt(this,e,t)),!(t instanceof Ze)){if(N(t))return t.forEach((function(t){return n.add(t,e)})),this;if(T(t))return this.addLabel(t,e);if(!A(t))return this;t=dn.delayedCall(0,t)}return this!==t?zt(this,t,e):this},n.getChildren=function(t,e,n,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=-g);var r=[],s=this._first;while(s)s._start>=i&&(s instanceof dn?e&&r.push(s):(n&&r.push(s),t&&r.push.apply(r,s.getChildren(!0,e,n)))),s=s._next;return r},n.getById=function(t){var e=this.getChildren(1,1,1),n=e.length;while(n--)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return T(t)?this.removeLabel(t):A(t)?this.killTweensOf(t):(At(this,t),t===this._recent&&(this._recent=this._last),Mt(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=dt(De.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Gt(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var i=dn.delayedCall(0,e||G,n);return i.data="isPause",this._hasPause=1,zt(this,i,Gt(this,t))},n.removePause=function(t){var e=this._first;t=Gt(this,t);while(e)e._start===t&&"isPause"===e.data&&Et(e),e=e._next},n.killTweensOf=function(t,e,n){var i=this.getTweensOf(t,n),r=i.length;while(r--)Qe!==i[r]&&i[r].kill(t,e);return this},n.getTweensOf=function(t,e){var n,i=[],r=re(t),s=this._first,a=E(e);while(s)s instanceof dn?pt(s._targets,r)&&(a?(!Qe||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&i.push(s):(n=s.getTweensOf(r,e)).length&&i.push.apply(i,n),s=s._next;return i},n.tweenTo=function(t,e){e=e||{};var n,i=this,r=Gt(i,t),s=e,a=s.startAt,o=s.onStart,l=s.onStartParams,c=s.immediateRender,u=dn.to(i,yt({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(a&&"time"in a?a.time:i._time))/i.timeScale())||y,onStart:function(){if(i.pause(),!n){var t=e.duration||Math.abs((r-(a&&"time"in a?a.time:i._time))/i.timeScale());u._dur!==t&&Xt(u,t,0,1).render(u._time,!0,!0),n=1}o&&o.apply(u,l||[])}},e));return c?u.render(0):u},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,yt({startAt:{time:Gt(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),be(this,Gt(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),be(this,Gt(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+y)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);var i,r=this._first,s=this.labels;while(r)r._start>=n&&(r._start+=t,r._end+=t),r=r._next;if(e)for(i in s)s[i]>=n&&(s[i]+=t);return Mt(this)},n.invalidate=function(e){var n=this._first;this._lock=0;while(n)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);var e,n=this._first;while(n)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Mt(this)},n.totalDuration=function(t){var e,n,i,r=0,s=this,a=s._last,o=g;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){i=s.parent;while(a)e=a._prev,a._dirty&&a.totalDuration(),n=a._start,n>o&&s._sort&&a._ts&&!s._lock?(s._lock=1,zt(s,a,n-a._delay,1)._lock=0):o=n,n<0&&a._ts&&(r-=n,(!i&&!s._dp||i&&i.smoothChildTiming)&&(s._start+=n/s._ts,s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),o=0),a._end>r&&a._ts&&(r=a._end),a=e;Xt(s,s===l&&s._time>r?s._time:r,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(t){if(l._ts&&(_t(l,Nt(t,l)),f=De.frame),De.frame>=rt){rt+=_.autoSleep||120;var e=l._first;if((!e||!e._ts)&&_.autoSleep&&De._listeners.length<2){while(e&&!e._ts)e=e._next;e||De.sleep()}}},e}(Ze);yt(Ke.prototype,{_lock:0,_hasPause:0,_forcing:0});var Qe,Je,tn=function(t,e,n,i,r,s,a){var o,l,c,u,h,d,f,p,m=new Tn(this._pt,t,e,0,1,bn,null,r),_=0,v=0;m.b=n,m.e=i,n+="",i+="",(f=~i.indexOf("random("))&&(i=ve(i)),s&&(p=[n,i],s(p,t,e),n=p[0],i=p[1]),l=n.match(z)||[];while(o=z.exec(i))u=o[0],h=i.substring(_,o.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(d=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:d,c:"="===u.charAt(1)?ft(d,u)-d:parseFloat(u)-d,m:c&&c<4?Math.round:0},_=z.lastIndex);return m.c=_<i.length?i.substring(_,i.length):"",m.fp=a,(j.test(i)||f)&&(m.e=0),this._pt=m,m},en=function(t,e,n,i,r,s,a,o,l,c){A(i)&&(i=i(r||0,t,s));var u,h=t[e],d="get"!==n?n:A(h)?l?t[e.indexOf("set")||!A(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():h,f=A(h)?l?mn:pn:fn;if(T(i)&&(~i.indexOf("random(")&&(i=ve(i)),"="===i.charAt(1)&&(u=ft(d,i)+(Jt(d)||0),(u||0===u)&&(i=u))),!c||d!==i||Je)return isNaN(d*i)||""===i?(!h&&!(e in t)&&X(e,i),tn.call(this,t,e,d,i,f,o||_.stringFilter,l)):(u=new Tn(this._pt,t,e,+d||0,i-(d||0),"boolean"===typeof h?yn:gn,0,f),l&&(u.fp=l),a&&u.modifier(a,this,t),this._pt=u)},nn=function(t,e,n,i,r){if(A(t)&&(t=cn(t,r,e,n,i)),!O(t)||t.style&&t.nodeType||N(t)||D(t))return T(t)?cn(t,r,e,n,i):t;var s,a={};for(s in t)a[s]=cn(t[s],r,e,n,i);return a},rn=function(t,e,n,i,r,s){var a,o,l,c;if(nt[t]&&!1!==(a=new nt[t]).init(r,a.rawVars?e[t]:nn(e[t],i,r,s,n),n,i,s)&&(n._pt=o=new Tn(n._pt,r,t,0,1,a.render,a,0,a.priority),n!==p)){l=n._ptLookup[n._targets.indexOf(r)],c=a._props.length;while(c--)l[a._props[c]]=o}return a},sn=function t(e,n,i){var r,o,c,u,h,d,f,p,m,_,b,w,x,k=e.vars,S=k.ease,C=k.startAt,T=k.immediateRender,A=k.lazy,E=k.onUpdate,M=k.runBackwards,O=k.yoyoEase,P=k.keyframes,R=k.autoRevert,D=e._dur,N=e._startAt,L=e._targets,B=e.parent,V=B&&"nested"===B.data?B.vars.targets:L,z="auto"===e._overwrite&&!s,j=e.timeline;if(j&&(!P||!S)&&(S="none"),e._ease=He(S,v.ease),e._yEase=O?qe(He(!0===O?S:O,v.ease)):0,O&&e._yoyo&&!e._repeat&&(O=e._yEase,e._yEase=e._ease,e._ease=O),e._from=!j&&!!k.runBackwards,!j||P&&!k.stagger){if(p=L[0]?lt(L[0]).harness:0,w=p&&k[p.prop],r=kt(k,J),N&&(N._zTime<0&&N.progress(1),n<0&&M&&T&&!R?N.render(-1,!0):N.revert(M&&D?K:Z),N._lazy=0),C){if(Et(e._startAt=dn.set(L,yt({data:"isStart",overwrite:!1,parent:B,immediateRender:!0,lazy:!N&&I(A),startAt:null,delay:0,onUpdate:E&&function(){return we(e,"onUpdate")},stagger:0},C))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(a||!T&&!R)&&e._startAt.revert(K),T&&D&&n<=0&&i<=0)return void(n&&(e._zTime=n))}else if(M&&D&&!N)if(n&&(T=!1),c=yt({overwrite:!1,data:"isFromStart",lazy:T&&!N&&I(A),immediateRender:T,stagger:0,parent:B},r),w&&(c[p.prop]=w),Et(e._startAt=dn.set(L,c)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(a?e._startAt.revert(K):e._startAt.render(-1,!0)),e._zTime=n,T){if(!n)return}else t(e._startAt,y,y);for(e._pt=e._ptCache=0,A=D&&I(A)||A&&!D,o=0;o<L.length;o++){if(h=L[o],f=h._gsap||ot(L)[o]._gsap,e._ptLookup[o]=_={},et[f.id]&&tt.length&&mt(),b=V===L?o:V.indexOf(h),p&&!1!==(m=new p).init(h,w||r,e,b,V)&&(e._pt=u=new Tn(e._pt,h,m.name,0,1,m.render,m,0,m.priority),m._props.forEach((function(t){_[t]=u})),m.priority&&(d=1)),!p||w)for(c in r)nt[c]&&(m=rn(c,r,e,b,h,V))?m.priority&&(d=1):_[c]=u=en.call(e,h,c,"get",r[c],b,V,0,k.stringFilter);e._op&&e._op[o]&&e.kill(h,e._op[o]),z&&e._pt&&(Qe=e,l.killTweensOf(h,_,e.globalTime(n)),x=!e.parent,Qe=0),e._pt&&A&&(et[f.id]=1)}d&&Cn(e),e._onInit&&e._onInit(e)}e._onUpdate=E,e._initted=(!e._op||e._pt)&&!x,P&&n<=0&&j.render(g,!0,!0)},an=function(t,e,n,i,r,s,a,o){var l,c,u,h,d=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!d){d=t._ptCache[e]=[],u=t._ptLookup,h=t._targets.length;while(h--){if(l=u[h][e],l&&l.d&&l.d._pt){l=l.d._pt;while(l&&l.p!==e&&l.fp!==e)l=l._next}if(!l)return Je=1,t.vars[e]="+=0",sn(t,a),Je=0,o?$(e+" not eligible for reset"):1;d.push(l)}}h=d.length;while(h--)c=d[h],l=c._pt||c,l.s=!i&&0!==i||r?l.s+(i||0)+s*l.c:i,l.c=n-l.s,c.e&&(c.e=ht(n)+Jt(c.e)),c.b&&(c.b=l.s+Jt(c.b))},on=function(t,e){var n,i,r,s,a=t[0]?lt(t[0]).harness:0,o=a&&a.aliases;if(!o)return e;for(i in n=wt({},e),o)if(i in n){s=o[i].split(","),r=s.length;while(r--)n[s[r]]=n[i]}return n},ln=function(t,e,n,i){var r,s,a=e.ease||i||"power1.inOut";if(N(e))s=n[t]||(n[t]=[]),e.forEach((function(t,n){return s.push({t:n/(e.length-1)*100,v:t,e:a})}));else for(r in e)s=n[r]||(n[r]=[]),"ease"===r||s.push({t:parseFloat(t),v:e[r],e:a})},cn=function(t,e,n,i,r){return A(t)?t.call(e,n,i,r):T(t)&&~t.indexOf("random(")?ve(t):t},un=at+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",hn={};ut(un+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return hn[t]=1}));var dn=function(t){function e(e,n,r,a){var o;"number"===typeof n&&(r.duration=n,n=r,r=null),o=t.call(this,a?n:St(n))||this;var c,u,h,d,f,p,m,v,g=o.vars,b=g.duration,w=g.delay,x=g.immediateRender,k=g.stagger,S=g.overwrite,C=g.keyframes,T=g.defaults,A=g.scrollTrigger,M=g.yoyoEase,P=n.parent||l,L=(N(e)||D(e)?E(e[0]):"length"in n)?[e]:re(e);if(o._targets=L.length?ot(L):$("GSAP target "+e+" not found. https://gsap.com",!_.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=S,C||k||R(b)||R(w)){if(n=o.vars,c=o.timeline=new Ke({data:"nested",defaults:T||{},targets:P&&"nested"===P.data?P.vars.targets:L}),c.kill(),c.parent=c._dp=i(o),c._start=0,k||R(b)||R(w)){if(d=L.length,m=k&&oe(k),O(k))for(f in k)~un.indexOf(f)&&(v||(v={}),v[f]=k[f]);for(u=0;u<d;u++)h=kt(n,hn),h.stagger=0,M&&(h.yoyoEase=M),v&&wt(h,v),p=L[u],h.duration=+cn(b,i(o),u,p,L),h.delay=(+cn(w,i(o),u,p,L)||0)-o._delay,!k&&1===d&&h.delay&&(o._delay=w=h.delay,o._start+=w,h.delay=0),c.to(p,h,m?m(u,p,L):0),c._ease=Le.none;c.duration()?b=w=0:o.timeline=0}else if(C){St(yt(c.vars.defaults,{ease:"none"})),c._ease=He(C.ease||n.ease||"none");var B,V,z,j=0;if(N(C))C.forEach((function(t){return c.to(L,t,">")})),c.duration();else{for(f in h={},C)"ease"===f||"easeEach"===f||ln(f,C[f],h,C.easeEach);for(f in h)for(B=h[f].sort((function(t,e){return t.t-e.t})),j=0,u=0;u<B.length;u++)V=B[u],z={ease:V.e,duration:(V.t-(u?B[u-1].t:0))/100*b},z[f]=V.v,c.to(L,z,j),j+=z.duration;c.duration()<b&&c.to({},{duration:b-c.duration()})}}b||o.duration(b=c.duration())}else o.timeline=0;return!0!==S||s||(Qe=i(o),l.killTweensOf(L),Qe=0),zt(P,i(o),r),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(x||!b&&!C&&o._start===dt(P._time)&&I(x)&&Pt(i(o))&&"nested"!==P.data)&&(o._tTime=-y,o.render(Math.max(0,-w)||0)),A&&jt(i(o),A),o}r(e,t);var n=e.prototype;return n.render=function(t,e,n){var i,r,s,a,o,l,c,u,h,d=this._time,f=this._tDur,p=this._dur,m=t<0,_=t>f-y&&!m?f:t<y?0:t;if(p){if(_!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(i=_,u=this.timeline,this._repeat){if(a=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*a+t,e,n);if(i=dt(_%a),_===f?(s=this._repeat,i=p):(s=~~(_/a),s&&s===dt(_/a)&&(i=p,s--),i>p&&(i=p)),l=this._yoyo&&1&s,l&&(h=this._yEase,i=p-i),o=Dt(this._tTime,a),i===d&&!n&&this._initted&&s===o)return this._tTime=_,this;s!==o&&(u&&this._yEase&&Ue(u,l),this.vars.repeatRefresh&&!l&&!this._lock&&this._time!==a&&this._initted&&(this._lock=n=1,this.render(dt(a*s),!0).invalidate()._lock=0))}if(!this._initted){if(Ft(this,m?t:i,n,e,_))return this._tTime=0,this;if(d!==this._time&&(!n||!this.vars.repeatRefresh||s===o))return this;if(p!==this._dur)return this.render(t,e,n)}if(this._tTime=_,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(i/p),this._from&&(this.ratio=c=1-c),i&&!d&&!e&&!s&&(we(this,"onStart"),this._tTime!==_))return this;r=this._pt;while(r)r.r(c,r.d),r=r._next;u&&u.render(t<0?t:u._dur*u._ease(i/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(m&&It(this,t,e,n),we(this,"onUpdate")),this._repeat&&s!==o&&this.vars.onRepeat&&!e&&this.parent&&we(this,"onRepeat"),_!==this._tDur&&_||this._tTime!==_||(m&&!this._onUpdate&&It(this,t,!0,!0),(t||!p)&&(_===this._tDur&&this._ts>0||!_&&this._ts<0)&&Et(this,1),e||m&&!d||!(_||d||l)||(we(this,_===f?"onComplete":"onReverseComplete",!0),this._prom&&!(_<f&&this.timeScale()>0)&&this._prom()))}}else Ht(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,i,r){m||De.wake(),this._ts||this.play();var s,a=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||sn(this,a),s=this._ease(a/this._dur),an(this,t,e,n,i,s,a,r)?this.resetTo(t,e,n,i,1):(Bt(this,0),this.parent||Tt(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!t&&(!e||"all"===e))return this._lazy=this._pt=0,this.parent?xe(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Qe&&!0!==Qe.vars.overwrite)._first||xe(this),this.parent&&n!==this.timeline.totalDuration()&&Xt(this,this._dur*this.timeline._tDur/n,0,1),this}var i,r,s,a,o,l,c,u=this._targets,h=t?re(t):u,d=this._ptLookup,f=this._pt;if((!e||"all"===e)&&Ct(u,h))return"all"===e&&(this._pt=0),xe(this);i=this._op=this._op||[],"all"!==e&&(T(e)&&(o={},ut(e,(function(t){return o[t]=1})),e=o),e=on(u,e)),c=u.length;while(c--)if(~h.indexOf(u[c]))for(o in r=d[c],"all"===e?(i[c]=e,a=r,s={}):(s=i[c]=i[c]||{},a=e),a)l=r&&r[o],l&&("kill"in l.d&&!0!==l.d.kill(o)||At(this,l,"_pt"),delete r[o]),"all"!==s&&(s[o]=1);return this._initted&&!this._pt&&f&&xe(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return Zt(1,arguments)},e.delayedCall=function(t,n,i,r){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:r})},e.fromTo=function(t,e,n){return Zt(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return l.killTweensOf(t,e,n)},e}(Ze);yt(dn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ut("staggerTo,staggerFrom,staggerFromTo",(function(t){dn[t]=function(){var e=new Ke,n=ee.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var fn=function(t,e,n){return t[e]=n},pn=function(t,e,n){return t[e](n)},mn=function(t,e,n,i){return t[e](i.fp,n)},_n=function(t,e,n){return t.setAttribute(e,n)},vn=function(t,e){return A(t[e])?pn:M(t[e])&&t.setAttribute?_n:fn},gn=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},yn=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},bn=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{while(n)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},wn=function(t,e){var n=e._pt;while(n)n.r(t,n.d),n=n._next},xn=function(t,e,n,i){var r,s=this._pt;while(s)r=s._next,s.p===i&&s.modifier(t,e,n),s=r},kn=function(t){var e,n,i=this._pt;while(i)n=i._next,i.p===t&&!i.op||i.op===t?At(this,i,"_pt"):i.dep||(e=1),i=n;return!e},Sn=function(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)},Cn=function(t){var e,n,i,r,s=t._pt;while(s){e=s._next,n=i;while(n&&n.pr>s.pr)n=n._next;(s._prev=n?n._prev:r)?s._prev._next=s:i=s,(s._next=n)?n._prev=s:r=s,s=e}t._pt=i},Tn=function(){function t(t,e,n,i,r,s,a,o,l){this.t=e,this.s=i,this.c=r,this.p=n,this.r=s||gn,this.d=a||this,this.set=o||fn,this.pr=l||0,this._next=t,t&&(t._prev=this)}var e=t.prototype;return e.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=Sn,this.m=t,this.mt=n,this.tween=e},t}();ut(at+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return J[t]=1})),U.TweenMax=U.TweenLite=dn,U.TimelineLite=U.TimelineMax=Ke,l=new Ke({sortChildren:!1,defaults:v,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_.stringFilter=Re;var An=[],En={},Mn=[],On=0,In=0,Pn=function(t){return(En[t]||Mn).map((function(t){return t()}))},Rn=function(){var t=Date.now(),e=[];t-On>2&&(Pn("matchMediaInit"),An.forEach((function(t){var n,i,r,s,a=t.queries,o=t.conditions;for(i in a)n=c.matchMedia(a[i]).matches,n&&(r=1),n!==o[i]&&(o[i]=n,s=1);s&&(t.revert(),r&&e.push(t))})),Pn("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),On=t,Pn("matchMedia"))},Dn=function(){function t(t,e){this.selector=e&&se(e),this.data=[],this._r=[],this.isReverted=!1,this.id=In++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){A(t)&&(n=e,e=t,t=A);var i=this,r=function(){var t,r=o,s=i.selector;return r&&r!==i&&r.data.push(i),n&&(i.selector=se(n)),o=i,t=e.apply(i,arguments),A(t)&&i._r.push(t),o=r,i.selector=s,i.isReverted=!1,t};return i.last=r,t===A?r(i,(function(t){return i.add(null,t)})):t?i[t]=r:r},e.ignore=function(t){var e=o;o=null,t(this),o=e},e.getTweens=function(){var e=[];return this.data.forEach((function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof dn&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t?function(){var e,i=n.getTweens(),r=n.data.length;while(r--)e=n.data[r],"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return i.splice(i.indexOf(t),1)})));i.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t:t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),r=n.data.length;while(r--)e=n.data[r],e instanceof Ke?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof dn)&&e.revert&&e.revert(t);n._r.forEach((function(e){return e(t,n)})),n.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e){var i=An.length;while(i--)An[i].id===this.id&&An.splice(i,1)}},e.revert=function(t){this.kill(t||{})},t}(),Nn=function(){function t(t){this.contexts=[],this.scope=t,o&&o.data.push(this)}var e=t.prototype;return e.add=function(t,e,n){O(t)||(t={matches:t});var i,r,s,a=new Dn(0,n||this.scope),l=a.conditions={};for(r in o&&!a.selector&&(a.selector=o.selector),this.contexts.push(a),e=a.add("onMatch",e),a.queries=t,t)"all"===r?s=1:(i=c.matchMedia(t[r]),i&&(An.indexOf(a)<0&&An.push(a),(l[r]=i.matches)&&(s=1),i.addListener?i.addListener(Rn):i.addEventListener("change",Rn)));return s&&e(a,(function(t){return a.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),Ln={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return Se(t)}))},timeline:function(t){return new Ke(t)},getTweensOf:function(t,e){return l.getTweensOf(t,e)},getProperty:function(t,e,n,i){T(t)&&(t=re(t)[0]);var r=lt(t||{}).get,s=n?gt:vt;return"native"===n&&(n=""),t?e?s((nt[e]&&nt[e].get||r)(t,e,n,i)):function(e,n,i){return s((nt[e]&&nt[e].get||r)(t,e,n,i))}:t},quickSetter:function(t,e,n){if(t=re(t),t.length>1){var i=t.map((function(t){return jn.quickSetter(t,e,n)})),r=i.length;return function(t){var e=r;while(e--)i[e](t)}}t=t[0]||{};var s=nt[e],a=lt(t),o=a.harness&&(a.harness.aliases||{})[e]||e,l=s?function(e){var i=new s;p._pt=0,i.init(t,n?e+n:e,p,0,[t]),i.render(1,i),p._pt&&wn(1,p)}:a.set(t,o);return s?l:function(e){return l(t,o,n?e+n:e,a,1)}},quickTo:function(t,e,n){var i,r=jn.to(t,wt((i={},i[e]="+=0.1",i.paused=!0,i),n||{})),s=function(t,n,i){return r.resetTo(e,t,n,i)};return s.tween=r,s},isTweening:function(t){return l.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=He(t.ease,v.ease)),xt(v,t||{})},config:function(t){return xt(_,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,r=t.defaults,s=t.extendTimeline;(i||"").split(",").forEach((function(t){return t&&!nt[t]&&!U[t]&&$(e+" effect requires "+t+" plugin.")})),it[e]=function(t,e,i){return n(re(t),yt(e||{},r),i)},s&&(Ke.prototype[e]=function(t,n,i){return this.add(it[e](t,O(n)?n:(i=n)&&{},this),i)})},registerEase:function(t,e){Le[t]=He(e)},parseEase:function(t,e){return arguments.length?He(t,e):Le},getById:function(t){return l.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,i,r=new Ke(t);r.smoothChildTiming=I(t.smoothChildTiming),l.remove(r),r._dp=0,r._time=r._tTime=l._time,n=l._first;while(n)i=n._next,!e&&!n._dur&&n instanceof dn&&n.vars.onComplete===n._targets[0]||zt(r,n,n._start-n._delay),n=i;return zt(l,r,0),r},context:function(t,e){return t?new Dn(t,e):o},matchMedia:function(t){return new Nn(t)},matchMediaRefresh:function(){return An.forEach((function(t){var e,n,i=t.conditions;for(n in i)i[n]&&(i[n]=!1,e=1);e&&t.revert()}))||Rn()},addEventListener:function(t,e){var n=En[t]||(En[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=En[t],i=n&&n.indexOf(e);i>=0&&n.splice(i,1)},utils:{wrap:me,wrapYoyo:_e,distribute:oe,random:ue,snap:ce,normalize:fe,getUnit:Jt,clamp:te,splitColor:Ee,toArray:re,selector:se,mapRange:ge,pipe:he,unitize:de,interpolate:ye,shuffle:ae},install:W,effects:it,ticker:De,updateRoot:Ke.updateRoot,plugins:nt,globalTimeline:l,core:{PropTween:Tn,globals:Y,Tween:dn,Timeline:Ke,Animation:Ze,getCache:lt,_removeLinkedListItem:At,reverting:function(){return a},context:function(t){return t&&o&&(o.data.push(t),t._ctx=o),o},suppressOverwrites:function(t){return s=t}}};ut("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Ln[t]=dn[t]})),De.add(Ke.updateRoot),p=Ln.to({},{duration:0});var Bn=function(t,e){var n=t._pt;while(n&&n.p!==e&&n.op!==e&&n.fp!==e)n=n._next;return n},Vn=function(t,e){var n,i,r,s=t._targets;for(n in e){i=s.length;while(i--)r=t._ptLookup[i][n],r&&(r=r.d)&&(r._pt&&(r=Bn(r,n)),r&&r.modifier&&r.modifier(e[n],t,s[i],n))}},zn=function(t,e){return{name:t,rawVars:1,init:function(t,n,i){i._onInit=function(t){var i,r;if(T(n)&&(i={},ut(n,(function(t){return i[t]=1})),n=i),e){for(r in i={},n)i[r]=e(n[r]);n=i}Vn(t,n)}}}},jn=Ln.registerPlugin({name:"attr",init:function(t,e,n,i,r){var s,a,o;for(s in this.tween=n,e)o=t.getAttribute(s)||"",a=this.add(t,"setAttribute",(o||0)+"",e[s],i,r,0,0,s),a.op=s,a.b=o,this._props.push(s)},render:function(t,e){var n=e._pt;while(n)a?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",init:function(t,e){var n=e.length;while(n--)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},zn("roundProps",le),zn("modifiers"),zn("snap",ce))||Ln;dn.version=Ke.version=jn.version="3.12.5",d=1,P()&&Ne();Le.Power0,Le.Power1,Le.Power2,Le.Power3,Le.Power4,Le.Linear,Le.Quad,Le.Cubic,Le.Quart,Le.Quint,Le.Strong,Le.Elastic,Le.Back,Le.SteppedEase,Le.Bounce,Le.Sine,Le.Expo,Le.Circ;var Fn,qn,Un,Hn,Wn,Xn,$n,Yn,Gn=function(){return"undefined"!==typeof window},Zn={},Kn=180/Math.PI,Qn=Math.PI/180,Jn=Math.atan2,ti=1e8,ei=/([A-Z])/g,ni=/(left|right|width|margin|padding|x)/i,ii=/[\s,\(]\S/,ri={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},si=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},ai=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},oi=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},li=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},ci=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},ui=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},hi=function(t,e,n){return t.style[e]=n},di=function(t,e,n){return t.style.setProperty(e,n)},fi=function(t,e,n){return t._gsap[e]=n},pi=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},mi=function(t,e,n,i,r){var s=t._gsap;s.scaleX=s.scaleY=n,s.renderTransform(r,s)},_i=function(t,e,n,i,r){var s=t._gsap;s[e]=n,s.renderTransform(r,s)},vi="transform",gi=vi+"Origin",yi=function t(e,n){var i=this,r=this.target,s=r.style,a=r._gsap;if(e in Zn&&s){if(this.tfm=this.tfm||{},"transform"===e)return ri.transform.split(",").forEach((function(e){return t.call(i,e,n)}));if(e=ri[e]||e,~e.indexOf(",")?e.split(",").forEach((function(t){return i.tfm[t]=Bi(r,t)})):this.tfm[e]=a.x?a[e]:Bi(r,e),e===gi&&(this.tfm.zOrigin=a.zOrigin),this.props.indexOf(vi)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(gi,n,"")),e=vi}(s||n)&&this.props.push(e,n,s[e])},bi=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},wi=function(){var t,e,n=this.props,i=this.target,r=i.style,s=i._gsap;for(t=0;t<n.length;t+=3)n[t+1]?i[n[t]]=n[t+2]:n[t+2]?r[n[t]]=n[t+2]:r.removeProperty("--"===n[t].substr(0,2)?n[t]:n[t].replace(ei,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)s[e]=this.tfm[e];s.svg&&(s.renderTransform(),i.setAttribute("data-svg-origin",this.svgo||"")),t=$n(),t&&t.isStart||r[vi]||(bi(r),s.zOrigin&&r[gi]&&(r[gi]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},xi=function(t,e){var n={target:t,props:[],revert:wi,save:yi};return t._gsap||jn.core.getCache(t),e&&e.split(",").forEach((function(t){return n.save(t)})),n},ki=function(t,e){var n=qn.createElementNS?qn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):qn.createElement(t);return n&&n.style?n:qn.createElement(t)},Si=function t(e,n,i){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(ei,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&t(e,Ti(n)||n,1)||""},Ci="O,Moz,ms,Ms,Webkit".split(","),Ti=function(t,e,n){var i=e||Wn,r=i.style,s=5;if(t in r&&!n)return t;t=t.charAt(0).toUpperCase()+t.substr(1);while(s--&&!(Ci[s]+t in r));return s<0?null:(3===s?"ms":s>=0?Ci[s]:"")+t},Ai=function(){Gn()&&window.document&&(Fn=window,qn=Fn.document,Un=qn.documentElement,Wn=ki("div")||{style:{}},ki("div"),vi=Ti(vi),gi=vi+"Origin",Wn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Yn=!!Ti("perspective"),$n=jn.core.reverting,Hn=1)},Ei=function t(e){var n,i=ki("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,s=this.nextSibling,a=this.style.cssText;if(Un.appendChild(i),i.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(o){}else this._gsapBBox&&(n=this._gsapBBox());return r&&(s?r.insertBefore(this,s):r.appendChild(this)),Un.removeChild(i),this.style.cssText=a,n},Mi=function(t,e){var n=e.length;while(n--)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},Oi=function(t){var e;try{e=t.getBBox()}catch(n){e=Ei.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===Ei||(e=Ei.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Mi(t,["x","cx","x1"])||0,y:+Mi(t,["y","cy","y1"])||0,width:0,height:0}},Ii=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Oi(t))},Pi=function(t,e){if(e){var n,i=t.style;e in Zn&&e!==gi&&(e=vi),i.removeProperty?(n=e.substr(0,2),"ms"!==n&&"webkit"!==e.substr(0,6)||(e="-"+e),i.removeProperty("--"===n?e:e.replace(ei,"-$1").toLowerCase())):i.removeAttribute(e)}},Ri=function(t,e,n,i,r,s){var a=new Tn(t._pt,e,n,0,1,s?ui:ci);return t._pt=a,a.b=i,a.e=r,t._props.push(n),a},Di={deg:1,rad:1,turn:1},Ni={grid:1,flex:1},Li=function t(e,n,i,r){var s,a,o,l,c=parseFloat(i)||0,u=(i+"").trim().substr((c+"").length)||"px",h=Wn.style,d=ni.test(n),f="svg"===e.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),m=100,_="px"===r,v="%"===r;if(r===u||!c||Di[r]||Di[u])return c;if("px"!==u&&!_&&(c=t(e,n,i,"px")),l=e.getCTM&&Ii(e),(v||"%"===u)&&(Zn[n]||~n.indexOf("adius")))return s=l?e.getBBox()[d?"width":"height"]:e[p],ht(v?c/s*m:c/100*s);if(h[d?"width":"height"]=m+(_?u:r),a=~n.indexOf("adius")||"em"===r&&e.appendChild&&!f?e:e.parentNode,l&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==qn&&a.appendChild||(a=qn.body),o=a._gsap,o&&v&&o.width&&d&&o.time===De.time&&!o.uncache)return ht(c/o.width*m);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!Ni[Si(a,"display")]&&(h.position=Si(e,"position")),a===e&&(h.position="static"),a.appendChild(Wn),s=Wn[p],a.removeChild(Wn),h.position="absolute";else{var g=e.style[n];e.style[n]=m+r,s=e[p],g?e.style[n]=g:Pi(e,n)}return d&&v&&(o=lt(a),o.time=De.time,o.width=a[p]),ht(_?s*c/m:s&&c?m/s*c:0)},Bi=function(t,e,n,i){var r;return Hn||Ai(),e in ri&&"transform"!==e&&(e=ri[e],~e.indexOf(",")&&(e=e.split(",")[0])),Zn[e]&&"transform"!==e?(r=Gi(t,i),r="transformOrigin"!==e?r[e]:r.svg?r.origin:Zi(Si(t,gi))+" "+r.zOrigin+"px"):(r=t.style[e],(!r||"auto"===r||i||~(r+"").indexOf("calc("))&&(r=qi[e]&&qi[e](t,e,n)||Si(t,e)||ct(t,e)||("opacity"===e?1:0))),n&&!~(r+"").trim().indexOf(" ")?Li(t,e,r,n)+n:r},Vi=function(t,e,n,i){if(!n||"none"===n){var r=Ti(e,t,1),s=r&&Si(t,r,1);s&&s!==n?(e=r,n=s):"borderColor"===e&&(n=Si(t,"borderTopColor"))}var a,o,l,c,u,h,d,f,p,m,v,g,y=new Tn(this._pt,t.style,e,0,1,bn),b=0,w=0;if(y.b=n,y.e=i,n+="",i+="","auto"===i&&(h=t.style[e],t.style[e]=i,i=Si(t,e)||i,h?t.style[e]=h:Pi(t,e)),a=[n,i],Re(a),n=a[0],i=a[1],l=n.match(V)||[],g=i.match(V)||[],g.length){while(o=V.exec(i))d=o[0],p=i.substring(b,o.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),d!==(h=l[w++]||"")&&(c=parseFloat(h)||0,v=h.substr((c+"").length),"="===d.charAt(1)&&(d=ft(c,d)+v),f=parseFloat(d),m=d.substr((f+"").length),b=V.lastIndex-m.length,m||(m=m||_.units[e]||v,b===i.length&&(i+=m,y.e+=m)),v!==m&&(c=Li(t,e,h,m)||0),y._pt={_next:y._pt,p:p||1===w?p:",",s:c,c:f-c,m:u&&u<4||"zIndex"===e?Math.round:0});y.c=b<i.length?i.substring(b,i.length):""}else y.r="display"===e&&"none"===i?ui:ci;return j.test(i)&&(y.e=0),this._pt=y,y},zi={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ji=function(t){var e=t.split(" "),n=e[0],i=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==i&&"right"!==i||(t=n,n=i,i=t),e[0]=zi[n]||n,e[1]=zi[i]||i,e.join(" ")},Fi=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,i,r,s=e.t,a=s.style,o=e.u,l=s._gsap;if("all"===o||!0===o)a.cssText="",i=1;else{o=o.split(","),r=o.length;while(--r>-1)n=o[r],Zn[n]&&(i=1,n="transformOrigin"===n?gi:vi),Pi(s,n)}i&&(Pi(s,vi),l&&(l.svg&&s.removeAttribute("transform"),Gi(s,1),l.uncache=1,bi(a)))}},qi={clearProps:function(t,e,n,i,r){if("isFromStart"!==r.data){var s=t._pt=new Tn(t._pt,e,n,0,0,Fi);return s.u=i,s.pr=-10,s.tween=r,t._props.push(n),1}}},Ui=[1,0,0,1,0,0],Hi={},Wi=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Xi=function(t){var e=Si(t,vi);return Wi(e)?Ui:e.substr(7).match(B).map(ht)},$i=function(t,e){var n,i,r,s,a=t._gsap||lt(t),o=t.style,l=Xi(t);return a.svg&&t.getAttribute("transform")?(r=t.transform.baseVal.consolidate().matrix,l=[r.a,r.b,r.c,r.d,r.e,r.f],"1,0,0,1,0,0"===l.join(",")?Ui:l):(l!==Ui||t.offsetParent||t===Un||a.svg||(r=o.display,o.display="block",n=t.parentNode,n&&t.offsetParent||(s=1,i=t.nextElementSibling,Un.appendChild(t)),l=Xi(t),r?o.display=r:Pi(t,"display"),s&&(i?n.insertBefore(t,i):n?n.appendChild(t):Un.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Yi=function(t,e,n,i,r,s){var a,o,l,c,u=t._gsap,h=r||$i(t,!0),d=u.xOrigin||0,f=u.yOrigin||0,p=u.xOffset||0,m=u.yOffset||0,_=h[0],v=h[1],g=h[2],y=h[3],b=h[4],w=h[5],x=e.split(" "),k=parseFloat(x[0])||0,S=parseFloat(x[1])||0;n?h!==Ui&&(o=_*y-v*g)&&(l=k*(y/o)+S*(-g/o)+(g*w-y*b)/o,c=k*(-v/o)+S*(_/o)-(_*w-v*b)/o,k=l,S=c):(a=Oi(t),k=a.x+(~x[0].indexOf("%")?k/100*a.width:k),S=a.y+(~(x[1]||x[0]).indexOf("%")?S/100*a.height:S)),i||!1!==i&&u.smooth?(b=k-d,w=S-f,u.xOffset=p+(b*_+w*g)-b,u.yOffset=m+(b*v+w*y)-w):u.xOffset=u.yOffset=0,u.xOrigin=k,u.yOrigin=S,u.smooth=!!i,u.origin=e,u.originIsAbsolute=!!n,t.style[gi]="0px 0px",s&&(Ri(s,u,"xOrigin",d,k),Ri(s,u,"yOrigin",f,S),Ri(s,u,"xOffset",p,u.xOffset),Ri(s,u,"yOffset",m,u.yOffset)),t.setAttribute("data-svg-origin",k+" "+S)},Gi=function(t,e){var n=t._gsap||new Ge(t);if("x"in n&&!e&&!n.uncache)return n;var i,r,s,a,o,l,c,u,h,d,f,p,m,v,g,y,b,w,x,k,S,C,T,A,E,M,O,I,P,R,D,N,L=t.style,B=n.scaleX<0,V="px",z="deg",j=getComputedStyle(t),F=Si(t,gi)||"0";return i=r=s=l=c=u=h=d=f=0,a=o=1,n.svg=!(!t.getCTM||!Ii(t)),j.translate&&("none"===j.translate&&"none"===j.scale&&"none"===j.rotate||(L[vi]=("none"!==j.translate?"translate3d("+(j.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==j.rotate?"rotate("+j.rotate+") ":"")+("none"!==j.scale?"scale("+j.scale.split(" ").join(",")+") ":"")+("none"!==j[vi]?j[vi]:"")),L.scale=L.rotate=L.translate="none"),v=$i(t,n.svg),n.svg&&(n.uncache?(E=t.getBBox(),F=n.xOrigin-E.x+"px "+(n.yOrigin-E.y)+"px",A=""):A=!e&&t.getAttribute("data-svg-origin"),Yi(t,A||F,!!A||n.originIsAbsolute,!1!==n.smooth,v)),p=n.xOrigin||0,m=n.yOrigin||0,v!==Ui&&(w=v[0],x=v[1],k=v[2],S=v[3],i=C=v[4],r=T=v[5],6===v.length?(a=Math.sqrt(w*w+x*x),o=Math.sqrt(S*S+k*k),l=w||x?Jn(x,w)*Kn:0,h=k||S?Jn(k,S)*Kn+l:0,h&&(o*=Math.abs(Math.cos(h*Qn))),n.svg&&(i-=p-(p*w+m*k),r-=m-(p*x+m*S))):(N=v[6],R=v[7],O=v[8],I=v[9],P=v[10],D=v[11],i=v[12],r=v[13],s=v[14],g=Jn(N,P),c=g*Kn,g&&(y=Math.cos(-g),b=Math.sin(-g),A=C*y+O*b,E=T*y+I*b,M=N*y+P*b,O=C*-b+O*y,I=T*-b+I*y,P=N*-b+P*y,D=R*-b+D*y,C=A,T=E,N=M),g=Jn(-k,P),u=g*Kn,g&&(y=Math.cos(-g),b=Math.sin(-g),A=w*y-O*b,E=x*y-I*b,M=k*y-P*b,D=S*b+D*y,w=A,x=E,k=M),g=Jn(x,w),l=g*Kn,g&&(y=Math.cos(g),b=Math.sin(g),A=w*y+x*b,E=C*y+T*b,x=x*y-w*b,T=T*y-C*b,w=A,C=E),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),a=ht(Math.sqrt(w*w+x*x+k*k)),o=ht(Math.sqrt(T*T+N*N)),g=Jn(C,T),h=Math.abs(g)>2e-4?g*Kn:0,f=D?1/(D<0?-D:D):0),n.svg&&(A=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Wi(Si(t,vi)),A&&t.setAttribute("transform",A))),Math.abs(h)>90&&Math.abs(h)<270&&(B?(a*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(o*=-1,h+=h<=0?180:-180)),e=e||n.uncache,n.x=i-((n.xPercent=i&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+V,n.y=r-((n.yPercent=r&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+V,n.z=s+V,n.scaleX=ht(a),n.scaleY=ht(o),n.rotation=ht(l)+z,n.rotationX=ht(c)+z,n.rotationY=ht(u)+z,n.skewX=h+z,n.skewY=d+z,n.transformPerspective=f+V,(n.zOrigin=parseFloat(F.split(" ")[2])||!e&&n.zOrigin||0)&&(L[gi]=Zi(F)),n.xOffset=n.yOffset=0,n.force3D=_.force3D,n.renderTransform=n.svg?ir:Yn?nr:Qi,n.uncache=0,n},Zi=function(t){return(t=t.split(" "))[0]+" "+t[1]},Ki=function(t,e,n){var i=Jt(e);return ht(parseFloat(e)+parseFloat(Li(t,"x",n+"px",i)))+i},Qi=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,nr(t,e)},Ji="0deg",tr="0px",er=") ",nr=function(t,e){var n=e||this,i=n.xPercent,r=n.yPercent,s=n.x,a=n.y,o=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,m=n.transformPerspective,_=n.force3D,v=n.target,g=n.zOrigin,y="",b="auto"===_&&t&&1!==t||!0===_;if(g&&(u!==Ji||c!==Ji)){var w,x=parseFloat(c)*Qn,k=Math.sin(x),S=Math.cos(x);x=parseFloat(u)*Qn,w=Math.cos(x),s=Ki(v,s,k*w*-g),a=Ki(v,a,-Math.sin(x)*-g),o=Ki(v,o,S*w*-g+g)}m!==tr&&(y+="perspective("+m+er),(i||r)&&(y+="translate("+i+"%, "+r+"%) "),(b||s!==tr||a!==tr||o!==tr)&&(y+=o!==tr||b?"translate3d("+s+", "+a+", "+o+") ":"translate("+s+", "+a+er),l!==Ji&&(y+="rotate("+l+er),c!==Ji&&(y+="rotateY("+c+er),u!==Ji&&(y+="rotateX("+u+er),h===Ji&&d===Ji||(y+="skew("+h+", "+d+er),1===f&&1===p||(y+="scale("+f+", "+p+er),v.style[vi]=y||"translate(0, 0)"},ir=function(t,e){var n,i,r,s,a,o=e||this,l=o.xPercent,c=o.yPercent,u=o.x,h=o.y,d=o.rotation,f=o.skewX,p=o.skewY,m=o.scaleX,_=o.scaleY,v=o.target,g=o.xOrigin,y=o.yOrigin,b=o.xOffset,w=o.yOffset,x=o.forceCSS,k=parseFloat(u),S=parseFloat(h);d=parseFloat(d),f=parseFloat(f),p=parseFloat(p),p&&(p=parseFloat(p),f+=p,d+=p),d||f?(d*=Qn,f*=Qn,n=Math.cos(d)*m,i=Math.sin(d)*m,r=Math.sin(d-f)*-_,s=Math.cos(d-f)*_,f&&(p*=Qn,a=Math.tan(f-p),a=Math.sqrt(1+a*a),r*=a,s*=a,p&&(a=Math.tan(p),a=Math.sqrt(1+a*a),n*=a,i*=a)),n=ht(n),i=ht(i),r=ht(r),s=ht(s)):(n=m,s=_,i=r=0),(k&&!~(u+"").indexOf("px")||S&&!~(h+"").indexOf("px"))&&(k=Li(v,"x",u,"px"),S=Li(v,"y",h,"px")),(g||y||b||w)&&(k=ht(k+g-(g*n+y*r)+b),S=ht(S+y-(g*i+y*s)+w)),(l||c)&&(a=v.getBBox(),k=ht(k+l/100*a.width),S=ht(S+c/100*a.height)),a="matrix("+n+","+i+","+r+","+s+","+k+","+S+")",v.setAttribute("transform",a),x&&(v.style[vi]=a)},rr=function(t,e,n,i,r){var s,a,o=360,l=T(r),c=parseFloat(r)*(l&&~r.indexOf("rad")?Kn:1),u=c-i,h=i+u+"deg";return l&&(s=r.split("_")[1],"short"===s&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),"cw"===s&&u<0?u=(u+o*ti)%o-~~(u/o)*o:"ccw"===s&&u>0&&(u=(u-o*ti)%o-~~(u/o)*o)),t._pt=a=new Tn(t._pt,e,n,i,u,ai),a.e=h,a.u="deg",t._props.push(n),a},sr=function(t,e){for(var n in e)t[n]=e[n];return t},ar=function(t,e,n){var i,r,s,a,o,l,c,u,h=sr({},n._gsap),d="perspective,force3D,transformOrigin,svgOrigin",f=n.style;for(r in h.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),f[vi]=e,i=Gi(n,1),Pi(n,vi),n.setAttribute("transform",s)):(s=getComputedStyle(n)[vi],f[vi]=e,i=Gi(n,1),f[vi]=s),Zn)s=h[r],a=i[r],s!==a&&d.indexOf(r)<0&&(c=Jt(s),u=Jt(a),o=c!==u?Li(n,r,s,u):parseFloat(s),l=parseFloat(a),t._pt=new Tn(t._pt,i,r,o,l-o,si),t._pt.u=u||0,t._props.push(r));sr(i,h)};ut("padding,margin,Width,Radius",(function(t,e){var n="Top",i="Right",r="Bottom",s="Left",a=(e<3?[n,i,r,s]:[n+s,n+i,r+i,r+s]).map((function(n){return e<2?t+n:"border"+n+t}));qi[e>1?"border"+t:t]=function(t,e,n,i,r){var s,o;if(arguments.length<4)return s=a.map((function(e){return Bi(t,e,n)})),o=s.join(" "),5===o.split(s[0]).length?s[0]:o;s=(i+"").split(" "),o={},a.forEach((function(t,e){return o[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,o,r)}}));var or={name:"css",register:Ai,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,i,r){var s,a,o,l,c,u,h,d,f,p,m,v,g,y,b,w,x=this._props,k=t.style,S=n.vars.startAt;for(h in Hn||Ai(),this.styles=this.styles||xi(t),w=this.styles.props,this.tween=n,e)if("autoRound"!==h&&(a=e[h],!nt[h]||!rn(h,e,n,i,t,r)))if(c=typeof a,u=qi[h],"function"===c&&(a=a.call(n,i,t,r),c=typeof a),"string"===c&&~a.indexOf("random(")&&(a=ve(a)),u)u(this,t,h,a,n)&&(b=1);else if("--"===h.substr(0,2))s=(getComputedStyle(t).getPropertyValue(h)+"").trim(),a+="",Ie.lastIndex=0,Ie.test(s)||(d=Jt(s),f=Jt(a)),f?d!==f&&(s=Li(t,h,s,f)+f):d&&(a+=d),this.add(k,"setProperty",s,a,i,r,0,0,h),x.push(h),w.push(h,0,k[h]);else if("undefined"!==c){if(S&&h in S?(s="function"===typeof S[h]?S[h].call(n,i,t,r):S[h],T(s)&&~s.indexOf("random(")&&(s=ve(s)),Jt(s+"")||"auto"===s||(s+=_.units[h]||Jt(Bi(t,h))||""),"="===(s+"").charAt(1)&&(s=Bi(t,h))):s=Bi(t,h),l=parseFloat(s),p="string"===c&&"="===a.charAt(1)&&a.substr(0,2),p&&(a=a.substr(2)),o=parseFloat(a),h in ri&&("autoAlpha"===h&&(1===l&&"hidden"===Bi(t,"visibility")&&o&&(l=0),w.push("visibility",0,k.visibility),Ri(this,k,"visibility",l?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==h&&"transform"!==h&&(h=ri[h],~h.indexOf(",")&&(h=h.split(",")[0]))),m=h in Zn,m)if(this.styles.save(h),v||(g=t._gsap,g.renderTransform&&!e.parseTransform||Gi(t,e.parseTransform),y=!1!==e.smoothOrigin&&g.smooth,v=this._pt=new Tn(this._pt,k,vi,0,1,g.renderTransform,g,0,-1),v.dep=1),"scale"===h)this._pt=new Tn(this._pt,g,"scaleY",g.scaleY,(p?ft(g.scaleY,p+o):o)-g.scaleY||0,si),this._pt.u=0,x.push("scaleY",h),h+="X";else{if("transformOrigin"===h){w.push(gi,0,k[gi]),a=ji(a),g.svg?Yi(t,a,0,y,0,this):(f=parseFloat(a.split(" ")[2])||0,f!==g.zOrigin&&Ri(this,g,"zOrigin",g.zOrigin,f),Ri(this,k,h,Zi(s),Zi(a)));continue}if("svgOrigin"===h){Yi(t,a,1,y,0,this);continue}if(h in Hi){rr(this,g,h,l,p?ft(l,p+a):a);continue}if("smoothOrigin"===h){Ri(this,g,"smooth",g.smooth,a);continue}if("force3D"===h){g[h]=a;continue}if("transform"===h){ar(this,a,t);continue}}else h in k||(h=Ti(h)||h);if(m||(o||0===o)&&(l||0===l)&&!ii.test(a)&&h in k)d=(s+"").substr((l+"").length),o||(o=0),f=Jt(a)||(h in _.units?_.units[h]:d),d!==f&&(l=Li(t,h,s,f)),this._pt=new Tn(this._pt,m?g:k,h,l,(p?ft(l,p+o):o)-l,m||"px"!==f&&"zIndex"!==h||!1===e.autoRound?si:li),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=s,this._pt.r=oi);else if(h in k)Vi.call(this,t,h,s,p?p+a:a);else if(h in t)this.add(t,h,s||t[h],p?p+a:a,i,r);else if("parseTransform"!==h){X(h,a);continue}m||(h in k?w.push(h,0,k[h]):w.push(h,1,s||t[h])),x.push(h)}b&&Cn(this)},render:function(t,e){if(e.tween._time||!$n()){var n=e._pt;while(n)n.r(t,n.d),n=n._next}else e.styles.revert()},get:Bi,aliases:ri,getSetter:function(t,e,n){var i=ri[e];return i&&i.indexOf(",")<0&&(e=i),e in Zn&&e!==gi&&(t._gsap.x||Bi(t,"x"))?n&&Xn===n?"scale"===e?pi:fi:(Xn=n||{})&&("scale"===e?mi:_i):t.style&&!M(t.style[e])?hi:~e.indexOf("-")?di:vn(t,e)},core:{_removeProperty:Pi,_getMatrix:$i}};jn.utils.checkPrefix=Ti,jn.core.getStyleSaver=xi,function(t,e,n,i){var r=ut(t+","+e+","+n,(function(t){Zn[t]=1}));ut(e,(function(t){_.units[t]="deg",Hi[t]=1})),ri[r[13]]=t+","+e,ut(i,(function(t){var e=t.split(":");ri[e[1]]=r[e[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),ut("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){_.units[t]="px"})),jn.registerPlugin(or);var lr=jn.registerPlugin(or)||jn;lr.core.Tween},755:function(t,e,n){var i,r;n(4114),
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */
function(e,n){"use strict";"object"===typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!==typeof window?window:this,(function(n,s){"use strict";var a=[],o=Object.getPrototypeOf,l=a.slice,c=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)},u=a.push,h=a.indexOf,d={},f=d.toString,p=d.hasOwnProperty,m=p.toString,_=m.call(Object),v={},g=function(t){return"function"===typeof t&&"number"!==typeof t.nodeType&&"function"!==typeof t.item},y=function(t){return null!=t&&t===t.window},b=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){n=n||b;var i,r,s=n.createElement("script");if(s.text=t,e)for(i in w)r=e[i]||e.getAttribute&&e.getAttribute(i),r&&s.setAttribute(i,r);n.head.appendChild(s).parentNode.removeChild(s)}function k(t){return null==t?t+"":"object"===typeof t||"function"===typeof t?d[f.call(t)]||"object":typeof t}var S="3.7.1",C=/HTML$/i,T=function(t,e){return new T.fn.init(t,e)};function A(t){var e=!!t&&"length"in t&&t.length,n=k(t);return!g(t)&&!y(t)&&("array"===n||0===e||"number"===typeof e&&e>0&&e-1 in t)}function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}T.fn=T.prototype={jquery:S,constructor:T,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(T.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:a.sort,splice:a.splice},T.extend=T.fn.extend=function(){var t,e,n,i,r,s,a=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"===typeof a&&(c=a,a=arguments[o]||{},o++),"object"===typeof a||g(a)||(a={}),o===l&&(a=this,o--);o<l;o++)if(null!=(t=arguments[o]))for(e in t)i=t[e],"__proto__"!==e&&a!==i&&(c&&i&&(T.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[e],s=r&&!Array.isArray(n)?[]:r||T.isPlainObject(n)?n:{},r=!1,a[e]=T.extend(c,s,i)):void 0!==i&&(a[e]=i));return a},T.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==f.call(t))&&(e=o(t),!e||(n=p.call(e,"constructor")&&e.constructor,"function"===typeof n&&m.call(n)===_))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){x(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(A(t)){for(n=t.length;i<n;i++)if(!1===e.call(t[i],i,t[i]))break}else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},text:function(t){var e,n="",i=0,r=t.nodeType;if(!r)while(e=t[i++])n+=T.text(e);return 1===r||11===r?t.textContent:9===r?t.documentElement.textContent:3===r||4===r?t.nodeValue:n},makeArray:function(t,e){var n=e||[];return null!=t&&(A(Object(t))?T.merge(n,"string"===typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},isXMLDoc:function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!C.test(e||n&&n.nodeName||"HTML")},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],s=0,a=t.length,o=!n;s<a;s++)i=!e(t[s],s),i!==o&&r.push(t[s]);return r},map:function(t,e,n){var i,r,s=0,a=[];if(A(t))for(i=t.length;s<i;s++)r=e(t[s],s,n),null!=r&&a.push(r);else for(s in t)r=e(t[s],s,n),null!=r&&a.push(r);return c(a)},guid:1,support:v}),"function"===typeof Symbol&&(T.fn[Symbol.iterator]=a[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){d["[object "+e+"]"]=e.toLowerCase()}));var M=a.pop,O=a.sort,I=a.splice,P="[\\x20\\t\\r\\n\\f]",R=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g");T.contains=function(t,e){var n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var D=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function N(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}T.escapeSelector=function(t){return(t+"").replace(D,N)};var L=b,B=u;(function(){var t,e,i,r,s,o,c,u,d,f,m=B,_=T.expando,g=0,y=0,b=et(),w=et(),x=et(),k=et(),S=function(t,e){return t===e&&(s=!0),0},C="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",A="(?:\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",D="\\["+P+"*("+A+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+A+"))|)"+P+"*\\]",N=":("+A+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+D+")*)|.*)\\)|)",V=new RegExp(P+"+","g"),z=new RegExp("^"+P+"*,"+P+"*"),j=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),F=new RegExp(P+"|>"),q=new RegExp(N),U=new RegExp("^"+A+"$"),H={ID:new RegExp("^#("+A+")"),CLASS:new RegExp("^\\.("+A+")"),TAG:new RegExp("^("+A+"|[*])"),ATTR:new RegExp("^"+D),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+C+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,G=new RegExp("\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\([^\\r\\n\\f])","g"),Z=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},K=function(){ct()},Q=ft((function(t){return!0===t.disabled&&E(t,"fieldset")}),{dir:"parentNode",next:"legend"});function J(){try{return o.activeElement}catch(t){}}try{m.apply(a=l.call(L.childNodes),L.childNodes),a[L.childNodes.length].nodeType}catch(xt){m={apply:function(t,e){B.apply(t,l.call(e))},call:function(t){B.apply(t,l.call(arguments,1))}}}function tt(t,e,n,i){var r,s,a,l,c,h,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!==typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&(ct(e),e=e||o,u)){if(11!==g&&(c=$.exec(t)))if(r=c[1]){if(9===g){if(!(a=e.getElementById(r)))return n;if(a.id===r)return m.call(n,a),n}else if(p&&(a=p.getElementById(r))&&tt.contains(e,a)&&a.id===r)return m.call(n,a),n}else{if(c[2])return m.apply(n,e.getElementsByTagName(t)),n;if((r=c[3])&&e.getElementsByClassName)return m.apply(n,e.getElementsByClassName(r)),n}if(!k[t+" "]&&(!d||!d.test(t))){if(f=t,p=e,1===g&&(F.test(t)||j.test(t))){p=Y.test(t)&&lt(e.parentNode)||e,p==e&&v.scope||((l=e.getAttribute("id"))?l=T.escapeSelector(l):e.setAttribute("id",l=_)),h=ht(t),s=h.length;while(s--)h[s]=(l?"#"+l:":scope")+" "+dt(h[s]);f=h.join(",")}try{return m.apply(n,p.querySelectorAll(f)),n}catch(y){k(t,!0)}finally{l===_&&e.removeAttribute("id")}}}return wt(t.replace(R,"$1"),e,n,i)}function et(){var t=[];function n(i,r){return t.push(i+" ")>e.cacheLength&&delete n[t.shift()],n[i+" "]=r}return n}function nt(t){return t[_]=!0,t}function it(t){var e=o.createElement("fieldset");try{return!!t(e)}catch(xt){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function rt(t){return function(e){return E(e,"input")&&e.type===t}}function st(t){return function(e){return(E(e,"input")||E(e,"button"))&&e.type===t}}function at(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Q(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ot(t){return nt((function(e){return e=+e,nt((function(n,i){var r,s=t([],n.length,e),a=s.length;while(a--)n[r=s[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function lt(t){return t&&"undefined"!==typeof t.getElementsByTagName&&t}function ct(t){var n,i=t?t.ownerDocument||t:L;return i!=o&&9===i.nodeType&&i.documentElement?(o=i,c=o.documentElement,u=!T.isXMLDoc(o),f=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&L!=o&&(n=o.defaultView)&&n.top!==n&&n.addEventListener("unload",K),v.getById=it((function(t){return c.appendChild(t).id=T.expando,!o.getElementsByName||!o.getElementsByName(T.expando).length})),v.disconnectedMatch=it((function(t){return f.call(t,"*")})),v.scope=it((function(){return o.querySelectorAll(":scope")})),v.cssHas=it((function(){try{return o.querySelector(":has(*,:jqfake)"),!1}catch(xt){return!0}})),v.getById?(e.filter.ID=function(t){var e=t.replace(G,Z);return function(t){return t.getAttribute("id")===e}},e.find.ID=function(t,e){if("undefined"!==typeof e.getElementById&&u){var n=e.getElementById(t);return n?[n]:[]}}):(e.filter.ID=function(t){var e=t.replace(G,Z);return function(t){var n="undefined"!==typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},e.find.ID=function(t,e){if("undefined"!==typeof e.getElementById&&u){var n,i,r,s=e.getElementById(t);if(s){if(n=s.getAttributeNode("id"),n&&n.value===t)return[s];r=e.getElementsByName(t),i=0;while(s=r[i++])if(n=s.getAttributeNode("id"),n&&n.value===t)return[s]}return[]}}),e.find.TAG=function(t,e){return"undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},e.find.CLASS=function(t,e){if("undefined"!==typeof e.getElementsByClassName&&u)return e.getElementsByClassName(t)},d=[],it((function(t){var e;c.appendChild(t).innerHTML="<a id='"+_+"' href='' disabled='disabled'></a><select id='"+_+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||d.push("\\["+P+"*(?:value|"+C+")"),t.querySelectorAll("[id~="+_+"-]").length||d.push("~="),t.querySelectorAll("a#"+_+"+*").length||d.push(".#.+[+~]"),t.querySelectorAll(":checked").length||d.push(":checked"),e=o.createElement("input"),e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),c.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),e=o.createElement("input"),e.setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||d.push("\\["+P+"*name"+P+"*="+P+"*(?:''|\"\")")})),v.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),S=function(t,e){if(t===e)return s=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!v.sortDetached&&e.compareDocumentPosition(t)===n?t===o||t.ownerDocument==L&&tt.contains(L,t)?-1:e===o||e.ownerDocument==L&&tt.contains(L,e)?1:r?h.call(r,t)-h.call(r,e):0:4&n?-1:1)},o):o}for(t in tt.matches=function(t,e){return tt(t,null,null,e)},tt.matchesSelector=function(t,e){if(ct(t),u&&!k[e+" "]&&(!d||!d.test(e)))try{var n=f.call(t,e);if(n||v.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(xt){k(e,!0)}return tt(e,o,null,[t]).length>0},tt.contains=function(t,e){return(t.ownerDocument||t)!=o&&ct(t),T.contains(t,e)},tt.attr=function(t,n){(t.ownerDocument||t)!=o&&ct(t);var i=e.attrHandle[n.toLowerCase()],r=i&&p.call(e.attrHandle,n.toLowerCase())?i(t,n,!u):void 0;return void 0!==r?r:t.getAttribute(n)},tt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},T.uniqueSort=function(t){var e,n=[],i=0,a=0;if(s=!v.sortStable,r=!v.sortStable&&l.call(t,0),O.call(t,S),s){while(e=t[a++])e===t[a]&&(i=n.push(a));while(i--)I.call(t,n[i],1)}return r=null,t},T.fn.uniqueSort=function(){return this.pushStack(T.uniqueSort(l.apply(this)))},e=T.expr={cacheLength:50,createPseudo:nt,match:H,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(G,Z),t[3]=(t[3]||t[4]||t[5]||"").replace(G,Z),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||tt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&tt.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return H.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=ht(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(G,Z).toLowerCase();return"*"===t?function(){return!0}:function(t){return E(t,e)}},CLASS:function(t){var e=b[t+" "];return e||(e=new RegExp("(^|"+P+")"+t+"("+P+"|$)"))&&b(t,(function(t){return e.test("string"===typeof t.className&&t.className||"undefined"!==typeof t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=tt.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(V," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var s="nth"!==t.slice(0,3),a="last"!==t.slice(-4),o="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,f,p=s!==a?"nextSibling":"previousSibling",m=e.parentNode,v=o&&e.nodeName.toLowerCase(),y=!l&&!o,b=!1;if(m){if(s){while(p){h=e;while(h=h[p])if(o?E(h,v):1===h.nodeType)return!1;f=p="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){u=m[_]||(m[_]={}),c=u[t]||[],d=c[0]===g&&c[1],b=d&&c[2],h=d&&m.childNodes[d];while(h=++d&&h&&h[p]||(b=d=0)||f.pop())if(1===h.nodeType&&++b&&h===e){u[t]=[g,d,b];break}}else if(y&&(u=e[_]||(e[_]={}),c=u[t]||[],d=c[0]===g&&c[1],b=d),!1===b)while(h=++d&&h&&h[p]||(b=d=0)||f.pop())if((o?E(h,v):1===h.nodeType)&&++b&&(y&&(u=h[_]||(h[_]={}),u[t]=[g,b]),h===e))break;return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,n){var i,r=e.pseudos[t]||e.setFilters[t.toLowerCase()]||tt.error("unsupported pseudo: "+t);return r[_]?r(n):r.length>1?(i=[t,t,"",n],e.setFilters.hasOwnProperty(t.toLowerCase())?nt((function(t,e){var i,s=r(t,n),a=s.length;while(a--)i=h.call(t,s[a]),t[i]=!(e[i]=s[a])})):function(t){return r(t,0,i)}):r}},pseudos:{not:nt((function(t){var e=[],n=[],i=bt(t.replace(R,"$1"));return i[_]?nt((function(t,e,n,r){var s,a=i(t,null,r,[]),o=t.length;while(o--)(s=a[o])&&(t[o]=!(e[o]=s))})):function(t,r,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}})),has:nt((function(t){return function(e){return tt(t,e).length>0}})),contains:nt((function(t){return t=t.replace(G,Z),function(e){return(e.textContent||T.text(e)).indexOf(t)>-1}})),lang:nt((function(t){return U.test(t||"")||tt.error("unsupported lang: "+t),t=t.replace(G,Z).toLowerCase(),function(e){var n;do{if(n=u?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===c},focus:function(t){return t===J()&&o.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:at(!1),disabled:at(!0),checked:function(t){return E(t,"input")&&!!t.checked||E(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!e.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return W.test(t.nodeName)},button:function(t){return E(t,"input")&&"button"===t.type||E(t,"button")},text:function(t){var e;return E(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ot((function(){return[0]})),last:ot((function(t,e){return[e-1]})),eq:ot((function(t,e,n){return[n<0?n+e:n]})),even:ot((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:ot((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:ot((function(t,e,n){var i;for(i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:ot((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},e.pseudos.nth=e.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[t]=rt(t);for(t in{submit:!0,reset:!0})e.pseudos[t]=st(t);function ut(){}function ht(t,n){var i,r,s,a,o,l,c,u=w[t+" "];if(u)return n?0:u.slice(0);o=t,l=[],c=e.preFilter;while(o){for(a in i&&!(r=z.exec(o))||(r&&(o=o.slice(r[0].length)||o),l.push(s=[])),i=!1,(r=j.exec(o))&&(i=r.shift(),s.push({value:i,type:r[0].replace(R," ")}),o=o.slice(i.length)),e.filter)!(r=H[a].exec(o))||c[a]&&!(r=c[a](r))||(i=r.shift(),s.push({value:i,type:a,matches:r}),o=o.slice(i.length));if(!i)break}return n?o.length:o?tt.error(t):w(t,l).slice(0)}function dt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function ft(t,e,n){var i=e.dir,r=e.next,s=r||i,a=n&&"parentNode"===s,o=y++;return e.first?function(e,n,r){while(e=e[i])if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,l){var c,u,h=[g,o];if(l){while(e=e[i])if((1===e.nodeType||a)&&t(e,n,l))return!0}else while(e=e[i])if(1===e.nodeType||a)if(u=e[_]||(e[_]={}),r&&E(e,r))e=e[i]||e;else{if((c=u[s])&&c[0]===g&&c[1]===o)return h[2]=c[2];if(u[s]=h,h[2]=t(e,n,l))return!0}return!1}}function pt(t){return t.length>1?function(e,n,i){var r=t.length;while(r--)if(!t[r](e,n,i))return!1;return!0}:t[0]}function mt(t,e,n){for(var i=0,r=e.length;i<r;i++)tt(t,e[i],n);return n}function _t(t,e,n,i,r){for(var s,a=[],o=0,l=t.length,c=null!=e;o<l;o++)(s=t[o])&&(n&&!n(s,i,r)||(a.push(s),c&&e.push(o)));return a}function vt(t,e,n,i,r,s){return i&&!i[_]&&(i=vt(i)),r&&!r[_]&&(r=vt(r,s)),nt((function(s,a,o,l){var c,u,d,f,p=[],_=[],v=a.length,g=s||mt(e||"*",o.nodeType?[o]:o,[]),y=!t||!s&&e?g:_t(g,p,t,o,l);if(n?(f=r||(s?t:v||i)?[]:a,n(y,f,o,l)):f=y,i){c=_t(f,_),i(c,[],o,l),u=c.length;while(u--)(d=c[u])&&(f[_[u]]=!(y[_[u]]=d))}if(s){if(r||t){if(r){c=[],u=f.length;while(u--)(d=f[u])&&c.push(y[u]=d);r(null,f=[],c,l)}u=f.length;while(u--)(d=f[u])&&(c=r?h.call(s,d):p[u])>-1&&(s[c]=!(a[c]=d))}}else f=_t(f===a?f.splice(v,f.length):f),r?r(null,a,f,l):m.apply(a,f)}))}function gt(t){for(var n,r,s,a=t.length,o=e.relative[t[0].type],l=o||e.relative[" "],c=o?1:0,u=ft((function(t){return t===n}),l,!0),d=ft((function(t){return h.call(n,t)>-1}),l,!0),f=[function(t,e,r){var s=!o&&(r||e!=i)||((n=e).nodeType?u(t,e,r):d(t,e,r));return n=null,s}];c<a;c++)if(r=e.relative[t[c].type])f=[ft(pt(f),r)];else{if(r=e.filter[t[c].type].apply(null,t[c].matches),r[_]){for(s=++c;s<a;s++)if(e.relative[t[s].type])break;return vt(c>1&&pt(f),c>1&&dt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(R,"$1"),r,c<s&&gt(t.slice(c,s)),s<a&&gt(t=t.slice(s)),s<a&&dt(t))}f.push(r)}return pt(f)}function yt(t,n){var r=n.length>0,s=t.length>0,a=function(a,l,c,h,d){var f,p,_,v=0,y="0",b=a&&[],w=[],x=i,k=a||s&&e.find.TAG("*",d),S=g+=null==x?1:Math.random()||.1,C=k.length;for(d&&(i=l==o||l||d);y!==C&&null!=(f=k[y]);y++){if(s&&f){p=0,l||f.ownerDocument==o||(ct(f),c=!u);while(_=t[p++])if(_(f,l||o,c)){m.call(h,f);break}d&&(g=S)}r&&((f=!_&&f)&&v--,a&&b.push(f))}if(v+=y,r&&y!==v){p=0;while(_=n[p++])_(b,w,l,c);if(a){if(v>0)while(y--)b[y]||w[y]||(w[y]=M.call(h));w=_t(w)}m.apply(h,w),d&&!a&&w.length>0&&v+n.length>1&&T.uniqueSort(h)}return d&&(g=S,i=x),b};return r?nt(a):a}function bt(t,e){var n,i=[],r=[],s=x[t+" "];if(!s){e||(e=ht(t)),n=e.length;while(n--)s=gt(e[n]),s[_]?i.push(s):r.push(s);s=x(t,yt(r,i)),s.selector=t}return s}function wt(t,n,i,r){var s,a,o,l,c,h="function"===typeof t&&t,d=!r&&ht(t=h.selector||t);if(i=i||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&9===n.nodeType&&u&&e.relative[a[1].type]){if(n=(e.find.ID(o.matches[0].replace(G,Z),n)||[])[0],!n)return i;h&&(n=n.parentNode),t=t.slice(a.shift().value.length)}s=H.needsContext.test(t)?0:a.length;while(s--){if(o=a[s],e.relative[l=o.type])break;if((c=e.find[l])&&(r=c(o.matches[0].replace(G,Z),Y.test(a[0].type)&&lt(n.parentNode)||n))){if(a.splice(s,1),t=r.length&&dt(a),!t)return m.apply(i,r),i;break}}}return(h||bt(t,d))(r,n,!u,i,!n||Y.test(t)&&lt(n.parentNode)||n),i}ut.prototype=e.filters=e.pseudos,e.setFilters=new ut,v.sortStable=_.split("").sort(S).join("")===_,ct(),v.sortDetached=it((function(t){return 1&t.compareDocumentPosition(o.createElement("fieldset"))})),T.find=tt,T.expr[":"]=T.expr.pseudos,T.unique=T.uniqueSort,tt.compile=bt,tt.select=wt,tt.setDocument=ct,tt.tokenize=ht,tt.escape=T.escapeSelector,tt.getText=T.text,tt.isXML=T.isXMLDoc,tt.selectors=T.expr,tt.support=T.support,tt.uniqueSort=T.uniqueSort})();var V=function(t,e,n){var i=[],r=void 0!==n;while((t=t[e])&&9!==t.nodeType)if(1===t.nodeType){if(r&&T(t).is(n))break;i.push(t)}return i},z=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},j=T.expr.match.needsContext,F=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function q(t,e,n){return g(e)?T.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?T.grep(t,(function(t){return t===e!==n})):"string"!==typeof e?T.grep(t,(function(t){return h.call(e,t)>-1!==n})):T.filter(e,t,n)}T.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?T.find.matchesSelector(i,t)?[i]:[]:T.find.matches(t,T.grep(e,(function(t){return 1===t.nodeType})))},T.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!==typeof t)return this.pushStack(T(t).filter((function(){for(e=0;e<i;e++)if(T.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)T.find(t,r[e],n);return i>1?T.uniqueSort(n):n},filter:function(t){return this.pushStack(q(this,t||[],!1))},not:function(t){return this.pushStack(q(this,t||[],!0))},is:function(t){return!!q(this,"string"===typeof t&&j.test(t)?T(t):t||[],!1).length}});var U,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,W=T.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||U,"string"===typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:H.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),F.test(i[1])&&T.isPlainObject(e))for(i in e)g(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=b.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==n.ready?n.ready(t):t(T):T.makeArray(t,this)};W.prototype=T.fn,U=T(b);var X=/^(?:parents|prev(?:Until|All))/,$={children:!0,contents:!0,next:!0,prev:!0};function Y(t,e){while((t=t[e])&&1!==t.nodeType);return t}T.fn.extend({has:function(t){var e=T(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(T.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,s=[],a="string"!==typeof t&&T(t);if(!j.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?T.uniqueSort(s):s)},index:function(t){return t?"string"===typeof t?h.call(T(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return V(t,"parentNode")},parentsUntil:function(t,e,n){return V(t,"parentNode",n)},next:function(t){return Y(t,"nextSibling")},prev:function(t){return Y(t,"previousSibling")},nextAll:function(t){return V(t,"nextSibling")},prevAll:function(t){return V(t,"previousSibling")},nextUntil:function(t,e,n){return V(t,"nextSibling",n)},prevUntil:function(t,e,n){return V(t,"previousSibling",n)},siblings:function(t){return z((t.parentNode||{}).firstChild,t)},children:function(t){return z(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(E(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},(function(t,e){T.fn[t]=function(n,i){var r=T.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"===typeof i&&(r=T.filter(i,r)),this.length>1&&($[t]||T.uniqueSort(r),X.test(t)&&r.reverse()),this.pushStack(r)}}));var G=/[^\x20\t\r\n\f]+/g;function Z(t){var e={};return T.each(t.match(G)||[],(function(t,n){e[n]=!0})),e}function K(t){return t}function Q(t){throw t}function J(t,e,n,i){var r;try{t&&g(r=t.promise)?r.call(t).done(e).fail(n):t&&g(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}T.Callbacks=function(t){t="string"===typeof t?Z(t):T.extend({},t);var e,n,i,r,s=[],a=[],o=-1,l=function(){for(r=r||t.once,i=e=!0;a.length;o=-1){n=a.shift();while(++o<s.length)!1===s[o].apply(n[0],n[1])&&t.stopOnFalse&&(o=s.length,n=!1)}t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(o=s.length-1,a.push(n)),function e(n){T.each(n,(function(n,i){g(i)?t.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==k(i)&&e(i)}))}(arguments),n&&!e&&l()),this},remove:function(){return T.each(arguments,(function(t,e){var n;while((n=T.inArray(e,s,n))>-1)s.splice(n,1),n<=o&&o--})),this},has:function(t){return t?T.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||e||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return T.Deferred((function(n){T.each(e,(function(e,i){var r=g(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&g(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,r){var s=0;function a(t,e,i,r){return function(){var o=this,l=arguments,c=function(){var n,c;if(!(t<s)){if(n=i.apply(o,l),n===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"===typeof n||"function"===typeof n)&&n.then,g(c)?r?c.call(n,a(s,e,K,r),a(s,e,Q,r)):(s++,c.call(n,a(s,e,K,r),a(s,e,Q,r),a(s,e,K,e.notifyWith))):(i!==K&&(o=void 0,l=[n]),(r||e.resolveWith)(o,l))}},u=r?c:function(){try{c()}catch(n){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(n,u.error),t+1>=s&&(i!==Q&&(o=void 0,l=[n]),e.rejectWith(o,l))}};t?u():(T.Deferred.getErrorHook?u.error=T.Deferred.getErrorHook():T.Deferred.getStackHook&&(u.error=T.Deferred.getStackHook()),n.setTimeout(u))}}return T.Deferred((function(n){e[0][3].add(a(0,n,g(r)?r:K,n.notifyWith)),e[1][3].add(a(0,n,g(t)?t:K)),e[2][3].add(a(0,n,g(i)?i:Q))})).promise()},promise:function(t){return null!=t?T.extend(t,r):r}},s={};return T.each(e,(function(t,n){var a=n[2],o=n[5];r[n[1]]=a.add,o&&a.add((function(){i=o}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),s[n[0]]=function(){return s[n[0]+"With"](this===s?void 0:this,arguments),this},s[n[0]+"With"]=a.fireWith})),r.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),r=l.call(arguments),s=T.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?l.call(arguments):n,--e||s.resolveWith(i,r)}};if(e<=1&&(J(t,s.done(a(n)).resolve,s.reject,!e),"pending"===s.state()||g(r[n]&&r[n].then)))return s.then();while(n--)J(r[n],a(n),s.reject);return s.promise()}});var tt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&tt.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){n.setTimeout((function(){throw t}))};var et=T.Deferred();function nt(){b.removeEventListener("DOMContentLoaded",nt),n.removeEventListener("load",nt),T.ready()}T.fn.ready=function(t){return et.then(t).catch((function(t){T.readyException(t)})),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||et.resolveWith(b,[T]))}}),T.ready.then=et.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(T.ready):(b.addEventListener("DOMContentLoaded",nt),n.addEventListener("load",nt));var it=function(t,e,n,i,r,s,a){var o=0,l=t.length,c=null==n;if("object"===k(n))for(o in r=!0,n)it(t,e,o,n[o],!0,s,a);else if(void 0!==i&&(r=!0,g(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(T(t),n)})),e))for(;o<l;o++)e(t[o],n,a?i:i.call(t[o],o,e(t[o],n)));return r?t:c?e.call(t):l?e(t[0],n):s},rt=/^-ms-/,st=/-([a-z])/g;function at(t,e){return e.toUpperCase()}function ot(t){return t.replace(rt,"ms-").replace(st,at)}var lt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function ct(){this.expando=T.expando+ct.uid++}ct.uid=1,ct.prototype={cache:function(t){var e=t[this.expando];return e||(e={},lt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"===typeof e)r[ot(e)]=n;else for(i in e)r[ot(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][ot(e)]},access:function(t,e,n){return void 0===e||e&&"string"===typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(ot):(e=ot(e),e=e in i?[e]:e.match(G)||[]),n=e.length;while(n--)delete i[e[n]]}(void 0===e||T.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var ut=new ct,ht=new ct,dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ft=/[A-Z]/g;function pt(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:dt.test(t)?JSON.parse(t):t)}function mt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(ft,"-$&").toLowerCase(),n=t.getAttribute(i),"string"===typeof n){try{n=pt(n)}catch(r){}ht.set(t,e,n)}else n=void 0;return n}T.extend({hasData:function(t){return ht.hasData(t)||ut.hasData(t)},data:function(t,e,n){return ht.access(t,e,n)},removeData:function(t,e){ht.remove(t,e)},_data:function(t,e,n){return ut.access(t,e,n)},_removeData:function(t,e){ut.remove(t,e)}}),T.fn.extend({data:function(t,e){var n,i,r,s=this[0],a=s&&s.attributes;if(void 0===t){if(this.length&&(r=ht.get(s),1===s.nodeType&&!ut.get(s,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=ot(i.slice(5)),mt(s,i,r[i])));ut.set(s,"hasDataAttrs",!0)}return r}return"object"===typeof t?this.each((function(){ht.set(this,t)})):it(this,(function(e){var n;if(s&&void 0===e)return n=ht.get(s,t),void 0!==n?n:(n=mt(s,t),void 0!==n?n:void 0);this.each((function(){ht.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){ht.remove(this,t)}))}}),T.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ut.get(t,e),n&&(!i||Array.isArray(n)?i=ut.access(t,e,T.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=T.queue(t,e),i=n.length,r=n.shift(),s=T._queueHooks(t,e),a=function(){T.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete s.stop,r.call(t,a,s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ut.get(t,n)||ut.access(t,n,{empty:T.Callbacks("once memory").add((function(){ut.remove(t,[e+"queue",n])}))})}}),T.fn.extend({queue:function(t,e){var n=2;return"string"!==typeof t&&(e=t,t="fx",n--),arguments.length<n?T.queue(this[0],t):void 0===e?this:this.each((function(){var n=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&T.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){T.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=T.Deferred(),s=this,a=this.length,o=function(){--i||r.resolveWith(s,[s])};"string"!==typeof t&&(e=t,t=void 0),t=t||"fx";while(a--)n=ut.get(s[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(e)}});var _t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vt=new RegExp("^(?:([+-])=|)("+_t+")([a-z%]*)$","i"),gt=["Top","Right","Bottom","Left"],yt=b.documentElement,bt=function(t){return T.contains(t.ownerDocument,t)},wt={composed:!0};yt.getRootNode&&(bt=function(t){return T.contains(t.ownerDocument,t)||t.getRootNode(wt)===t.ownerDocument});var xt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&bt(t)&&"none"===T.css(t,"display")};function kt(t,e,n,i){var r,s,a=20,o=i?function(){return i.cur()}:function(){return T.css(t,e,"")},l=o(),c=n&&n[3]||(T.cssNumber[e]?"":"px"),u=t.nodeType&&(T.cssNumber[e]||"px"!==c&&+l)&&vt.exec(T.css(t,e));if(u&&u[3]!==c){l/=2,c=c||u[3],u=+l||1;while(a--)T.style(t,e,u+c),(1-s)*(1-(s=o()/l||.5))<=0&&(a=0),u/=s;u*=2,T.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var St={};function Ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=St[i];return r||(e=n.body.appendChild(n.createElement(i)),r=T.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),St[i]=r,r)}function Tt(t,e){for(var n,i,r=[],s=0,a=t.length;s<a;s++)i=t[s],i.style&&(n=i.style.display,e?("none"===n&&(r[s]=ut.get(i,"display")||null,r[s]||(i.style.display="")),""===i.style.display&&xt(i)&&(r[s]=Ct(i))):"none"!==n&&(r[s]="none",ut.set(i,"display",n)));for(s=0;s<a;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}T.fn.extend({show:function(){return Tt(this,!0)},hide:function(){return Tt(this)},toggle:function(t){return"boolean"===typeof t?t?this.show():this.hide():this.each((function(){xt(this)?T(this).show():T(this).hide()}))}});var At=/^(?:checkbox|radio)$/i,Et=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Mt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var t=b.createDocumentFragment(),e=t.appendChild(b.createElement("div")),n=b.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),v.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",v.option=!!e.lastChild})();var Ot={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function It(t,e){var n;return n="undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!==typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&E(t,e)?T.merge([t],n):n}function Pt(t,e){for(var n=0,i=t.length;n<i;n++)ut.set(t[n],"globalEval",!e||ut.get(e[n],"globalEval"))}Ot.tbody=Ot.tfoot=Ot.colgroup=Ot.caption=Ot.thead,Ot.th=Ot.td,v.option||(Ot.optgroup=Ot.option=[1,"<select multiple='multiple'>","</select>"]);var Rt=/<|&#?\w+;/;function Dt(t,e,n,i,r){for(var s,a,o,l,c,u,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if(s=t[f],s||0===s)if("object"===k(s))T.merge(d,s.nodeType?[s]:s);else if(Rt.test(s)){a=a||h.appendChild(e.createElement("div")),o=(Et.exec(s)||["",""])[1].toLowerCase(),l=Ot[o]||Ot._default,a.innerHTML=l[1]+T.htmlPrefilter(s)+l[2],u=l[0];while(u--)a=a.lastChild;T.merge(d,a.childNodes),a=h.firstChild,a.textContent=""}else d.push(e.createTextNode(s));h.textContent="",f=0;while(s=d[f++])if(i&&T.inArray(s,i)>-1)r&&r.push(s);else if(c=bt(s),a=It(h.appendChild(s),"script"),c&&Pt(a),n){u=0;while(s=a[u++])Mt.test(s.type||"")&&n.push(s)}return h}var Nt=/^([^.]*)(?:\.(.+)|)/;function Lt(){return!0}function Bt(){return!1}function Vt(t,e,n,i,r,s){var a,o;if("object"===typeof e){for(o in"string"!==typeof n&&(i=i||n,n=void 0),e)Vt(t,o,n,i,e[o],s);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"===typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Bt;else if(!r)return t;return 1===s&&(a=r,r=function(t){return T().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=T.guid++)),t.each((function(){T.event.add(this,e,r,i,n)}))}function zt(t,e,n){n?(ut.set(t,e,!1),T.event.add(t,e,{namespace:!1,handler:function(t){var n,i=ut.get(this,e);if(1&t.isTrigger&&this[e]){if(i)(T.event.special[e]||{}).delegateType&&t.stopPropagation();else if(i=l.call(arguments),ut.set(this,e,i),this[e](),n=ut.get(this,e),ut.set(this,e,!1),i!==n)return t.stopImmediatePropagation(),t.preventDefault(),n}else i&&(ut.set(this,e,T.event.trigger(i[0],i.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=Lt)}})):void 0===ut.get(t,e)&&T.event.add(t,e,Lt)}T.event={global:{},add:function(t,e,n,i,r){var s,a,o,l,c,u,h,d,f,p,m,_=ut.get(t);if(lt(t)){n.handler&&(s=n,n=s.handler,r=s.selector),r&&T.find.matchesSelector(yt,r),n.guid||(n.guid=T.guid++),(l=_.events)||(l=_.events=Object.create(null)),(a=_.handle)||(a=_.handle=function(e){return"undefined"!==typeof T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(G)||[""],c=e.length;while(c--)o=Nt.exec(e[c])||[],f=m=o[1],p=(o[2]||"").split(".").sort(),f&&(h=T.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=T.event.special[f]||{},u=T.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&T.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(f,a)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),T.event.global[f]=!0)}},remove:function(t,e,n,i,r){var s,a,o,l,c,u,h,d,f,p,m,_=ut.hasData(t)&&ut.get(t);if(_&&(l=_.events)){e=(e||"").match(G)||[""],c=e.length;while(c--)if(o=Nt.exec(e[c])||[],f=m=o[1],p=(o[2]||"").split(".").sort(),f){h=T.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=l[f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=d.length;while(s--)u=d[s],!r&&m!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,_.handle)||T.removeEvent(t,f,_.handle),delete l[f])}else for(f in l)T.event.remove(t,f+e[c],n,i,!0);T.isEmptyObject(l)&&ut.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,s,a,o=new Array(arguments.length),l=T.event.fix(t),c=(ut.get(this,"events")||Object.create(null))[l.type]||[],u=T.event.special[l.type]||{};for(o[0]=l,e=1;e<arguments.length;e++)o[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){a=T.event.handlers.call(this,l,c),e=0;while((r=a[e++])&&!l.isPropagationStopped()){l.currentTarget=r.elem,n=0;while((s=r.handlers[n++])&&!l.isImmediatePropagationStopped())l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,i=((T.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,o),void 0!==i&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()))}return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,s,a,o=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],a={},n=0;n<l;n++)i=e[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?T(r,this).index(c)>-1:T.find(r,this,null,[c]).length),a[r]&&s.push(i);s.length&&o.push({elem:c,handlers:s})}return c=this,l<e.length&&o.push({elem:c,handlers:e.slice(l)}),o},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return At.test(e.type)&&e.click&&E(e,"input")&&zt(e,"click",!0),!1},trigger:function(t){var e=this||t;return At.test(e.type)&&e.click&&E(e,"input")&&zt(e,"click"),!0},_default:function(t){var e=t.target;return At.test(e.type)&&e.click&&E(e,"input")&&ut.get(e,"click")||E(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Lt:Bt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Bt,isPropagationStopped:Bt,isImmediatePropagationStopped:Bt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Lt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Lt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Lt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},(function(t,e){function n(t){if(b.documentMode){var n=ut.get(this,"handle"),i=T.event.fix(t);i.type="focusin"===t.type?"focus":"blur",i.isSimulated=!0,n(t),i.target===i.currentTarget&&n(i)}else T.event.simulate(e,t.target,T.event.fix(t))}T.event.special[t]={setup:function(){var i;if(zt(this,t,!0),!b.documentMode)return!1;i=ut.get(this,e),i||this.addEventListener(e,n),ut.set(this,e,(i||0)+1)},trigger:function(){return zt(this,t),!0},teardown:function(){var t;if(!b.documentMode)return!1;t=ut.get(this,e)-1,t?ut.set(this,e,t):(this.removeEventListener(e,n),ut.remove(this,e))},_default:function(e){return ut.get(e.target,t)},delegateType:e},T.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=b.documentMode?this:i,s=ut.get(r,e);s||(b.documentMode?this.addEventListener(e,n):i.addEventListener(t,n,!0)),ut.set(r,e,(s||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=b.documentMode?this:i,s=ut.get(r,e)-1;s?ut.set(r,e,s):(b.documentMode?this.removeEventListener(e,n):i.removeEventListener(t,n,!0),ut.remove(r,e))}}})),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===i||T.contains(i,r))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),T.fn.extend({on:function(t,e,n,i){return Vt(this,t,e,n,i)},one:function(t,e,n,i){return Vt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,T(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"===typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!==typeof e||(n=e,e=void 0),!1===n&&(n=Bt),this.each((function(){T.event.remove(this,t,n,e)}))}});var jt=/<script|<style|<link/i,Ft=/checked\s*(?:[^=]|=\s*.checked.)/i,qt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ut(t,e){return E(t,"table")&&E(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Ht(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Wt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Xt(t,e){var n,i,r,s,a,o,l;if(1===e.nodeType){if(ut.hasData(t)&&(s=ut.get(t),l=s.events,l))for(r in ut.remove(e,"handle events"),l)for(n=0,i=l[r].length;n<i;n++)T.event.add(e,r,l[r][n]);ht.hasData(t)&&(a=ht.access(t),o=T.extend({},a),ht.set(e,o))}}function $t(t,e){var n=e.nodeName.toLowerCase();"input"===n&&At.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Yt(t,e,n,i){e=c(e);var r,s,a,o,l,u,h=0,d=t.length,f=d-1,p=e[0],m=g(p);if(m||d>1&&"string"===typeof p&&!v.checkClone&&Ft.test(p))return t.each((function(r){var s=t.eq(r);m&&(e[0]=p.call(this,r,s.html())),Yt(s,e,n,i)}));if(d&&(r=Dt(e,t[0].ownerDocument,!1,t,i),s=r.firstChild,1===r.childNodes.length&&(r=s),s||i)){for(a=T.map(It(r,"script"),Ht),o=a.length;h<d;h++)l=r,h!==f&&(l=T.clone(l,!0,!0),o&&T.merge(a,It(l,"script"))),n.call(t[h],l,h);if(o)for(u=a[a.length-1].ownerDocument,T.map(a,Wt),h=0;h<o;h++)l=a[h],Mt.test(l.type||"")&&!ut.access(l,"globalEval")&&T.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?T._evalUrl&&!l.noModule&&T._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):x(l.textContent.replace(qt,""),l,u))}return t}function Gt(t,e,n){for(var i,r=e?T.filter(e,t):t,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||T.cleanData(It(i)),i.parentNode&&(n&&bt(i)&&Pt(It(i,"script")),i.parentNode.removeChild(i));return t}T.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,s,a,o=t.cloneNode(!0),l=bt(t);if(!v.noCloneChecked&&(1===t.nodeType||11===t.nodeType)&&!T.isXMLDoc(t))for(a=It(o),s=It(t),i=0,r=s.length;i<r;i++)$t(s[i],a[i]);if(e)if(n)for(s=s||It(t),a=a||It(o),i=0,r=s.length;i<r;i++)Xt(s[i],a[i]);else Xt(t,o);return a=It(o,"script"),a.length>0&&Pt(a,!l&&It(t,"script")),o},cleanData:function(t){for(var e,n,i,r=T.event.special,s=0;void 0!==(n=t[s]);s++)if(lt(n)){if(e=n[ut.expando]){if(e.events)for(i in e.events)r[i]?T.event.remove(n,i):T.removeEvent(n,i,e.handle);n[ut.expando]=void 0}n[ht.expando]&&(n[ht.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Gt(this,t,!0)},remove:function(t){return Gt(this,t)},text:function(t){return it(this,(function(t){return void 0===t?T.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Yt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ut(this,t);e.appendChild(t)}}))},prepend:function(){return Yt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ut(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Yt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Yt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(It(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return T.clone(this,t,e)}))},html:function(t){return it(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"===typeof t&&!jt.test(t)&&!Ot[(Et.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(T.cleanData(It(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Yt(this,arguments,(function(e){var n=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(It(this)),n&&n.replaceChild(e,this))}),t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){T.fn[t]=function(t){for(var n,i=[],r=T(t),s=r.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),T(r[a])[e](n),u.apply(i,n.get());return this.pushStack(i)}}));var Zt=new RegExp("^("+_t+")(?!px)[a-z%]+$","i"),Kt=/^--/,Qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Jt=function(t,e,n){var i,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=s[r];return i},te=new RegExp(gt.join("|"),"i");function ee(t,e,n){var i,r,s,a,o=Kt.test(e),l=t.style;return n=n||Qt(t),n&&(a=n.getPropertyValue(e)||n[e],o&&a&&(a=a.replace(R,"$1")||void 0),""!==a||bt(t)||(a=T.style(t,e)),!v.pixelBoxStyles()&&Zt.test(a)&&te.test(e)&&(i=l.width,r=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=n.width,l.width=i,l.minWidth=r,l.maxWidth=s)),void 0!==a?a+"":a}function ne(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}(function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",yt.appendChild(c).appendChild(u);var t=n.getComputedStyle(u);i="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",a=36===e(t.right),r=36===e(t.width),u.style.position="absolute",s=12===e(u.offsetWidth/3),yt.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var i,r,s,a,o,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===u.style.backgroundClip,T.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s},reliableTrDimensions:function(){var t,e,i,r;return null==o&&(t=b.createElement("table"),e=b.createElement("tr"),i=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="box-sizing:content-box;border:1px solid",e.style.height="1px",i.style.height="9px",i.style.display="block",yt.appendChild(t).appendChild(e).appendChild(i),r=n.getComputedStyle(e),o=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===e.offsetHeight,yt.removeChild(t)),o}}))})();var ie=["Webkit","Moz","ms"],re=b.createElement("div").style,se={};function ae(t){var e=t[0].toUpperCase()+t.slice(1),n=ie.length;while(n--)if(t=ie[n]+e,t in re)return t}function oe(t){var e=T.cssProps[t]||se[t];return e||(t in re?t:se[t]=ae(t)||t)}var le=/^(none|table(?!-c[ea]).+)/,ce={position:"absolute",visibility:"hidden",display:"block"},ue={letterSpacing:"0",fontWeight:"400"};function he(t,e,n){var i=vt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function de(t,e,n,i,r,s){var a="width"===e?1:0,o=0,l=0,c=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=T.css(t,n+gt[a],!0,r)),i?("content"===n&&(l-=T.css(t,"padding"+gt[a],!0,r)),"margin"!==n&&(l-=T.css(t,"border"+gt[a]+"Width",!0,r))):(l+=T.css(t,"padding"+gt[a],!0,r),"padding"!==n?l+=T.css(t,"border"+gt[a]+"Width",!0,r):o+=T.css(t,"border"+gt[a]+"Width",!0,r));return!i&&s>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-o-.5))||0),l+c}function fe(t,e,n){var i=Qt(t),r=!v.boxSizingReliable()||n,s=r&&"border-box"===T.css(t,"boxSizing",!1,i),a=s,o=ee(t,e,i),l="offset"+e[0].toUpperCase()+e.slice(1);if(Zt.test(o)){if(!n)return o;o="auto"}return(!v.boxSizingReliable()&&s||!v.reliableTrDimensions()&&E(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===T.css(t,"display",!1,i))&&t.getClientRects().length&&(s="border-box"===T.css(t,"boxSizing",!1,i),a=l in t,a&&(o=t[l])),o=parseFloat(o)||0,o+de(t,e,n||(s?"border":"content"),a,i,o)+"px"}function pe(t,e,n,i,r){return new pe.prototype.init(t,e,n,i,r)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ee(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,a,o=ot(e),l=Kt.test(e),c=t.style;if(l||(e=oe(o)),a=T.cssHooks[e]||T.cssHooks[o],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:c[e];s=typeof n,"string"===s&&(r=vt.exec(n))&&r[1]&&(n=kt(t,e,r),s="number"),null!=n&&n===n&&("number"!==s||l||(n+=r&&r[3]||(T.cssNumber[o]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,s,a,o=ot(e),l=Kt.test(e);return l||(e=oe(o)),a=T.cssHooks[e]||T.cssHooks[o],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=ee(t,e,i)),"normal"===r&&e in ue&&(r=ue[e]),""===n||n?(s=parseFloat(r),!0===n||isFinite(s)?s||0:r):r}}),T.each(["height","width"],(function(t,e){T.cssHooks[e]={get:function(t,n,i){if(n)return!le.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?fe(t,e,i):Jt(t,ce,(function(){return fe(t,e,i)}))},set:function(t,n,i){var r,s=Qt(t),a=!v.scrollboxSize()&&"absolute"===s.position,o=a||i,l=o&&"border-box"===T.css(t,"boxSizing",!1,s),c=i?de(t,e,i,l,s):0;return l&&a&&(c-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-de(t,e,"border",!1,s)-.5)),c&&(r=vt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=T.css(t,e)),he(t,n,c)}}})),T.cssHooks.marginLeft=ne(v.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(ee(t,"marginLeft"))||t.getBoundingClientRect().left-Jt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),T.each({margin:"",padding:"",border:"Width"},(function(t,e){T.cssHooks[t+e]={expand:function(n){for(var i=0,r={},s="string"===typeof n?n.split(" "):[n];i<4;i++)r[t+gt[i]+e]=s[i]||s[i-2]||s[0];return r}},"margin"!==t&&(T.cssHooks[t+e].set=he)})),T.fn.extend({css:function(t,e){return it(this,(function(t,e,n){var i,r,s={},a=0;if(Array.isArray(e)){for(i=Qt(t),r=e.length;a<r;a++)s[e[a]]=T.css(t,e[a],!1,i);return s}return void 0!==n?T.style(t,e,n):T.css(t,e)}),t,e,arguments.length>1)}}),T.Tween=pe,pe.prototype={constructor:pe,init:function(t,e,n,i,r,s){this.elem=t,this.prop=n,this.easing=r||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(T.cssNumber[n]?"":"px")},cur:function(){var t=pe.propHooks[this.prop];return t&&t.get?t.get(this):pe.propHooks._default.get(this)},run:function(t){var e,n=pe.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):pe.propHooks._default.set(this),this}},pe.prototype.init.prototype=pe.prototype,pe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||!T.cssHooks[t.prop]&&null==t.elem.style[oe(t.prop)]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},pe.propHooks.scrollTop=pe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=pe.prototype.init,T.fx.step={};var me,_e,ve=/^(?:toggle|show|hide)$/,ge=/queueHooks$/;function ye(){_e&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ye):n.setTimeout(ye,T.fx.interval),T.fx.tick())}function be(){return n.setTimeout((function(){me=void 0})),me=Date.now()}function we(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=gt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function xe(t,e,n){for(var i,r=(Ce.tweeners[e]||[]).concat(Ce.tweeners["*"]),s=0,a=r.length;s<a;s++)if(i=r[s].call(n,e,t))return i}function ke(t,e,n){var i,r,s,a,o,l,c,u,h="width"in e||"height"in e,d=this,f={},p=t.style,m=t.nodeType&&xt(t),_=ut.get(t,"fxshow");for(i in n.queue||(a=T._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,T.queue(t,"fx").length||a.empty.fire()}))}))),e)if(r=e[i],ve.test(r)){if(delete e[i],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!_||void 0===_[i])continue;m=!0}f[i]=_&&_[i]||T.style(t,i)}if(l=!T.isEmptyObject(e),l||!T.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=_&&_.display,null==c&&(c=ut.get(t,"display")),u=T.css(t,"display"),"none"===u&&(c?u=c:(Tt([t],!0),c=t.style.display||c,u=T.css(t,"display"),Tt([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===T.css(t,"float")&&(l||(d.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(_?"hidden"in _&&(m=_.hidden):_=ut.access(t,"fxshow",{display:c}),s&&(_.hidden=!m),m&&Tt([t],!0),d.done((function(){for(i in m||Tt([t]),ut.remove(t,"fxshow"),f)T.style(t,i,f[i])}))),l=xe(m?_[i]:0,i,d),i in _||(_[i]=l.start,m&&(l.end=l.start,l.start=0))}function Se(t,e){var n,i,r,s,a;for(n in t)if(i=ot(n),r=e[i],s=t[n],Array.isArray(s)&&(r=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),a=T.cssHooks[i],a&&"expand"in a)for(n in s=a.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=r);else e[i]=r}function Ce(t,e,n){var i,r,s=0,a=Ce.prefilters.length,o=T.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=me||be(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,s=1-i,a=0,l=c.tweens.length;a<l;a++)c.tweens[a].run(s);return o.notifyWith(t,[c,s,n]),s<1&&l?n:(l||o.notifyWith(t,[c,1,0]),o.resolveWith(t,[c]),!1)},c=o.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:e,originalOptions:n,startTime:me||be(),duration:n.duration,tweens:[],createTween:function(e,n){var i=T.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(o.notifyWith(t,[c,1,0]),o.resolveWith(t,[c,e])):o.rejectWith(t,[c,e]),this}}),u=c.props;for(Se(u,c.opts.specialEasing);s<a;s++)if(i=Ce.prefilters[s].call(c,t,u,c.opts),i)return g(i.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return T.map(u,xe,c),g(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(Ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return kt(n.elem,t,vt.exec(e),n),n}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(G);for(var n,i=0,r=t.length;i<r;i++)n=t[i],Ce.tweeners[n]=Ce.tweeners[n]||[],Ce.tweeners[n].unshift(e)},prefilters:[ke],prefilter:function(t,e){e?Ce.prefilters.unshift(t):Ce.prefilters.push(t)}}),T.speed=function(t,e,n){var i=t&&"object"===typeof t?T.extend({},t):{complete:n||!n&&e||g(t)&&t,duration:t,easing:n&&e||e&&!g(e)&&e};return T.fx.off?i.duration=0:"number"!==typeof i.duration&&(i.duration in T.fx.speeds?i.duration=T.fx.speeds[i.duration]:i.duration=T.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&T.dequeue(this,i.queue)},i},T.fn.extend({fadeTo:function(t,e,n,i){return this.filter(xt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=T.isEmptyObject(t),s=T.speed(e,n,i),a=function(){var e=Ce(this,T.extend({},t),s);(r||ut.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!==typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",s=T.timers,a=ut.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ge.test(r)&&i(a[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(n),e=!1,s.splice(r,1));!e&&n||T.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=ut.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],s=T.timers,a=i?i.length:0;for(n.finish=!0,T.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),T.each(["toggle","show","hide"],(function(t,e){var n=T.fn[e];T.fn[e]=function(t,i,r){return null==t||"boolean"===typeof t?n.apply(this,arguments):this.animate(we(e,!0),t,i,r)}})),T.each({slideDown:we("show"),slideUp:we("hide"),slideToggle:we("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){T.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),T.timers=[],T.fx.tick=function(){var t,e=0,n=T.timers;for(me=Date.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||T.fx.stop(),me=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){_e||(_e=!0,ye())},T.fx.stop=function(){_e=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}}))},function(){var t=b.createElement("input"),e=b.createElement("select"),n=e.appendChild(b.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=n.selected,t=b.createElement("input"),t.value="t",t.type="radio",v.radioValue="t"===t.value}();var Te,Ae=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return it(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){T.removeAttr(this,t)}))}}),T.extend({attr:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"===typeof t.getAttribute?T.prop(t,e,n):(1===s&&T.isXMLDoc(t)||(r=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?Te:void 0)),void 0!==n?null===n?void T.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=T.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&E(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(G);if(r&&1===t.nodeType)while(n=r[i++])t.removeAttribute(n)}}),Te={set:function(t,e,n){return!1===e?T.removeAttr(t,n):t.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=Ae[e]||T.find.attr;Ae[e]=function(t,e,i){var r,s,a=e.toLowerCase();return i||(s=Ae[a],Ae[a]=r,r=null!=n(t,e,i)?a:null,Ae[a]=s),r}}));var Ee=/^(?:input|select|textarea|button)$/i,Me=/^(?:a|area)$/i;function Oe(t){var e=t.match(G)||[];return e.join(" ")}function Ie(t){return t.getAttribute&&t.getAttribute("class")||""}function Pe(t){return Array.isArray(t)?t:"string"===typeof t&&t.match(G)||[]}T.fn.extend({prop:function(t,e){return it(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[T.propFix[t]||t]}))}}),T.extend({prop:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&T.isXMLDoc(t)||(e=T.propFix[e]||e,r=T.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):Ee.test(t.nodeName)||Me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){T.propFix[this.toLowerCase()]=this})),T.fn.extend({addClass:function(t){var e,n,i,r,s,a;return g(t)?this.each((function(e){T(this).addClass(t.call(this,e,Ie(this)))})):(e=Pe(t),e.length?this.each((function(){if(i=Ie(this),n=1===this.nodeType&&" "+Oe(i)+" ",n){for(s=0;s<e.length;s++)r=e[s],n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=Oe(n),i!==a&&this.setAttribute("class",a)}})):this)},removeClass:function(t){var e,n,i,r,s,a;return g(t)?this.each((function(e){T(this).removeClass(t.call(this,e,Ie(this)))})):arguments.length?(e=Pe(t),e.length?this.each((function(){if(i=Ie(this),n=1===this.nodeType&&" "+Oe(i)+" ",n){for(s=0;s<e.length;s++){r=e[s];while(n.indexOf(" "+r+" ")>-1)n=n.replace(" "+r+" "," ")}a=Oe(n),i!==a&&this.setAttribute("class",a)}})):this):this.attr("class","")},toggleClass:function(t,e){var n,i,r,s,a=typeof t,o="string"===a||Array.isArray(t);return g(t)?this.each((function(n){T(this).toggleClass(t.call(this,n,Ie(this),e),e)})):"boolean"===typeof e&&o?e?this.addClass(t):this.removeClass(t):(n=Pe(t),this.each((function(){if(o)for(s=T(this),r=0;r<n.length;r++)i=n[r],s.hasClass(i)?s.removeClass(i):s.addClass(i);else void 0!==t&&"boolean"!==a||(i=Ie(this),i&&ut.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===t?"":ut.get(this,"__className__")||""))})))},hasClass:function(t){var e,n,i=0;e=" "+t+" ";while(n=this[i++])if(1===n.nodeType&&(" "+Oe(Ie(n))+" ").indexOf(e)>-1)return!0;return!1}});var Re=/\r/g;T.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=g(t),this.each((function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,T(this).val()):t,null==r?r="":"number"===typeof r?r+="":Array.isArray(r)&&(r=T.map(r,(function(t){return null==t?"":t+""}))),e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=T.valHooks[r.type]||T.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"===typeof n?n.replace(Re,""):null==n?"":n)):void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:Oe(T.text(t))}},select:{get:function(t){var e,n,i,r=t.options,s=t.selectedIndex,a="select-one"===t.type,o=a?null:[],l=a?s+1:r.length;for(i=s<0?l:a?s:0;i<l;i++)if(n=r[i],(n.selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(e=T(n).val(),a)return e;o.push(e)}return o},set:function(t,e){var n,i,r=t.options,s=T.makeArray(e),a=r.length;while(a--)i=r[a],(i.selected=T.inArray(T.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),T.each(["radio","checkbox"],(function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},v.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var De=n.location,Ne={guid:Date.now()},Le=/\?/;T.parseXML=function(t){var e,i;if(!t||"string"!==typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(r){}return i=e&&e.getElementsByTagName("parsererror")[0],e&&!i||T.error("Invalid XML: "+(i?T.map(i.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Be=/^(?:focusinfocus|focusoutblur)$/,Ve=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,i,r){var s,a,o,l,c,u,h,d,f=[i||b],m=p.call(t,"type")?t.type:t,_=p.call(t,"namespace")?t.namespace.split("."):[];if(a=d=o=i=i||b,3!==i.nodeType&&8!==i.nodeType&&!Be.test(m+T.event.triggered)&&(m.indexOf(".")>-1&&(_=m.split("."),m=_.shift(),_.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[T.expando]?t:new T.Event(m,"object"===typeof t&&t),t.isTrigger=r?2:3,t.namespace=_.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:T.makeArray(e,[t]),h=T.event.special[m]||{},r||!h.trigger||!1!==h.trigger.apply(i,e))){if(!r&&!h.noBubble&&!y(i)){for(l=h.delegateType||m,Be.test(l+m)||(a=a.parentNode);a;a=a.parentNode)f.push(a),o=a;o===(i.ownerDocument||b)&&f.push(o.defaultView||o.parentWindow||n)}s=0;while((a=f[s++])&&!t.isPropagationStopped())d=a,t.type=s>1?l:h.bindType||m,u=(ut.get(a,"events")||Object.create(null))[t.type]&&ut.get(a,"handle"),u&&u.apply(a,e),u=c&&a[c],u&&u.apply&&lt(a)&&(t.result=u.apply(a,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),e)||!lt(i)||c&&g(i[m])&&!y(i)&&(o=i[c],o&&(i[c]=null),T.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,Ve),i[m](),t.isPropagationStopped()&&d.removeEventListener(m,Ve),T.event.triggered=void 0,o&&(i[c]=o)),t.result}},simulate:function(t,e,n){var i=T.extend(new T.Event,n,{type:t,isSimulated:!0});T.event.trigger(i,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each((function(){T.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return T.event.trigger(t,e,n,!0)}});var ze=/\[\]$/,je=/\r?\n/g,Fe=/^(?:submit|button|image|reset|file)$/i,qe=/^(?:input|select|textarea|keygen)/i;function Ue(t,e,n,i){var r;if(Array.isArray(e))T.each(e,(function(e,r){n||ze.test(t)?i(t,r):Ue(t+"["+("object"===typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==k(e))i(t,e);else for(r in e)Ue(t+"["+r+"]",e[r],n,i)}T.param=function(t,e){var n,i=[],r=function(t,e){var n=g(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,(function(){r(this.name,this.value)}));else for(n in t)Ue(n,t[n],e,r);return i.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&qe.test(this.nodeName)&&!Fe.test(t)&&(this.checked||!At.test(t))})).map((function(t,e){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,(function(t){return{name:e.name,value:t.replace(je,"\r\n")}})):{name:e.name,value:n.replace(je,"\r\n")}})).get()}});var He=/%20/g,We=/#.*$/,Xe=/([?&])_=[^&]*/,$e=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ye=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ge=/^(?:GET|HEAD)$/,Ze=/^\/\//,Ke={},Qe={},Je="*/".concat("*"),tn=b.createElement("a");function en(t){return function(e,n){"string"!==typeof e&&(n=e,e="*");var i,r=0,s=e.toLowerCase().match(G)||[];if(g(n))while(i=s[r++])"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function nn(t,e,n,i){var r={},s=t===Qe;function a(o){var l;return r[o]=!0,T.each(t[o]||[],(function(t,o){var c=o(e,n,i);return"string"!==typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)})),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function rn(t,e){var n,i,r=T.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&T.extend(!0,t,i),t}function sn(t,e,n){var i,r,s,a,o=t.contents,l=t.dataTypes;while("*"===l[0])l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}a||(a=r)}s=s||a}if(s)return s!==l[0]&&l.unshift(s),n[s]}function an(t,e,n,i){var r,s,a,o,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];s=u.shift();while(s)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift(),s)if("*"===s)s=l;else if("*"!==l&&l!==s){if(a=c[l+" "+s]||c["* "+s],!a)for(r in c)if(o=r.split(" "),o[1]===s&&(a=c[l+" "+o[0]]||c["* "+o[0]],a)){!0===a?a=c[r]:!0!==c[r]&&(s=o[0],u.unshift(o[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}tn.href=De.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:De.href,type:"GET",isLocal:Ye.test(De.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?rn(rn(t,T.ajaxSettings),e):rn(T.ajaxSettings,t)},ajaxPrefilter:en(Ke),ajaxTransport:en(Qe),ajax:function(t,e){"object"===typeof t&&(e=t,t=void 0),e=e||{};var i,r,s,a,o,l,c,u,h,d,f=T.ajaxSetup({},e),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?T(p):T.event,_=T.Deferred(),v=T.Callbacks("once memory"),g=f.statusCode||{},y={},w={},x="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a){a={};while(e=$e.exec(s))a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2])}e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,y[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)g[e]=[g[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),S(0,e),this}};if(_.promise(k),f.url=((t||f.url||De.href)+"").replace(Ze,De.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(G)||[""],null==f.crossDomain){l=b.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=tn.protocol+"//"+tn.host!==l.protocol+"//"+l.host}catch(C){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!==typeof f.data&&(f.data=T.param(f.data,f.traditional)),nn(Ke,f,e,k),c)return k;for(h in u=T.event&&f.global,u&&0===T.active++&&T.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ge.test(f.type),r=f.url.replace(We,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(He,"+")):(d=f.url.slice(r.length),f.data&&(f.processData||"string"===typeof f.data)&&(r+=(Le.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Xe,"$1"),d=(Le.test(r)?"&":"?")+"_="+Ne.guid+++d),f.url=r+d),f.ifModified&&(T.lastModified[r]&&k.setRequestHeader("If-Modified-Since",T.lastModified[r]),T.etag[r]&&k.setRequestHeader("If-None-Match",T.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Je+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,k,f)||c))return k.abort();if(x="abort",v.add(f.complete),k.done(f.success),k.fail(f.error),i=nn(Qe,f,e,k),i){if(k.readyState=1,u&&m.trigger("ajaxSend",[k,f]),c)return k;f.async&&f.timeout>0&&(o=n.setTimeout((function(){k.abort("timeout")}),f.timeout));try{c=!1,i.send(y,S)}catch(C){if(c)throw C;S(-1,C)}}else S(-1,"No Transport");function S(t,e,a,l){var h,d,y,b,w,x=e;c||(c=!0,o&&n.clearTimeout(o),i=void 0,s=l||"",k.readyState=t>0?4:0,h=t>=200&&t<300||304===t,a&&(b=sn(f,k,a)),!h&&T.inArray("script",f.dataTypes)>-1&&T.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),b=an(f,b,k,h),h?(f.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(T.lastModified[r]=w),w=k.getResponseHeader("etag"),w&&(T.etag[r]=w)),204===t||"HEAD"===f.type?x="nocontent":304===t?x="notmodified":(x=b.state,d=b.data,y=b.error,h=!y)):(y=x,!t&&x||(x="error",t<0&&(t=0))),k.status=t,k.statusText=(e||x)+"",h?_.resolveWith(p,[d,x,k]):_.rejectWith(p,[k,x,y]),k.statusCode(g),g=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[k,f,h?d:y]),v.fireWith(p,[k,x]),u&&(m.trigger("ajaxComplete",[k,f]),--T.active||T.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return T.get(t,e,n,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],(function(t,e){T[e]=function(t,n,i,r){return g(n)&&(r=r||i,i=n,n=void 0),T.ajax(T.extend({url:t,type:e,dataType:r,data:n,success:i},T.isPlainObject(t)&&t))}})),T.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),T._evalUrl=function(t,e,n){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){T.globalEval(t,e,n)}})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){var t=this;while(t.firstElementChild)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return g(t)?this.each((function(e){T(this).wrapInner(t.call(this,e))})):this.each((function(){var e=T(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=g(t);return this.each((function(n){T(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){T(this).replaceWith(this.childNodes)})),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var on={0:200,1223:204},ln=T.ajaxSettings.xhr();v.cors=!!ln&&"withCredentials"in ln,v.ajax=ln=!!ln,T.ajaxTransport((function(t){var e,i;if(v.cors||ln&&!t.crossDomain)return{send:function(r,s){var a,o=t.xhr();if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)o[a]=t.xhrFields[a];for(a in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)o.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=i=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===t?o.abort():"error"===t?"number"!==typeof o.status?s(0,"error"):s(o.status,o.statusText):s(on[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!==typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=e(),i=o.onerror=o.ontimeout=e("error"),void 0!==o.onabort?o.onabort=i:o.onreadystatechange=function(){4===o.readyState&&n.setTimeout((function(){e&&i()}))},e=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(l){if(e)throw l}},abort:function(){e&&e()}}})),T.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),T.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=T("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){n&&n()}}}));var cn=[],un=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=cn.pop()||T.expando+"_"+Ne.guid++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",(function(t,e,i){var r,s,a,o=!1!==t.jsonp&&(un.test(t.url)?"url":"string"===typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&un.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(un,"$1"+r):!1!==t.jsonp&&(t.url+=(Le.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||T.error(r+" was not called"),a[0]},t.dataTypes[0]="json",s=n[r],n[r]=function(){a=arguments},i.always((function(){void 0===s?T(n).removeProp(r):n[r]=s,t[r]&&(t.jsonpCallback=e.jsonpCallback,cn.push(r)),a&&g(s)&&s(a[0]),a=s=void 0})),"script"})),v.createHTMLDocument=function(){var t=b.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),T.parseHTML=function(t,e,n){return"string"!==typeof t?[]:("boolean"===typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?(e=b.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=b.location.href,e.head.appendChild(i)):e=b),r=F.exec(t),s=!n&&[],r?[e.createElement(r[1])]:(r=Dt([t],e,s),s&&s.length&&T(s).remove(),T.merge([],r.childNodes)));var i,r,s},T.fn.load=function(t,e,n){var i,r,s,a=this,o=t.indexOf(" ");return o>-1&&(i=Oe(t.slice(o)),t=t.slice(0,o)),g(e)?(n=e,e=void 0):e&&"object"===typeof e&&(r="POST"),a.length>0&&T.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){s=arguments,a.html(i?T("<div>").append(T.parseHTML(t)).find(i):t)})).always(n&&function(t,e){a.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},T.expr.pseudos.animated=function(t){return T.grep(T.timers,(function(e){return t===e.elem})).length},T.offset={setOffset:function(t,e,n){var i,r,s,a,o,l,c,u=T.css(t,"position"),h=T(t),d={};"static"===u&&(t.style.position="relative"),o=h.offset(),s=T.css(t,"top"),l=T.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1,c?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(s)||0,r=parseFloat(l)||0),g(e)&&(e=e.call(t,n,T.extend({},o))),null!=e.top&&(d.top=e.top-o.top+a),null!=e.left&&(d.left=e.left-o.left+r),"using"in e?e.using.call(t,d):h.css(d)}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){T.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===T.css(i,"position"))e=i.getBoundingClientRect();else{e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;while(t&&(t===n.body||t===n.documentElement)&&"static"===T.css(t,"position"))t=t.parentNode;t&&t!==i&&1===t.nodeType&&(r=T(t).offset(),r.top+=T.css(t,"borderTopWidth",!0),r.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-T.css(i,"marginTop",!0),left:e.left-r.left-T.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){var t=this.offsetParent;while(t&&"static"===T.css(t,"position"))t=t.offsetParent;return t||yt}))}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;T.fn[t]=function(i){return it(this,(function(t,i,r){var s;if(y(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):t[i]=r}),t,i,arguments.length)}})),T.each(["top","left"],(function(t,e){T.cssHooks[e]=ne(v.pixelPosition,(function(t,n){if(n)return n=ee(t,e),Zt.test(n)?T(t).position()[e]+"px":n}))})),T.each({Height:"height",Width:"width"},(function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){T.fn[i]=function(r,s){var a=arguments.length&&(n||"boolean"!==typeof r),o=n||(!0===r||!0===s?"margin":"border");return it(this,(function(e,n,r){var s;return y(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?T.css(e,n,o):T.style(e,n,r,o)}),e,a?r:void 0,a)}}))})),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){T.fn[e]=function(t){return this.on(e,t)}})),T.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){T.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var hn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;T.proxy=function(t,e){var n,i,r;if("string"===typeof e&&(n=t[e],e=t,t=n),g(t))return i=l.call(arguments,2),r=function(){return t.apply(e||this,i.concat(l.call(arguments)))},r.guid=t.guid=t.guid||T.guid++,r},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=E,T.isFunction=g,T.isWindow=y,T.camelCase=ot,T.type=k,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},T.trim=function(t){return null==t?"":(t+"").replace(hn,"$1")},i=[],r=function(){return T}.apply(e,i),void 0===r||(t.exports=r);var dn=n.jQuery,fn=n.$;return T.noConflict=function(t){return n.$===T&&(n.$=fn),t&&n.jQuery===T&&(n.jQuery=dn),T},"undefined"===typeof s&&(n.jQuery=n.$=T),T}))},10:function(t,e,n){n(4114),n(6573),n(8100),n(7936),function(t,i){i(e,n(8764),n(6710),n(4864))}(0,(function(t,e,n,i){"use strict";function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}function s(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var o=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2?arguments[2]:void 0;if(n(this,t),i<0||void 0!==s&&s<0)throw new RangeError;var a=e.reduce((function(t,e){return t+e.byteLength}),0);if(i>a||void 0!==s&&i+s>a)throw new RangeError;var o,l=[],c=void 0===s?a-i:s,u=[],h=0,d=i,f=r(e);try{for(f.s();!(o=f.n()).done;){var p=o.value;if(0===u.length)if(p.byteLength>d){h=p.byteLength-d;var m=h>c?c:h;l.push(new DataView(p,d,m)),u.push(p)}else d-=p.byteLength;else if(h<c){h+=p.byteLength;var _=h>c?p.byteLength-h+c:p.byteLength;l.push(new DataView(p,0,_)),u.push(p)}}}catch(v){f.e(v)}finally{f.f()}this._buffers=u,this._byteLength=c,this._byteOffset=d,this._dataViews=l,this._internalBuffer=new DataView(new ArrayBuffer(8))}return i(t,[{key:"buffers",get:function(){return this._buffers}},{key:"byteLength",get:function(){return this._byteLength}},{key:"byteOffset",get:function(){return this._byteOffset}},{key:"getFloat32",value:function(t,e){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getFloat32(0,e)}},{key:"getFloat64",value:function(t,e){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.setUint8(4,this.getUint8(t+4)),this._internalBuffer.setUint8(5,this.getUint8(t+5)),this._internalBuffer.setUint8(6,this.getUint8(t+6)),this._internalBuffer.setUint8(7,this.getUint8(t+7)),this._internalBuffer.getFloat64(0,e)}},{key:"getInt16",value:function(t,e){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.getInt16(0,e)}},{key:"getInt32",value:function(t,e){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getInt32(0,e)}},{key:"getInt8",value:function(t){var n=this._findDataViewWithOffset(t),i=e(n,2),r=i[0],s=i[1];return r.getInt8(t-s)}},{key:"getUint16",value:function(t,e){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.getUint16(0,e)}},{key:"getUint32",value:function(t,e){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getUint32(0,e)}},{key:"getUint8",value:function(t){var n=this._findDataViewWithOffset(t),i=e(n,2),r=i[0],s=i[1];return r.getUint8(t-s)}},{key:"setFloat32",value:function(t,e,n){this._internalBuffer.setFloat32(0,e,n),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}},{key:"setFloat64",value:function(t,e,n){this._internalBuffer.setFloat64(0,e,n),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3)),this.setUint8(t+4,this._internalBuffer.getUint8(4)),this.setUint8(t+5,this._internalBuffer.getUint8(5)),this.setUint8(t+6,this._internalBuffer.getUint8(6)),this.setUint8(t+7,this._internalBuffer.getUint8(7))}},{key:"setInt16",value:function(t,e,n){this._internalBuffer.setInt16(0,e,n),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1))}},{key:"setInt32",value:function(t,e,n){this._internalBuffer.setInt32(0,e,n),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}},{key:"setInt8",value:function(t,n){var i=this._findDataViewWithOffset(t),r=e(i,2),s=r[0],a=r[1];s.setInt8(t-a,n)}},{key:"setUint16",value:function(t,e,n){this._internalBuffer.setUint16(0,e,n),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1))}},{key:"setUint32",value:function(t,e,n){this._internalBuffer.setUint32(0,e,n),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}},{key:"setUint8",value:function(t,n){var i=this._findDataViewWithOffset(t),r=e(i,2),s=r[0],a=r[1];s.setUint8(t-a,n)}},{key:"_findDataViewWithOffset",value:function(t){var e,n=0,i=r(this._dataViews);try{for(i.s();!(e=i.n()).done;){var s=e.value,a=n+s.byteLength;if(t>=n&&t<a)return[s,n];n=a}}catch(o){i.e(o)}finally{i.f()}throw new RangeError}}])}();t.MultiBufferDataView=o}))},2493:function(t,e,n){n(4114),n(6573),n(8100),n(7936),n(7467),n(4732),n(9577),function(e,n){t.exports=n()}(0,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t["default"]:t},r=i(n(1));t.exports=r},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}},r=function(t){return t&&t.__esModule?t["default"]:t},s=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};e.colors=w,e.context=x,e.clock=k,Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(2)),l=r(n(5)),c=r(n(38)),u=r(n(40)),h=i(n(39)),d=n(28),f=n(41),p=n(27),m=n(26),_=n(25),v=r(n(42)),g=r(n(29)),y=function(){function t(e){for(var n in a(this,t),o)this[n]=o[n];for(var n in l)this[n]=l[n];var i={Rack:c},r={Counter:d,Radio:f,Drunk:p,Sequence:m,Matrix:_};for(var n in r)this[n]=r[n];for(var n in i)this[n]=i[n];var s=window.AudioContext||window.webkitAudioContext;for(var n in this._context=e||new s,this.tune=new u,this.note=this.tune.note.bind(this.tune),this.clock=new v(this._context),this.clock.start(),this.Interval=g,this.colors={accent:"#2bb",fill:"#eee",light:"#fff",dark:"#333",mediumLight:"#ccc",mediumDark:"#666"},this.transform=h,this.add=h.add,this.Add={},o)this.Add[n]=h.add.bind(this,n);var y=document.createElement("style");y.type="text/css",y.innerHTML="[nexus-ui]{height:5000px;width:5000px}";var b=document.head;b.insertBefore(y,b.firstElementChild)}return s(t,{context:{get:function(){return this._context},set:function(t){this.clock.stop(),this._context=t,this.clock=new v(this.context),this.clock.start()}}}),t}(),b=new y;function w(){return b.colors}function x(){return b.context}function k(){return b.clock}e["default"]=b},function(t,e,n){"use strict";t.exports={Position:n(3),Slider:n(14),Toggle:n(15),Button:n(16),TextButton:n(18),RadioButton:n(19),Number:n(20),Select:n(21),Dial:n(22),Piano:n(23),Sequencer:n(24),Pan2D:n(30),Tilt:n(31),Multislider:n(32),Pan:n(33),Envelope:n(34),Spectrogram:n(35),Meter:n(36),Oscilloscope:n(37)}},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}},r=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=n(4),c=n(6),u=n(11),h=i(n(12)),d=function(t){function e(){o(this,e);var t=["value"],n={size:[200,200],mode:"absolute",minX:0,maxX:1,stepX:0,x:.5,minY:0,maxY:1,stepY:0,y:.5};s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this._x=new u(this.settings.minX,this.settings.maxX,this.settings.stepX,this.settings.x),this._y=new u(this.settings.minY,this.settings.maxY,this.settings.stepY,this.settings.y),this.position={x:new h.Handle(this.settings.mode,"horizontal",[0,this.width],[this.height,0]),y:new h.Handle(this.settings.mode,"vertical",[0,this.width],[this.height,0])},this.position.x.value=this._x.normalized,this.position.y.value=this._y.normalized,this.init(),this.render()}return a(e,t),r(e,{buildInterface:{value:function(){this.knob=l.create("circle"),this.element.appendChild(this.knob)}},sizeInterface:{value:function(){this.position.x.resize([0,this.width],[this.height,0]),this.position.y.resize([0,this.width],[this.height,0]),this._minDimension=Math.min(this.width,this.height),this.knobRadius={off:5*~~(this._minDimension/100)+5},this.knobRadius.on=2*this.knobRadius.off,this.knob.setAttribute("cx",this.width/2),this.knob.setAttribute("cy",this.height/2),this.knob.setAttribute("r",this.knobRadius.off)}},colorInterface:{value:function(){this.element.style.backgroundColor=this.colors.fill,this.knob.setAttribute("fill",this.colors.accent)}},render:{value:function(){this.clicked?this.knob.setAttribute("r",this.knobRadius.on):this.knob.setAttribute("r",this.knobRadius.off),this.knobCoordinates={x:this._x.normalized*this.width,y:this.height-this._y.normalized*this.height},this.knob.setAttribute("cx",this.knobCoordinates.x),this.knob.setAttribute("cy",this.knobCoordinates.y)}},click:{value:function(){this.position.x.anchor=this.mouse,this.position.y.anchor=this.mouse,this.move()}},move:{value:function(){this.clicked&&(this.position.x.update(this.mouse),this.position.y.update(this.mouse),this._x.updateNormal(this.position.x.value),this._y.updateNormal(this.position.y.value),this.emit("change",{x:this._x.value,y:this._y.value}),this.render())}},release:{value:function(){this.render()}},x:{get:function(){return this._x.value},set:function(t){this._x.update(t),this.emit("change",{x:this._x.value,y:this._y.value}),this.render()}},y:{get:function(){return this._y.value},set:function(t){this._y.update(t),this.emit("change",{x:this._x.value,y:this._y.value}),this.render()}},normalized:{get:function(){return{x:this._x.normalized,y:this._y.normalized}}},minX:{get:function(){return this._x.min},set:function(t){this._x.min=t,this.render()}},minY:{get:function(){return this._y.min},set:function(t){this._y.min=t,this.render()}},maxX:{get:function(){return this._x.max},set:function(t){this._x.max=t,this.render()}},maxY:{get:function(){return this._y.max},set:function(t){this._y.max=t,this.render()}},stepX:{get:function(){return this._x.step},set:function(t){this._x.step=t,this.render()}},stepY:{get:function(){return this._y.step},set:function(t){this._y.step=t,this.render()}},mode:{get:function(){return this.position.x.mode},set:function(t){this.position.x.mode=t,this.position.y.mode=t}}}),e}(c);t.exports=d},function(t,e,n){"use strict";var i=n(5);t.exports={create:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},arc:function(t,e,n,r,s){var a=i.toCartesian(n,s),o=i.toCartesian(n,r),l=s-r<=180?"0":"1",c=["M",a.x+t,a.y+e,"A",n,n,0,l,0,o.x+t,o.y+e].join(" ");return c},radialGradient:function(t,e){var n="gradient"+i.ri(1e11),r=[],s=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");s.setAttribute("id",n),s.setAttribute("cx","50%"),s.setAttribute("cy","50%"),s.setAttribute("r","50%"),t.appendChild(s);for(var a=0;a<e;a++){var o=document.createElementNS("http://www.w3.org/2000/svg","stop");o.setAttribute("id","stop"+a),s.appendChild(o),r.push(o)}return{id:n,stops:r,element:s}}}},function(t,e){"use strict";e.clip=function(t,e,n){return Math.min(Math.max(t,e),n)},e.normalize=function(t,e,n){return(t-e)/(n-e)},e.scale=function(t,e,n,i,r){return e===n?i:(t-e)*(r-i)/(n-e)+i},e.toPolar=function(t,e){var n=Math.sqrt(t*t+e*e),i=Math.atan2(e,t);return i<0&&(i+=2*Math.PI),{radius:n,angle:i}},e.toCartesian=function(t,e){var n=Math.cos(e),i=Math.sin(e);return{x:t*n,y:t*i*-1}},e.prune=function(t,e){return parseFloat(t.toFixed(e))},e.invert=function(t){return e.scale(t,1,0,0,1)},e.mtof=function(t){return 440*Math.pow(2,(t-69)/12)},e.interp=function(t,e,n){return t*(n-e)+e},e.pick=function(){return arguments[~~(Math.random()*arguments.length)]},e.octave=function(t){return Math.pow(2,t)},e.ri=function(t,e){e||(e=t,t=0);var n=Math.min(t,e),i=Math.max(t,e);return Math.floor(Math.random()*(i-n)+n)},e.rf=function(t,e){e||(e=t,t=0);var n=Math.min(t,e),i=Math.max(t,e);return Math.random()*(i-n)+n},e.cycle=function(t,e,n){return t++,t>=n&&(t=e),t},e.average=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e/t.length},e.distance=function(t,e,n,i){var r=t-n,s=e-i;return Math.sqrt(r*r+s*s)},e.gainToDB=function(t){return 20*Math.log10(t)},e.coin=function(){var t=void 0===arguments[0]?.5:arguments[0];return e.rf(0,1)<t?1:0}},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(4),l=n(7),c=n(8),u=n(9),h=n(10),d=n(1).colors,f=function(t){function e(t,n,i){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.type=this.constructor.name,this.settings=this.parseSettings(t,n,i),this.mouse={},this.wait=!1,this.colors={};var s=d();this.colors.accent=s.accent,this.colors.fill=s.fill,this.colors.light=s.light,this.colors.dark=s.dark,this.colors.mediumLight=s.mediumLight,this.colors.mediumDark=s.mediumDark}return s(e,t),i(e,{parseSettings:{value:function(t,e,n){e.unshift("target"),n.defaultSize=n.size.splice(0,2),n.size=!1;var i={target:document.body,colors:{},snapWithParent:!0,event:function(){},component:!1};for(var r in n)i[r]=n[r];for(var s=0;s<t.length;s++){var a=t[s];if(c.isObject(a))for(var r in a)i[r]=a[r];else if("function"===typeof a)i.event=a;else if(e.length>=1){r=e.splice(0,1)[0];i[r]=a}}return this.parent=l.parseElement(i.target),this.parent&&this.parent instanceof HTMLElement&&!i.component&&(this.parent.hasAttribute("nexus-ui")||this.parent.setAttribute("nexus-ui","")),i.size&&Array.isArray(i.size)&&i.snapWithParent?(this.width=i.size[0],this.height=i.size[1],this.parent.style.width=this.width+"px",this.parent.style.height=this.height+"px"):i.snapWithParent&&!i.component?(this.width=parseFloat(window.getComputedStyle(this.parent,null).getPropertyValue("width").replace("px","")),this.height=parseFloat(window.getComputedStyle(this.parent,null).getPropertyValue("height").replace("px","")),5e3==this.width&&(this.width=i.defaultSize[0],this.parent.style.width=this.parent.width=this.width+"px"),5e3==this.height&&(this.height=i.defaultSize[1],this.parent.style.height=this.parent.height=this.height+"px")):(i.size=i.defaultSize,this.width=i.size[0],this.height=i.size[1]),i.event?this.event=this.on("change",i.event):this.event=!1,i}},init:{value:function(){this.buildFrame(),this.buildInterface(),this.sizeInterface(),this.attachListeners(),this.colorInterface(),this.finalTouches()}},buildFrame:{value:function(){this.element=o.create("svg"),this.element.setAttribute("width",this.width),this.element.setAttribute("height",this.height),this.parent.appendChild(this.element)}},buildInterface:{value:function(){}},sizeInterface:{value:function(){}},colorInterface:{value:function(){}},attachListeners:{value:function(){var t=this;this.interactionTarget=this.interactionTarget||this.element,u.exists&&(this.interactionTarget.addEventListener("touchstart",(function(e){return t.preTouch(e)})),this.interactionTarget.addEventListener("touchmove",(function(e){return t.preTouchMove(e)})),this.interactionTarget.addEventListener("touchend",(function(e){return t.preTouchRelease(e)}))),this.boundPreMove=function(e){return t.preMove(e)},this.boundPreRelease=function(e){return t.preRelease(e)},this.interactionTarget.addEventListener("mousedown",(function(e){return t.preClick(e)}))}},finalTouches:{value:function(){this.element.style.cursor="pointer"}},preClick:{value:function(t){this.element instanceof HTMLElement&&(this.width=window.getComputedStyle(this.element,null).getPropertyValue("width").replace("px","")),this.offset=l.findPosition(this.element),this.mouse=l.locateMouse(t,this.offset),this.clicked=!0,this.click(),this.moveEvent=document.addEventListener("mousemove",this.boundPreMove),this.releaseEvent=document.addEventListener("mouseup",this.boundPreRelease),this.emit("click"),t.preventDefault(),t.stopPropagation()}},preMove:{value:function(t){var e=this;this.wait||(this.mouse=l.locateMouse(t,this.offset),this.move(),this.wait=!0,setTimeout((function(){e.wait=!1}),25)),t.preventDefault(),t.stopPropagation()}},preRelease:{value:function(t){this.mouse=l.locateMouse(t,this.offset),this.clicked=!1,this.release(),this.emit("release"),document.removeEventListener("mousemove",this.boundPreMove),document.removeEventListener("mouseup",this.boundPreRelease),t.preventDefault(),t.stopPropagation()}},click:{value:function(){}},move:{value:function(){}},release:{value:function(){}},preTouch:{value:function(t){this.element instanceof HTMLElement&&(this.width=window.getComputedStyle(this.element,null).getPropertyValue("width").replace("px","")),this.offset=l.findPosition(this.element),this.mouse=l.locateTouch(t,this.offset),this.clicked=!0,this.touch(t),this.emit("click"),t.preventDefault(),t.stopPropagation()}},preTouchMove:{value:function(t){this.clicked&&(this.mouse=l.locateTouch(t,this.offset),this.touchMove(),t.preventDefault(),t.stopPropagation())}},preTouchRelease:{value:function(t){this.mouse=l.locateTouch(t,this.offset),this.clicked=!1,this.touchRelease(),this.emit("release"),t.preventDefault(),t.stopPropagation()}},touch:{value:function(){this.click()}},touchMove:{value:function(){this.move()}},touchRelease:{value:function(){this.release()}},resize:{value:function(t,e){this.width=t,this.height=e,this.parent.style.width=this.width+"px",this.parent.style.height=this.height+"px",this.element.setAttribute("width",this.width),this.element.setAttribute("height",this.height),this.sizeInterface()}},empty:{value:function(){while(this.element.lastChild)this.element.removeChild(this.element.lastChild)}},destroy:{value:function(){this.empty(),this.parent.removeChild(this.element),this.removeAllListeners(),this.instrument&&delete this.instrument[this.id],this.customDestroy()}},customDestroy:{value:function(){}},colorize:{value:function(t,e){this.colors[t]=e,this.colorInterface()}}}),e}(h);t.exports=f},function(t,e){"use strict";e.findPosition=function(t){var e=t.getBoundingClientRect(),n=e.top+window.scrollY,i=e.left+window.scrollX;return{top:n,left:i}},e.parseElement=function(t){return"string"===typeof t&&(t=document.getElementById(t.replace("#",""))),t instanceof HTMLElement||t instanceof SVGElement?t:"No valid parent argument"},e.locateMouse=function(t,e){return{x:t.pageX-e.left,y:t.pageY-e.top}},e.locateTouch=function(t,e){return{x:!!t.targetTouches.length&&t.targetTouches[0].pageX-e.left,y:!!t.targetTouches.length&&t.targetTouches[0].pageY-e.top}},e.SmartCanvas=function(t){var e=this;this.element=document.createElement("canvas"),this.context=this.element.getContext("2d"),t.appendChild(this.element),this.resize=function(t,n){e.element.width=2*t,e.element.height=2*n,e.element.style.width=t+"px",e.element.style.height=n+"px"}}},function(t,e){"use strict";e.isObject=function(t){return"object"===typeof t&&!Array.isArray(t)&&null!==t&&t instanceof SVGElement===!1&&t instanceof HTMLElement===!1},e.setInputFilter=function(t,e){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach((function(n){t.addEventListener(n,(function(){e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""}))}))}},function(t,e){"use strict";e.exists="ontouchstart"in document.documentElement},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"===typeof t}function r(t){return"number"===typeof t}function s(t){return"object"===typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!r(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,r,o,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,l=0;l<r;l++)c[l].apply(this,o);return!0},n.prototype.addListener=function(t,e){var r;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"===typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var n,r,a,o;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(o=a;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)while(n.length)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[],e},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=n(5),a=function(){function t(){var e=void 0===arguments[0]?0:arguments[0],n=void 0===arguments[1]?1:arguments[1],i=void 0===arguments[2]?0:arguments[2],s=void 0===arguments[3]?0:arguments[3];r(this,t),this.min=e,this.max=n,this.step=i,this.value=s,this.changed=!1,this.oldValue=!1,this.update(this.value)}return i(t,{update:{value:function(t){return this.step?this.value=s.clip(Math.round((t-this.min)/this.step)*this.step+this.min,this.min,this.max):this.value=s.clip(t,this.min,this.max),this.oldValue!==this.value?(this.oldValue=this.value,this.changed=!0):this.changed=!1,this.value}},updateNormal:{value:function(t){return this.value=s.scale(t,0,1,this.min,this.max),this.update(this.value)}},normalized:{get:function(){return s.normalize(this.value,this.min,this.max)}}}),t}();t.exports=a},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(5)),o=i(n(13));e.Handle=function(){function t(){var e=void 0===arguments[0]?"absolute":arguments[0],n=void 0===arguments[1]?"vertical":arguments[1],i=void 0===arguments[2]?[0,100]:arguments[2],r=void 0===arguments[3]?[0,100]:arguments[3];s(this,t),this.mode=e,this.direction=n,this.previous=0,this.value=0,this.sensitivity=1,this.resize(i,r)}return r(t,{resize:{value:function(t,e){this.boundary={min:{x:t[0],y:e[0]},max:{x:t[1],y:e[1]},center:{x:(t[1]-t[0])/2+t[0],y:(e[1]-e[0])/2+e[0]}}}},anchor:{set:function(t){this._anchor=this.convertPositionToValue(t)},get:function(){return this._anchor}},update:{value:function(t){if("relative"===this.mode){var e=this.convertPositionToValue(t)-this.anchor;Math.abs(e)>.5&&(e=0),this.anchor=t,this.value=this.value+e*this.sensitivity}else this.value=this.convertPositionToValue(t);this.value=a.clip(this.value,0,1)}},convertPositionToValue:{value:function(t){switch(this.direction){case"radial":var e=a.toPolar(t.x-this.boundary.center.x,t.y-this.boundary.center.y);return e=e.angle/(2*Math.PI),e=(e-.25+1)%1,e;case"vertical":return a.scale(t.y,this.boundary.min.y,this.boundary.max.y,0,1);case"horizontal":return a.scale(t.x,this.boundary.min.x,this.boundary.max.x,0,1)}}}}),t}(),e.Button=function(){function t(){var e=void 0===arguments[0]?"button":arguments[0];s(this,t),this.mode=e,this.state=new o,this.paintbrush=!1}return r(t,{click:{value:function(){switch(this.mode){case"impulse":this.state.on(),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.state.off.bind(this),30),this.emit("change",this.state);break;case"button":this.turnOn(),this.emit("change",this.state);break;case"aftertouch":this.position={x:a.clip(this.mouse.x/this.width,0,1),y:a.clip(1-this.mouse.y/this.height,0,1)},this.turnOn(),this.emit("change",{state:this.state,x:this.position.x,y:this.position.y});break;case"toggle":this.flip(),this.emit("change",this.state);break}}},move:{value:function(){"aftertouch"===this.mode&&(this.position={x:a.clip(this.mouse.x/this.width,0,1),y:a.clip(1-this.mouse.y/this.height,0,1)},this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}),this.render())}},release:{value:function(){switch(this.mode){case"button":this.turnOff(),this.emit("change",this.state);break;case"aftertouch":this.turnOff(),this.position={x:this.mouse.x/this.width,y:1-this.mouse.y/this.height},this.emit("change",{state:this.state,x:this.position.x,y:this.position.y});break}}}}),t}()},function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(e){i(this,t),this.state=e||!1}return n(t,{flip:{value:function(t){this.state=t||!1===t?t:!this.state}},on:{value:function(){this.state=!0}},off:{value:function(){this.state=!1}}}),t}();t.exports=r},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}},r=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=n(4),c=n(6),u=n(11),h=i(n(12)),d=function(t){function e(){o(this,e);var t=["min","max","value"],n={size:[120,20],mode:"relative",min:0,max:1,step:0,value:0};s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.orientation="vertical",this._value=new u(this.settings.min,this.settings.max,this.settings.step,this.settings.value),this.position=new h.Handle(this.settings.mode,this.orientation,[0,this.width],[this.height,0]),this.position.value=this._value.normalized,this.init(),this.position.direction=this.orientation,this.emit("change",this.value)}return a(e,t),r(e,{buildInterface:{value:function(){this.bar=l.create("rect"),this.fillbar=l.create("rect"),this.knob=l.create("circle"),this.element.appendChild(this.bar),this.element.appendChild(this.fillbar),this.element.appendChild(this.knob)}},sizeInterface:{value:function(){this.width<this.height?(this.orientation="vertical",this.position.direction="vertical"):(this.orientation="horizontal",this.position.direction="horizontal"),this.position&&this.position.resize([0,this.width],[this.height,0]);var t=void 0,e=void 0,n=void 0,i=void 0,r=void 0,s=void 0;this.knobData={level:0,r:0},"vertical"===this.orientation?(this.thickness=this.width/2,t=this.width/2,e=0,n=this.thickness,i=this.height,this.knobData.r=.8*this.thickness,this.knobData.level=i-this.knobData.r-this.normalized*(i-2*this.knobData.r),r="translate("+-1*this.thickness/2+",0)",s=n/2):(this.thickness=this.height/2,t=0,e=this.height/2,n=this.width,i=this.thickness,this.knobData.r=.8*this.thickness,this.knobData.level=this.normalized*(n-2*this.knobData.r)+this.knobData.r,r="translate(0,"+-1*this.thickness/2+")",s=i/2),this.bar.setAttribute("x",t),this.bar.setAttribute("y",e),this.bar.setAttribute("transform",r),this.bar.setAttribute("rx",s),this.bar.setAttribute("ry",s),this.bar.setAttribute("width",n),this.bar.setAttribute("height",i),"vertical"===this.orientation?(this.fillbar.setAttribute("x",t),this.fillbar.setAttribute("y",this.knobData.level),this.fillbar.setAttribute("width",n),this.fillbar.setAttribute("height",i-this.knobData.level)):(this.fillbar.setAttribute("x",0),this.fillbar.setAttribute("y",e),this.fillbar.setAttribute("width",this.knobData.level),this.fillbar.setAttribute("height",i)),this.fillbar.setAttribute("transform",r),this.fillbar.setAttribute("rx",s),this.fillbar.setAttribute("ry",s),"vertical"===this.orientation?(this.knob.setAttribute("cx",t),this.knob.setAttribute("cy",this.knobData.level)):(this.knob.setAttribute("cx",this.knobData.level),this.knob.setAttribute("cy",e)),this.knob.setAttribute("r",this.knobData.r)}},colorInterface:{value:function(){this.bar.setAttribute("fill",this.colors.fill),this.fillbar.setAttribute("fill",this.colors.accent),this.knob.setAttribute("fill",this.colors.accent)}},render:{value:function(){this.clicked||(this.knobData.r=.75*this.thickness),this.knob.setAttribute("r",this.knobData.r),"vertical"===this.orientation?(this.knobData.level=this.knobData.r+this._value.normalized*(this.height-2*this.knobData.r),this.knob.setAttribute("cy",this.height-this.knobData.level),this.fillbar.setAttribute("y",this.height-this.knobData.level),this.fillbar.setAttribute("height",this.knobData.level)):(this.knobData.level=this._value.normalized*(this.width-2*this.knobData.r)+this.knobData.r,this.knob.setAttribute("cx",this.knobData.level),this.fillbar.setAttribute("x",0),this.fillbar.setAttribute("width",this.knobData.level))}},click:{value:function(){this.knobData.r=.9*this.thickness,this.position.anchor=this.mouse,this.move()}},move:{value:function(){this.clicked&&(this.position.update(this.mouse),this._value.updateNormal(this.position.value),this.emit("change",this._value.value),this.render())}},release:{value:function(){this.render()}},normalized:{get:function(){return this._value.normalized}},value:{get:function(){return this._value.value},set:function(t){this._value.update(t),this.position.value=this._value.normalized,this.emit("change",this._value.value),this.render()}},min:{get:function(){return this._value.min},set:function(t){this._value.min=t}},max:{get:function(){return this._value.max},set:function(t){this._value.max=t}},step:{get:function(){return this._value.step},set:function(t){this._value.step=t}},mode:{get:function(){return this.position.mode},set:function(t){this.position.mode=t}}}),e}(c);t.exports=d},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(4),l=n(13),c=n(6),u=function(t){function e(){a(this,e);var t=["value"],n={size:[40,20],target:!1,state:!1};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this._state=new l(this.settings.state),this.init()}return s(e,t),i(e,{buildInterface:{value:function(){this.bar=o.create("rect"),this.knob=o.create("circle"),this.element.appendChild(this.bar),this.element.appendChild(this.knob)}},sizeInterface:{value:function(){this.height<this.width/2?this.knobSize=this.height/2:this.knobSize=this.width/4,this.bar.setAttribute("x",this.width/2-1.5*this.knobSize),this.bar.setAttribute("y",this.height/2-this.knobSize/2),this.bar.setAttribute("rx",this.knobSize/2),this.bar.setAttribute("ry",this.knobSize/2),this.bar.setAttribute("width",3*this.knobSize),this.bar.setAttribute("height",this.knobSize),this.knob.setAttribute("cx",this.width/2-this.knobSize),this.knob.setAttribute("cy",this.height/2),this.knob.setAttribute("r",this.knobSize)}},colorInterface:{value:function(){this.knob.setAttribute("fill",this.colors.accent),this.render()}},render:{value:function(){this.state?(this.knob.setAttribute("cx",this.width/2+this.knobSize),this.bar.setAttribute("fill",this.colors.accent)):(this.knob.setAttribute("cx",this.width/2-this.knobSize),this.bar.setAttribute("fill",this.colors.fill))}},click:{value:function(){this.flip(),this.render(),this.emit("change",this.state)}},state:{get:function(){return this._state.state},set:function(t){this._state.flip(t),this.emit("change",this.state),this.render()}},flip:{value:function(){this._state.flip(),this.render()}}}),e}(c);t.exports=u},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(4),l=n(17),c=function(t){function e(){a(this,e);var t=["mode"],n={size:[80,80],mode:"aftertouch",state:!1};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.mode=this.settings.mode,this.init(),this.render()}return s(e,t),i(e,{buildInterface:{value:function(){this.pad=o.create("circle"),this.element.appendChild(this.pad),this.interactionTarget=this.pad,this.defs=o.create("defs"),this.element.appendChild(this.defs),this.gradient=o.radialGradient(this.defs,2),this.gradient.stops[0].setAttribute("offset","30%"),this.gradient.stops[1].setAttribute("offset","100%")}},sizeInterface:{value:function(){this.pad.setAttribute("cx",this.width/2),this.pad.setAttribute("cy",this.height/2),this.pad.setAttribute("r",Math.min(this.width,this.height)/2-this.width/40),this.pad.setAttribute("stroke-width",this.width/20)}},colorInterface:{value:function(){this.gradient.stops[0].setAttribute("stop-color",this.colors.accent),this.gradient.stops[1].setAttribute("stop-color",this.colors.fill),this.render()}},render:{value:function(){this.state?("aftertouch"===this.mode?(this.pad.setAttribute("stroke","url(#"+this.gradient.id+")"),this.gradient.element.setAttribute("cx",100*this.position.x+"%"),this.gradient.element.setAttribute("cy",100*(1-this.position.y)+"%")):this.pad.setAttribute("stroke",this.colors.accent),this.pad.setAttribute("fill",this.colors.accent)):(this.pad.setAttribute("fill",this.colors.fill),this.pad.setAttribute("stroke",this.colors.mediumLight))}}}),e}(l);t.exports=c},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(4),l=n(5),c=n(13),u=n(6),h=function(t){function e(t,n,i){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n,i),this.mode=this.settings.mode||"button",this.position={x:0,y:0},this._state=new c(this.settings.state)}return s(e,t),i(e,{buildInterface:{value:function(){this.pad=o.create("circle"),this.pad.setAttribute("fill","#d18"),this.pad.setAttribute("stroke","#d18"),this.pad.setAttribute("stroke-width",4),this.element.appendChild(this.pad),this.interactionTarget=this.pad,this.sizeInterface()}},sizeInterface:{value:function(){this.pad.setAttribute("cx",this.width/2),this.pad.setAttribute("cy",this.height/2),this.pad.setAttribute("r",Math.min(this.width,this.height)/2-2)}},render:{value:function(){this.state?(this.pad.setAttribute("fill",this.colors.accent),this.pad.setAttribute("stroke",this.colors.accent)):(this.pad.setAttribute("fill",this.colors.fill),this.pad.setAttribute("stroke",this.colors.mediumLight))}},down:{value:function(t){switch(this.mode){case"impulse":this.turnOn(),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.turnOff.bind(this),30);break;case"button":this.turnOn();break;case"aftertouch":this.position={x:l.clip(this.mouse.x/this.width,0,1),y:l.clip(1-this.mouse.y/this.height,0,1)},this.turnOn();break;case"toggle":this.flip(t);break}}},bend:{value:function(t){"aftertouch"===this.mode&&(this.mouse=t||this.mouse,this.position={x:l.clip(this.mouse.x/this.width,0,1),y:l.clip(1-this.mouse.y/this.height,0,1)},this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}),this.render())}},up:{value:function(){switch(this.mode){case"button":this.turnOff();break;case"aftertouch":this.turnOff(),this.position={x:l.clip(this.mouse.x/this.width,0,1),y:l.clip(1-this.mouse.y/this.height,0,1)};break}}},click:{value:function(){this.down()}},move:{value:function(){this.bend()}},release:{value:function(){this.up()}},state:{get:function(){return this._state.state},set:function(t){this._state.flip(t),"aftertouch"===this.mode?this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}):this.emit("change",this.state),this.render()}},flip:{value:function(t){this._state.flip(t),"aftertouch"===this.mode?this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}):this.emit("change",this.state),this.render()}},turnOn:{value:function(t){this._state.on(),!1!==t&&("aftertouch"===this.mode?this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}):this.emit("change",this.state)),this.render()}},turnOff:{value:function(t){this._state.off(),!1!==t&&("aftertouch"===this.mode?this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}):this.emit("change",this.state)),this.render()}}}),e}(u);t.exports=h},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(17),l=function(t){function e(){a(this,e);var t=["value"],n={size:[150,50],state:!1,text:"Play"};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this._text=this.settings.text,this.settings.alternate&&(this.settings.alternateText=this.settings.alternate,console.warn("'alternate' initiator is deprecated. Use 'alternateText' instead.")),this._alternateText=this.settings.alternateText,this.mode=this.settings.alternateText?"toggle":"button",this.init(),this.render(),this.state=this.settings.state}return s(e,t),i(e,{buildFrame:{value:function(){this.element=document.createElement("div"),this.parent.appendChild(this.element),this.textElement=document.createElement("div"),this.textElement.innerHTML=this._text,this.element.appendChild(this.textElement)}},buildInterface:{value:function(){}},colorInterface:{value:function(){this.element.style.color=this.colors.dark,this.render()}},sizeInterface:{value:function(){var t=this.height/3,e=this.width/(this._text.length+2);if(t=Math.min(t,e),this.alternateText){var n=this.width/(this.alternateText.length+2);t=Math.min(t,n)}var i="width: "+this.width+"px;";i+="height: "+this.height+"px;",i+="padding: "+(this.height-t)/2+"px 0px;",i+="box-sizing: border-box;",i+="text-align: center;",i+="font-family: inherit;",i+="font-weight: 700;",i+="opacity: 1;",i+="font-size:"+t+"px;",this.textElement.style.cssText=i,this.render()}},render:{value:function(){this.state?(this.element.style.backgroundColor=this.colors.accent,this.textElement.style.color=this.colors.fill,this.alternateText?this.textElement.innerHTML=this._alternateText:this.textElement.innerHTML=this._text):(this.element.style.backgroundColor=this.colors.fill,this.textElement.style.color=this.colors.dark,this.textElement.innerHTML=this._text)}},alternateText:{get:function(){return this._alternateText},set:function(t){this.mode=t?"toggle":"button",this._alternateText=t,this.render()}},text:{get:function(){return this._text},set:function(t){this._text=t,this.sizeInterface(),this.render()}}}),e}(o);t.exports=l},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(6),l=n(16),c=function(t){function e(){a(this,e);var t=["value"],n={size:[120,25],numberOfButtons:4,active:-1};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.buttons=[],this._numberOfButtons=this.settings.numberOfButtons,this.active=this.settings.active,this.init(),this.render()}return s(e,t),i(e,{buildFrame:{value:function(){this.element=document.createElement("div"),this.parent.appendChild(this.element)}},buildInterface:{value:function(){for(var t=0;t<this._numberOfButtons;t++){var e=document.createElement("span"),n=new l(e,{mode:"toggle",component:!0},this.update.bind(this,t));this.buttons.push(n),this.element.appendChild(e)}}},sizeInterface:{value:function(){var t=void 0;t=this.width>this.height?"horizontal":"vertical";for(var e=this.width/("vertical"===t?1:this._numberOfButtons),n=this.height/("vertical"===t?this._numberOfButtons:1),i=0;i<this._numberOfButtons;i++)this.buttons[i].resize(e,n)}},colorInterface:{value:function(){for(var t=0;t<this._numberOfButtons;t++)this.buttons[t].colors=this.colors,this.buttons[t].render()}},update:{value:function(t){this.buttons[t].state?this.select(t):this.deselect()}},render:{value:function(){for(var t=0;t<this.buttons.length;t++)t===this.active?this.buttons[t].turnOn(!1):this.buttons[t].turnOff(!1)}},select:{value:function(t){t>=0&&t<this.buttons.length&&(this.active=t,this.emit("change",this.active),this.render())}},deselect:{value:function(){this.active=-1,this.emit("change",this.active),this.render()}},numberOfButtons:{get:function(){return this._numberOfButtons},set:function(t){this._numberOfButtons=t;for(var e=0;e<this.buttons.length;e++)this.buttons[e].destroy();this.buttons=[],this.empty(),this.buildInterface()}}}),e}(o);t.exports=c},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(6),l=n(11),c=n(5),u=n(8),h=function(t){function e(){a(this,e);var t=["value"],n={size:[60,30],value:0,min:0,max:2e4,step:1};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this._value=new l(this.settings.min,this.settings.max,this.settings.step,this.settings.value),this.decimalPlaces=2,this.actual=0,this.max=this._value.max,this.min=this._value.min,this.step=this._value.step,this.init(),this.render()}return s(e,t),i(e,{buildFrame:{value:function(){this.element=document.createElement("input"),this.element.type="text",this.element.addEventListener("blur",function(){this.element.style.backgroundColor=this.colors.fill,this.element.style.color=this.colors.dark,this.element.value!==this.value&&(this.value=parseFloat(this.element.value),this.render())}.bind(this)),u.setInputFilter(this.element,(function(t){return/^-?\d*\.?\d*$/.test(t)})),this.element.addEventListener("keydown",function(t){13===t.which&&(this.element.blur(),this.value=this.element.value,this.emit("change",this.value),this.render())}.bind(this),!0),this.parent.appendChild(this.element)}},sizeInterface:{value:function(){this._minDimension=Math.min(this.width,this.height);var t="width: "+this.width+"px;";t+="height: "+this.height+"px;",t+="background-color: #e7e7e7;",t+="color: #333;",t+="font-family: arial;",t+="font-weight: 500;",t+="font-size:"+this._minDimension/2+"px;",t+="border: none;",t+="outline: none;",t+="padding: "+this._minDimension/4+"px "+this._minDimension/4+"px;",t+="box-sizing: border-box;",t+="userSelect: text;",t+="mozUserSelect: text;",t+="webkitUserSelect: text;",this.element.style.cssText+=t,this.element.value=this.value}},colorInterface:{value:function(){this.element.style.backgroundColor=this.colors.fill,this.element.style.color=this.colors.dark}},render:{value:function(){this.element.value=c.prune(this.value,this.decimalPlaces)}},click:{value:function(){this.hasMoved=!1,this.element.readOnly=!0,this.actual=this.value,this.initial={y:this.mouse.y},this.changeFactor=c.invert(this.mouse.x/this.width)}},move:{value:function(){if(this.hasMoved=!0,this.clicked){var t=this.actual-(this.mouse.y-this.initial.y)*(c.clip(this.max-this.min,0,1e3)/200)*Math.pow(this.changeFactor,2);this.value=t,this.render(),this._value.changed&&this.emit("change",this.value)}}},release:{value:function(){this.hasMoved?document.body.focus():(this.element.readOnly=!1,this.element.focus(),this.element.setSelectionRange(0,this.element.value.length),this.element.style.backgroundColor=this.colors.accent,this.element.style.color=this.colors.light)}},link:{value:function(t){var e=this;this.min=t.min,this.max=t.max,this.step=t.step,t.on("change",(function(t){e.passiveUpdate(t)})),this.on("change",(function(e){t.value=e})),this.value=t.value}},passiveUpdate:{value:function(t){this._value.update(t),this.render()}},value:{get:function(){return this._value.value},set:function(t){this._value.update(t),this.emit("change",this.value),this.render()}},min:{get:function(){return this._value.min},set:function(t){this._value.min=t}},max:{get:function(){return this._value.max},set:function(t){this._value.max=t}},step:{get:function(){return this._value.step},set:function(t){this._value.step=t}}}),e}(o);t.exports=h},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(6),l=function(t){function e(){a(this,e);var t=["value"],n={size:[100,30],options:["default","options"]};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this._selectedIndex=-1,this._value=!1,this._options=this.settings.options,this.init(),this.render()}return s(e,t),i(e,{buildFrame:{value:function(){this.element=document.createElement("select"),this.element.style.fontSize=this.height/2+"px",this.element.style.outline="none",this.element.style.highlight="none",this.element.style.width=this.width+"px",this.element.style.height=this.height+"px",this.boundRender=this.render.bind(this),this.element.addEventListener("change",this.boundRender),this.parent.appendChild(this.element)}},attachListeners:{value:function(){}},buildInterface:{value:function(){this.defineOptions()}},colorInterface:{value:function(){this.element.style.backgroundColor=this.colors.fill,this.element.style.color=this.colors.dark,this.element.style.border="solid 0px "+this.colors.mediumLight}},render:{value:function(){this._value=this.element.options[this.element.selectedIndex].text,this._selectedIndex=this.element.selectedIndex,this.emit("change",{value:this._value,index:this._selectedIndex})}},click:{value:function(){}},move:{value:function(){}},release:{value:function(){}},defineOptions:{value:function(t){t&&(this._options=t);for(var e=this.element.options.length-1;e>=0;e--)this.element.remove(e);for(e=0;e<this._options.length;e++)this.element.options.add(new Option(this._options[e],e))}},value:{get:function(){return this._value},set:function(t){this._value=t;for(var e=0;e<this.element.options.length;e++)if(t===this.element.options[e].text){this.selectedIndex=e;break}}},selectedIndex:{get:function(){return this._selectedIndex},set:function(t){this._selectedIndex=t,this.element.selectedIndex=t,this.render()}},customDestroy:{value:function(){this.element.removeEventListener("change",this.boundRender)}}}),e}(o);t.exports=l},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}},r=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=n(4),c=n(5),u=n(6),h=n(11),d=i(n(12)),f=function(t){function e(){o(this,e);var t=["min","max","value"],n={size:[75,75],interaction:"radial",mode:"relative",min:0,max:1,step:0,value:0};s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.interaction=this.settings.interaction,this._value=new h(this.settings.min,this.settings.max,this.settings.step,this.settings.value),this.position=new d.Handle(this.settings.mode,this.interaction,[0,this.width],[this.height,0]),this.init(),this.value=this._value.value,this.position.value=this._value.normalized,this.previousAngle=!1,this.emit("change",this.value)}return a(e,t),r(e,{buildInterface:{value:function(){this.background=l.create("circle"),this.screw=l.create("circle"),this.handle=l.create("path"),this.handle2=l.create("path"),this.handleFill=l.create("path"),this.handle2Fill=l.create("path"),this.handleLine=l.create("path"),this.element.appendChild(this.background),this.element.appendChild(this.handle),this.element.appendChild(this.handle2),this.element.appendChild(this.handleFill),this.element.appendChild(this.handle2Fill),this.element.appendChild(this.handleLine),this.element.appendChild(this.screw)}},sizeInterface:{value:function(){this.position.resize([0,this.width],[this.height,0]);var t={x:this.width/2,y:this.height/2},e=Math.min(this.width,this.height);this.background.setAttribute("cx",t.x),this.background.setAttribute("cy",t.y),this.background.setAttribute("r",e/2-e/40),this.screw.setAttribute("cx",t.x),this.screw.setAttribute("cy",t.y),this.screw.setAttribute("r",e/12);var n=this.value,i={start:1.5*Math.PI,end:c.clip(c.scale(n,0,.5,1.5*Math.PI,.5*Math.PI),.5*Math.PI,1.5*Math.PI)},r={start:2.5*Math.PI,end:c.clip(c.scale(n,.5,1,2.5*Math.PI,1.5*Math.PI),1.5*Math.PI,2.5*Math.PI)},s=l.arc(t.x,t.y,e/2-e/40,i.start,i.end),a=l.arc(t.x,t.y,e/2-e/40,r.start,r.end);this.handle.setAttribute("d",s),this.handle.setAttribute("stroke-width",e/20),this.handle.setAttribute("fill","none"),this.handle2.setAttribute("d",a),this.handle2.setAttribute("stroke-width",e/20),this.handle2.setAttribute("fill","none"),s+=" L "+t.x+" "+t.y,this.handleFill.setAttribute("d",s),this.handleFill.setAttribute("fill-opacity","0.3"),a+=" L "+t.x+" "+t.y,this.handle2Fill.setAttribute("d",a),this.handle2Fill.setAttribute("fill-opacity","0.3");var o=void 0;o=n<.5?i.end:r.end;var u=t.x+Math.cos(o)*(e/2),h=t.y+Math.sin(o)*(e/2)*-1;this.handleLine.setAttribute("d","M "+t.x+" "+t.y+" L "+u+" "+h),this.handleLine.setAttribute("stroke-width",e/20)}},colorInterface:{value:function(){this.background.setAttribute("fill",this.colors.fill),this.screw.setAttribute("fill",this.colors.accent),this.handle.setAttribute("stroke",this.colors.accent),this.handle2.setAttribute("stroke",this.colors.accent),this.handleFill.setAttribute("fill",this.colors.accent),this.handle2Fill.setAttribute("fill",this.colors.accent),this.handleLine.setAttribute("stroke",this.colors.accent)}},render:{value:function(){var t=this._value.normalized,e={x:this.width/2,y:this.height/2},n=Math.min(this.width,this.height),i={start:1.5*Math.PI,end:c.clip(c.scale(t,0,.5,1.5*Math.PI,.5*Math.PI),.5*Math.PI,1.5*Math.PI)},r={start:2.5*Math.PI,end:c.clip(c.scale(t,.5,1,2.5*Math.PI,1.5*Math.PI),1.5*Math.PI,2.5*Math.PI)},s=l.arc(e.x,e.y,n/2-n/40,i.start,i.end),a=l.arc(e.x,e.y,n/2-n/40,r.start,r.end);this.handle.setAttribute("d",s),this.handle2.setAttribute("d",a),s+=" L "+e.x+" "+e.y,this.handleFill.setAttribute("d",s),a+=" L "+e.x+" "+e.y,this.handle2Fill.setAttribute("d",a);var o=void 0;o=t<=.5?i.end:r.end;var u=e.x+Math.cos(o)*(n/2),h=e.y+Math.sin(o)*(n/2)*-1;this.handleLine.setAttribute("d","M "+e.x+" "+e.y+" L "+u+" "+h)}},click:{value:function(){"relative"===this.mode&&(this.previousAngle=!1),this.position.anchor=this.mouse,this.position.value=this._value.normalized,this.move()}},move:{value:function(){if(this.clicked){this.position.update(this.mouse);var t=this.position.value*Math.PI*2;t<0&&(t+=2*Math.PI),"relative"===this.mode&&!1!==this.previousAngle&&Math.abs(this.previousAngle-t)>2&&(t=this.previousAngle>3?2*Math.PI:0),this.previousAngle=t;var e=t/(2*Math.PI);this.value=this._value.updateNormal(e),"relative"===this.mode&&(this.position.value=e),this.emit("change",this._value.value),this.render()}}},release:{value:function(){}},value:{get:function(){return this._value.value},set:function(t){this._value.update(t),this.position.value=this._value.normalized,this.emit("change",this._value.value),this.render()}},min:{get:function(){return this._value.min},set:function(t){this._value.min=t}},max:{get:function(){return this._value.max},set:function(t){this._value.max=t}},step:{get:function(){return this._value.step},set:function(t){this._value.step=t}},mode:{get:function(){return this.position.mode},set:function(t){this.position.mode=t}},normalized:{get:function(){return this._value.normalized},set:function(t){this._value.updateNormal(t),this.emit("change",this.value)}}}),e}(u);t.exports=f},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(4),l=n(6),c=n(17),u=n(9),h=function(t){function e(){a(this,e);var t=["value","note","color"],n={size:[80,80],target:!1,mode:"button",value:0};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.note=this.settings.note,this.color=this.settings.color,this.colors={w:"#fff",b:"#666"},this.init(),this.render()}return s(e,t),i(e,{buildFrame:{value:function(){this.element=o.create("svg"),this.element.setAttribute("width",this.width),this.element.setAttribute("height",this.height),this.parent.appendChild(this.element)}},buildInterface:{value:function(){var t=this;this.pad=o.create("rect"),this.element.appendChild(this.pad),this.interactionTarget=this.pad,u.exists||(this.click=function(){t.piano.interacting=!0,t.piano.paintbrush=!t.state,t.down(t.piano.paintbrush)},this.pad.addEventListener("mouseover",(function(){t.piano.interacting&&t.down(t.piano.paintbrush)})),this.move=function(){t.piano.interacting&&t.bend()},this.release=function(){t.piano.interacting=!1},this.pad.addEventListener("mouseup",(function(){t.piano.interacting&&t.up()})),this.pad.addEventListener("mouseout",(function(){t.piano.interacting&&t.up()})))}},sizeInterface:{value:function(){var t=0;this.pad.setAttribute("x",.5),this.pad.setAttribute("y",.5),this.width>2?this.pad.setAttribute("width",this.width-1):this.pad.setAttribute("width",this.width),this.height,this.pad.setAttribute("height",this.height),this.pad.setAttribute("rx",t),this.pad.setAttribute("ry",t)}},render:{value:function(){this.state?this.pad.setAttribute("fill",this.colors.accent):this.pad.setAttribute("fill",this.colors[this.color])}}}),e}(c),d=function(t){function e(){a(this,e);var t=["value"],n={size:[500,125],lowNote:24,highNote:60,mode:"button"};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.keyPattern=["w","b","w","b","w","w","b","w","b","w","b","w"],this.paintbrush=!1,this.mode=this.settings.mode,this.range={low:this.settings.lowNote,high:this.settings.highNote},this.range.size=this.range.high-this.range.low+1,this.keys=[],this.toggleTo=!1,this.init(),this.render()}return s(e,t),i(e,{buildFrame:{value:function(){this.element=document.createElement("div"),this.element.style.position="relative",this.element.style.borderRadius="0px",this.element.style.display="block",this.element.style.width="100%",this.element.style.height="100%",this.parent.appendChild(this.element)}},buildInterface:{value:function(){this.keys=[];for(var t=0;t<this.range.size;t++){var e=document.createElement("span"),n=(t+this.range.low)%this.keyPattern.length,i=new h(e,{component:!0,note:t+this.range.low,color:this.keyPattern[n],mode:this.mode},this.keyChange.bind(this,t+this.range.low));i.piano=this,u.exists&&(i.pad.index=t,i.preClick=i.preMove=i.preRelease=function(){},i.click=i.move=i.release=function(){},i.preTouch=i.preTouchMove=i.preTouchRelease=function(){},i.touch=i.touchMove=i.touchRelease=function(){}),this.keys.push(i),this.element.appendChild(e)}u.exists&&this.addTouchListeners()}},sizeInterface:{value:function(){for(var t=0,e=[],n=0;n<this.range.size;n++){e.push(t);var i=(n+this.range.low)%this.keyPattern.length,r=(n+1+this.range.low)%this.keyPattern.length;n+1+this.range.low>=this.range.high||"w"===this.keyPattern[i]&&"w"===this.keyPattern[r]?t+=1:t+=.5}var s=t,a=1,o=(this.width-2*a)/s,l=(this.height-2*a)/2;for(n=0;n<this.keys.length;n++){var c=this.keys[n].parent;c.style.position="absolute",c.style.left=e[n]*o+a+"px","w"===this.keys[n].color?(c.style.top=a+"px",this.keys[n].resize(o,2*l)):(c.style.zIndex=1,c.style.top=a+"px",this.keys[n].resize(o,1.1*l))}}},colorInterface:{value:function(){this.element.style.backgroundColor=this.colors.mediumLight;for(var t=0;t<this.keys.length;t++)this.keys[t].colors={w:this.colors.light,b:this.colors.dark,accent:this.colors.accent,border:this.colors.mediumLight},this.keys[t].colorInterface(),this.keys[t].render()}},keyChange:{value:function(t,e){var n={note:t};n.state="object"===typeof e?e.state:e,this.emit("change",n)}},render:{value:function(){}},addTouchListeners:{value:function(){this.preClick=this.preMove=this.preRelease=function(){},this.click=this.move=this.release=function(){},this.preTouch=this.preTouchMove=this.preTouchRelease=function(){},this.touch=this.touchMove=this.touchRelease=function(){};var t={},e=this.keys;function n(t){return{identifier:t.identifier,clientX:t.clientX,clientY:t.clientY}}function i(){var n={};Object.keys(t).forEach((function(i){var r=t[i],s=document.elementFromPoint(r.clientX,r.clientY),a=s?e[s.index]:null;a?(n[s.index]=i,a.state||a.down()):delete t[i]})),e.forEach((function(t){t.state&&!n[t.pad.index]&&t.up()}))}function r(e){e.preventDefault(),e.stopPropagation();for(var r=0;r<e.changedTouches.length;r++){var s=e.changedTouches[r];t[s.identifier]=n(s)}i()}function s(e){e.preventDefault(),e.stopPropagation();for(var n=0;n<e.changedTouches.length;n++){var r=e.changedTouches[n];delete t[r.identifier]}i()}this.element.addEventListener("touchstart",r),this.element.addEventListener("touchmove",r),this.element.addEventListener("touchend",s)}},setRange:{value:function(t,e){this.range.low=t,this.range.high=e,this.empty(),this.buildInterface()}},toggleKey:{value:function(t,e){this.keys[t-this.range.low].flip(e)}},toggleIndex:{value:function(t,e){this.keys[t].flip(e)}}}),e}(l);t.exports=d},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(4),l=n(7),c=n(6),u=n(17),h=n(25),d=n(28),f=n(29),p=n(9),m=function(t){function e(){a(this,e);var t=["value"],n={size:[80,80],target:!1,mode:"toggle",value:0,paddingRow:2,paddingColumn:2};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.index=this.settings.index,this.row=this.settings.row,this.column=this.settings.column,this.matrix=this.settings.matrix,this.paddingRow=this.settings.paddingRow||n.paddingRow,this.paddingColumn=this.settings.paddingColumn||n.paddingColumn,this.interacting=!1,this.paintbrush=!1,this.init(),this.render()}return s(e,t),i(e,{buildFrame:{value:function(){this.element=o.create("svg"),this.element.setAttribute("width",this.width),this.element.setAttribute("height",this.height),this.element.style.top="0px",this.element.style.left="0px",this.element.style.position="absolute",this.parent.appendChild(this.element)}},buildInterface:{value:function(){var t=this;this.pad=o.create("rect"),this.element.appendChild(this.pad),this.interactionTarget=this.pad,p.exists||(this.click=function(){t.matrix.interacting=!0,t.matrix.paintbrush=!t.state,t.down(t.matrix.paintbrush)},this.pad.addEventListener("mouseover",(function(){t.matrix.interacting&&t.down(t.matrix.paintbrush)})),this.move=function(){},this.pad.addEventListener("mousemove",(function(e){t.matrix.interacting&&(t.offset||(t.offset=l.findPosition(t.element)),t.mouse=l.locateMouse(e,t.offset),t.bend())})),this.release=function(){t.matrix.interacting=!1},this.pad.addEventListener("mouseup",(function(){t.matrix.interacting&&t.up()})),this.pad.addEventListener("mouseout",(function(){t.matrix.interacting&&t.up()})))}},sizeInterface:{value:function(){this.pad.setAttribute("x",this.paddingColumn/2),this.pad.setAttribute("y",this.paddingRow/2),this.width>2?this.pad.setAttribute("width",this.width-this.paddingColumn):this.pad.setAttribute("width",this.width),this.height>2?this.pad.setAttribute("height",this.height-this.paddingRow):this.pad.setAttribute("height",this.height),this.pad.setAttribute("fill",this.matrix.colors.fill)}},render:{value:function(){this.state?this.pad.setAttribute("fill",this.matrix.colors.accent):this.pad.setAttribute("fill",this.matrix.colors.fill)}}}),e}(u),_=function(t){function e(){a(this,e);var t=["value"],n={size:[400,200],mode:"toggle",rows:5,columns:10};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.active=-1,this.mode=this.settings.mode,this.interval=new f(200,(function(){}),!1),this.matrix=new h(this.settings.rows,this.settings.columns),this.matrix.ui=this,this.stepper=new d(0,this.columns),this.paddingRow=this.settings.paddingRow,this.paddingColumn=this.settings.paddingColumn,this.init()}return s(e,t),i(e,{buildFrame:{value:function(){this.element=document.createElement("div"),this.element.style.position="relative",this.element.style.display="block",this.element.style.width="100%",this.element.style.height="100%",this.parent.appendChild(this.element),p.exists&&this.addTouchListeners()}},buildInterface:{value:function(){this.cells=[];for(var t=0;t<this.matrix.length;t++){var e=this.matrix.locate(t),n=document.createElement("span");n.style.position="absolute";var i=new m(n,{component:!0,index:t,row:e.row,column:e.column,mode:this.mode,matrix:this,paddingRow:this.paddingRow,paddingColumn:this.paddingColumn},this.keyChange.bind(this,t));p.exists&&(i.pad.index=t,i.preClick=i.preMove=i.preRelease=function(){},i.click=i.move=i.release=function(){},i.preTouch=i.preTouchMove=i.preTouchRelease=function(){},i.touch=i.touchMove=i.touchRelease=function(){}),this.cells.push(i),this.element.appendChild(n)}this.sizeInterface()}},sizeInterface:{value:function(){for(var t=this.width/this.columns,e=this.height/this.rows,n=0;n<this.cells.length;n++){var i=this.cells[n].parent;i.style.left=this.cells[n].column*t+"px",i.style.top=this.cells[n].row*e+"px",this.cells[n].resize(t,e)}}},colorInterface:{value:function(){for(var t=0;t<this.cells.length;t++)this.cells[t].render()}},update:{value:function(){var t=this;this.matrix.iterate((function(e,n,i){t.matrix.pattern[e][n]!==t.cells[i].state&&(t.matrix.pattern[e][n]>0?t.cells[i].turnOn():t.cells[i].turnOff())}))}},keyChange:{value:function(t,e){var n=this.matrix.locate(t);this.matrix.pattern[n.row][n.column]=e;var i={row:n.row,column:n.column,state:e};this.emit("change",i)}},render:{value:function(){var t=this;this.stepper.value>=0&&this.matrix.iterate((function(e,n,i){n===t.stepper.value?(t.cells[i].pad.setAttribute("stroke",t.colors.mediumLight),t.cells[i].pad.setAttribute("stroke-width","1"),t.cells[i].pad.setAttribute("stroke-opacity","1")):t.cells[i].pad.setAttribute("stroke","none")}))}},start:{value:function(t){this.interval.event=this.next.bind(this),t&&this.interval.ms(t),this.interval.start()}},stop:{value:function(){this.interval.stop()}},next:{value:function(){this.stepper.next(),this.emit("step",this.matrix.column(this.stepper.value).reverse()),this.render()}},addTouchListeners:{value:function(){var t=this;this.preClick=this.preMove=this.preRelease=function(){},this.click=this.move=this.release=function(){},this.preTouch=this.preTouchMove=this.preTouchRelease=function(){},this.touch=this.touchMove=this.touchRelease=function(){},this.currentElement=!1,this.element.addEventListener("touchstart",(function(e){var n=document.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY),i=t.cells[n.index];t.paintbrush=!i.state,i.down(t.paintbrush),t.currentElement=n.index,e.preventDefault(),e.stopPropagation()})),this.element.addEventListener("touchmove",(function(e){var n=document.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY),i=t.cells[n.index];if(n.index!==t.currentElement){if(t.currentElement>=0){var r=t.cells[t.currentElement];r.up()}i.down(t.paintbrush)}else i.bend();t.currentElement=n.index,e.preventDefault(),e.stopPropagation()})),this.element.addEventListener("touchend",(function(e){var n=t.cells[t.currentElement];n.up(),t.interacting=!1,t.currentElement=!1,e.preventDefault(),e.stopPropagation()}))}},rows:{get:function(){return this.matrix.rows},set:function(t){this.matrix.rows=t,this.empty(),this.buildInterface(),this.update()}},columns:{get:function(){return this.matrix.columns},set:function(t){this.matrix.columns=t,this.stepper.max=t,this.empty(),this.buildInterface(),this.update()}}}),e}(c);t.exports=_},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=i(n(5)),o=i(n(26)),l=function(){function t(e,n){var i=this;s(this,t),this.pattern=[],this.create(e,n),this.toggle={cell:function(t,e){return i.pattern[e][t]=!i.pattern[e][t],i.ui&&i.ui.update(),i.pattern[e][t]},all:function(){i.iterate((function(t,e){i.toggle.cell(e,t)})),i.ui&&i.ui.update()},row:function(t){for(var e=0;e<i.columns;e++)i.toggle.cell(e,t);i.ui&&i.ui.update()},column:function(t){for(var e=0;e<i.rows;e++)i.toggle.cell(t,e);i.ui&&i.ui.update()}},this.set={cell:function(t,e,n){i.pattern[e][t]=n,i.ui&&i.ui.update()},all:function(t){i.pattern=t,i.ui&&i.ui.update()},row:function(t,e){i.pattern[t]=e,i.ui&&i.ui.update()},column:function(t,e){i.pattern.forEach((function(n,r){i.pattern[r][t]=e[r]})),i.ui&&i.ui.update()}},this.rotate={all:function(t){t||0===t||(t=1),t%=i.pattern[0].length,t<0&&(t=i.pattern[0].length+t);for(var e=0;e<i.rows;e++){var n=i.pattern[e].splice(i.pattern[e].length-t,t);i.pattern[e]=n.concat(i.pattern[e])}i.ui&&i.ui.update()},row:function(t,e){e||0===e||(e=1),e%=i.pattern[0].length,e<0&&(e=i.pattern[0].length+e);var n=i.pattern[t].splice(i.pattern[t].length-e,e);i.pattern[t]=n.concat(i.pattern[t]),i.ui&&i.ui.update()},column:function(t,e){e||0===e||(e=1),e%=i.pattern.length,e<0&&(e=i.pattern.length+e);var n=[];i.pattern.forEach((function(e){n.push(e[t])}));var r=n.splice(n.length-e,e);n=r.concat(n),i.pattern.forEach((function(e,i){e[t]=n[i]})),i.ui&&i.ui.update()}},this.populate={all:function(t){var e=new o(t);i.iterate((function(t,n){i.pattern[t][n]=a.coin(e.next())})),i.ui&&i.ui.update()},row:function(){var t=void 0===arguments[0]?0:arguments[0],e=void 0===arguments[1]?1:arguments[1],n=new o(e);i.pattern[t].forEach((function(e,r){i.pattern[t][r]=a.coin(n.next())})),i.ui&&i.ui.update()},column:function(){var t=void 0===arguments[0]?0:arguments[0],e=void 0===arguments[1]?1:arguments[1],n=new o(e);i.pattern.forEach((function(e,r){i.pattern[r][t]=a.coin(n.next())})),i.ui&&i.ui.update()}},this.erase={all:function(){i.set.all(0)},row:function(t){i.set.row(t,0)},column:function(t){i.set.column(t,0)}}}return r(t,{create:{value:function(t,e){var n=this;this.pattern=[];for(var i=0;i<t;i++){var r=new Array(e);this.pattern.push(r)}this.iterate((function(t,e){n.pattern[t][e]=!1}))}},iterate:{value:function(t,e){for(var n=0,i=0;i<this.rows;i++){e&&e(i);for(var r=0;r<this.columns;r++)t(i,r,n),n++}}},formatAsText:{value:function(){var t=this,e="";return this.iterate((function(n,i){e+=(t.pattern[n][i]?1:0)+" "}),(function(){e+="\n"})),e}},log:{value:function(){console.log(this.formatAsText())}},update:{value:function(t){this.pattern=t||this.pattern}},length:{get:function(){return this.rows*this.columns}},locate:{value:function(t){return{row:~~(t/this.columns),column:t%this.columns}}},indexOf:{value:function(t,e){return e+t*this.columns}},row:{value:function(t){var e=function(e){return t.apply(this,arguments)};return e.toString=function(){return t.toString()},e}((function(t){for(var e=[],n=0;n<this.columns;n++)e.push(this.pattern[t]?1:0);return e}))},column:{value:function(t){var e=function(e){return t.apply(this,arguments)};return e.toString=function(){return t.toString()},e}((function(t){for(var e=[],n=0;n<this.rows;n++)e.push(this.pattern[n][t]?1:0);return e}))},rows:{get:function(){return this.pattern.length},set:function(t){var e=this,n=this.pattern.slice(0);this.create(t,this.columns),this.iterate((function(t,i){n[t]&&n[t][i]&&(e.pattern[t][i]=n[t][i])}))}},columns:{get:function(){return this.pattern[0].length},set:function(t){var e=this,n=this.pattern.slice(0);this.create(this.rows,t),this.iterate((function(t,i){n[t]&&n[t][i]&&(e.pattern[t][i]=n[t][i])}))}}}),t}();t.exports=l},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=i(n(5)),o=i(n(27)),l=function(){function t(){var e=void 0===arguments[0]?[0,10,20,30]:arguments[0],n=void 0===arguments[1]?"up":arguments[1],i=void 0!==arguments[2]&&arguments[2];s(this,t),this.values=e,Array.isArray(this.values)||(this.values=[this.values]),this._mode=n,this.position=i,this.drunkWalk=new o(0,this.values.length-1),this.startValues={up:0,down:this.values.length-1,drunk:~~(this.values.length/2),random:a.ri(this.values.length)},!1!==this.position?this.next=this[this._mode]:this.next=this.first}return r(t,{mode:{get:function(){return this._mode},set:function(t){"up"===t||"down"===t||"random"===t||"drunk"===t?(this._mode=t,this.position&&(this.next=this[this._mode])):console.error("The only modes currently allowed are: up, down, random, drunk")}},value:{get:function(){return this.values[this.position]},set:function(t){this.position=this.values.indexOf(t)}},first:{value:function(){return!1!==this.position?(this.next=this[this._mode],this.next()):(this.position=this.startValues[this._mode],this.next=this[this._mode],this.value)}},up:{value:function(){return this.position++,this.position%=this.values.length,this.value}},down:{value:function(){return this.position--,this.position<0&&(this.position=(this.position+this.values.length)%this.values.length),this.value}},random:{value:function(){return this.position=a.ri(0,this.values.length),this.value}},drunk:{value:function(){return this.drunkWalk.max=this.values.length,this.drunkWalk.value=this.position,this.position=this.drunkWalk.next(),this.value}}}),t}();t.exports=l},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=i(n(5)),o=function(){function t(){var e=void 0===arguments[0]?0:arguments[0],n=void 0===arguments[1]?9:arguments[1],i=void 0===arguments[2]?0:arguments[2],r=void 0===arguments[3]?1:arguments[3],a=void 0!==arguments[4]&&arguments[4];s(this,t),this.min=e,this.max=n,this.value=i,this.increment=r,this.loop=a}return r(t,{next:{value:function(){return this.value+=a.pick(-1*this.increment,this.increment),this.value>this.max&&(this.loop?this.value=this.min:this.value=this.max-this.increment),this.value<this.min&&(this.loop?this.value=this.max:this.value=this.min+this.increment),this.value}}}),t}();t.exports=o},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=i(n(5)),o=i(n(27)),l=function(){function t(){var e=void 0===arguments[0]?0:arguments[0],n=void 0===arguments[1]?10:arguments[1],i=void 0===arguments[2]?"up":arguments[2],r=void 0!==arguments[3]&&arguments[3];s(this,t),this.min=e,this.max=n,this.value=r,this.mode=i,this.drunkWalk=new o(this.min,this.max),!1!==this.value?this.next=this[this._mode]:this.next=this.first}return r(t,{mode:{set:function(t){"up"===t||"down"===t||"random"===t||"drunk"===t?(this._mode=t,this.value&&(this.next=this[this._mode])):console.error("The only modes currently allowed are: up, down, random, drunk")},get:function(){return this._mode}},first:{value:function(){return!1!==this.value?(this.next=this[this._mode],this.next()):(this.startValues={up:this.min,down:this.max,drunk:~~a.average(this.min,this.max),random:a.ri(this.min,this.max)},this.value=this.startValues[this._mode],this.next=this[this._mode],this.value)}},up:{value:function(){return this.value++,this.value>=this.max&&(this.value=this.min),this.value}},down:{value:function(){return this.value--,this.value<this.min&&(this.value=this.max),this.value}},random:{value:function(){return this.value=a.ri(this.min,this.max),this.value}},drunk:{value:function(){return this.drunkWalk.min=this.min,this.drunkWalk.max=this.max,this.drunkWalk.value=this.value,this.value=this.drunkWalk.next(),this.value}}}),t}();t.exports=l},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=n(1).clock,a=function(){function t(e,n,i){r(this,t),this.rate=e,this.on=i,this.clock=s(),this.pattern=[1],this.index=0,this.event=n||function(){},this.on&&this.start()}return i(t,{_event:{value:function(t){this.event(t),this.index++}},stop:{value:function(){this.on=!1,this.interval.clear()}},start:{value:function(){this.on=!0,this.interval=this.clock.callbackAtTime(this._event.bind(this),this.clock.context.currentTime).repeat(this.rate/1e3).tolerance({early:.1,late:1})}},ms:{value:function(t){if(this.on){var e=t/this.rate;this.rate=t,this.clock.timeStretch(this.clock.context.currentTime,[this.interval],e)}else this.rate=t}}}),t}();t.exports=a},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}},r=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=n(4),c=n(5),u=n(6),h=n(11),d=i(n(12)),f=function(t){function e(){o(this,e);var t=["range"],n={size:[200,200],range:.5,mode:"absolute",speakers:[[.5,.2],[.75,.25],[.8,.5],[.75,.75],[.5,.8],[.25,.75],[.2,.5],[.25,.25]]};s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.value={x:new h(0,1,0,.5),y:new h(0,1,0,.5)},this.mode=this.settings.mode,this.position={x:new d.Handle(this.mode,"horizontal",[0,this.width],[this.height,0]),y:new d.Handle(this.mode,"vertical",[0,this.width],[this.height,0])},this.position.x.value=this.value.x.normalized,this.position.y.value=this.value.y.normalized,this.speakers=this.settings.speakers,this.range=this.settings.range,this.levels=[],this.init(),this.calculateLevels(),this.render()}return a(e,t),r(e,{buildInterface:{value:function(){this.knob=l.create("circle"),this.element.appendChild(this.knob),this.speakerElements=[];for(var t=0;t<this.speakers.length;t++){var e=l.create("circle");this.element.appendChild(e),this.speakerElements.push(e)}}},sizeInterface:{value:function(){this._minDimension=Math.min(this.width,this.height),this.knobRadius={off:3*~~(this._minDimension/100)+5},this.knobRadius.on=2*this.knobRadius.off,this.knob.setAttribute("cx",this.width/2),this.knob.setAttribute("cy",this.height/2),this.knob.setAttribute("r",this.knobRadius.off);for(var t=0;t<this.speakers.length;t++){var e=this.speakerElements[t],n=this.speakers[t];e.setAttribute("cx",n[0]*this.width),e.setAttribute("cy",n[1]*this.height),e.setAttribute("r",this._minDimension/20+5),e.setAttribute("fill-opacity","0")}this.position.x.resize([0,this.width],[this.height,0]),this.position.y.resize([0,this.width],[this.height,0]),this.calculateLevels(),this.render()}},colorInterface:{value:function(){this.element.style.backgroundColor=this.colors.fill,this.knob.setAttribute("fill",this.colors.mediumLight);for(var t=0;t<this.speakers.length;t++){var e=this.speakerElements[t];e.setAttribute("fill",this.colors.accent),e.setAttribute("stroke",this.colors.accent)}}},render:{value:function(){this.knobCoordinates={x:this.value.x.normalized*this.width,y:this.height-this.value.y.normalized*this.height},this.knob.setAttribute("cx",this.knobCoordinates.x),this.knob.setAttribute("cy",this.knobCoordinates.y)}},click:{value:function(){this.position.x.anchor=this.mouse,this.position.y.anchor=this.mouse,this.move()}},move:{value:function(){this.clicked&&(this.position.x.update(this.mouse),this.position.y.update(this.mouse),this.calculateLevels(),this.emit("change",this.levels),this.render())}},release:{value:function(){this.render()}},normalized:{get:function(){return{x:this.value.x.normalized,y:this.value.y.normalized}}},calculateLevels:{value:function(){var t=this;this.value.x.updateNormal(this.position.x.value),this.value.y.updateNormal(this.position.y.value),this.levels=[],this.speakers.forEach((function(e,n){var i=c.distance(e[0]*t.width,e[1]*t.height,t.position.x.value*t.width,(1-t.position.y.value)*t.height),r=c.clip(1-i/(t.range*t.width),0,1);t.levels.push(r),t.speakerElements[n].setAttribute("fill-opacity",r)}))}},moveSource:{value:function(t,e){var n={x:t*this.width,y:e*this.height};this.position.x.update(n),this.position.y.update(n),this.calculateLevels(),this.emit("change",this.levels),this.render()}},moveSpeaker:{value:function(t,e,n){this.speakers[t]=[e,n],this.speakerElements[t].setAttribute("cx",e*this.width),this.speakerElements[t].setAttribute("cy",n*this.height),this.calculateLevels(),this.emit("change",this.levels),this.render()}}}),e}(u);t.exports=f},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(5),l=n(4),c=n(6),u=function(t){function e(){a(this,e);var t=["value"],n={size:[80,80]};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this._active=!0,this.init(),this.boundUpdate=this.update.bind(this),window.DeviceOrientationEvent?this.orientationListener=window.addEventListener("deviceorientation",this.boundUpdate,!1):(this._active=!1,this.colorInterface())}return s(e,t),i(e,{buildInterface:{value:function(){this.title=l.create("text"),this.circleX=l.create("circle"),this.circleY=l.create("circle"),this.circleZ=l.create("circle"),this.barX=l.create("path"),this.barY=l.create("path"),this.barZ=l.create("path"),this.barX2=l.create("path"),this.barY2=l.create("path"),this.barZ2=l.create("path"),this.barX.setAttribute("opacity","0.8"),this.barY.setAttribute("opacity","0.8"),this.barZ.setAttribute("opacity","0.8"),this.barX2.setAttribute("opacity","0.8"),this.barY2.setAttribute("opacity","0.8"),this.barZ2.setAttribute("opacity","0.8"),this.circleX.setAttribute("cx",3*this.width/12),this.circleX.setAttribute("cy",3*this.height/4),this.circleX.setAttribute("r",this.height/10),this.circleX.setAttribute("opacity","0.4"),this.circleY.setAttribute("cx",6*this.width/12),this.circleY.setAttribute("cy",3*this.height/4),this.circleY.setAttribute("r",this.height/10),this.circleY.setAttribute("opacity","0.4"),this.circleZ.setAttribute("cx",9*this.width/12),this.circleZ.setAttribute("cy",3*this.height/4),this.circleZ.setAttribute("r",this.height/10),this.circleZ.setAttribute("opacity","0.4"),this.barX.setAttribute("stroke-width",Math.round(this.height/30)),this.barY.setAttribute("stroke-width",Math.round(this.height/30)),this.barZ.setAttribute("stroke-width",Math.round(this.height/30)),this.barX.setAttribute("fill","none"),this.barY.setAttribute("fill","none"),this.barZ.setAttribute("fill","none"),this.barX2.setAttribute("stroke-width",Math.round(this.height/30)),this.barY2.setAttribute("stroke-width",Math.round(this.height/30)),this.barZ2.setAttribute("stroke-width",Math.round(this.height/30)),this.barX2.setAttribute("fill","none"),this.barY2.setAttribute("fill","none"),this.barZ2.setAttribute("fill","none"),this.title.setAttribute("x",this.width/2),this.title.setAttribute("y",this.height/3+7),this.title.setAttribute("font-size","15px"),this.title.setAttribute("font-weight","bold"),this.title.setAttribute("letter-spacing","2px"),this.title.setAttribute("opacity","0.7"),this.title.setAttribute("text-anchor","middle"),this.title.textContent="TILT",this.element.appendChild(this.circleX),this.element.appendChild(this.circleY),this.element.appendChild(this.circleZ),this.element.appendChild(this.barX),this.element.appendChild(this.barY),this.element.appendChild(this.barZ),this.element.appendChild(this.barX2),this.element.appendChild(this.barY2),this.element.appendChild(this.barZ2),this.element.appendChild(this.title)}},colorInterface:{value:function(){this._active?(this.element.style.backgroundColor=this.colors.accent,this.circleX.setAttribute("fill",this.colors.light),this.circleY.setAttribute("fill",this.colors.light),this.circleZ.setAttribute("fill",this.colors.light),this.circleX.setAttribute("stroke",this.colors.light),this.circleY.setAttribute("stroke",this.colors.light),this.circleZ.setAttribute("stroke",this.colors.light),this.barX.setAttribute("stroke",this.colors.light),this.barY.setAttribute("stroke",this.colors.light),this.barZ.setAttribute("stroke",this.colors.light),this.barX2.setAttribute("stroke",this.colors.light),this.barY2.setAttribute("stroke",this.colors.light),this.barZ2.setAttribute("stroke",this.colors.light),this.title.setAttribute("fill",this.colors.light)):(this.element.style.backgroundColor=this.colors.fill,this.circleX.setAttribute("fill",this.colors.mediumLight),this.circleY.setAttribute("fill",this.colors.mediumLight),this.circleZ.setAttribute("fill",this.colors.mediumLight),this.circleX.setAttribute("stroke",this.colors.mediumLight),this.circleY.setAttribute("stroke",this.colors.mediumLight),this.circleZ.setAttribute("stroke",this.colors.mediumLight),this.barX.setAttribute("stroke",this.colors.mediumLight),this.barY.setAttribute("stroke",this.colors.mediumLight),this.barZ.setAttribute("stroke",this.colors.mediumLight),this.barX2.setAttribute("stroke",this.colors.mediumLight),this.barY2.setAttribute("stroke",this.colors.mediumLight),this.barZ2.setAttribute("stroke",this.colors.mediumLight),this.title.setAttribute("fill",this.colors.mediumLight))}},update:{value:function(t){if(this._active){var e=t.beta,n=t.gamma,i=t.alpha;n=o.scale(n,-90,90,0,1),e=o.scale(e,-90,90,0,1),i=o.scale(i,0,360,0,1);var r={start:1.5*Math.PI,end:o.clip(o.scale(n,0,.5,1.5*Math.PI,.5*Math.PI),.5*Math.PI,1.5*Math.PI)},s={start:2.5*Math.PI,end:o.clip(o.scale(n,.5,1,2.5*Math.PI,1.5*Math.PI),1.5*Math.PI,2.5*Math.PI)},a=l.arc(this.circleX.cx.baseVal.value,this.circleX.cy.baseVal.value,this.circleX.r.baseVal.value,r.start,r.end),c=l.arc(this.circleX.cx.baseVal.value,this.circleX.cy.baseVal.value,this.circleX.r.baseVal.value,s.start,s.end);this.barX.setAttribute("d",a),this.barX2.setAttribute("d",c),r={start:1.5*Math.PI,end:o.clip(o.scale(e,0,.5,1.5*Math.PI,.5*Math.PI),.5*Math.PI,1.5*Math.PI)},s={start:2.5*Math.PI,end:o.clip(o.scale(e,.5,1,2.5*Math.PI,1.5*Math.PI),1.5*Math.PI,2.5*Math.PI)},a=l.arc(this.circleY.cx.baseVal.value,this.circleY.cy.baseVal.value,this.circleY.r.baseVal.value,r.start,r.end),c=l.arc(this.circleY.cx.baseVal.value,this.circleY.cy.baseVal.value,this.circleY.r.baseVal.value,s.start,s.end),this.barY.setAttribute("d",a),this.barY2.setAttribute("d",c),r={start:1.5*Math.PI,end:o.clip(o.scale(i,0,.5,1.5*Math.PI,.5*Math.PI),.5*Math.PI,1.5*Math.PI)},s={start:2.5*Math.PI,end:o.clip(o.scale(i,.5,1,2.5*Math.PI,1.5*Math.PI),1.5*Math.PI,2.5*Math.PI)},a=l.arc(this.circleZ.cx.baseVal.value,this.circleZ.cy.baseVal.value,this.circleZ.r.baseVal.value,r.start,r.end),c=l.arc(this.circleZ.cx.baseVal.value,this.circleZ.cy.baseVal.value,this.circleZ.r.baseVal.value,s.start,s.end),this.barZ.setAttribute("d",a),this.barZ2.setAttribute("d",c),this.emit("change",{x:n,y:e,z:i})}}},click:{value:function(){window.DeviceOrientationEvent&&(this.active=!this.active)}},active:{get:function(){return this._active},set:function(t){this._active=t,this.colorInterface()}},customDestroy:{value:function(){window.removeEventListener("deviceorientation",this.boundUpdate,!1)}}}),e}(c);t.exports=u},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(5),l=n(4),c=n(6),u=function(t){function e(){a(this,e);var t=["value"],n={size:[200,100],numberOfSliders:5,min:0,max:1,step:0,candycane:3,values:[.9,.8,.7,.6,.5,.4,.3,.2,.1],smoothing:0,mode:"bar"};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this._numberOfSliders=this.settings.numberOfSliders,this._min=this.settings.min,this._max=this.settings.max,this._step=this.settings.step,this._mode=this.settings.mode;var i=this.settings.values;this.values=i.length>this._numberOfSliders?i.slice(0,this._numberOfSliders):i.concat(Array(this._numberOfSliders-i.length).fill(0)),this.candycane=this.settings.candycane,this.sliderWidth=this.width/this.values.length,this.smoothing=this.settings.smoothing,this.init(),this.render()}return s(e,t),i(e,{buildInterface:{value:function(){"line"==this._mode?(this.line=l.create("polyline"),this.line.setAttribute("stroke-width",2),this.line.setAttribute("fill","none"),this.element.appendChild(this.line),this.fill=l.create("polyline"),this.fill.setAttribute("fill-opacity","0.2"),this.element.appendChild(this.fill),this.nodes=[],this.values.forEach(function(t,e){var n=l.create("circle");n.setAttribute("cx",this.getX(e)),n.setAttribute("cy",this.getY(t)),this.element.appendChild(n),this.nodes.push(n)}.bind(this))):(this.bars=[],this.caps=[],this.values.forEach(function(t,e){var n=l.create("rect"),i=this.getBarX(e),r=this.getY(t);n.setAttribute("x",i-.1),n.setAttribute("y",r),n.setAttribute("width",this.sliderWidth+.2),n.setAttribute("height",this.height),n.setAttribute("opacity",1-(e%this.candycane+1)/(this.candycane+1)),this.element.appendChild(n),this.bars.push(n);var s=l.create("rect");s.setAttribute("x",i-.1),s.setAttribute("y",r),s.setAttribute("width",this.sliderWidth+.2),s.setAttribute("height",5),this.element.appendChild(s),this.caps.push(s)}.bind(this)))}},getBarX:{value:function(t){return this.getX(t)-this.sliderWidth/2}},getX:{value:function(t){return t*this.sliderWidth+this.sliderWidth/2}},getY:{value:function(t){return o.scale(t,this._min,this._max,this.height,0)}},getValueFromY:{value:function(t){var e=o.scale(t,this.height,0,this._min,this._max);return this.adjustValueToStep(e)}},getIndexFromX:{value:function(t){return o.clip(Math.floor(t/this.width*this.values.length),0,this.values.length-1)}},adjustValueToStep:{value:function(t){if(!this._step)return t;var e=t%this._step;return t-=t%this._step,e>this._step/2&&(t+=this._step),t}},adjustAllValues:{value:function(){this.values.forEach(function(t,e){t=this.adjustValueToStep(t),this.values[e]=o.clip(t,this._min,this._max)}.bind(this))}},getNormalizedValues:{value:function(){this.normalizedValues=[],this.values.forEach(function(t){this.normalizedValues.push(o.scale(t,this._min,this._max,0,1))}.bind(this))}},colorInterface:{value:function(){var t=this;this.element.style.backgroundColor=this.colors.fill,"line"==this._mode?(this.line.setAttribute("stroke",this.colors.accent),this.fill.setAttribute("fill",this.colors.accent),this.nodes.forEach((function(e){e.setAttribute("fill",t.colors.accent)}))):(this.bars.forEach((function(e){e.setAttribute("fill",t.colors.accent)})),this.caps.forEach((function(e){e.setAttribute("fill",t.colors.accent)})))}},sizeInterface:{value:function(){this.sliderWidth=this.width/this.values.length,"line"==this._mode&&this.nodes.forEach(function(t){var e=2+~~(Math.min(this.width,this.height)/50);e=Math.min(this.sliderWidth,e),t.setAttribute("r",e)}.bind(this)),this.render()}},render:{value:function(){var t=this;"line"==this._mode?function(){var e="0 "+t.getY(t.values[0])+", ";t.values.forEach((function(n,i){var r=t.getX(i),s=t.getY(n);e+=r+" "+s+", ",t.nodes[i].setAttribute("cx",t.getX(i)),t.nodes[i].setAttribute("cy",t.getY(n))})),e+=t.width+" "+t.getY(t.values[t.values.length-1]),t.line.setAttribute("points",e),e+=", "+t.width+" "+t.height+", ",e+="0 "+t.height,t.fill.setAttribute("points",e)}():this.values.forEach((function(e,n){t.bars[n].setAttribute("y",t.getY(e)),t.caps[n].setAttribute("y",t.getY(e))}))}},click:{value:function(){this.hasMoved=!1,this.previousSlider=!1,this.move()}},move:{value:function(){if(this.clicked){if(this.mouse.x=o.clip(this.mouse.x,0,this.width),this.mouse.y=o.clip(this.mouse.y,0,this.height),this.hasMoved=!0,this.selectedSlider=this.getIndexFromX(this.mouse.x),this.values[this.selectedSlider]=this.getValueFromY(this.mouse.y),!1!==this.previousSlider){var t=Math.abs(this.previousSlider-this.selectedSlider);if(t>1)for(var e=Math.min(this.previousSlider,this.selectedSlider),n=Math.max(this.previousSlider,this.selectedSlider),i=this.values[e],r=this.values[n],s=e;s<n;s++)this.values[s]=o.interp((s-e)/t,i,r),this.values[s]=this.adjustValueToStep(this.values[s])}if(this.smoothing>0)for(var a=1;a<=this.smoothing;a++){var l=this.selectedSlider-a,c=this.selectedSlider+a;if(l>=1){var u=l-1>=0?l-1:0,h=l+1;this.values[l]=(this.values[u]+this.values[h])/2,this.values[l]=this.adjustValueToStep(this.values[l])}if(c<this.values.length-1){var d=c-1,f=c+1<this.values.length?c+1:this.values.length-1;this.values[c]=(this.values[d]+this.values[f])/2,this.values[c]=this.adjustValueToStep(this.values[c])}}this.previousSlider=this.selectedSlider,this.emit("change",this.values),this.render()}}},scan:{value:function(){}},update:{value:function(t,e){this.values[t]=this.adjustValueToStep(e),this.emit("change",{index:t,value:e})}},numberOfSliders:{get:function(){return this.values.length}},min:{get:function(){return this._min},set:function(t){this._min=t,this.adjustAllValues(),this.render()}},max:{get:function(){return this._max},set:function(t){this._max=t,this.adjustAllValues(),this.render()}},step:{get:function(){return this._step},set:function(t){this._step=t,this.adjustAllValues(),this.render()}},setSlider:{value:function(t,e){this.values[t]=this.adjustValueToStep(e),this.values[t]=o.clip(this.values[t],this._min,this._max),this.emit("change",{index:t,value:e})}},setAllSliders:{value:function(t){var e=this.values.length,n=t.length;this.values=t,this.adjustAllValues(),e!=n&&(this.empty(),this.buildInterface(),this.colorInterface()),this.sizeInterface()}}}),e}(c);t.exports=u},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}},r=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=n(4),c=n(5),u=n(6),h=n(11),d=i(n(12)),f=function(t){function e(){o(this,e);var t=["scale","value"],n={size:[120,20],orientation:"horizontal",mode:"relative",scale:[-1,1],step:0,value:0,hasKnob:!0};s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.orientation=this.settings.orientation,this.mode=this.settings.mode,this.hasKnob=this.settings.hasKnob,this.step=this.settings.step,this._value=new h(this.settings.scale[0],this.settings.scale[1],this.settings.step,this.settings.value),this.init(),this.position=new d.Handle(this.mode,this.orientation,[0,this.width],[this.height,0]),this.position.value=this._value.normalized,this.value=this._value.value,this.emit("change",this.value)}return a(e,t),r(e,{buildInterface:{value:function(){this.bar=l.create("rect"),this.knob=l.create("circle"),this.element.appendChild(this.bar),this.element.appendChild(this.knob)}},sizeInterface:{value:function(){this.position&&this.position.resize([0,this.width],[this.height,0]),this.width<this.height?this.orientation="vertical":this.orientation="horizontal";var t=void 0,e=void 0,n=void 0,i=void 0,r=void 0,s=void 0;this.knobData={level:0,r:0},"vertical"===this.orientation?(this.thickness=this.width/2,t=this.width/2,e=0,n=this.thickness,i=this.height,this.knobData.r=.8*this.thickness,this.knobData.level=i-this.knobData.r-this.normalized*(i-2*this.knobData.r),r="translate("+-1*this.thickness/2+",0)",s=n/2):(this.thickness=this.height/2,t=0,e=this.height/2,n=this.width,i=this.thickness,this.knobData.r=.8*this.thickness,this.knobData.level=this.normalized*(n-2*this.knobData.r)+this.knobData.r,r="translate(0,"+-1*this.thickness/2+")",s=i/2),this.bar.setAttribute("x",t),this.bar.setAttribute("y",e),this.bar.setAttribute("transform",r),this.bar.setAttribute("rx",s),this.bar.setAttribute("ry",s),this.bar.setAttribute("width",n),this.bar.setAttribute("height",i),"vertical"===this.orientation?(this.knob.setAttribute("cx",t),this.knob.setAttribute("cy",this.knobData.level)):(this.knob.setAttribute("cx",this.knobData.level),this.knob.setAttribute("cy",e)),this.knob.setAttribute("r",this.knobData.r)}},colorInterface:{value:function(){this.bar.setAttribute("fill",this.colors.fill),this.knob.setAttribute("fill",this.colors.accent),this.hasKnob||this.knob.setAttribute("fill","transparent")}},render:{value:function(){this.clicked||(this.knobData.r=.75*this.thickness),this.knob.setAttribute("r",this.knobData.r),"vertical"===this.orientation?(this.knobData.level=this.knobData.r+this._value.normalized*(this.height-2*this.knobData.r),this.knob.setAttribute("cy",this.height-this.knobData.level)):(this.knobData.level=this._value.normalized*(this.width-2*this.knobData.r)+this.knobData.r,this.knob.setAttribute("cx",this.knobData.level))}},click:{value:function(){this.knobData.r=.9*this.thickness,this.position.anchor=this.mouse,this.move()}},move:{value:function(){this.clicked&&(this.position.update(this.mouse),this.value=this._value.updateNormal(this.position.value),this.emit("change",{value:this.value,L:Math.pow(c.scale(this.value,-1,1,1,0),2),R:Math.pow(c.scale(this.value,-1,1,0,1),2)}))}},release:{value:function(){this.render()}},value:{get:function(){return this._value.value},set:function(t){this._value.update(t),this.position.value=this._value.normalized,this.emit("change",{value:this.value,L:Math.pow(c.scale(this.value,-1,1,1,0),2),R:Math.pow(c.scale(this.value,-1,1,0,1),2)}),this.render()}},normalized:{get:function(){return this._value.normalized}}}),e}(u);t.exports=f},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(5),l=n(4),c=n(6),u=function(t,e){this.x=t.x,this.y=t.y,this.xMin=t.xMin||0,this.xMax=t.xMax||1,this.yMin=t.yMin||0,this.yMax=t.yMax||1,this.envelope=e,this.element=l.create("circle"),this.element.setAttribute("fill",this.envelope.colors.accent),this.envelope.element.appendChild(this.element),this.resize=function(){var t=2+~~(Math.min(this.envelope.width,this.envelope.height)/50);this.element.setAttribute("r",t)},this.move=function(t,e){if(this.x=t||0===t?t:this.x,this.y=e||0===e?e:this.y,this.envelope.nodes.indexOf(this)>=0){var n=this.envelope.nodes.indexOf(this)-1,i=this.envelope.nodes.indexOf(this)+1,r=this.envelope.nodes[n],s=this.envelope.nodes[i],a=n>=0?r.x:0;a=a<this.xMin?this.xMin:a;var o=i<this.envelope.nodes.length?s.x:1;o=o>this.xMax?this.xMax:o,this.x<a&&(this.x=a),this.x>o&&(this.x=o),this.y<this.yMin&&(this.y=this.yMin),this.y>this.yMax&&(this.y=this.yMax)}this.location=this.getCoordinates(),this.element.setAttribute("cx",this.location.x),this.element.setAttribute("cy",this.location.y)},this.getCoordinates=function(){return{x:this.x*this.envelope.width,y:(1-this.y)*this.envelope.height}},this.move(this.x,this.y,!0),this.resize(),this.destroy=function(){this.envelope.element.removeChild(this.element),this.envelope.nodes.splice(this.envelope.nodes.indexOf(this),1)}},h=function(t){function e(){a(this,e);var t=["value"],n={size:[300,150],noNewPoints:!1,points:[{x:.1,y:.4},{x:.35,y:.6},{x:.65,y:.2},{x:.9,y:.4}]};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.points=this.settings.points,this.nodes=[],this.selected=!1,this.init()}return s(e,t),i(e,{buildInterface:{value:function(){var t=this;this.points.forEach((function(e){var n=new u(e,t);t.nodes.push(n)})),this.sortPoints(),this.line=l.create("polyline"),this.line.setAttribute("stroke-width",2),this.line.setAttribute("fill","none"),this.element.appendChild(this.line),this.fill=l.create("polyline"),this.fill.setAttribute("fill-opacity","0.2"),this.element.appendChild(this.fill)}},sizeInterface:{value:function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].resize(),this.nodes[t].move();this.render()}},colorInterface:{value:function(){var t=this;this.element.style.backgroundColor=this.colors.fill,this.line.setAttribute("stroke",this.colors.accent),this.fill.setAttribute("fill",this.colors.accent),this.nodes.forEach((function(e){e.element.setAttribute("fill",t.colors.accent)}))}},render:{value:function(){this.calculatePath()}},calculatePoints:{value:function(){var t=this;this.points=[],this.nodes.forEach((function(e){t.points.push({x:e.x,y:e.y})}))}},calculatePath:{value:function(){var t="0 "+this.nodes[0].location.y+", ";this.nodes.forEach((function(e){t+=e.location.x+" "+e.location.y+", "})),t+=this.width+" "+this.nodes[this.nodes.length-1].location.y,this.line.setAttribute("points",t),t+=", "+this.width+" "+this.height+", ",t+="0 "+this.height,this.fill.setAttribute("points",t)}},click:{value:function(){this.hasMoved=!1,this.selected=this.findNearestNode(),this.nodes[this.selected].move(this.mouse.x/this.width,1-this.mouse.y/this.height),this.scaleNode(this.selected),this.calculatePoints(),this.emit("change",this.points),this.render()}},move:{value:function(){this.clicked&&(this.mouse.x=o.clip(this.mouse.x,0,this.width),this.hasMoved=!0,this.nodes[this.selected].move(this.mouse.x/this.width,1-this.mouse.y/this.height),this.scaleNode(this.selected),this.calculatePoints(),this.emit("change",this.points),this.render())}},release:{value:function(){this.hasMoved||this.nodes[this.selected].destroy(),this.calculatePoints(),this.emit("change",this.points),this.render(),this.selected=null}},findNearestNode:{value:function(){for(var t=null,e=1e4,n=this.mouse.x/this.width,i=1-this.mouse.y/this.height,r=this.nodes,s=0;s<r.length;s++){var a=Math.sqrt(Math.pow(r[s].x-n,2)+Math.pow(r[s].y-i,2));a<e&&(e=a,t=s,n>r[s].x)}return!this.settings.noNewPoints&&e>.07&&(t=this.getIndexFromX(this.mouse.x/this.width),this.nodes.splice(t,0,new u({x:this.mouse.x/this.width,y:1-this.mouse.y/this.height},this)),this.hasMoved=!0),t}},getIndexFromX:{value:function(t){var e=this,n=0;return this.nodes.forEach((function(i,r){e.nodes[r].x<=t&&(n=r+1)})),n}},scaleNode:{value:function(t){var e=o.clip(this.nodes[t].x,0,1),n=o.clip(this.nodes[t].y,0,1);this.nodes[t].move(e,n)}},sortPoints:{value:function(){this.nodes.sort((function(t,e){return t.x>e.x}))}},addPoint:{value:function(t,e){var n=this.nodes.length;this.sortPoints();for(var i=0;i<this.nodes.length;i++)if(t<this.nodes[i].x){n=i;break}this.nodes.splice(n,0,new u({x:t,y:e},this)),this.scaleNode(n),this.calculatePoints(),this.emit("change",this.points),this.render()}},scan:{value:function(t){var e=this.getIndexFromX(t),n=e-1;n<0&&(n=0),e>=this.nodes.length&&(e=this.nodes.length-1);var i=this.nodes[n],r=this.nodes[e],s=o.scale(t,i.x,r.x,0,1),a=o.interp(s,i.y,r.y);return this.emit("scan",a),a}},movePoint:{value:function(t,e,n){this.nodes[t].move(e,n),this.scaleNode(t),this.calculatePoints(),this.emit("change",this.points),this.render()}},adjustPoint:{value:function(t,e,n){this.nodes[t].move(this.nodes[t].x+e,this.nodes[t].y+n),this.scaleNode(t),this.calculatePoints(),this.emit("change",this.points),this.render()}},destroyPoint:{value:function(t){this.nodes[t].destroy(),this.calculatePoints(),this.emit("change",this.points),this.render()}},setPoints:{value:function(t){var e=this;while(this.nodes.length)this.nodes[0].destroy();t.forEach((function(t){e.addPoint(t.x,t.y)})),this.calculatePoints(),this.emit("change",this.points),this.render()}}}),e}(c);t.exports=h},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(7),l=n(6),c=function(t){function e(){a(this,e);var t=[],n={size:[300,150]};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.analyser=null,this.bufferLength=0,this.dataArray=null,this.active=!1,this.source=null,this.init()}return s(e,t),i(e,{buildFrame:{value:function(){this.canvas=new o.SmartCanvas(this.parent),this.element=this.canvas.element}},sizeInterface:{value:function(){this.canvas.resize(this.width,this.height)}},colorInterface:{value:function(){this.canvas.element.style.backgroundColor=this.colors.fill}},render:{value:function(){if(this.active&&requestAnimationFrame(this.render.bind(this)),this.analyser&&this.analyser.getByteFrequencyData(this.dataArray),this.canvas.context.fillStyle=this.colors.fill,this.canvas.context.fillRect(0,0,this.canvas.element.width,this.canvas.element.height),this.source&&this.dataArray)for(var t=this.canvas.element.width/this.bufferLength,e=void 0,n=0,i=this.canvas.element.width/50,r=0;r<this.bufferLength;r+=i)e=Math.max.apply(null,this.dataArray.subarray(r,r+i)),e/=255,e*=this.canvas.element.height,this.canvas.context.fillStyle=this.colors.accent,this.canvas.context.fillRect(n,this.canvas.element.height-e,t*i,e),n+=t*i}},connect:{value:function(t){this.source&&this.disconnect(),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),this.active=!0,this.source=t,this.source.connect(this.analyser),this.render()}},disconnect:{value:function(){this.source&&this.source.disconnect(this.analyser),this.analyser=null,this.bufferLength=0,this.dataArray=null,this.active=!1,this.source=null}},click:{value:function(){this.active=!this.active&&this.source,this.render()}},customDestroy:{value:function(){this.active=!1}}}),e}(l);t.exports=c},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(7),l=n(5),c=n(6),u=function(t){function e(){a(this,e);var t=[],n={size:[30,100]};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.channels=2,this.splitter=null,this.analysers=[],this.bufferLength=0,this.dataArray=null,this.active=!1,this.source=null,this.db=-1/0,this.init(),this.meterWidth=this.canvas.element.width/this.channels,this.render()}return s(e,t),i(e,{buildFrame:{value:function(){this.canvas=new o.SmartCanvas(this.parent),this.element=this.canvas.element}},sizeInterface:{value:function(){this.canvas.resize(this.width,this.height)}},colorInterface:{value:function(){this.canvas.element.style.backgroundColor=this.colors.fill}},render:{value:function(){this.active&&requestAnimationFrame(this.render.bind(this)),this.canvas.context.fillStyle=this.colors.fill,this.canvas.context.fillRect(0,0,this.canvas.element.width,this.canvas.element.height);for(var t=0;t<this.analysers.length;t++){if(this.source){this.analysers[t].getFloatTimeDomainData(this.dataArray);for(var e=0,n=0;n<this.dataArray.length;n++)e+=this.dataArray[n]*this.dataArray[n];e=Math.sqrt(e/this.dataArray.length),this.db=20*Math.log10(e)}else this.db>-200&&this.db!==-1/0?this.db-=1:this.db=-1/0;if(this.db>-70){var i=l.normalize(this.db,-70,5),r=i*i,s=l.scale(r,0,1,this.element.height,0);this.canvas.context.fillStyle=this.colors.accent,this.canvas.context.fillRect(this.meterWidth*t,s,this.meterWidth,this.canvas.element.height-s)}}}},connect:{value:function(t,e){this.source&&this.disconnect(),this.channels=e||t.channelCount||2,this.splitter=t.context.createChannelSplitter(this.channels),this.analysers=[];for(var n=0;n<this.channels;n++){var i=t.context.createAnalyser();i.fftSize=1024,i.smoothingTimeConstant=1,this.splitter.connect(i,n),this.analysers.push(i)}this.bufferLength=this.analysers[0].frequencyBinCount,this.dataArray=new Float32Array(this.bufferLength),this.active=!0,this.meterWidth=this.canvas.element.width/this.channels,this.source=t,this.source.connect(this.splitter),this.render()}},disconnect:{value:function(){this.source&&this.source.disconnect(this.splitter),this.splitter=null,this.analysers=[],this.bufferLength=0,this.dataArray=null,this.active=!1,this.source=null}},click:{value:function(){this.active=!this.active&&this.source,this.render()}},customDestroy:{value:function(){this.active=!1}}}),e}(c);t.exports=u},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(7),l=n(6),c=function(t){function e(){a(this,e);var t=[],n={size:[300,150]};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,n),this.analyser=null,this.bufferLength=0,this.dataArray=null,this.active=!1,this.source=null,this.init(),this.render()}return s(e,t),i(e,{buildFrame:{value:function(){this.canvas=new o.SmartCanvas(this.parent),this.element=this.canvas.element}},sizeInterface:{value:function(){this.canvas.resize(this.width,this.height)}},colorInterface:{value:function(){this.canvas.element.style.backgroundColor=this.colors.fill}},render:{value:function(){if(this.active&&requestAnimationFrame(this.render.bind(this)),this.analyser&&this.analyser.getByteTimeDomainData(this.dataArray),this.canvas.context.fillStyle=this.colors.fill,this.canvas.context.fillRect(0,0,this.canvas.element.width,this.canvas.element.height),this.canvas.context.lineWidth=~~(this.height/100+2),this.canvas.context.strokeStyle=this.colors.accent,this.canvas.context.beginPath(),this.source)for(var t=1*this.canvas.element.width/this.bufferLength,e=0,n=0;n<this.bufferLength;n++){var i=this.dataArray[n]/128,r=i*this.canvas.element.height/2;0===n?this.canvas.context.moveTo(e,r):this.canvas.context.lineTo(e,r),e+=t}else this.canvas.context.moveTo(0,this.canvas.element.height/2),this.canvas.context.lineTo(this.canvas.element.width,this.canvas.element.height/2);this.canvas.context.stroke()}},connect:{value:function(t){this.source&&this.disconnect(),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.active=!0,this.source=t,this.source.connect(this.analyser),this.render()}},disconnect:{value:function(){this.source&&this.source.disconnect(this.analyser),this.analyser=null,this.bufferLength=0,this.dataArray=null,this.active=!1,this.source=null}},click:{value:function(){this.active=!this.active&&this.source,this.render()}},customDestroy:{value:function(){this.active=!1}}}),e}(l);t.exports=c},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t["default"]:t},r=function(t){return t&&t.__esModule?t:{default:t}},s=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=r(n(39)),l=i(n(7)),c=n(1).colors,u=function(){function t(e,n){a(this,t),this.meta={},this.meta.target=e,this.meta.parent=l.parseElement(e),this.meta.colors={},n?(this.meta.attribute=n.attribute||"nexus-ui",this.meta.title=n.name||!1,this.meta.open=n.open||!1):(this.meta.attribute="nexus-ui",this.meta.title=!1,this.meta.open=!1);var i=c();this.meta.colors.accent=i.accent,this.meta.colors.fill=i.fill,this.meta.colors.light=i.light,this.meta.colors.dark=i.dark,this.meta.colors.mediumLight=i.mediumLight,this.meta.colors.mediumDark=i.mediumDark,this.buildInterface(),this.colorInterface()}return s(t,{buildInterface:{value:function(){var t=this;this.meta.parent.style.boxSizing="border-box",this.meta.parent.style.userSelect="none",this.meta.parent.style.mozUserSelect="none",this.meta.parent.style.webkitUserSelect="none",this.meta.contents=document.createElement("div");while(this.meta.parent.childNodes.length>0)this.meta.contents.appendChild(this.meta.parent.childNodes[0]);this.meta.contents.style.padding="0px",this.meta.contents.style.boxSizing="border-box",this.meta.title&&(this.meta.titleBar=document.createElement("div"),this.meta.titleBar.innerHTML=this.meta.title,this.meta.titleBar.style.fontFamily="arial",this.meta.titleBar.style.position="relative",this.meta.titleBar.style.color="#888",this.meta.titleBar.style.padding="7px",this.meta.titleBar.style.fontSize="12px",this.meta.button=document.createElement("div"),this.meta.button.style.position="absolute",this.meta.button.style.top="5px",this.meta.button.style.right="5px",this.meta.button.innerHTML="-",this.meta.button.style.padding="0px 5px 2px",this.meta.button.style.lineHeight="12px",this.meta.button.style.fontSize="15px",this.meta.button.style.cursor="pointer",this.meta.button.addEventListener("mouseover",(function(){t.meta.button.style.backgroundColor=t.meta.colors.mediumDark})),this.meta.button.addEventListener("mouseleave",(function(){t.meta.button.style.backgroundColor=t.meta.colors.mediumLight})),this.meta.button.addEventListener("click",(function(){t.meta.open?t.hide():t.show()})),this.meta.titleBar.appendChild(this.meta.button),this.meta.parent.appendChild(this.meta.titleBar)),this.meta.parent.appendChild(this.meta.contents);var e=o.section(this.meta.target,this.meta.attribute);for(var n in e)this[n]=e[n]}},colorInterface:{value:function(){this.meta.title&&(this.meta.button.style.backgroundColor=this.meta.colors.mediumLight,this.meta.button.style.border="solid 0px "+this.meta.colors.fill,this.meta.parent.style.border="solid 1px "+this.meta.colors.mediumLight,this.meta.parent.style.backgroundColor=this.meta.colors.light,this.meta.titleBar.style.backgroundColor=this.meta.colors.fill)}},show:{value:function(){this.meta.contents.style.display="block",this.meta.open=!0}},hide:{value:function(){this.meta.contents.style.display="none",this.meta.open=!1}},colorize:{value:function(t,e){for(var n in this)this[n].colorize&&this[n].colorize(t,e);this.meta.colors[t]=e,this.colorInterface()}},empty:{value:function(){for(var t in this)this[t].destroy&&this[t].destroy()}}}),t}();t.exports=u},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t["default"]:t};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(7)),s=i(n(2)),a=function(t,e){var n=t.type;return e[n]?e[n]++:e[n]=1,n+e[n]},o=function(t,e,n){n=n||{};for(var i=0;i<t.attributes.length;i++){var r=t.attributes[i];n[r.nodeName]=r.nodeValue}e=e[0].toUpperCase()+e.slice(1);var a=new s[e](t,n);return a.id=t.id,a},l=function(t,e){e=e||"nexus-ui";for(var n={},i=r.parseElement(t),l={},c=i.getElementsByTagName("*"),u=[],h=0;h<c.length;h++)u.push(c[h]);for(h=0;h<u.length;h++){var d=u[h].getAttribute(e);if(d){var f=!1;for(var p in s)d.toLowerCase()===p.toLowerCase()&&(f=p);console.log(f);var m=o(u[h],f);if(m.id)l[m.id]=m;else{var _=a(m,n);l[_]=m}}}return l},c=function(t,e,n){var i=document.createElement("div");return n=n||{},e=e?r.parseElement(e):document.body,e.appendChild(i),n.target=i,n.size&&(i.style.width=n.size[0]+"px",i.style.height=n.size[1]+"px"),o(i,t,n)};e.element=o,e.section=l,e.add=c},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=i(n(5)),o=function(){function t(){s(this,t),this.scale=[],this.mode={output:"frequency",input:"step"},this.etmajor=[261.62558,293.664764,329.627563,349.228241,391.995422,440,493.883301,523.25116],this.root=a.mtof(60),this.createScale(0,2,4,5,7,9,11)}return r(t,{note:{value:function(t,e){var n=void 0;return n="frequency"===this.mode.output?this.frequency(t,e):"ratio"===this.mode.output?this.ratio(t,e):"MIDI"===this.mode.output?this.MIDI(t,e):this.frequency(t,e),n}},frequency:{value:function(t,e){"midi"!==this.mode.input&&"MIDI"!==this.mode.input||(this.stepIn+=60);var n=Math.floor(t/this.scale.length);e&&(n+=e);var i=t%this.scale.length;while(i<0)i+=this.scale.length;var r=this.scale[i],s=this.root*r;return s*=Math.pow(2,n),s=Math.floor(1e11*s)/1e11,s}},ratio:{value:function(t,e){"midi"!==this.mode.input&&"MIDI"!==this.mode.input||(this.stepIn+=60);var n=Math.floor(t/this.scale.length);e&&(n+=e);var i=t%this.scale.length,r=Math.pow(2,n)*this.scale[i];return r=Math.floor(1e11*r)/1e11,r}},MIDI:{value:function(t,e){var n=this.frequency(t,e),i=69+12*Math.log(n/440)/Math.log(2);return i=Math.floor(1e9*i)/1e9,i}},createScale:{value:function(){for(var t=[],e=0;e<arguments.length;e++)t.push(a.mtof(60+arguments[e]));this.loadScaleFromFrequencies(t)}},createJIScale:{value:function(){this.scale=[];for(var t=0;t<arguments.length;t++)this.scale.push(arguments[t])}},loadScaleFromFrequencies:{value:function(t){this.scale=[];for(var e=0;e<t.length;e++)this.scale.push(t[e]/t[0])}},loadScale:{value:function(t){var e=this.scales[t].frequencies;this.loadScaleFromFrequencies(e)}},search:{value:function(t){var e=[];for(var n in this.scales)-1!==n.toLowerCase().indexOf(t.toLowerCase())&&e.push(n);return e}},chord:{value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(this.note(t[n]));return e}}}),t}();t.exports=o},function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=void 0===arguments[0]?3:arguments[0];i(this,t),s<0&&(s=1),this.length=s,this.onVals=n,this.array=new Array(s).fill(0),n.length>0&&this.on.apply(this,n)}return n(t,{select:{value:function(t){return this.array.fill(0),this.array[t]=1,this.array}},flip:{value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=this.array;return e.length>0?e.forEach((function(t){t>i.length-1?console.warn("Warning: AnonRadio["+t+"] does not exist"):i[t]=i[t]?0:1})):i.forEach((function(t,e,n){n[e]=t?0:1})),i}},on:{value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=this.array;return e.length>0?e.forEach((function(t){t>i.length-1?console.warn("Warning: AnonRadio["+t+"] exceeds size of object"):(1===i[t]&&console.warn("Warning: AnonRadio["+t+"] was already on."),i[t]=1)})):i.fill(1),i}},off:{value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=this.array;return e.length>0?e.forEach((function(t){i[t]=0})):i.fill(0),i}}}),t}();t.exports=r},function(t,e,n){var i=n(43);t.exports=i,"undefined"!==typeof window&&(window.WAAClock=i)},function(t,e,n){(function(e){var n={toleranceLate:.1,toleranceEarly:.001},i=function(t,e,n){this.clock=t,this.func=n,this._cleared=!1,this.toleranceLate=t.toleranceLate,this.toleranceEarly=t.toleranceEarly,this._latestTime=null,this._earliestTime=null,this.deadline=null,this.repeatTime=null,this.schedule(e)};i.prototype.clear=function(){return this.clock._removeEvent(this),this._cleared=!0,this},i.prototype.repeat=function(t){if(0===t)throw new Error("delay cannot be 0");return this.repeatTime=t,this.clock._hasEvent(this)||this.schedule(this.deadline+this.repeatTime),this},i.prototype.tolerance=function(t){return"number"===typeof t.late&&(this.toleranceLate=t.late),"number"===typeof t.early&&(this.toleranceEarly=t.early),this._refreshEarlyLateDates(),this.clock._hasEvent(this)&&(this.clock._removeEvent(this),this.clock._insertEvent(this)),this},i.prototype.isRepeated=function(){return null!==this.repeatTime},i.prototype.schedule=function(t){this._cleared=!1,this.deadline=t,this._refreshEarlyLateDates(),this.clock.context.currentTime>=this._earliestTime?this._execute():this.clock._hasEvent(this)?(this.clock._removeEvent(this),this.clock._insertEvent(this)):this.clock._insertEvent(this)},i.prototype.timeStretch=function(t,e){this.isRepeated()&&(this.repeatTime=this.repeatTime*e);var n=t+e*(this.deadline-t);if(this.isRepeated())while(this.clock.context.currentTime>=n-this.toleranceEarly)n+=this.repeatTime;this.schedule(n)},i.prototype._execute=function(){!1!==this.clock._started&&(this.clock._removeEvent(this),this.clock.context.currentTime<this._latestTime?this.func(this):(this.onexpired&&this.onexpired(this),console.warn("event expired")),this.clock._hasEvent(this)||!this.isRepeated()||this._cleared||this.schedule(this.deadline+this.repeatTime))},i.prototype._refreshEarlyLateDates=function(){this._latestTime=this.deadline+this.toleranceLate,this._earliestTime=this.deadline-this.toleranceEarly};var r=t.exports=function(t,e){e=e||{},this.tickMethod=e.tickMethod||"ScriptProcessorNode",this.toleranceEarly=e.toleranceEarly||n.toleranceEarly,this.toleranceLate=e.toleranceLate||n.toleranceLate,this.context=t,this._events=[],this._started=!1};r.prototype.setTimeout=function(t,e){return this._createEvent(t,this._absTime(e))},r.prototype.callbackAtTime=function(t,e){return this._createEvent(t,e)},r.prototype.timeStretch=function(t,e,n){return e.forEach((function(e){e.timeStretch(t,n)})),e},r.prototype.start=function(){if(!1===this._started){var t=this;if(this._started=!0,this._events=[],"ScriptProcessorNode"===this.tickMethod){var n=256;this._clockNode=this.context.createScriptProcessor(n,1,1),this._clockNode.connect(this.context.destination),this._clockNode.onaudioprocess=function(){e.nextTick((function(){t._tick()}))}}else if("manual"!==this.tickMethod)throw new Error("invalid tickMethod "+this.tickMethod)}},r.prototype.stop=function(){!0===this._started&&(this._started=!1,this._clockNode.disconnect())},r.prototype._tick=function(){var t=this._events.shift();while(t&&t._earliestTime<=this.context.currentTime)t._execute(),t=this._events.shift();t&&this._events.unshift(t)},r.prototype._createEvent=function(t,e){return new i(this,e,t)},r.prototype._insertEvent=function(t){this._events.splice(this._indexByTime(t._earliestTime),0,t)},r.prototype._removeEvent=function(t){var e=this._events.indexOf(t);-1!==e&&this._events.splice(e,1)},r.prototype._hasEvent=function(t){return-1!==this._events.indexOf(t)},r.prototype._indexByTime=function(t){var e,n=0,i=this._events.length;while(n<i)e=Math.floor((n+i)/2),this._events[e]._earliestTime<t?n=e+1:i=e;return n},r.prototype._absTime=function(t){return t+this.context.currentTime},r.prototype._relTime=function(t){return t-this.context.currentTime}}).call(e,n(44))},function(t,e){var n,i,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function l(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(t){i=a}})();var c,u=[],h=!1,d=-1;function f(){h&&c&&(h=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!h){var t=o(f);h=!0;var e=u.length;while(e){c=u,u=[];while(++d<e)c&&c[d].run();d=-1,e=u.length}c=null,h=!1,l(t)}}function m(t,e){this.fun=t,this.array=e}function _(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new m(t,e)),1!==u.length||h||o(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}])}))},7689:function(t,e,n){var i,r,s;n(4114),n(9479),n(4979);
/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */
(function(a,o){a=a||n(2965);var l=a.window,c=a.document,u=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],n=e.slice,i=Object.create,r=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=e.forEach||function(t,e){for(var n=0,i=this.length;n<i;n++)t.call(e,this[n],n,this)},l=function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)},c=Object.assign||function(t){for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},u=function(t,e,n){if(t){var i=r(t,"length");(i&&"number"===typeof i.value?a:l).call(t,e,n=n||t)}return n};function h(e,n,i,a,o){var l={};function c(t,c){c=c||(c=r(n,t))&&(c.get?c:c.value),"string"===typeof c&&"#"===c[0]&&(c=e[c.substring(1)]||c);var u,h="function"===typeof c,f=c,p=o||h&&!c.base?c&&c.get?t in e:e[t]:null;o&&p||(h&&p&&(c.base=p),h&&!1!==a&&(u=t.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(l[u[3].toLowerCase()+u[4]]=u[2]),f&&!h&&f.get&&"function"===typeof f.get&&d.isPlainObject(f)||(f={value:f,writable:!0}),(r(e,t)||{configurable:!0}).configurable&&(f.configurable=!0,f.enumerable=null!=i?i:!u),s(e,t,f))}if(n){for(var u in n)n.hasOwnProperty(u)&&!t.test(u)&&c(u);for(var u in l){var h=l[u],f=e["set"+h],p=e["get"+h]||f&&e["is"+h];!p||!0!==a&&0!==p.length||c(u,{get:p,set:f})}}return e}function d(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&c(this,n)}return this}return h(d,{inject:function(t){if(t){var e=!0===t.statics?t:t.statics,n=t.beans,i=t.preserve;e!==t&&h(this.prototype,t,t.enumerable,n,i),h(this,e,null,n,i)}for(var r=1,s=arguments.length;r<s;r++)this.inject(arguments[r]);return this},extend:function(){for(var t,e,n,r=this,a=0,o=arguments.length;a<o&&(!t||!e);a++)n=arguments[a],t=t||n.initialize,e=e||n.prototype;return t=t||function(){r.apply(this,arguments)},e=t.prototype=e||i(this.prototype),s(e,"constructor",{value:t,writable:!0,configurable:!0}),h(t,this),arguments.length&&this.inject.apply(t,arguments),t.base=r,t}}).inject({enumerable:!1,initialize:d,set:d,inject:function(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&h(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var t=i(this);return t.inject.apply(t,arguments)},each:function(t,e){return u(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:c,each:u,create:i,define:s,describe:r,clone:function(t){return c(new t.constructor,t)},isPlainObject:function(t){var e=null!=t&&t.constructor;return e&&(e===Object||e===d||"Object"===e.name)},pick:function(t,e){return t!==o?t:e},slice:function(t,e,i){return n.call(t,e,i)}}})};t.exports=u,u.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+u.each(this,(function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?m.instance.number(t):"string"===n?"'"+t+"'":t))}}),[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return u.importJSON(t,this)},exportJSON:function(t){return u.exportJSON(this,t)},toJSON:function(){return u.serialize(this)},set:function(t,e){return t&&u.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!u.exports[n]&&(u.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"===typeof t&&"object"===typeof e){if(Array.isArray(t)&&Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;while(n--)if(!u.equals(t[n],e[n]))return!1}else{var i=Object.keys(t);n=i.length;if(n!==Object.keys(e).length)return!1;while(n--){var r=i[n];if(!e.hasOwnProperty(r)||!u.equals(t[r],e[r]))return!1}}return!0}return!1},read:function(t,e,n,i){if(this===u){var r=this.peek(t,e);return t.__index++,r}var s=this.prototype,a=s._readIndex,l=e||a&&t.__index||0,c=t.length,h=t[l];if(i=i||c-l,h instanceof this||n&&n.readNull&&null==h&&i<=1)return a&&(t.__index=l+1),h&&n&&n.clone?h.clone():h;if(h=u.create(s),a&&(h.__read=!0),h=h.initialize.apply(h,l>0||l+i<c?u.slice(t,l,l+i):t)||h,a){t.__index=l+h.__read;var d=h.__filtered;d&&(t.__filtered=d,h.__filtered=o),h.__read=o}return h},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,i){for(var r,s=[],a=e||0,o=i?a+i:t.length,l=a;l<o;l++)s.push(Array.isArray(r=t[l])?this.read(r,0,n):this.read(t,l,n,1));return s},readNamed:function(t,e,n,i,r){var s=this.getNamed(t,e),a=s!==o;if(a){var l=t.__filtered;if(!l){var c=this.getSource(t);l=t.__filtered=u.create(c),l.__unfiltered=c}l[e]=o}return this.read(a?[s]:t,n,i,r)},readSupported:function(t,e){var n=this.getSource(t),i=this,r=!1;return n&&Object.keys(n).forEach((function(n){if(n in e){var s=i.readNamed(t,n);s!==o&&(e[n]=s),r=!0}})),r},getSource:function(t){var e=t.__source;if(e===o){var n=1===t.length&&t[0];e=t.__source=n&&u.isPlainObject(n)?n:null}return e},getNamed:function(t,e){var n=this.getSource(t);if(n)return e?n[e]:t.__filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,i){var r;function s(i){if((!n||!(i in n))&&(!r||!(i in r))){var s=e[i];s!==o&&(t[i]=s)}}if(i){for(var a,l={},c=0,u=i.length;c<u;c++)(a=i[c])in e&&(s(a),l[a]=!0);r=l}return Object.keys(e.__unfiltered||e).forEach(s),t},isPlainValue:function(t,e){return u.isPlainObject(t)||Array.isArray(t)||e&&"string"===typeof t},serialize:function(t,e,n,i){e=e||{};var r,s=!i;if(s&&(e.formatter=new m(e.precision),i={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,i=this.references[n];if(!i){this.length++;var r=e.call(t),s=t._class;s&&r[0]!==s&&r.unshift(s),this.definitions[n]=r,i=this.references[n]=[n]}return i}}),t&&t._serialize){r=t._serialize(e,i);var a=t._class;!a||t._compactSerialize||!s&&n||r[0]===a||r.unshift(a)}else if(Array.isArray(t)){r=[];for(var o=0,l=t.length;o<l;o++)r[o]=u.serialize(t[o],e,n,i)}else if(u.isPlainObject(t)){r={};var c=Object.keys(t);for(o=0,l=c.length;o<l;o++){var h=c[o];r[h]=u.serialize(t[h],e,n,i)}}else r="number"===typeof t?e.formatter.number(t,e.precision):t;return s&&i.length>0?[["dictionary",i.definitions],r]:r},deserialize:function(t,e,n,i,r){var s=t,a=!n,o=a&&t&&t.length&&"dictionary"===t[0][0];if(n=n||{},Array.isArray(t)){var l=t[0],c="dictionary"===l;if(1==t.length&&/^#/.test(l))return n.dictionary[l];l=u.exports[l],s=[];for(var h=l?1:0,d=t.length;h<d;h++)s.push(u.deserialize(t[h],e,n,c,o));if(l){var f=s;s=e?e(l,f,a||r):new l(f)}}else if(u.isPlainObject(t))for(var p in s={},i&&(n.dictionary=s),t)s[p]=u.deserialize(t[p],e,n);return o?s[1]:s},exportJSON:function(t,e){var n=u.serialize(t,e);return e&&0==e.asString?n:JSON.stringify(n)},importJSON:function(t,e){return u.deserialize("string"===typeof t?JSON.parse(t):t,(function(t,n,i){var r=i&&e&&e.constructor===t,s=r?e:u.create(t.prototype);if(1===n.length&&s instanceof A&&(r||!(s instanceof M))){var a=n[0];u.isPlainObject(a)&&(a.insert=!1,r&&(n=n.concat([A.INSERT])))}return(r?s.set:t).apply(s,n),r&&(e=null),s}))},push:function(t,e){var n=e.length;if(n<4096)t.push.apply(t,e);else{var i=t.length;t.length+=n;for(var r=0;r<n;r++)t[i+r]=e[r]}return t},splice:function(t,e,n,i){var r=e&&e.length,s=n===o;n=s?t.length:n,n>t.length&&(n=t.length);for(var a=0;a<r;a++)e[a]._index=n+a;if(s)return u.push(t,e),[];var l=[n,i];e&&u.push(l,e);for(var c=t.splice.apply(t,l),h=(a=0,c.length);a<h;a++)c[a]._index=o;for(a=n+r,h=t.length;a<h;a++)t[a]._index=a;return c},capitalize:function(t){return t.replace(/\b[a-z]/g,(function(t){return t.toUpperCase()}))},camelize:function(t){return t.replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var h={on:function(t,e){if("string"!==typeof t)u.each(t,(function(t,e){this.on(e,t)}),this);else{var n=this._eventTypes,i=n&&n[t],r=this._callbacks=this._callbacks||{};r=r[t]=r[t]||[],-1===r.indexOf(e)&&(r.push(e),i&&i.install&&1===r.length&&i.install.call(this,t))}return this},off:function(t,e){if("string"===typeof t){var n,i=this._eventTypes,r=i&&i[t],s=this._callbacks&&this._callbacks[t];return s&&(!e||-1!==(n=s.indexOf(e))&&1===s.length?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):-1!==n&&s.splice(n,1)),this}u.each(t,(function(t,e){this.off(e,t)}),this)},once:function(t,e){return this.on(t,(function n(){e.apply(this,arguments),this.off(t,n)}))},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var i=u.slice(arguments,1),r=e&&e.target&&!e.currentTarget;n=n.slice(),r&&(e.currentTarget=this);for(var s=0,a=n.length;s<a;s++)if(0==n[s].apply(this,i)){e&&e.stop&&e.stop();break}return r&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,i=t?"install":"uninstall";if(e)for(var r in n)if(n[r].length>0){var s=e[r],a=s&&s[i];a&&a.call(this,r)}},statics:{inject:function t(e){var n=e._events;if(n){var i={};u.each(n,(function(t,n){var r="string"===typeof t,s=r?t:n,a=u.capitalize(s),o=s.substring(2).toLowerCase();i[o]=r?{}:t,s="_"+s,e["get"+a]=function(){return this[s]},e["set"+a]=function(t){var e=this[s];e&&this.off(o,e),t&&this.on(o,t),this[s]=t}})),e._eventTypes=i}return t.base.apply(this,arguments)}}},d=u.extend({_class:"PaperScope",initialize:function t(){dt=this,this.settings=new u({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=lt.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:ct.nativeModes},lt.release(n)}if(!this.agent){var i=a.navigator.userAgent.toLowerCase(),r=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],s="darwin"===r?"mac":r,o=e.agent=e.browser={platform:s};s&&(o[s]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,(function(t,e,n,i,r){if(!o.chrome){var s="opera"===e?i:/^(node|trident)$/.test(e)?r:n;o.version=s,o.versionNumber=parseFloat(s),e={trident:"msie",jsdom:"node"}[e]||e,o.name=e,o[e]=!0}})),o.chrome&&delete o.webkit,o.atom&&delete o.chrome}},version:"0.12.18",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){var n=dt.PaperScript.execute(t,this,e);return Q.updateFocus(),n},install:function(t){var e=this;for(var n in u.each(["project","view","tool"],(function(n){u.define(t,n,{configurable:!0,get:function(){return e[n]}})})),this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return dt=this,this.project=new T(t),this},createCanvas:function(t,e){return lt.getCanvas(t,e)},activate:function(){dt=this},clear:function(){for(var t=this.projects,e=this.tools,n=t.length-1;n>=0;n--)t[n].remove();for(n=e.length-1;n>=0;n--)e[n].remove()},remove:function(){this.clear(),delete d._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),f=u.extend(h,{initialize:function(t){this._scope=dt,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(u.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),p={findItemBoundsCollisions:function(t,e,n){function i(t){for(var e=new Array(t.length),n=0;n<t.length;n++){var i=t[n].getBounds();e[n]=[i.left,i.top,i.right,i.bottom]}return e}var r=i(t),s=e&&e!==t?i(e):r;return this.findBoundsCollisions(r,s,n||0)},findCurveBoundsCollisions:function(t,e,n,i){function r(t){for(var e=Math.min,n=Math.max,i=new Array(t.length),r=0;r<t.length;r++){var s=t[r];i[r]=[e(s[0],s[2],s[4],s[6]),e(s[1],s[3],s[5],s[7]),n(s[0],s[2],s[4],s[6]),n(s[1],s[3],s[5],s[7])]}return i}var s=r(t),a=e&&e!==t?r(e):s;if(i){for(var o=this.findBoundsCollisions(s,a,n||0,!1,!0),l=this.findBoundsCollisions(s,a,n||0,!0,!0),c=[],u=0,h=o.length;u<h;u++)c[u]={hor:o[u],ver:l[u]};return c}return this.findBoundsCollisions(s,a,n||0)},findBoundsCollisions:function(t,e,n,i,r){var s=!e||t===e,a=s?t:t.concat(e),o=t.length,l=a.length;function c(t,e,n){var i=0,r=t.length;while(i<r){var s=r+i>>>1;a[t[s]][e]<n?i=s+1:r=s}return i-1}for(var u=i?1:0,h=u+2,d=i?0:1,f=d+2,p=new Array(l),m=0;m<l;m++)p[m]=m;p.sort((function(t,e){return a[t][u]-a[e][u]}));var _=[],v=new Array(o);for(m=0;m<l;m++){var g=p[m],y=a[g],b=s?g:g-o,w=g<o,x=s||!w,k=w?[]:null;if(_.length){var S=c(_,h,y[u]-n)+1;if(_.splice(0,S),s&&r){k=k.concat(_);for(var C=0;C<_.length;C++){var T=_[C];v[T].push(b)}}else{var A=y[f],E=y[d];for(C=0;C<_.length;C++){T=_[C];var M=a[T],O=T<o,I=s||T>=o;(r||(w&&I||x&&O)&&A>=M[d]-n&&E<=M[f]+n)&&(w&&I&&k.push(s?T:T-o),x&&O&&v[T].push(b))}}}if(w&&(t===e&&k.push(g),v[g]=k),_.length){var P=y[h],R=c(_,h,P);_.splice(R+1,0,g)}else _.push(g)}for(m=0;m<v.length;m++){var D=v[m];D&&D.sort((function(t,e){return t-e}))}return v}},m=u.extend({initialize:function(t){this.precision=u.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});m.instance=new m;var _=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,i=Math.sqrt,r=Math.pow,s=Math.log2||function(t){return Math.log(t)*Math.LOG2E},a=1e-12,o=112e-18;function l(t,e,n){return t<e?e:t>n?n:t}function c(t,e,i){function r(t){var e=134217729*t,n=t-e,i=n+e,r=t-i;return[i,r]}var s=e*e-t*i,a=e*e+t*i;if(3*n(s)<a){var o=r(t),l=r(e),c=r(i),u=e*e,h=l[0]*l[0]-u+2*l[0]*l[1]+l[1]*l[1],d=t*i,f=o[0]*c[0]-d+o[0]*c[1]+o[1]*c[0]+o[1]*c[1];s=u-d+(h-f)}return s}function u(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?r(2,-Math.round(s(t))):0}return{EPSILON:a,MACHINE_EPSILON:o,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(i(2)-1)/3,isZero:function(t){return t>=-a&&t<=a},isMachineZero:function(t){return t>=-o&&t<=o},clamp:l,integrate:function(n,i,r,s){var a=t[s-2],o=e[s-2],l=.5*(r-i),c=l+i,u=0,h=s+1>>1,d=1&s?o[u++]*n(c):0;while(u<h){var f=l*a[u];d+=o[u++]*(n(c+f)+n(c-f))}return l*d},findRoot:function(t,e,i,r,s,a,o){for(var c=0;c<a;c++){var u=t(i),h=u/e(i),d=i-h;if(n(h)<o){i=d;break}u>0?(s=i,i=d<=r?.5*(r+s):d):(r=i,i=d>=s?.5*(r+s):d)}return l(i,r,s)},solveQuadratic:function(t,e,r,s,h,d){var f,p=1/0;if(n(t)<a){if(n(e)<a)return n(r)<a?-1:0;f=-r/e}else{e*=-.5;var m=c(t,e,r);if(m&&n(m)<o){var _=u(n(t),n(e),n(r));_&&(t*=_,e*=_,r*=_,m=c(t,e,r))}if(m>=-o){var v=m<0?0:i(m),g=e+(e<0?-v:v);0===g?(f=r/t,p=-f):(f=g/t,p=r/g)}}var y=0,b=null==h,w=h-a,x=d+a;return isFinite(f)&&(b||f>w&&f<x)&&(s[y++]=b?f:l(f,h,d)),p!==f&&isFinite(p)&&(b||p>w&&p<x)&&(s[y++]=b?p:l(p,h,d)),y},solveCubic:function(t,e,s,c,h,d,f){var p,m,v,g,y,b=u(n(t),n(e),n(s),n(c));function w(n){p=n;var i=t*p;m=i+e,v=m*p+s,g=(i+m)*p+v,y=v*p+c}if(b&&(t*=b,e*=b,s*=b,c*=b),n(t)<a)t=e,m=s,v=c,p=1/0;else if(n(c)<a)m=e,v=s,p=0;else{w(-e/t/3);var x=y/t,k=r(n(x),1/3),S=x<0?-1:1,C=-g/t,T=C>0?1.324717957244746*Math.max(k,i(C)):k,A=p-S*T;if(A!==p){do{w(A),A=0===g?p:p-y/g/(1+o)}while(S*A>S*p);n(t)*p*p>n(c/p)&&(v=-c/p,m=(v-s)/p)}}var E=_.solveQuadratic(t,m,v,h,d,f),M=null==d;return isFinite(p)&&(0===E||E>0&&p!==h[0]&&p!==h[1])&&(M||p>d-a&&p<f+a)&&(h[E++]=M?p:l(p,d,f)),E}}},v={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},g=u.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var s="number"===typeof e;this._set(t,s?e:t),i&&(r=s?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var a="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"x"in a?this._set(a.x||0,a.y||0):"width"in a?this._set(a.width||0,a.height||0):"angle"in a?(this._set(a.length||0,0),this.setAngle(a.angle||0)):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new g(this.x,this.y)},toString:function(){var t=m.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();_.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=g.read(arguments),e=this.getLength()*t.getLength();if(_.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=g.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=arguments,e=g.read(t),n=e.x-this.x,i=e.y-this.y,r=n*n+i*i,s=u.read(t);return s?r:Math.sqrt(r)},normalize:function(t){t===o&&(t=1);var e=this.getLength(),n=0!==e?t/e:0,i=new g(this.x*n,this.y*n);return n>=0&&(i._angle=this._angle),i},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,i=Math.sin(t),r=Math.cos(t);return n=new g(n.x*r-n.y*i,n.x*i+n.y*r),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=g.read(arguments);return new g(this.x+t.x,this.y+t.y)},subtract:function(){var t=g.read(arguments);return new g(this.x-t.x,this.y-t.y)},multiply:function(){var t=g.read(arguments);return new g(this.x*t.x,this.y*t.y)},divide:function(){var t=g.read(arguments);return new g(this.x/t.x,this.y/t.y)},modulo:function(){var t=g.read(arguments);return new g(this.x%t.x,this.y%t.y)},negate:function(){return new g(-this.x,-this.y)},isInside:function(){return x.read(arguments).contains(this)},isClose:function(){var t=arguments,e=g.read(t),n=u.read(t);return this.getDistance(e)<=n},isCollinear:function(){var t=g.read(arguments);return g.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=g.read(arguments);return g.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=_.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=g.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=g.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=g.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new g(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=g.read(t),n=g.read(t);return new g(Math.min(e.x,n.x),Math.min(e.y,n.y))},max:function(){var t=arguments,e=g.read(t),n=g.read(t);return new g(Math.max(e.x,n.x),Math.max(e.y,n.y))},random:function(){return new g(Math.random(),Math.random())},isCollinear:function(t,e,n,i){return Math.abs(t*i-e*n)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))},isOrthogonal:function(t,e,n,i){return Math.abs(t*n+e*i)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))}}},u.each(["round","ceil","floor","abs"],(function(t){var e=Math[t];this[t]=function(){return new g(e(this.x),e(this.y))}}),{})),y=g.extend({initialize:function(t,e,n,i){this._x=t,this._y=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),b=u.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var s="number"===typeof e;this._set(t,s?e:t),i&&(r=s?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var a="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"width"in a?this._set(a.width||0,a.height||0):"x"in a?this._set(a.x||0,a.y||0):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new b(this.width,this.height)},toString:function(){var t=m.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=b.read(arguments);return new b(this.width+t.width,this.height+t.height)},subtract:function(){var t=b.read(arguments);return new b(this.width-t.width,this.height-t.height)},multiply:function(){var t=b.read(arguments);return new b(this.width*t.width,this.height*t.height)},divide:function(){var t=b.read(arguments);return new b(this.width/t.width,this.height/t.height)},modulo:function(){var t=b.read(arguments);return new b(this.width%t.width,this.height%t.height)},negate:function(){return new b(-this.width,-this.height)},isZero:function(){var t=_.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new b(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new b(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new b(Math.random(),Math.random())}}},u.each(["round","ceil","floor","abs"],(function(t){var e=Math[t];this[t]=function(){return new b(e(this.width),e(this.height))}}),{})),w=b.extend({initialize:function(t,e,n,i){this._width=t,this._height=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),x=u.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,n,i){var r,s=arguments,a=typeof t;if("number"===a?(this._set(t,e,n,i),r=4):"undefined"===a||null===t?(this._set(0,0,0,0),r=null===t?1:0):1===s.length&&(Array.isArray(t)?(this._set.apply(this,t),r=1):t.x!==o||t.width!==o?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),r=1):t.from===o&&t.to===o&&(this._set(0,0,0,0),u.readSupported(s,this)&&(r=1))),r===o){var l,c,h=g.readNamed(s,"from"),d=u.peek(s),f=h.x,p=h.y;if(d&&d.x!==o||u.hasNamed(s,"to")){var m=g.readNamed(s,"to");l=m.x-f,c=m.y-p,l<0&&(f=m.x,l=-l),c<0&&(p=m.y,c=-c)}else{var _=b.read(s);l=_.width,c=_.height}this._set(f,p,l,c),r=s.__index}var v=s.__filtered;return v&&(this.__filtered=v),this.__read&&(this.__read=r),this},set:"#initialize",_set:function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},clone:function(){return new x(this.x,this.y,this.width,this.height)},equals:function(t){var e=u.isPlainValue(t)?x.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=m.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?g:y;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=g.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?b:w;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=b.read(arguments),e=this._sx,n=this._sy,i=t.width,r=t.height;e&&(this.x+=(this.width-i)*e),n&&(this.y+=(this.height-r)*n),this.width=i,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){var e=t?g:y;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=g.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==o||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(x.read(arguments)):this._containsPoint(g.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=x.read(arguments),e=u.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=x.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),i=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new x(e,n,i-e,r-n)},unite:function(){var t=x.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new x(e,n,i-e,r-n)},include:function(){var t=g.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new x(e,n,i-e,r-n)},expand:function(){var t=b.read(arguments),e=t.width,n=t.height;return new x(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===o?t:e)-this.height)}},u.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],(function(t,e){var n=t.join(""),i=/^[RL]/.test(n);e>=4&&(t[1]+=i?"Y":"X");var r=t[i?0:1],s=t[i?1:0],a="get"+r,o="get"+s,l="set"+r,c="set"+s,u="get"+n,h="set"+n;this[u]=function(t){var e=t?g:y;return new e(this[a](),this[o](),this,h)},this[h]=function(){var t=g.read(arguments);this[l](t.x),this[c](t.y)}}),{beans:!0})),k=x.extend({initialize:function(t,e,n,i,r,s){this._set(t,e,n,i,!0),this._owner=r,this._setter=s},_set:function(t,e,n,i,r){return this._x=t,this._y=e,this._width=n,this._height=i,r||this._owner[this._setter](this),this}},new function(){var t=x.prototype;return u.each(["x","y","width","height"],(function(t){var e=u.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._dontNotify||this._owner[this._setter](this)}}),u.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],(function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}}),{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),S=u.extend({_class:"Matrix",initialize:function t(e,n){var i=arguments,r=i.length,s=!0;if(r>=6?this._set.apply(this,i):1===r||2===r?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):s=!1:r?s=!1:this.reset(),!s)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,i,r,s,a){return this._a=t,this._b=e,this._c=n,this._d=i,this._tx=r,this._ty=s,a||this._changed(),this},_serialize:function(t,e){return u.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new S(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=m.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return!!n&&(n.transform(null,u.pick(t,!0),e),this.isIdentity())},translate:function(){var t=g.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=arguments,e=g.read(t),n=g.read(t,0,{readNull:!0});return n&&this.translate(n),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=g.read(arguments,1),n=e.x,i=e.y,r=Math.cos(t),s=Math.sin(t),a=n-n*r+i*s,o=i-n*s-i*r,l=this._a,c=this._b,u=this._c,h=this._d;return this._a=r*l+s*u,this._b=r*c+s*h,this._c=-s*l+r*u,this._d=-s*c+r*h,this._tx+=a*l+o*u,this._ty+=a*c+o*h,this._changed(),this},shear:function(){var t=arguments,e=g.read(t),n=g.read(t,0,{readNull:!0});n&&this.translate(n);var i=this._a,r=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*i,this._d+=e.x*r,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var t=arguments,e=g.read(t),n=g.read(t,0,{readNull:!0}),i=Math.PI/180,r=new g(Math.tan(e.x*i),Math.tan(e.y*i));return this.shear(r,n)},append:function(t,e){if(t){var n=this._a,i=this._b,r=this._c,s=this._d,a=t._a,o=t._c,l=t._b,c=t._d,u=t._tx,h=t._ty;this._a=a*n+l*r,this._c=o*n+c*r,this._b=a*i+l*s,this._d=o*i+c*s,this._tx+=u*n+h*r,this._ty+=u*i+h*s,e||this._changed()}return this},prepend:function(t,e){if(t){var n=this._a,i=this._b,r=this._c,s=this._d,a=this._tx,o=this._ty,l=t._a,c=t._c,u=t._b,h=t._d,d=t._tx,f=t._ty;this._a=l*n+c*i,this._c=l*r+c*s,this._b=u*n+h*i,this._d=u*r+h*s,this._tx=l*a+c*o+d,this._ty=u*a+h*o+f,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,i=this._d,r=this._tx,s=this._ty,a=t*i-e*n,o=null;return a&&!isNaN(a)&&isFinite(r)&&isFinite(s)&&(this._a=i/a,this._b=-e/a,this._c=-n/a,this._d=t/a,this._tx=(n*s-i*r)/a,this._ty=(e*r-t*s)/a,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new S(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(g.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var i=t.x,r=t.y;return e||(e=new g),e._set(i*this._a+r*this._c+this._tx,i*this._b+r*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var i=0,r=2*n;i<r;i+=2){var s=t[i],a=t[i+1];e[i]=s*this._a+a*this._c+this._tx,e[i+1]=s*this._b+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,i=e+t.width,r=n+t.height,s=[e,n,i,n,i,r,e,r];return this._transformCoordinates(s,s,4)},_transformBounds:function(t,e,n){for(var i=this._transformCorners(t),r=i.slice(0,2),s=r.slice(),a=2;a<8;a++){var o=i[a],l=1&a;o<r[l]?r[l]=o:o>s[l]&&(s[l]=o)}return e||(e=new x),e._set(r[0],r[1],s[0]-r[0],s[1]-r[1],n)},inverseTransform:function(){return this._inverseTransform(g.read(arguments))},_inverseTransform:function(t,e,n){var i=this._a,r=this._b,s=this._c,a=this._d,o=this._tx,l=this._ty,c=i*a-r*s,u=null;if(c&&!isNaN(c)&&isFinite(o)&&isFinite(l)){var h=t.x-this._tx,d=t.y-this._ty;e||(e=new g),u=e._set((h*a-d*s)/c,(d*i-h*r)/c,n)}return u},decompose:function(){var t,e,n,i=this._a,r=this._b,s=this._c,a=this._d,o=i*a-r*s,l=Math.sqrt,c=Math.atan2,u=180/Math.PI;if(0!==i||0!==r){var h=l(i*i+r*r);t=Math.acos(i/h)*(r>0?1:-1),e=[h,o/h],n=[c(i*s+r*a,h*h),0]}else if(0!==s||0!==a){var d=l(s*s+a*a);t=Math.asin(s/d)*(a>0?1:-1),e=[o/d,d],n=[0,c(i*s+r*a,d*d)]}else t=0,n=e=[0,0];return{translation:this.getTranslation(),rotation:t*u,scaling:new g(e),skewing:new g(n[0]*u,n[1]*u)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new g(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},u.each(["a","b","c","d","tx","ty"],(function(t){var e=u.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._changed()}}),{})),C=u.extend({_class:"Line",initialize:function(t,e,n,i,r){var s=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=n,this._vy=i,s=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,s=n),s||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new g(this._px,this._py)},getVector:function(){return new g(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return C.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return C.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return C.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return g.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return g.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,i,r,s,a,o,l,c){l||(n-=t,i-=e,a-=r,o-=s);var u=n*o-i*a;if(!_.isMachineZero(u)){var h=t-r,d=e-s,f=(a*d-o*h)/u,p=(n*d-i*h)/u,m=1e-12,v=-m,y=1+m;if(c||v<f&&f<y&&v<p&&p<y)return c||(f=f<=0?0:f>=1?1:f),new g(t+f*n,e+f*i)}},getSide:function(t,e,n,i,r,s,a,o){a||(n-=t,i-=e);var l=r-t,c=s-e,u=l*i-c*n;return!o&&_.isMachineZero(u)&&(u=(l*n+l*n)/(n*n+i*i),u>=0&&u<=1&&(u=0)),u<0?-1:u>0?1:0},getSignedDistance:function(t,e,n,i,r,s,a){return a||(n-=t,i-=e),0===n?i>0?r-t:t-r:0===i?n<0?s-e:e-s:((r-t)*i-(s-e)*n)/(i>n?i*Math.sqrt(1+n*n/(i*i)):n*Math.sqrt(1+i*i/(n*n)))},getDistance:function(t,e,n,i,r,s,a){return Math.abs(C.getSignedDistance(t,e,n,i,r,s,a))}}}),T=f.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){f.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new G(null,null,this),this._view=Q.create(this,t||lt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return u.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&e){var r=this._changesById,s=e._id,a=r[s];a?a.flags|=t:i.push(r[s]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new M({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:P,match:function(n){var i=n._definition,r=i._id;return e[r]||(e[r]=!0,t.push(i)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var i=t[n],r=i._selection;1&r&&i.isInserted()?e.push(i):r||this._updateSelection(i)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(o,t)},insertLayer:function(t,e){if(e instanceof M){e._remove(!1,!0),u.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(o,new M(A.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return A._getItems(this,t)},getItem:function(t){return A._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return u.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var i in n){var r=n[i];for(var s in e){var a=e[s];a&&a!=n&&delete a[r._id]}r.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var i=this._children,r=new u({offset:new g(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new S],updateMatrix:!0}),s=0,a=i.length;s<a;s++)i[s].draw(t,r);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var o=this._selectionItems,l=this._scope.settings.handleSize,c=this._updateVersion;for(var h in o)o[h]._drawSelection(t,e,l,o,c);t.restore()}}}),A=u.extend(h,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=u.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new S,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return u.each(t,(function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}}),{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&u.isPlainObject(t),i=n&&!0===t.internal,r=this._matrix=new S,s=n&&t.project||dt.project,a=dt.settings;return this._id=i?null:v.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&a.applyMatrix,e&&r.translate(e),r._owner=this,this._style=new G(s._currentStyle,this,s),i||n&&0==t.insert||!a.insertItems&&(!n||1!=t.insert)?this._setProject(s):(n&&t.parent||s)._insertItem(o,this,!0),n&&t!==A.NO_INSERT&&t!==A.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){var n={},i=this;function r(r){for(var s in r){var a=i[s];u.equals(a,"leading"===s?1.2*r.fontSize:r[s])||(n[s]=u.serialize(a,t,"data"!==s,e))}}return r(this._serializeFields),this instanceof E||r(this._style._defaults),[this._class,n]},_changed:function(t){var e=this._symbol,n=this._parent||e,i=this._project;8&t&&(this._bounds=this._position=this._decomposed=o),16&t&&(this._globalMatrix=o),n&&72&t&&A._clearBoundsCache(n),2&t&&A._clearBoundsCache(this),i&&i._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,i=e._namedChildren;(i[t]=i[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},u.each(["locked","visible","blendMode","opacity","guide"],(function(t){var e=u.capitalize(t),n="_"+t,i={locked:256,visible:265};this["get"+e]=function(){return this[n]},this["set"+e]=function(e){e!=this[n]&&(this[n]=e,this._changed(i[t]||257))}}),{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var n=0,i=t.length;n<i;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,i=e.length;n<i;n++)e[n].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?g:y,n=this._position||(this._position=this._getPositionFromBounds());return new e(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(g.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new y(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=g.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},u.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},(function(t,e){this[e]=function(e){return this.getBounds(e,t)}}),{beans:!0,getBounds:function(t,e){var n=e||t instanceof S,i=u.set({},n?e:t,this._boundsOptions);i.stroke&&!this.getStrokeScaling()||(i.cacheItem=this);var r=this._getCachedBounds(n&&t,i).rect;return arguments.length?r:new k(r.x,r.y,r.width,r.height,this,"setBounds")},setBounds:function(){var t=x.read(arguments),e=this.getBounds(),n=this._matrix,i=new S,r=t.getCenter();i.translate(r),t.width==e.width&&t.height==e.height||(n.isInvertible()||(n.set(n._backup||(new S).translate(n.getTranslation())),e=this.getBounds()),i.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),r=e.getCenter(),i.translate(-r.x,-r.y),this.transform(i)},_getBounds:function(t,e){var n=this._children;return n&&n.length?(A._updateBoundsCache(this,e.cacheItem),A._getBounds(n,t,e)):new x},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,n){t=t&&t._orNullIfIdentity();var i=e.internal&&!n,r=e.cacheItem,s=i?null:this._matrix._orNullIfIdentity(),a=r&&(!t||t.equals(s))&&this._getBoundsCacheKey(e,i),o=this._bounds;if(A._updateBoundsCache(this._parent||this._symbol,r),a&&o&&a in o){var l=o[a];return{rect:l.rect.clone(),nonscaling:l.nonscaling}}var c=this._getBounds(t||s,e),u=c.rect||c,h=this._style,d=c.nonscaling||h.hasStroke()&&!h.getStrokeScaling();if(a){o||(this._bounds=o={});l=o[a]={rect:u.clone(),nonscaling:d,internal:i}}return{rect:u,nonscaling:d}},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():t;return i&&i._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,i=t._boundsCache=t._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(e),i.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=o;for(var n=0,i=e.list,r=i.length;n<r;n++){var s=i[n];s!==t&&(s._bounds=s._position=o,s._boundsCache&&A._clearBoundsCache(s))}}},_getBounds:function(t,e,n){var i=1/0,r=-i,s=i,a=r,o=!1;n=n||{};for(var l=0,c=t.length;l<c;l++){var u=t[l];if(u._visible&&!u.isEmpty(!0)){var h=u._getCachedBounds(e&&e.appended(u._matrix),n,!0),d=h.rect;i=Math.min(d.x,i),s=Math.min(d.y,s),r=Math.max(d.x+d.width,r),a=Math.max(d.y+d.height,a),h.nonscaling&&(o=!0)}}return{rect:isFinite(i)?new x(i,s,r-i,a-s):new x,nonscaling:o}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new y(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=g.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this.getRotation(),i=this._decomposed,r=new S,s=_.isZero;if(s(t.x)||s(t.y))r.translate(i.translation),n&&r.rotate(n),r.scale(e.x,e.y),this._matrix.set(r);else{var a=this.getPosition(!0);r.translate(a),n&&r.rotate(n),r.scale(e.x/t.x,e.y/t.y),n&&r.rotate(-n),r.translate(a.negate()),this.transform(r)}i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e){var n=this._parent,i=[];while(n){if(!n._globalMatrix){e=null;for(var r=0,s=i.length;r<s;r++)i[r]._globalMatrix=null;break}i.push(n),n=n._parent}}if(!e){e=this._globalMatrix=this._matrix.clone();n=this._parent;n&&e.prepend(n.getGlobalMatrix(!0))}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._installEvents(e)},getLayer:function(){var t=this;while(t=t._parent)if(t instanceof M)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(t){var e=this._parent,n=e&&e._children;n&&e.insertChildren(t in n?t:o,[this])},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return u.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(A.NO_INSERT),n=this._children,i=u.pick(t?t.insert:o,t===o||!0===t),r=u.pick(t?t.deep:o,!0);n&&e.copyAttributes(this),n&&!r||e.copyContent(this),n||e.copyAttributes(this),i&&e.insertAbove(this);var s=this._name,a=this._parent;if(s&&a){n=a._children;var l=s,c=1;while(n[s])s=l+" "+c++;s!==l&&e.setName(s)}return e},copyContent:function(t){for(var e=t._children,n=0,i=e&&e.length;n<i;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,r=n.length;i<r;i++){var s=n[i];t.hasOwnProperty(s)&&(this[s]=t[s])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var a=t._data,o=t._name;this._data=a?u.clone(a):null,o&&this.setName(o)},rasterize:function(t,e){var n,i,r;u.isPlainObject(t)?(n=t.resolution,i=t.insert,r=t.raster):(n=t,i=e),r||(r=new I(A.NO_INSERT));var s=this.getStrokeBounds(),a=(n||this.getView().getResolution())/72,l=s.getTopLeft().floor(),c=s.getBottomRight().ceil(),h=new b(c.subtract(l)),d=h.multiply(a);if(r.setSize(d,!0),!d.isZero()){var f=r.getContext(!0),p=(new S).scale(a).translate(l.negate());f.save(),p.applyToContext(f),this.draw(f,new u({matrices:[p]})),f.restore()}return r._matrix.set((new S).translate(l.add(h.divide(2))).scale(1/a)),(i===o||i)&&r.insertAbove(this),r},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(g.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return x.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new j.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof A&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){var t=arguments;return this._hitTest(g.read(t),D.getOptions(t))}function e(){var t=arguments,e=g.read(t),n=D.getOptions(t),i=[];return this._hitTest(e,new u({all:i},n)),i}function n(t,e,n,i){var r=this._children;if(r)for(var s=r.length-1;s>=0;s--){var a=r[s],o=a!==i&&a._hitTest(t,e,n);if(o&&!e.all)return o}return null}return T.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var i=this._matrix,r=n?n.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),s=Math.max(e.tolerance,1e-12),a=e._tolerancePadding=new b(j._getStrokePadding(s,i._shiftless().invert()));if(t=i._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(a.multiply(2))._containsPoint(t))return null;var o,l,c=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==u.hyphenate(this._class)||e.class&&!(this instanceof e.class)),h=e.match,d=this;function f(t){return t&&h&&!h(t)&&(t=null),t&&e.all&&e.all.push(t),t}function p(e,n){var i=n?o["get"+n]():d.getPosition();if(t.subtract(i).divide(a).length<=1)return new D(e,d,{name:n?u.hyphenate(n):e,point:i})}var m=e.position,_=e.center,v=e.bounds;if(c&&this._parent&&(m||_||v)){if((_||v)&&(o=this.getInternalBounds()),l=m&&p("position")||_&&p("center","Center"),!l&&v)for(var g=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],y=0;y<8&&!l;y++)l=p("bounds",g[y]);l=f(l)}return l||(l=this._hitTestChildren(t,e,r)||c&&f(this._hitTestSelf(t,e,r,this.getStrokeScaling()?null:r._shiftless().invert()))||null),l&&l.point&&(l.point=i.transform(l.point)),l},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new D("fill",this)},matches:function(t,e){function n(t,e){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],s=e[i];if(u.isPlainObject(r)&&u.isPlainObject(s)){if(!n(r,s))return!1}else if(!u.equals(r,s))return!1}return!0}var i=typeof t;if("object"===i){for(var r in t)if(t.hasOwnProperty(r)&&!this.matches(r,t[r]))return!1;return!0}if("function"===i)return t(this);if("match"===t)return e(this);var s=/^(empty|editable)$/.test(t)?this["is"+u.capitalize(t)]():"type"===t?u.hyphenate(this._class):this[t];if("class"===t){if("function"===typeof e)return this instanceof e;s=this._class}if("function"===typeof e)return!!e(s);if(e){if(e.test)return e.test(s);if(u.isPlainObject(e))return n(e,s)}return u.equals(s,e)},getItems:function(t){return A._getItems(this,t,this._matrix)},getItem:function(t){return A._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,i,r,s){if(!r){var a="object"===typeof n&&n,o=a&&a.overlapping,l=a&&a.inside,c=o||l,h=c&&x.read([c]);r={items:[],recursive:a&&!1!==a.recursive,inside:!!l,overlapping:!!o,rect:h,path:o&&new j.Rectangle({rectangle:h,insert:!1})},a&&(n=u.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var d=e._children,f=r.items;h=r.rect;i=h&&(i||new S);for(var p=0,m=d&&d.length;p<m;p++){var _=d[p],v=i&&i.appended(_._matrix),g=!0;if(h){c=_.getBounds(v);if(!h.intersects(c))continue;h.contains(c)||r.overlapping&&(c.contains(h)||r.path.intersects(_,v))||(g=!1)}if(g&&_.matches(n)&&(f.push(_),s))break;if(!1!==r.recursive&&t(_,n,v,r,s),s&&f.length>0)break}return f}}},{importJSON:function(t){var e=u.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(o,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){e=u.slice(e);for(var i={},r=e.length-1;r>=0;r--){var s=e[r],a=s&&s._id;!s||i[a]?e.splice(r,1):(s._remove(!1,!0),i[a]=!0)}u.splice(n,e,t,0);for(var o=this._project,l=o._changes,c=(r=0,e.length);r<c;r++){s=e[r];var h=s._name;s._parent=this,s._setProject(o,!0),h&&s.setName(h),l&&s._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),i=t!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(t._index+e,i)),i},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(o,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,i=this._name,r=n[i],s=r?r.indexOf(this):-1;-1!==s&&(e[i]==this&&delete e[i],r.splice(s,1),r.length?e[i]=r[0]:delete n[i])}},_remove:function(t,e){var n=this._getOwner(),i=this._project,r=this._index;return this._style&&this._style._dispose(),!!n&&(this._name&&this._removeNamed(),null!=r&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),u.splice(n._children,null,r,1)),this._installEvents(!1),t&&i._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=u.pick(e,this._children.length);for(var n=u.splice(this._children,null,t,e-t),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,n=e?e.length:0;if(t){for(var i=0;i<n;i++)if(!e[i].isEmpty(t))return!1;return!0}return!n},isEditable:function(){var t=this;while(t){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do{e.unshift(t)}while(t=t._parent);return e}for(var n=e(this),i=e(t),r=0,s=Math.min(n.length,i.length);r<s;r++)if(n[r]!=i[r])return n[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){var e=this;while(e=e._parent)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){var e=this._parent;while(e){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},u.each(["rotate","scale","shear","skew"],(function(t){var e="rotate"===t;this[t]=function(){var n=arguments,i=(e?u:g).read(n),r=g.read(n,0,{readNull:!0});return this.transform((new S)[t](i,r||this.getPosition(!0)))}}),{translate:function(){var t=new S;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n){var i=this._matrix,r=t&&!t.isIdentity(),s=n&&this._canApplyMatrix||this._applyMatrix&&(r||!i.isIdentity()||e&&this._children);if(!r&&!s)return this;if(r){!t.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(t,!0);var a=this._style,o=a.getFillColor(!0),l=a.getStrokeColor(!0);o&&o.transform(t),l&&l.transform(t)}if(s&&(s=this._transformContent(i,e,n))){var c=this._pivot;c&&i._transformPoint(c,c,!0),i.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var u=this._bounds,h=this._position;(r||s)&&this._changed(25);var d=r&&u&&t.decompose();if(d&&d.skewing.isZero()&&d.rotation%90===0){for(var f in u){var p=u[f];if(p.nonscaling)delete u[f];else if(s||!p.internal){var m=p.rect;t._transformBounds(m,m)}}this._bounds=u;var _=u[this._getBoundsCacheKey(this._boundsOptions||{})];_&&(this._position=this._getPositionFromBounds(_.rect))}else r&&h&&this._pivot&&(this._position=t._transformPoint(h,h));return this},_transformContent:function(t,e,n){var i=this._children;if(i){for(var r=0,s=i.length;r<s;r++)i[r].transform(t,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(g.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(g.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(g.read(arguments))},localToParent:function(){return this._matrix._transformPoint(g.read(arguments))},fitBounds:function(t,e){t=x.read(arguments);var n=this.getBounds(),i=n.height/n.width,r=t.height/t.width,s=(e?i>r:i<r)?t.width/n.width:t.height/n.height,a=new x(new g,new b(n.width*s,n.height*s));a.setCenter(t.getCenter()),this.setBounds(a)}}),{_setStyles:function(t,e,n){var i=this._style,r=this._matrix;if(i.hasFill()&&(t.fillStyle=i.getFillColor().toCanvasStyle(t,r)),i.hasStroke()){t.strokeStyle=i.getStrokeColor().toCanvasStyle(t,r),t.lineWidth=i.getStrokeWidth();var s=i.getStrokeJoin(),a=i.getStrokeCap(),o=i.getMiterLimit();if(s&&(t.lineJoin=s),a&&(t.lineCap=a),o&&(t.miterLimit=o),dt.support.nativeDash){var l=i.getDashArray(),c=i.getDashOffset();l&&l.length&&("setLineDash"in t?(t.setLineDash(l),t.lineDashOffset=c):(t.mozDash=l,t.mozDashOffset=c))}}if(i.hasShadow()){var u=e.pixelRatio||1,h=n._shiftless().prepend((new S).scale(u,u)),d=h.transform(new g(i.getShadowBlur(),0)),f=h.transform(this.getShadowOffset());t.shadowColor=i.getShadowColor().toCanvasStyle(t),t.shadowBlur=d.getLength(),t.shadowOffsetX=f.x,t.shadowOffsetY=f.y}},draw:function(t,e,n){this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var i=e.matrices,r=e.viewMatrix,s=this._matrix,a=i[i.length-1].appended(s);if(a.isInvertible()){r=r?r.appended(a):a,i.push(a),e.updateMatrix&&(this._globalMatrix=a);var o,l,c,u=this._blendMode,h=_.clamp(this._opacity,0,1),d="normal"===u,f=ct.nativeModes[u],p=d&&1===h||e.dontStart||e.clip||(f||d&&h<1)&&this._canComposite(),m=e.pixelRatio||1;if(!p){var v=this.getStrokeBounds(r);if(!v.width||!v.height)return void i.pop();c=e.offset,l=e.offset=v.getTopLeft().floor(),o=t,t=lt.getContext(v.getSize().ceil().add(1).multiply(m)),1!==m&&t.scale(m,m)}t.save();var g=n?n.appended(s):this._canScaleStroke&&!this.getStrokeScaling(!0)&&r,y=!p&&e.clipItem,b=!g||y;if(p?(t.globalAlpha=h,f&&(t.globalCompositeOperation=u)):b&&t.translate(-l.x,-l.y),b&&(p?s:r).applyToContext(t),y&&e.clipItem.draw(t,e.extend({clip:!0})),g){t.setTransform(m,0,0,m,0,0);var w=e.offset;w&&t.translate(-w.x,-w.y)}this._draw(t,e,r,g),t.restore(),i.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),p||(ct.process(u,t,o,h,l.subtract(c).multiply(m)),lt.release(t),e.offset=c)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof F)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,i,r){var s=this._selection,a=1&s,o=2&s||a&&this._selectBounds,l=4&s;if(this._drawSelected||(a=!1),(a||o||l)&&this._isUpdated(r)){var c,u=this.getSelectedColor(!0)||(c=this.getLayer())&&c.getSelectedColor(!0),h=e.appended(this.getGlobalMatrix(!0)),d=n/2;if(t.strokeStyle=t.fillStyle=u?u.toCanvasStyle(t):"#009dec",a&&this._drawSelected(t,h,i),l){var f=this.getPosition(!0),p=this._parent,m=p?p.localToGlobal(f):f,_=m.x,v=m.y;t.beginPath(),t.arc(_,v,d,0,2*Math.PI,!0),t.stroke();for(var g=[[0,-1],[1,0],[0,1],[-1,0]],y=d,b=n+1,w=0;w<4;w++){var x=g[w],k=x[0],S=x[1];t.moveTo(_+k*y,v+S*y),t.lineTo(_+k*b,v+S*b),t.stroke()}}if(o){var C=h._transformCorners(this.getInternalBounds());t.beginPath();for(w=0;w<8;w++)t[w?"lineTo":"moveTo"](C[w],C[++w]);t.closePath(),t.stroke();for(w=0;w<8;w++)t.fillRect(C[w]-d,C[++w]-d,n,n)}}},_canComposite:function(){return!1}},u.each(["down","drag","up","move"],(function(t){this["removeOn"+u.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}}),{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,i=this._project,r=i._removeSets=i._removeSets||{};r[n]=r[n]||{},r[n][this._id]=this}return this}}),{tween:function(t,e,n){n||(n=e,e=t,t=null,n||(n=e,e=null));var i=n&&n.easing,r=n&&n.start,s=null!=n&&("number"===typeof n?n:n.duration),a=new at(this,t,e,s,i,r);function o(t){a._handleFrame(1e3*t.time),a.running||this.off("frame",o)}return s&&this.on("frame",o),a},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),E=A.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(e){t.base.call(this,e),2050&e&&(this._clipItem=o)},_getClipItem:function(){var t=this._clipItem;if(t===o){t=null;for(var e=this._children,n=0,i=e.length;n<i;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var i=this._getClipItem();return i?i._getCachedBounds(i._matrix.prepended(e),u.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,i){var r=this._getClipItem();return(!r||r.contains(e))&&t.base.call(this,e,n,i,r)},_draw:function(t,e){var n=e.clip,i=!n&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(t,e.extend({clip:!0}));for(var r=this._children,s=0,a=r.length;s<a;s++){var o=r[s];o!==i&&o.draw(t,e)}}}),M=E.extend({_class:"Layer",initialize:function(){E.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),O=A.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&u.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new w(t.width,t.height,this,"setSize")},setSize:function(){var t=b.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,i=t.height;"rectangle"===e?this._radius.set(b.min(this._radius,t.divide(2).abs())):"circle"===e?(n=i=(n+i)/2,this._radius=n/2):"ellipse"===e&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new w(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size._set(n,n)}else if(t=b.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){n=b.max(this._size,t.multiply(2));this._size.set(n)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(j[u.capitalize(this._type)])({center:new g,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),dt.settings.applyMatrix&&e.setApplyMatrix(!0),(t===o||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,n,i){var r=this._style,s=r.hasFill(),a=r.hasStroke(),o=e.dontFinish||e.clip,l=!i;if(s||a||o){var c=this._type,u=this._radius,h="circle"===c;if(e.dontStart||t.beginPath(),l&&h)t.arc(0,0,u,0,2*Math.PI,!0);else{var d=h?u:u.width,f=h?u:u.height,p=this._size,m=p.width,_=p.height;if(l&&"rectangle"===c&&0===d&&0===f)t.rect(-m/2,-_/2,m,_);else{var v=m/2,g=_/2,y=.44771525016920644,b=d*y,w=f*y,x=[-v,-g+f,-v,-g+w,-v+b,-g,-v+d,-g,v-d,-g,v-b,-g,v,-g+w,v,-g+f,v,g-f,v,g-w,v-b,g,v-d,g,-v+d,g,-v+b,g,-v,g-w,-v,g-f];i&&i.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),v!==d&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),g!==f&&t.lineTo(x[16],x[17]),t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),v!==d&&t.lineTo(x[24],x[25]),t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}t.closePath()}o||!s&&!a||(this._setStyles(t,e,n),s&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new x(this._size).setCenter(0,0),i=this._style,r=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return t&&(n=t._transformBounds(n)),r?n.expand(j._getStrokePadding(r,this._getStrokeMatrix(t,e))):n}},new function(){function t(t,e,n){var i=t._radius;if(!i.isZero())for(var r=t._size.divide(2),s=1;s<=4;s++){var a=new g(s>1&&s<4?-1:1,s>2?-1:1),o=a.multiply(r),l=o.subtract(a.multiply(i)),c=new x(n?o.add(a.multiply(n)):o,l);if(c.contains(e))return{point:l,quadrant:s}}}function e(t,e,n,i){var r=t.divide(e);return(!i||r.isInQuadrant(i))&&r.subtract(r.normalize()).multiply(e).divide(n).length<=1}return{_contains:function e(n){if("rectangle"===this._type){var i=t(this,n);return i?n.subtract(i.point).divide(this._radius).getLength()<=1:e.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,r,s,a){var o=!1,l=this._style,c=r.stroke&&l.hasStroke(),u=r.fill&&l.hasFill();if(c||u){var h=this._type,d=this._radius,f=c?l.getStrokeWidth()/2:0,p=r._tolerancePadding.add(j._getStrokePadding(f,!l.getStrokeScaling()&&a));if("rectangle"===h){var m=p.multiply(2),_=t(this,i,m);if(_)o=e(i.subtract(_.point),d,p,_.quadrant);else{var v=new x(this._size).setCenter(0,0),g=v.expand(m),y=v.expand(m.negate());o=g._containsPoint(i)&&!y._containsPoint(i)}}else o=e(i,d,p)}return o?new D(c?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,n,i,r){var s=u.create(O.prototype);return s._type=t,s._size=n,s._radius=i,s._initialize(u.getNamed(r),e),s}return{Circle:function(){var e=arguments,n=g.readNamed(e,"center"),i=u.readNamed(e,"radius");return t("circle",n,new b(2*i),i,e)},Rectangle:function(){var e=arguments,n=x.readNamed(e,"rectangle"),i=b.min(b.readNamed(e,"radius"),n.getSize(!0).divide(2));return t("rectangle",n.getCenter(!0),n.getSize(!0),i,e)},Ellipse:function(){var e=arguments,n=O._readEllipse(e),i=n.radius;return t("ellipse",n.center,i.multiply(2),i,e)},_readEllipse:function(t){var e,n;if(u.hasNamed(t,"radius"))e=g.readNamed(t,"center"),n=b.readNamed(t,"radius");else{var i=x.readNamed(t,"rectangle");e=i.getCenter(!0),n=i.getSize(!0).divide(2)}return{center:e,radius:n}}}}}),I=A.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,e){if(!this._initialize(t,e!==o&&g.read(arguments))){var n,i=typeof t,r="string"===i?c.getElementById(t):"object"===i?t:null;if(r&&r!==A.NO_INSERT)if(r.getContext||null!=r.naturalHeight)n=r;else if(r){var s=b.read(arguments);s.isZero()||(n=lt.getCanvas(s))}n?this.setImage(n):this.setSource(t)}this._size||(this._size=new b,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var i=lt.getCanvas(t._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new w(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var n=b.read(arguments);if(n.equals(this._size))e&&this.clear();else if(n.width>0&&n.height>0){var i=!e&&this.getElement();this._setImage(lt.getCanvas(n)),i&&this.getContext(!0).drawImage(i,0,0,n.width,n.height)}else this._canvas&&lt.release(this._canvas),this._size=n.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new g(0,0).transform(t),n=new g(1,0).transform(t).subtract(e),i=new g(0,1).transform(t).subtract(e);return new b(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function n(t){var n=e.getView(),i=t&&t.type||"load";n&&e.responds(i)&&(dt=n._scope,e.emit(i,new tt(t)))}this._setImage(t),this._loaded?setTimeout(n,0):t&&K.add(t,{load:function(i){e._setImage(t),n(i)},error:n})},_setImage:function(t){this._canvas&&lt.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new b(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=lt.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){lt.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new a.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing="string"===typeof t?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=x.read(arguments),e=lt.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=x.read(arguments),e=new I(A.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=g.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof z?(n=t,e=t.getBounds()):"object"===typeof t&&("width"in t?e=new x(t):"x"in t&&(e=new x(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=32,r=Math.min(e.width,i),s=Math.min(e.height,i),a=I._sampleContext;a?a.clearRect(0,0,i+1,i+1):a=I._sampleContext=lt.getContext(new b(i)),a.save();var o=(new S).scale(r/e.width,s/e.height).translate(-e.x,-e.y);o.applyToContext(a),n&&n.draw(a,new u({clip:!0,matrices:[o]})),this._matrix.applyToContext(a);var l=this.getElement(),c=this._size;l&&a.drawImage(l,-c.width/2,-c.height/2),a.restore();for(var h=a.getImageData(.5,.5,Math.ceil(r),Math.ceil(s)).data,d=[0,0,0],f=0,p=0,m=h.length;p<m;p+=4){var _=h[p+3];f+=_,_/=255,d[0]+=h[p]*_,d[1]+=h[p+1]*_,d[2]+=h[p+2]*_}for(p=0;p<3;p++)d[p]/=f;return f?X.read(d):null},getPixel:function(){var t=g.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new X("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=g.read(t),n=X.read(t),i=n._convert("rgb"),r=n._alpha,s=this.getContext(!0),a=s.createImageData(1,1),o=a.data;o[0]=255*i[0],o[1]=255*i[1],o[2]=255*i[2],o[3]=null!=r?255*r:255,s.putImageData(a,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=b.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=x.read(arguments);return t.isEmpty()&&(t=new x(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var e=g.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,e){var n=new x(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new D("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,n){var i=this.getElement();if(i&&i.width>0&&i.height>0){t.globalAlpha=_.clamp(this._opacity,0,1),this._setStyles(t,e,n);var r=this._smoothing,s="off"===r;Z.setPrefixed(t,s?"imageSmoothingEnabled":"imageSmoothingQuality",!s&&r),t.drawImage(i,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),P=A.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==o&&g.read(arguments,1))||this.setDefinition(t instanceof R?t:new R(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n){var i=e.extend({all:!1}),r=this._definition._item._hitTest(t,i,n);return r&&(r.item=this),r},_draw:function(t,e){this._definition._item.draw(t,e)}}),R=u.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=v.get(),this.project=dt.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,(function(){return u.serialize([this._class,this._item],t,!1,e)}))},_changed:function(t){8&t&&A._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new g),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new P(this,t)},clone:function(){return new R(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),D=u.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&this.inject(n)},statics:{getOptions:function(t){var e=t&&u.read(t);return new u({type:null,tolerance:dt.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),N=u.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,n,i,r,s){var a,l,c,u,h=arguments.length;h>0&&(null==t||"object"===typeof t?1===h&&t&&"point"in t?(a=t.point,l=t.handleIn,c=t.handleOut,u=t.selection):(a=t,l=e,c=n,u=i):(a=[t,e],l=n!==o?[n,i]:null,c=r!==o?[r,s]:null)),new L(a,this,"_point"),new L(l,this,"_handleIn"),new L(c,this,"_handleOut"),u&&this.setSelection(u)},_serialize:function(t,e){var n=this._point,i=this._selection,r=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&r.push(i),u.serialize(r,t,!0,e)},_changed:function(t){var e=this._path;if(e){var n,i=e._curves,r=this._index;i&&(t&&t!==this._point&&t!==this._handleIn||!(n=r>0?i[r-1]:e._closed?i[i.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=i[r])||n._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(g.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(g.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(g.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(257))},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new V(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var i=t||{},r=i.type,s=i.factor,a=this.getPrevious(),l=this.getNext(),c=(a||this)._point,u=this._point,h=(l||this)._point,d=c.getDistance(u),f=u.getDistance(h);if(r&&"catmull-rom"!==r){if("geometric"!==r)throw new Error("Smoothing method '"+r+"' not supported.");if(a&&l){var p=c.subtract(h),m=s===o?.4:s,_=m*d/(d+f);e||this.setHandleIn(p.multiply(_)),n||this.setHandleOut(p.multiply(_-m))}}else{var v=s===o?.5:s,y=Math.pow(d,v),b=y*y,w=Math.pow(f,v),x=w*w;if(!e&&a){var k=2*x+3*w*y+b,S=3*w*(w+y);this.setHandleIn(0!==S?new g((x*c._x+k*u._x-b*h._x)/S-u._x,(x*c._y+k*u._y-b*h._y)/S-u._y):new g)}if(!n&&l){k=2*b+3*y*w+x,S=3*y*(y+w);this.setHandleOut(0!==S?new g((b*h._x+k*u._x-x*c._x)/S-u._x,(b*h._y+k*u._y-x*c._y)/S-u._y):new g)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new N(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new N(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var i=1-n,r=n,s=t._point,a=e._point,o=t._handleIn,l=e._handleIn,c=e._handleOut,u=t._handleOut;this._point._set(i*s._x+r*a._x,i*s._y+r*a._y,!0),this._handleIn._set(i*o._x+r*l._x,i*o._y+r*l._y,!0),this._handleOut._set(i*u._x+r*c._x,i*u._y+r*c._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var i=this._point,r=n&&this._handleIn.isZero()?null:this._handleIn,s=n&&this._handleOut.isZero()?null:this._handleOut,a=i._x,o=i._y,l=2;return e[0]=a,e[1]=o,r&&(e[l++]=r._x+a,e[l++]=r._y+o),s&&(e[l++]=s._x+a,e[l++]=s._y+o),t&&(t._transformCoordinates(e,e,l/2),a=e[0],o=e[1],n?(i._x=a,i._y=o,l=2,r&&(r._x=e[l++]-a,r._y=e[l++]-o),s&&(s._x=e[l++]-a,s._y=e[l++]-o)):(r||(e[l++]=a,e[l++]=o),s||(e[l++]=a,e[l++]=o))),e}}),L=g.extend({initialize:function(t,e,n){var i,r,s;if(t)if((i=t[0])!==o)r=t[1];else{var a=t;(i=a.x)===o&&(a=g.read(arguments),i=a.x),r=a.y,s=a.selected}else i=r=0;this._x=i,this._y=r,this._owner=e,e[n]=this,s&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=_.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),B=u.extend({_class:"Curve",beans:!0,initialize:function(t,e,n,i,r,s,a,o){var l,c,u,h,d,f,p=arguments.length;3===p?(this._path=t,l=e,c=n):p?1===p?"segment1"in t?(l=new N(t.segment1),c=new N(t.segment2)):"point1"in t?(u=t.point1,d=t.handle1,f=t.handle2,h=t.point2):Array.isArray(t)&&(u=[t[0],t[1]],h=[t[6],t[7]],d=[t[2]-t[0],t[3]-t[1]],f=[t[4]-t[6],t[5]-t[7]]):2===p?(l=new N(t),c=new N(e)):4===p?(u=t,d=e,f=n,h=i):8===p&&(u=[t,e],h=[a,o],d=[n-t,i-e],f=[r-a,s-o]):(l=new N,c=new N),this._segment1=l||new N(u,null,d),this._segment2=c||new N(h,f,null)},_serialize:function(t,e){return u.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=o},clone:function(){return new B(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return B.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(g.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(g.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(g.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(g.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return B.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new g(t[n],t[n+1]));return e}},{getLength:function(){return null==this._length&&(this._length=B.getLength(this.getValues(),0,1)),this._length},getArea:function(){return B.getArea(this.getValues())},getLine:function(){return new C(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new B(B.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return B.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=1e-8,i=1-n,r=null;if(t>=n&&t<=i){var s=B.subdivide(this.getValues(),t),a=s[0],o=s[1],l=e||this.hasHandles(),c=this._segment1,u=this._segment2,h=this._path;l&&(c._handleOut._set(a[2]-a[0],a[3]-a[1]),u._handleIn._set(o[4]-o[6],o[5]-o[7]));var d=a[6],f=a[7],p=new N(new g(d,f),l&&new g(a[4]-d,a[5]-f),l&&new g(o[2]-d,o[3]-f));h?(h.insert(c._index+1,p),r=this.getNext()):(this._segment2=p,this._changed(),r=new B(p,u))}return r},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===o?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===o?.5:e?t:this.getTimeAt(t))},reversed:function(){return new B(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,i){var r=t._point,s=t._handleOut,a=e._handleIn,o=e._point,l=r.x,c=r.y,u=o.x,h=o.y,d=i?[l,c,l,c,u,h,u,h]:[l,c,l+s._x,c+s._y,u+a._x,h+a._y,u,h];return n&&n._transformCoordinates(d,d,4),d},subdivide:function(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7];e===o&&(e=.5);var h=1-e,d=h*n+e*r,f=h*i+e*s,p=h*r+e*a,m=h*s+e*l,_=h*a+e*c,v=h*l+e*u,g=h*d+e*p,y=h*f+e*m,b=h*p+e*_,w=h*m+e*v,x=h*g+e*b,k=h*y+e*w;return[[n,i,d,f,g,y,x,k],[x,k,b,w,_,v,c,u]]},getMonoCurves:function(t,e){var n=[],i=e?0:1,r=t[i+0],s=t[i+2],a=t[i+4],o=t[i+6];if(r>=s===s>=a&&s>=a===a>=o||B.isStraight(t))n.push(t);else{var l=3*(s-a)-r+o,c=2*(r+a)-4*s,u=s-r,h=1e-8,d=1-h,f=[],p=_.solveQuadratic(l,c,u,f,h,d);if(p){f.sort();var m=f[0],v=B.subdivide(t,m);n.push(v[0]),p>1&&(m=(f[1]-m)/(1-m),v=B.subdivide(v[1],m),n.push(v[0])),n.push(v[1])}else n.push(t)}return n},solveCubic:function(t,e,n,i,r,s){var a=t[e],o=t[e+2],l=t[e+4],c=t[e+6],u=0;if(!(a<n&&c<n&&o<n&&l<n||a>n&&c>n&&o>n&&l>n)){var h=3*(o-a),d=3*(l-o)-h,f=c-a-h-d;u=_.solveCubic(f,d,h,a-n,i,r,s)}return u},getTimeOf:function(t,e){var n=new g(t[0],t[1]),i=new g(t[6],t[7]),r=1e-12,s=1e-7,a=e.isClose(n,r)?0:e.isClose(i,r)?1:null;if(null===a)for(var o=[e.x,e.y],l=[],c=0;c<2;c++)for(var u=B.solveCubic(t,c,o[c],l,0,1),h=0;h<u;h++){var d=l[h];if(e.isClose(B.getPoint(t,d),s))return d}return e.isClose(n,s)?0:e.isClose(i,s)?1:null},getNearestTime:function(t,e){if(B.isStraight(t)){var n=t[0],i=t[1],r=t[6],s=t[7],a=r-n,o=s-i,l=a*a+o*o;if(0===l)return 0;var c=((e.x-n)*a+(e.y-i)*o)/l;return c<1e-12?0:c>.999999999999?1:B.getTimeOf(t,new g(n+c*a,i+c*o))}var u=100,h=1/0,d=0;function f(n){if(n>=0&&n<=1){var i=e.getDistance(B.getPoint(t,n),!0);if(i<h)return h=i,d=n,!0}}for(var p=0;p<=u;p++)f(p/u);var m=1/(2*u);while(m>1e-8)f(d-m)||f(d+m)||(m/=2);return d},getPart:function(t,e,n){var i=e>n;if(i){var r=e;e=n,n=r}return e>0&&(t=B.subdivide(t,e)[1]),n<1&&(t=B.subdivide(t,(n-e)/(1-e))[0]),i?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=3*r-2*n-l,h=3*s-2*i-c,d=3*a-2*l-n,f=3*o-2*c-i;return Math.max(u*u,d*d)+Math.max(h*h,f*f)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7];return 3*((l-n)*(i+s)-(o-e)*(r+a)+r*(e-s)-i*(n-a)+l*(s+e/3)-o*(a+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),i=[0,0],r=0;r<2;r++)B._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,n,i);return new x(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,i,r,s,a,o,l){function c(t,e){var n=t-e,i=t+e;n<a[r]&&(a[r]=n),i>o[r]&&(o[r]=i)}s/=2;var u=a[r]+s,h=o[r]-s;if(t<u||e<u||n<u||i<u||t>h||e>h||n>h||i>h)if(e<t!=e<i&&n<t!=n<i)c(t,0),c(i,0);else{var d=3*(e-n)-t+i,f=2*(t+n)-4*e,p=e-t,m=_.solveQuadratic(d,f,p,l),v=1e-8,g=1-v;c(i,0);for(var y=0;y<m;y++){var b=l[y],w=1-b;v<=b&&b<=g&&c(w*w*w*t+3*w*w*b*e+3*w*b*b*n+b*b*b*i,s)}}}}},u.each(["getBounds","getStrokeBounds","getHandleBounds"],(function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=j[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}}),{}),u.each({isStraight:function(t,e,n,i){if(e.isZero()&&n.isZero())return!0;var r=i.subtract(t);if(r.isZero())return!1;if(r.isCollinear(e)&&r.isCollinear(n)){var s=new C(t,i),a=1e-7;if(s.getDistance(t.add(e))<a&&s.getDistance(i.add(n))<a){var o=r.dot(r),l=r.dot(e)/o,c=r.dot(n)/o;return l>=0&&l<=1&&c<=0&&c>=-1}}return!1},isLinear:function(t,e,n,i){var r=i.subtract(t).divide(3);return e.equals(r)&&n.negate().equals(r)}},(function(t,e){this[e]=function(e){var n=this._segment1,i=this._segment2;return t(n._point,n._handleOut,i._handleIn,i._point,e)},this.statics[e]=function(e,n){var i=e[0],r=e[1],s=e[6],a=e[7];return t(new g(i,r),new g(e[2]-i,e[3]-r),new g(e[4]-s,e[5]-a),new g(s,a),n)}}),{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new V(this,t):null},getTimeAt:function(t,e){return B.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=g.read(arguments);return t.isZero()?[]:B.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(g.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return B.getTimeOf(this.getValues(),g.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=g.read(arguments),e=this.getValues(),n=B.getNearestTime(e,t),i=B.getPoint(e,n);return new V(this,n,i,null,t.getDistance(i))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return u.each(t,(function(t){this[t+"At"]=function(e,n){var i=this.getValues();return B[t](i,n?e:B.getTimeAt(i,e))},this[t+"AtTime"]=function(e){return B[t](this.getValues(),e)}}),{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7],c=9*(i-s)+3*(o-e),u=6*(e+s)-12*i,h=3*(i-e),d=9*(r-a)+3*(l-n),f=6*(n+a)-12*r,p=3*(r-n);return function(t){var e=(c*t+u)*t+h,n=(d*t+f)*t+p;return Math.sqrt(e*e+n*n)}}function e(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function n(t,e,n,i){if(null==e||e<0||e>1)return null;var r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],c=t[5],u=t[6],h=t[7],d=_.isZero;d(a-r)&&d(o-s)&&(a=r,o=s),d(l-u)&&d(c-h)&&(l=u,c=h);var f,p,m=3*(a-r),v=3*(l-a)-m,y=u-r-m-v,b=3*(o-s),w=3*(c-o)-b,x=h-s-b-w;if(0===n)f=0===e?r:1===e?u:((y*e+v)*e+m)*e+r,p=0===e?s:1===e?h:((x*e+w)*e+b)*e+s;else{var k=1e-8,S=1-k;if(e<k?(f=m,p=b):e>S?(f=3*(u-l),p=3*(h-c)):(f=(3*y*e+2*v)*e+m,p=(3*x*e+2*w)*e+b),i){0===f&&0===p&&(e<k||e>S)&&(f=l-a,p=c-o);var C=Math.sqrt(f*f+p*p);C&&(f/=C,p/=C)}if(3===n){l=6*y*e+2*v,c=6*x*e+2*w;var T=Math.pow(f*f+p*p,1.5);f=0!==T?(f*c-p*l)/T:0,p=0}}return 2===n?new g(p,-f):new g(f,p)}return{statics:{classify:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=e*(c-a)+n*(s-l)+l*a-c*s,h=i*(n-c)+r*(l-e)+e*c-n*l,d=s*(r-n)+a*(e-i)+i*n-r*e,f=3*d,p=f-h,m=p-h+u,v=Math.sqrt(m*m+p*p+f*f),g=0!==v?1/v:0,y=_.isZero,b="serpentine";function w(t,e,n){var i=e!==o,r=i&&e>0&&e<1,s=i&&n>0&&n<1;return!i||(r||s)&&("loop"!==t||r&&s)||(t="arch",r=s=!1),{type:t,roots:r||s?r&&s?e<n?[e,n]:[n,e]:[r?e:n]:null}}if(m*=g,p*=g,f*=g,y(m))return y(p)?w(y(f)?"line":"quadratic"):w(b,f/(3*p));var x=3*p*p-4*m*f;if(y(x))return w("cusp",p/(2*m));var k=x>0?Math.sqrt(x/3):Math.sqrt(-x),S=2*m;return w(x>0?b:"loop",(p+k)/S,(p-k)/S)},getLength:function(n,i,r,s){if(i===o&&(i=0),r===o&&(r=1),B.isStraight(n)){var a=n;r<1&&(a=B.subdivide(a,r)[0],i/=r),i>0&&(a=B.subdivide(a,i)[1]);var l=a[6]-a[0],c=a[7]-a[1];return Math.sqrt(l*l+c*c)}return _.integrate(s||t(n),i,r,e(i,r))},getTimeAt:function(n,i,r){if(r===o&&(r=i<0?1:0),0===i)return r;var s=Math.abs,a=1e-12,l=i>0,c=l?r:0,u=l?1:r,h=t(n),d=B.getLength(n,c,u,h),f=s(i)-d;if(s(f)<a)return l?u:c;if(f>a)return null;var p=i/d,m=0;function v(t){return m+=_.integrate(h,r,t,e(r,t)),r=t,m-i}return _.findRoot(v,h,r+p,c,u,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7],c=3*i-e-3*s+o,u=3*e-6*i+3*s,h=-3*e+3*i,d=3*r-n-3*a+l,f=3*n-6*r+3*a,p=-3*n+3*r,m=1e-8,v=1-m,g=[];return _.solveCubic(9*(c*c+d*d),9*(c*u+f*d),2*(u*u+f*f)+3*(h*c+p*d),h*u+f*p,g,m,v),g.sort()}}}},new function(){function t(t,e,n,i,r,s,a){var o=!a&&n.getPrevious()===r,l=!a&&n!==r&&n.getNext()===r,c=1e-8,u=1-c;if(null!==i&&i>=(o?c:0)&&i<=(l?u:1)&&null!==s&&s>=(l?c:0)&&s<=(o?u:1)){var h=new V(n,i,null,a),d=new V(r,s,null,a);h._intersection=d,d._intersection=h,e&&!e(h)||V.insert(t,h,!0)}}function e(r,s,a,o,l,c,u,h,d,f,p,m,_){if(++d>=4096||++h>=40)return d;var v,g,y=1e-9,b=s[0],w=s[1],x=s[6],k=s[7],S=C.getSignedDistance,T=S(b,w,x,k,s[2],s[3]),A=S(b,w,x,k,s[4],s[5]),E=T*A>0?3/4:4/9,M=E*Math.min(0,T,A),O=E*Math.max(0,T,A),I=S(b,w,x,k,r[0],r[1]),P=S(b,w,x,k,r[2],r[3]),R=S(b,w,x,k,r[4],r[5]),D=S(b,w,x,k,r[6],r[7]),N=n(I,P,R,D),L=N[0],V=N[1];if(0===T&&0===A&&0===I&&0===P&&0===R&&0===D||null==(v=i(L,V,M,O))||null==(g=i(L.reverse(),V.reverse(),M,O)))return d;var z=f+(p-f)*v,j=f+(p-f)*g;if(Math.max(_-m,j-z)<y){var F=(z+j)/2,q=(m+_)/2;t(l,c,u?o:a,u?q:F,u?a:o,u?F:q)}else{r=B.getPart(r,v,g);var U=_-m;if(g-v>.8)if(j-z>U){var H=B.subdivide(r,.5);F=(z+j)/2;d=e(s,H[0],o,a,l,c,!u,h,d,m,_,z,F),d=e(s,H[1],o,a,l,c,!u,h,d,m,_,F,j)}else{H=B.subdivide(s,.5),q=(m+_)/2;d=e(H[0],r,o,a,l,c,!u,h,d,m,q,z,j),d=e(H[1],r,o,a,l,c,!u,h,d,q,_,z,j)}else d=0===U||U>=y?e(s,r,o,a,l,c,!u,h,d,m,_,z,j):e(r,s,a,o,l,c,u,h,d,z,j,m,_)}return d}function n(t,e,n,i){var r,s=[0,t],a=[1/3,e],o=[2/3,n],l=[1,i],c=e-(2*t+i)/3,u=n-(t+2*i)/3;if(c*u<0)r=[[s,a,l],[s,o,l]];else{var h=c/u;r=[h>=2?[s,a,l]:h<=.5?[s,o,l]:[s,a,o,l],[s,l]]}return(c||u)<0?r.reverse():r}function i(t,e,n,i){return t[0][1]<n?r(t,!0,n):e[0][1]>i?r(e,!1,i):t[0][0]}function r(t,e,n){for(var i=t[0][0],r=t[0][1],s=1,a=t.length;s<a;s++){var o=t[s][0],l=t[s][1];if(e?l>=n:l<=n)return l===n?o:i+(n-r)*(o-i)/(l-r);i=o,r=l}return null}function s(t,e,n,i,r){var s=_.isZero;if(s(i)&&s(r)){var a=B.getTimeOf(t,new g(e,n));return null===a?[]:[a]}for(var o=Math.atan2(-r,i),l=Math.sin(o),c=Math.cos(o),u=[],h=[],d=0;d<8;d+=2){var f=t[d]-e,p=t[d+1]-n;u.push(f*c-p*l,f*l+p*c)}return B.solveCubic(u,1,0,h,0,1),h}function a(e,n,i,r,a,o,l){for(var c=n[0],u=n[1],h=n[6],d=n[7],f=s(e,c,u,h-c,d-u),p=0,m=f.length;p<m;p++){var _=f[p],v=B.getPoint(e,_),g=B.getTimeOf(n,v);null!==g&&t(a,o,l?r:i,l?g:_,l?i:r,l?_:g)}}function o(e,n,i,r,s,a){var o=C.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);o&&t(s,a,i,B.getTimeOf(e,o),r,B.getTimeOf(n,o))}function l(n,i,r,s,l,c){var u=1e-12,d=Math.min,f=Math.max;if(f(n[0],n[2],n[4],n[6])+u>d(i[0],i[2],i[4],i[6])&&d(n[0],n[2],n[4],n[6])-u<f(i[0],i[2],i[4],i[6])&&f(n[1],n[3],n[5],n[7])+u>d(i[1],i[3],i[5],i[7])&&d(n[1],n[3],n[5],n[7])-u<f(i[1],i[3],i[5],i[7])){var p=h(n,i);if(p)for(var m=0;m<2;m++){var _=p[m];t(l,c,r,_[0],s,_[1],!0)}else{var v=B.isStraight(n),y=B.isStraight(i),b=v&&y,w=v&&!y,x=l.length;if((b?o:v||y?a:e)(w?i:n,w?n:i,w?s:r,w?r:s,l,c,w,0,0,0,1,0,1),!b||l.length===x)for(m=0;m<4;m++){var k=m>>1,S=1&m,C=6*k,T=6*S,A=new g(n[C],n[C+1]),E=new g(i[T],i[T+1]);A.isClose(E,u)&&t(l,c,r,k,s,S)}}}return l}function c(e,n,i,r){var s=B.classify(e);if("loop"===s.type){var a=s.roots;t(i,r,n,a[0],n,a[1])}return i}function u(t,e,n,i,r,s){var a=1e-7,o=!e;o&&(e=t);for(var u=t.length,h=e.length,d=new Array(u),f=o?d:new Array(h),m=[],_=0;_<u;_++)d[_]=t[_].getValues(i);if(!o)for(_=0;_<h;_++)f[_]=e[_].getValues(r);for(var v=p.findCurveBoundsCollisions(d,f,a),g=0;g<u;g++){var y=t[g],b=d[g];o&&c(b,y,m,n);var w=v[g];if(w)for(var x=0;x<w.length;x++){if(s&&m.length)return m;var k=w[x];if(!o||k>g){var S=e[k],C=f[k];l(b,C,y,S,m,n)}}}return m}function h(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var i=Math.abs,r=C.getDistance,s=1e-8,a=1e-7,o=B.isStraight(t),l=B.isStraight(e),c=o&&l,u=n(t)<n(e),h=u?e:t,d=u?t:e,f=h[0],p=h[1],m=h[6]-f,_=h[7]-p;if(r(f,p,m,_,d[0],d[1],!0)<a&&r(f,p,m,_,d[6],d[7],!0)<a)!c&&r(f,p,m,_,h[2],h[3],!0)<a&&r(f,p,m,_,h[4],h[5],!0)<a&&r(f,p,m,_,d[2],d[3],!0)<a&&r(f,p,m,_,d[4],d[5],!0)<a&&(o=l=c=!0);else if(c)return null;if(o^l)return null;for(var v=[t,e],y=[],b=0;b<4&&y.length<2;b++){var w=1&b,x=1^w,k=b>>1,S=B.getTimeOf(v[w],new g(v[x][k?6:0],v[x][k?7:1]));if(null!=S){var T=w?[k,S]:[S,k];(!y.length||i(T[0]-y[0][0])>s&&i(T[1]-y[0][1])>s)&&y.push(T)}if(b>2&&!y.length)break}if(2!==y.length)y=null;else if(!c){var A=B.getPart(t,y[0][0],y[1][0]),E=B.getPart(e,y[0][1],y[1][1]);(i(E[2]-A[2])>a||i(E[3]-A[3])>a||i(E[4]-A[4])>a||i(E[5]-A[5])>a)&&(y=null)}return y}function d(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=e.normalize(),h=u.x,d=u.y,f=3*l-9*a+9*r-3*n,p=3*c-9*o+9*s-3*i,m=6*a-12*r+6*n,v=6*o-12*s+6*i,g=3*r-3*n,y=3*s-3*i,b=2*f*d-2*p*h,w=[];if(Math.abs(b)<_.CURVETIME_EPSILON){var x=f*y-p*g;b=f*v-p*m;if(0!=b){var k=-x/b;k>=0&&k<=1&&w.push(k)}}else{var S=(m*m-4*f*g)*d*d+(-2*m*v+4*p*g+4*f*y)*h*d+(v*v-4*p*y)*h*h,C=m*d-v*h;if(S>=0&&0!=b){var T=Math.sqrt(S),A=-(C+T)/b,E=(-C+T)/b;A>=0&&A<=1&&w.push(A),E>=0&&E<=1&&w.push(E)}}return w}return{getIntersections:function(t){var e=this.getValues(),n=t&&t!==this&&t.getValues();return n?l(e,n,this,t,[]):c(e,this,[])},statics:{getOverlaps:h,getIntersections:u,getCurveLineIntersections:s,getTimesWithTangent:d}}}),V=u.extend({_class:"CurveLocation",initialize:function(t,e,n,i,r){if(e>=.99999999){var s=t.getNext();s&&(e=0,t=s)}this._setCurve(t),this._time=e,this._point=n||t.getPointAtTime(e),this._overlap=i,this._distance=r,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;function n(t){var n=t&&t.getCurve();if(n&&null!=(e._time=n.getTimeOf(e._point)))return e._setCurve(n),n}return t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var i=e.getCurves(),r=0;r<n;r++)t+=i[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=null!=n&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof V){var i=this.getCurve(),r=t.getCurve(),s=i._path,a=r._path;if(s===a){var o=Math.abs,l=1e-7,c=o(this.getOffset()-t.getOffset()),u=!e&&this._intersection,h=!e&&t._intersection;n=(c<l||s&&o(s.getLength()-c)<l)&&(!u&&!h||u&&h&&u.equals(h,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=m.instance;e&&t.push("point: "+e);var i=this.getIndex();null!=i&&t.push("index: "+i);var r=this.getTime();return null!=r&&t.push("time: "+n.number(r)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),n=t.getTime(),i=1e-8,r=1-i,s=e>=i&&e<=r,a=n>=i&&n<=r;if(s&&a)return!this.isTouching();var o=this.getCurve(),l=o&&e<i?o.getPrevious():o,c=t.getCurve(),u=c&&n<i?c.getPrevious():c;if(e>r&&(o=o.getNext()),n>r&&(c=c.getNext()),!l||!o||!u||!c)return!1;var h=[];function d(t,e){var n=t.getValues(),i=B.classify(n).roots||B.getPeaks(n),r=i.length,s=B.getLength(n,e&&r?i[r-1]:0,!e&&r?i[0]:1);h.push(r?s:s/32)}function f(t,e,n){return e<n?t>e&&t<n:t>e||t<n}s||(d(l,!0),d(o,!1)),a||(d(u,!0),d(c,!1));var p=this.getPoint(),m=Math.min.apply(Math,h),_=s?o.getTangentAtTime(e):o.getPointAt(m).subtract(p),v=s?_.negate():l.getPointAt(-m).subtract(p),g=a?c.getTangentAtTime(n):c.getPointAt(m).subtract(p),y=a?g.negate():u.getPointAt(-m).subtract(p),b=v.getAngle(),w=_.getAngle(),x=y.getAngle(),k=g.getAngle();return!!(s?f(b,x,k)^f(w,x,k)&&f(b,k,x)^f(w,k,x):f(x,b,w)^f(k,b,w)&&f(x,w,b)^f(k,w,b))},hasOverlap:function(){return!!this._overlap}},u.each(B._evaluateMethods,(function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),n=this.getTime();return null!=n&&t&&t[e](n,!0)}}),{preserve:!0}),new function(){function t(t,e,n){var i=t.length,r=0,s=i-1;function a(n,r){for(var s=n+r;s>=-1&&s<=i;s+=r){var a=t[(s%i+i)%i];if(!e.getPoint().isClose(a.getPoint(),1e-7))break;if(e.equals(a))return a}return null}while(r<=s){var o,l=r+s>>>1,c=t[l];if(n&&(o=e.equals(c)?c:a(l,-1)||a(l,1)))return e._overlap&&(o._overlap=o._intersection._overlap=!0),o;var u=e.getPath(),h=c.getPath(),d=u!==h?u._id-h._id:e.getIndex()+e.getTime()-(c.getIndex()+c.getTime());d<0?s=l-1:r=l+1}return t.splice(r,0,e),e}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),i=e.length-1;i>=0;i--)t(n,e[i]._intersection,!1);return n}}}}),z=A.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,i;if(u.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:"string"===typeof t&&(e=t),n){var r=n[0];i=r&&Array.isArray(r[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var s=i?F:j;return new s(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e,n,i,r=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),s=!1,a=new g,o=new g;function l(t,n){var i=+e[t];return s&&(i+=a[n]),i}function c(t){return new g(l(t,"x"),l(t+1,"y"))}this.clear();for(var u=0,h=r&&r.length;u<h;u++){var d=r[u],f=d[0],p=f.toLowerCase();e=d.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var m=e&&e.length;switch(s=f===p,"z"!==n||/[mz]/.test(p)||this.moveTo(a),p){case"m":case"l":for(var _="m"===p,v=0;v<m;v+=2)this[_?"moveTo":"lineTo"](a=c(v)),_&&(o=a,_=!1);i=a;break;case"h":case"v":var y="h"===p?"x":"y";a=a.clone();for(v=0;v<m;v++)a[y]=l(v,y),this.lineTo(a);i=a;break;case"c":for(v=0;v<m;v+=6)this.cubicCurveTo(c(v),i=c(v+2),a=c(v+4));break;case"s":for(v=0;v<m;v+=4)this.cubicCurveTo(/[cs]/.test(n)?a.multiply(2).subtract(i):a,i=c(v),a=c(v+2)),n=p;break;case"q":for(v=0;v<m;v+=4)this.quadraticCurveTo(i=c(v),a=c(v+2));break;case"t":for(v=0;v<m;v+=2)this.quadraticCurveTo(i=/[qt]/.test(n)?a.multiply(2).subtract(i):a,a=c(v)),n=p;break;case"a":for(v=0;v<m;v+=7)this.arcTo(a=c(v+5),new b(+e[v],+e[v+1]),+e[v+2],+e[v+4],+e[v+3]);break;case"z":this.closePath(1e-12),a=o;break}n=p}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,n,i){var r=this===t||!t,s=this._matrix._orNullIfIdentity(),a=r?s:(n||t._matrix)._orNullIfIdentity();return r||this.getBounds(s).intersects(t.getBounds(a),1e-12)?B.getIntersections(this.getCurves(),!r&&t.getCurves(),e,s,a,i):[]},getCrossings:function(t){return this.getIntersections(t,(function(t){return t.isCrossing()}))},getNearestLocation:function(){for(var t=g.read(arguments),e=this.getCurves(),n=1/0,i=null,r=0,s=e.length;r<s;r++){var a=e[r].getNearestLocation(t);a._distance<n&&(n=a._distance,i=a)}return i},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,n){var i=!this._children,r=i?"_segments":"_children",s=t[r],a=e[r],o=this[r];if(!s||!a||s.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var l=o.length,c=a.length;if(l<c)for(var u=i?N:j,h=l;h<c;h++)this.add(new u);else l>c&&this[i?"removeSegments":"removeChildren"](c,l);for(h=0;h<c;h++)o[h].interpolate(s[h],a[h],n);i&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],i=t._children?t._children.slice():[t],r=n.length,s=i.length,a=[],o=0;e=!0;for(var l=p.findItemBoundsCollisions(n,i,_.GEOMETRIC_EPSILON),c=r-1;c>=0&&e;c--){var u=n[c];e=!1;var h=l[c];if(h)for(var d=h.length-1;d>=0&&!e;d--)u.compare(i[h[d]])&&(a[h[d]]||(a[h[d]]=!0,o++),e=!0)}e=e&&o===s}return e}}),j=z.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=arguments,n=Array.isArray(t)?"object"===typeof t[0]?t:e:!t||t.size!==o||t.x===o&&t.point===o?null:e;n&&n.length>0?this.setSegments(n):(this._curves=o,this._segmentSelection=0,n||"string"!==typeof t||(this.setPathData(t),t=null)),this._initialize(!n&&t)},_equals:function(t){return this._closed===t._closed&&u.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=o,32&e)this._version++;else if(this._curves)for(var n=0,i=this._curves.length;n<i;n++)this._curves[n]._changed()}else 64&e&&(this._bounds=o)},getStyle:function(){var t=this._parent;return(t instanceof F?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,n){var i=t[n-1];"boolean"===typeof i&&(this.setClosed(i),n--),this._add(N.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var i=0;i<n;i++)t[i]=new B(this,e[i],e[i+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new B(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var n,i,r,s,a,o,l,c,u=this._segments,h=u.length,d=new m(e),f=new Array(6),p=!0,_=[];function v(e,u){if(e._transformCoordinates(t,f),n=f[0],i=f[1],p)_.push("M"+d.pair(n,i)),p=!1;else if(a=f[2],o=f[3],a===n&&o===i&&l===r&&c===s){if(!u){var h=n-r,m=i-s;_.push(0===h?"v"+d.number(m):0===m?"h"+d.number(h):"l"+d.pair(h,m))}}else _.push("c"+d.pair(l-r,c-s)+" "+d.pair(a-r,o-s)+" "+d.pair(n-r,i-s));r=n,s=i,l=f[4],c=f[5]}if(!h)return"";for(var g=0;g<h;g++)v(u[g]);return this._closed&&h>0&&(v(u[0],!0),_.push("z")),_.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),i=0,r=e.length;i<r;i++)e[i]._transformCoordinates(t,n,!0);return!0},_add:function(t,e){for(var n=this._segments,i=this._curves,r=t.length,s=null==e,a=(e=s?n.length:e,0);a<r;a++){var o=t[a];o._path&&(o=t[a]=o.clone()),o._path=this,o._index=e+a,o._selection&&this._updateSelection(o,0,o._selection)}if(s)u.push(n,t);else{n.splice.apply(n,[e,0].concat(t));a=e+r;for(var l=n.length;a<l;a++)n[a]._index=a}if(i){var c=this._countCurves(),h=e>0&&e+r-1===c?e-1:e,d=h,f=Math.min(h+r,c);t._curves&&(i.splice.apply(i,[h,0].concat(t._curves)),d+=t._curves.length);for(a=d;a<f;a++)i.splice(a,0,new B(this,null,null));this._adjustCurves(h,f)}return this._changed(41),t},_adjustCurves:function(t,e){for(var n,i=this._segments,r=this._curves,s=t;s<e;s++)n=r[s],n._path=this,n._segment1=i[s],n._segment2=i[s+1]||i[0],n._changed();(n=r[this._closed&&!t?i.length-1:t-1])&&(n._segment2=i[t]||i[0],n._changed()),(n=r[e])&&(n._segment1=i[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&"number"!==typeof t?this._add(N.readList(e)):this._add([N.read(e)])[0]},insert:function(t,e){var n=arguments;return n.length>2&&"number"!==typeof e?this._add(N.readList(n,1),t):this._add([N.read(n,1)],t)[0]},addSegment:function(){return this._add([N.read(arguments)])[0]},insertSegment:function(t){return this._add([N.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(N.readList(t))},insertSegments:function(t,e){return this._add(N.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=u.pick(e,this._segments.length);var i=this._segments,r=this._curves,s=i.length,a=i.splice(t,e-t),o=a.length;if(!o)return a;for(var l=0;l<o;l++){var c=a[l];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}l=t;for(var h=i.length;l<h;l++)i[l]._index=l;if(r){var d=t>0&&e===s+(this._closed?1:0)?t-1:t;for(r=r.splice(d,o),l=r.length-1;l>=0;l--)r[l]._path=null;n&&(a._curves=r.slice(1)),this._adjustCurves(d,d)}return this._changed(41),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,n=this._closed;t=0;for(var i=0,r=e.length;i<r;i++){var s=i+1===r;t+=B.getArea(B.getValues(e[i],e[s?0:i+1],null,s&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,i=t?7:0;this._segmentSelection=i*n;for(var r=0;r<n;r++)e[r]._selection=i},_updateSelection:function(t,e,n){t._selection=n;var i=this._segmentSelection+=n-e;i>0&&this.setSelected(!0)},divideAt:function(t){var e,n=this.getLocationAt(t);return n&&(e=n.getCurve().divideAt(n.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,i=e&&e.time,r=1e-8,s=1-r;i>s&&(n++,i=0);var a=this.getCurves();if(n>=0&&n<a.length){i>=r&&a[n++].divideAtTime(i);var o,l=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),o=this):(o=new j(A.NO_INSERT),o.insertAbove(this),o.copyAttributes(this)),o._add(l,0),this.addSegment(l[0]),o}return null},split:function(t,e){var n,i=e===o?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return null!=i?this.splitAt(i):null},join:function(t,e){var n=e||0;if(t&&t!==this){var i=t._segments,r=this.getLastSegment(),s=t.getLastSegment();if(!s)return this;r&&r._point.isClose(s._point,n)&&t.reverse();var a=t.getFirstSegment();if(r&&r._point.isClose(a._point,n))r.setHandleOut(a._handleOut),this._add(i.slice(1));else{var o=this.getFirstSegment();o&&o._point.isClose(a._point,n)&&t.reverse(),s=t.getLastSegment(),o&&o._point.isClose(s._point,n)?(o.setHandleIn(s._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}t._closed&&this._add([i[0]]),t.remove()}var l=this.getFirstSegment(),c=this.getLastSegment();return l!==c&&l._point.isClose(c._point,n)&&(l.setHandleIn(c._handleIn),c.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,i=n?1e-7:0,r=e.length-1;r>=0;r--){var s=e[r];!s.hasHandles()&&(!s.hasLength(i)||n&&s.isCollinear(s.getNext()))&&s.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new q(this,t||.25,256,!0),n=e.parts,i=n.length,r=[],s=0;s<i;s++)r.push(new N(n[s].curve.slice(0,2)));!this._closed&&i>0&&r.push(new N(n[i-1].curve.slice(6))),this.setSegments(r)},simplify:function(t){var e=new U(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,n=t||{},i=n.type||"asymmetric",r=this._segments,s=r.length,a=this._closed;function l(t,n){var i=t&&t.index;if(null!=i){var r=t.path;if(r&&r!==e)throw new Error(t._class+" "+i+" of "+r+" is not part of "+e);n&&t instanceof B&&i++}else i="number"===typeof t?t:n;return Math.min(i<0&&a?i%s:i<0?i+s:i,s-1)}var c=a&&n.from===o&&n.to===o,u=l(n.from,0),h=l(n.to,s-1);if(u>h)if(a)u-=s;else{var d=u;u=h,h=d}if(/^(?:asymmetric|continuous)$/.test(i)){var f="asymmetric"===i,p=Math.min,m=h-u+1,_=m-1,v=c?p(m,4):1,g=v,y=v,b=[];if(a||(g=p(1,u),y=p(1,s-h-1)),_+=g+y,_<=1)return;for(var w=0,x=u-g;w<=_;w++,x++)b[w]=r[(x<0?x+s:x)%s]._point;var k=b[0]._x+2*b[1]._x,S=b[0]._y+2*b[1]._y,C=2,T=_-1,A=[k],E=[S],M=[C],O=[],I=[];for(w=1;w<_;w++){var P=w<T,R=P||f?1:2,D=P?4:f?2:7,N=P?4:f?3:8,L=P?2:f?0:1,V=R/C;C=M[w]=D-V,k=A[w]=N*b[w]._x+L*b[w+1]._x-V*k,S=E[w]=N*b[w]._y+L*b[w+1]._y-V*S}O[T]=A[T]/M[T],I[T]=E[T]/M[T];for(w=_-2;w>=0;w--)O[w]=(A[w]-O[w+1])/M[w],I[w]=(E[w]-I[w+1])/M[w];O[_]=(3*b[_]._x-O[T])/2,I[_]=(3*b[_]._y-I[T])/2;w=g;var z=_-y;for(x=u;w<=z;w++,x++){var j=r[x<0?x+s:x],F=j._point,q=O[w]-F._x,U=I[w]-F._y;(c||w<z)&&j.setHandleOut(q,U),(c||w>g)&&j.setHandleIn(-q,-U)}}else for(w=u;w<=h;w++)r[w<0?w+s:w].smooth(n,!c&&w===u,!c&&w===h)},toShape:function(t){if(!this._closed)return null;var e,n,i,r,s=this._segments;function a(t,e){var n=s[t],i=n.getNext(),r=s[e],a=r.getNext();return n._handleOut.isZero()&&i._handleIn.isZero()&&r._handleOut.isZero()&&a._handleIn.isZero()&&i._point.subtract(n._point).isCollinear(a._point.subtract(r._point))}function l(t){var e=s[t],n=e.getPrevious(),i=e.getNext();return n._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&i._handleIn.isZero()&&e._point.subtract(n._point).isOrthogonal(i._point.subtract(e._point))}function c(t){var e=s[t],n=e.getNext(),i=e._handleOut,r=n._handleIn,a=.5522847498307936;if(i.isOrthogonal(r)){var o=e._point,l=n._point,c=new C(o,i,!0).intersect(new C(l,r,!0),!0);return c&&_.isZero(i.getLength()/c.subtract(o).getLength()-a)&&_.isZero(r.getLength()/c.subtract(l).getLength()-a)}return!1}function u(t,e){return s[t]._point.getDistance(s[e]._point)}if(!this.hasHandles()&&4===s.length&&a(0,2)&&a(1,3)&&l(1)?(e=O.Rectangle,n=new b(u(0,3),u(0,1)),r=s[1]._point.add(s[2]._point).divide(2)):8===s.length&&c(0)&&c(2)&&c(4)&&c(6)&&a(1,5)&&a(3,7)?(e=O.Rectangle,n=new b(u(1,6),u(0,3)),i=n.subtract(new b(u(0,7),u(1,2))).divide(2),r=s[3]._point.add(s[4]._point).divide(2)):4===s.length&&c(0)&&c(1)&&c(2)&&c(3)&&(_.isZero(u(0,2)-u(1,3))?(e=O.Circle,i=u(0,2)/2):(e=O.Ellipse,i=new b(u(2,0)/2,u(3,1)/2)),r=s[1]._point),e){var h=this.getPosition(!0),d=new e({center:h,size:n,radius:i,insert:!1});return d.copyAttributes(this,!0),d._matrix.prepend(this._matrix),d.rotate(r.subtract(h).getAngle()+90),(t===o||t)&&d.insertAbove(this),d}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof F)return t.base.call(this,e);var n=this.getCurves(),i=e.getCurves(),r=n.length,s=i.length;if(!r||!s)return r==s;for(var a,o,l=n[0].getValues(),c=[],u=0,h=0,d=0;d<s;d++){var f=i[d].getValues();c.push(f);var p=B.getOverlaps(l,f);if(p){a=!d&&p[0][0]>0?s-1:d,o=p[0][1];break}}var m,_=Math.abs,v=1e-8;f=c[a];while(l&&f){p=B.getOverlaps(l,f);if(p){var g=p[0][0];if(_(g-h)<v){h=p[1][0],1===h&&(l=++u<r?n[u].getValues():null,h=0);var y=p[0][1];if(_(y-o)<v){if(m||(m=[a,y]),o=p[1][1],1===o&&(++a>=s&&(a=0),f=c[a]||i[a].getValues(),o=0),!l)return m[0]===a&&m[1]===o;continue}}}break}return!1},_hitTestSelf:function(t,e,n,i){var r,s,a,o,l,c,u=this,h=this.getStyle(),d=this._segments,f=d.length,p=this._closed,m=e._tolerancePadding,_=m,v=e.stroke&&h.hasStroke(),g=e.fill&&h.hasFill(),y=e.curves,b=v?h.getStrokeWidth()/2:g&&e.tolerance>0||y?0:null;function w(e,n){return t.subtract(e).divide(n).length<=1}function x(t,n,i){if(!e.selected||n.isSelected()){var r=t._point;if(n!==r&&(n=n.add(r)),w(n,_))return new D(i,u,{segment:t,point:n})}}function k(t,n){return(n||e.segments)&&x(t,t._point,"segment")||!n&&e.handles&&(x(t,t._handleIn,"handle-in")||x(t,t._handleOut,"handle-out"))}function S(t){o.add(t)}function C(e){var n,l=p||e._index>0&&e._index<f-1;return"round"===(l?r:s)?w(e._point,_):(o=new j({internal:!0,closed:!0}),l?e.isSmooth()||j._addBevelJoin(e,r,b,a,null,i,S,!0):"square"===s&&j._addSquareCap(e,s,b,null,i,S,!0),o.isEmpty()?void 0:o.contains(t)||(n=o.getNearestLocation(t))&&w(n.getPoint(),m))}if(null!==b&&(b>0?(r=h.getStrokeJoin(),s=h.getStrokeCap(),a=h.getMiterLimit(),_=_.add(j._getStrokePadding(b,i))):r=s="round"),!e.ends||e.segments||p){if(e.segments||e.handles)for(var T=0;T<f;T++)if(c=k(d[T]))return c}else if(c=k(d[0],!0)||k(d[f-1],!0))return c;if(null!==b){if(l=this.getNearestLocation(t),l){var A=l.getTime();0===A||1===A&&f>1?C(l.getSegment())||(l=null):w(l.getPoint(),_)||(l=null)}if(!l&&"miter"===r&&f>1)for(T=0;T<f;T++){var E=d[T];if(t.getDistance(E._point)<=a*b&&C(E)){l=E.getLocation();break}}}return!l&&g&&this._contains(t)||l&&!v&&!y?new D("fill",this):l?new D(v?"stroke":"curve",this,{location:l,point:l.getPoint()}):null}},u.each(B._evaluateMethods,(function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}}),{beans:!1,getLocationOf:function(){for(var t=g.read(arguments),e=this.getCurves(),n=0,i=e.length;n<i;n++){var r=e[n].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"===typeof t){for(var e=this.getCurves(),n=0,i=0,r=e.length;i<r;i++){var s=n,a=e[i];if(n+=a.getLength(),n>t)return a.getLocationAt(t-s)}if(e.length>0&&t<=this.getLength())return new V(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=g.read(arguments);if(t.isZero())return[];for(var e=[],n=0,i=this.getCurves(),r=0,s=i.length;r<s;r++){for(var a=i[r],o=a.getTimesWithTangent(t),l=0,c=o.length;l<c;l++){var u=n+a.getOffsetAtTime(o[l]);e.indexOf(u)<0&&e.push(u)}n+=a.length}return e}}),new function(){function t(t,e,n,i){if(!(i<=0))for(var r,s,a=i/2,o=i-2,l=a-1,c=new Array(6),u=0,h=e.length;u<h;u++){var d=e[u],f=d._selection;if(d._transformCoordinates(n,c),r=c[0],s=c[1],2&f&&m(2),4&f&&m(4),t.fillRect(r-a,s-a,i,i),o>0&&!(1&f)){var p=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(r-l,s-l,o,o),t.fillStyle=p}}function m(e){var n=c[e],i=c[e+1];r==n&&s==i||(t.beginPath(),t.moveTo(r,s),t.lineTo(n,i),t.stroke(),t.beginPath(),t.arc(n,i,a,0,2*Math.PI,!0),t.fill())}}function e(t,e,n){var i,r,s,a,o,l,c,u,h=e._segments,d=h.length,f=new Array(6),p=!0;function m(e){if(n)e._transformCoordinates(n,f),i=f[0],r=f[1];else{var h=e._point;i=h._x,r=h._y}if(p)t.moveTo(i,r),p=!1;else{if(n)o=f[2],l=f[3];else{var d=e._handleIn;o=i+d._x,l=r+d._y}o===i&&l===r&&c===s&&u===a?t.lineTo(i,r):t.bezierCurveTo(c,u,o,l,i,r)}if(s=i,a=r,n)c=f[4],u=f[5];else{d=e._handleOut;c=s+d._x,u=a+d._y}}for(var _=0;_<d;_++)m(h[_]);e._closed&&d>0&&m(h[0])}return{_draw:function(t,n,i,r){var s=n.dontStart,a=n.dontFinish||n.clip,o=this.getStyle(),l=o.hasFill(),c=o.hasStroke(),u=o.getDashArray(),h=!dt.support.nativeDash&&c&&u&&u.length;function d(t){return u[(t%h+h)%h]}if(s||t.beginPath(),(l||c&&!h||a)&&(e(t,this,r),this._closed&&t.closePath()),!a&&(l||c)&&(this._setStyles(t,n,i),l&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),c)){if(h){s||t.beginPath();var f,p=new q(this,.25,32,!1,r),m=p.length,_=-o.getDashOffset(),v=0;while(_>0)_-=d(v--)+d(v--);while(_<m)f=_+d(v++),(_>0||f>0)&&p.drawPart(t,Math.max(_,0),Math.max(f,0)),_=f+d(v++)}t.stroke()}},_drawSelected:function(n,i){n.beginPath(),e(n,this,i),n.stroke(),t(n,this._segments,i,dt.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new N(g.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new N(g.read(arguments))])},cubicCurveTo:function(){var e=arguments,n=g.read(e),i=g.read(e),r=g.read(e),s=t(this);s.setHandleOut(n.subtract(s._point)),this._add([new N(r,i.subtract(r))])},quadraticCurveTo:function(){var e=arguments,n=g.read(e),i=g.read(e),r=t(this)._point;this.cubicCurveTo(n.add(r.subtract(n).multiply(1/3)),n.add(i.subtract(n).multiply(1/3)),i)},curveTo:function(){var e=arguments,n=g.read(e),i=g.read(e),r=u.pick(u.read(e),.5),s=1-r,a=t(this)._point,o=n.subtract(a.multiply(s*s)).subtract(i.multiply(r*r)).divide(2*r*s);if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+r);this.quadraticCurveTo(o,i)},arcTo:function(){var e,n,i,r,s=arguments,a=Math.abs,o=Math.sqrt,l=t(this),c=l._point,h=g.read(s),d=u.peek(s),f=u.pick(d,!0);if("boolean"===typeof f)var p=c.add(h).divide(2),m=p.add(p.subtract(c).rotate(f?-90:90));else if(u.remain(s)<=2)m=h,h=g.read(s);else if(!c.equals(h)){var v=b.read(s),y=_.isZero;if(y(v.width)||y(v.height))return this.lineTo(h);var w=u.read(s),x=(f=!!u.read(s),!!u.read(s)),k=(p=c.add(h).divide(2),c.subtract(p).rotate(-w)),T=k.x,A=k.y,E=a(v.width),M=a(v.height),O=E*E,I=M*M,P=T*T,R=A*A,D=o(P/O+R/I);if(D>1&&(E*=D,M*=D,O=E*E,I=M*M),D=(O*I-O*R-I*P)/(O*R+I*P),a(D)<1e-12&&(D=0),D<0)throw new Error("Cannot create an arc with the given arguments");e=new g(E*A/M,-M*T/E).multiply((x===f?-1:1)*o(D)).rotate(w).add(p),r=(new S).translate(e).rotate(w).scale(E,M),i=r._inverseTransform(c),n=i.getDirectedAngle(r._inverseTransform(h)),!f&&n>0?n-=360:f&&n<0&&(n+=360)}if(m){var L=new C(c.add(m).divide(2),m.subtract(c).rotate(90),!0),B=new C(m.add(h).divide(2),h.subtract(m).rotate(90),!0),V=new C(c,h),z=V.getSide(m);if(e=L.intersect(B,!0),!e){if(!z)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}i=c.subtract(e),n=i.getDirectedAngle(h.subtract(e));var j=V.getSide(e,!0);0===j?n=z*a(n):z===j&&(n+=n<0?360:-360)}if(n){for(var F=1e-5,q=a(n),U=q>=360?4:Math.ceil((q-F)/90),H=n/U,W=H*Math.PI/360,X=4/3*Math.sin(W)/(1+Math.cos(W)),$=[],Y=0;Y<=U;Y++){k=h;var G=null;if(Y<U&&(G=i.rotate(90).multiply(X),r?(k=r._transformPoint(i),G=r._transformPoint(i.add(G)).subtract(k)):k=e.add(i)),Y){var Z=i.rotate(-90).multiply(X);r&&(Z=r._transformPoint(i.add(Z)).subtract(k)),$.push(new N(k,Z,G))}else l.setHandleOut(G);i=i.rotate(H)}this._add($)}},lineBy:function(){var e=g.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=arguments,n=g.read(e),i=g.read(e),r=u.read(e),s=t(this)._point;this.curveTo(s.add(n),s.add(i),r)},cubicCurveBy:function(){var e=arguments,n=g.read(e),i=g.read(e),r=g.read(e),s=t(this)._point;this.cubicCurveTo(s.add(n),s.add(i),s.add(r))},quadraticCurveBy:function(){var e=arguments,n=g.read(e),i=g.read(e),r=t(this)._point;this.quadraticCurveTo(r.add(n),r.add(i))},arcBy:function(){var e=arguments,n=t(this)._point,i=n.add(g.read(e)),r=u.pick(u.peek(e),!0);"boolean"===typeof r?this.arcTo(i,r):this.arcTo(i,n.add(g.read(e)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return j[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,i,r,s){var a=t[0];if(!a)return new x;var o=new Array(6),l=a._transformCoordinates(i,new Array(6)),c=l.slice(0,2),u=c.slice(),h=new Array(2);function d(t){t._transformCoordinates(i,o);for(var e=0;e<2;e++)B._addBounds(l[e],l[e+4],o[e+2],o[e],e,s?s[e]:0,c,u,h);var n=l;l=o,o=n}for(var f=1,p=t.length;f<p;f++)d(t[f]);return e&&d(a),new x(c[0],c[1],u[0]-c[0],u[1]-c[1])},getStrokeBounds:function(t,e,n,i,r){var s=n.getStyle(),a=s.hasStroke(),o=s.getStrokeWidth(),l=a&&n._getStrokeMatrix(i,r),c=a&&j._getStrokePadding(o,l),u=j.getBounds(t,e,n,i,r,c);if(!a)return u;var h=o/2,d=s.getStrokeJoin(),f=s.getStrokeCap(),p=s.getMiterLimit(),m=new x(new b(c));function _(t){u=u.include(t)}function v(t){u=u.unite(m.setCenter(t._point.transform(i)))}function g(t,e){"round"===e||t.isSmooth()?v(t):j._addBevelJoin(t,e,h,p,i,l,_)}function y(t,e){"round"===e?v(t):j._addSquareCap(t,e,h,i,l,_)}var w=t.length-(e?0:1);if(w>0){for(var k=1;k<w;k++)g(t[k],d);e?g(t[0],d):(y(t[0],f),y(t[t.length-1],f))}return u},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new g(t,0).transform(e),i=new g(0,t).transform(e),r=n.getAngleInRadians(),s=n.getLength(),a=i.getLength(),o=Math.sin(r),l=Math.cos(r),c=Math.tan(r),u=Math.atan2(a*c,s),h=Math.atan2(a,c*s);return[Math.abs(s*Math.cos(u)*l+a*Math.sin(u)*o),Math.abs(a*Math.sin(h)*l+s*Math.cos(h)*o)]},_addBevelJoin:function(t,e,n,i,r,s,a,o){var l=t.getCurve(),c=l.getPrevious(),u=l.getPoint1().transform(r),h=c.getNormalAtTime(1).multiply(n).transform(s),d=l.getNormalAtTime(0).multiply(n).transform(s),f=h.getDirectedAngle(d);if((f<0||f>=180)&&(h=h.negate(),d=d.negate()),o&&a(u),a(u.add(h)),"miter"===e){var p=new C(u.add(h),new g(-h.y,h.x),!0).intersect(new C(u.add(d),new g(-d.y,d.x),!0),!0);p&&u.getDistance(p)<=i*n&&a(p)}a(u.add(d))},_addSquareCap:function(t,e,n,i,r,s,a){var o=t._point.transform(i),l=t.getLocation(),c=l.getNormal().multiply(0===l.getTime()?n:-n).transform(r);"square"===e&&(a&&(s(o.subtract(c)),s(o.add(c))),o=o.add(c.rotate(-90))),s(o.add(c)),s(o.subtract(c))},getHandleBounds:function(t,e,n,i,r){var s,a,o=n.getStyle(),l=r.stroke&&o.hasStroke();if(l){var c=n._getStrokeMatrix(i,r),u=o.getStrokeWidth()/2,h=u;"miter"===o.getStrokeJoin()&&(h=u*o.getMiterLimit()),"square"===o.getStrokeCap()&&(h=Math.max(h,u*Math.SQRT2)),s=j._getStrokePadding(u,c),a=j._getStrokePadding(h,c)}for(var d=new Array(6),f=1/0,p=-f,m=f,_=p,v=0,g=t.length;v<g;v++){var y=t[v];y._transformCoordinates(i,d);for(var b=0;b<6;b+=2){var w=b?s:a,k=w?w[0]:0,S=w?w[1]:0,C=d[b],T=d[b+1],A=C-k,E=C+k,M=T-S,O=T+S;A<f&&(f=A),E>p&&(p=E),M<m&&(m=M),O>_&&(_=O)}}return new x(f,m,p-f,_-m)}}});j.inject({statics:new function(){var t=.5522847498307936,e=[new N([-1,0],[0,t],[0,-t]),new N([0,-1],[-t,0],[t,0]),new N([1,0],[0,-t],[0,t]),new N([0,1],[t,0],[-t,0])];function n(t,e,n){var i=u.getNamed(n),r=new j(i&&(1==i.insert?A.INSERT:0==i.insert?A.NO_INSERT:null));return r._add(t),r._closed=e,r.set(i,A.INSERT)}function i(t,i,r){for(var s=new Array(4),a=0;a<4;a++){var o=e[a];s[a]=new N(o._point.multiply(i).add(t),o._handleIn.multiply(i),o._handleOut.multiply(i))}return n(s,!0,r)}return{Line:function(){var t=arguments;return n([new N(g.readNamed(t,"from")),new N(g.readNamed(t,"to"))],!1,t)},Circle:function(){var t=arguments,e=g.readNamed(t,"center"),n=u.readNamed(t,"radius");return i(e,new b(n),t)},Rectangle:function(){var e,i=arguments,r=x.readNamed(i,"rectangle"),s=b.readNamed(i,"radius",0,{readNull:!0}),a=r.getBottomLeft(!0),o=r.getTopLeft(!0),l=r.getTopRight(!0),c=r.getBottomRight(!0);if(!s||s.isZero())e=[new N(a),new N(o),new N(l),new N(c)];else{s=b.min(s,r.getSize(!0).divide(2));var u=s.width,h=s.height,d=u*t,f=h*t;e=[new N(a.add(u,0),null,[-d,0]),new N(a.subtract(0,h),[0,f]),new N(o.add(0,h),null,[0,-f]),new N(o.add(u,0),[-d,0],null),new N(l.subtract(u,0),null,[d,0]),new N(l.add(0,h),[0,-f],null),new N(c.subtract(0,h),null,[0,f]),new N(c.subtract(u,0),[d,0])]}return n(e,!0,i)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=arguments,e=O._readEllipse(t);return i(e.center,e.radius,t)},Oval:"#Ellipse",Arc:function(){var t=arguments,e=g.readNamed(t,"from"),n=g.readNamed(t,"through"),i=g.readNamed(t,"to"),r=u.getNamed(t),s=new j(r&&0==r.insert&&A.NO_INSERT);return s.moveTo(e),s.arcTo(n,i),s.set(r)},RegularPolygon:function(){for(var t=arguments,e=g.readNamed(t,"center"),i=u.readNamed(t,"sides"),r=u.readNamed(t,"radius"),s=360/i,a=i%3===0,o=new g(0,a?-r:r),l=a?-1:.5,c=new Array(i),h=0;h<i;h++)c[h]=new N(e.add(o.rotate((h+l)*s)));return n(c,!0,t)},Star:function(){for(var t=arguments,e=g.readNamed(t,"center"),i=2*u.readNamed(t,"points"),r=u.readNamed(t,"radius1"),s=u.readNamed(t,"radius2"),a=360/i,o=new g(0,-1),l=new Array(i),c=0;c<i;c++)l[c]=new N(e.add(o.rotate(a*c).multiply(c%2?s:r)));return n(l,!0,t)}}}});var F=z.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"===typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,n){var i=n,r=i[0];r&&"number"===typeof r[0]&&(i=[i]);for(var s=n.length-1;s>=0;s--){var a=i[s];i!==n||a instanceof j||(i=u.slice(i)),Array.isArray(a)?i[s]=new j({segments:a,insert:!1}):a instanceof F&&(i.splice.apply(i,[s,1].concat(a.removeChildren())),a.remove())}return t.base.call(this,e,i)},reduce:function t(e){for(var n=this._children,i=n.length-1;i>=0;i--){var r=n[i].reduce(e);r.isEmpty()&&r.remove()}if(!n.length){r=new j(A.NO_INSERT);return r.copyAttributes(this),r.insertAbove(this),this.remove(),r}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,i=t.length;n<i;n++)u.push(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,i=[],r=0,s=n.length;r<s;r++){var a=n[r],o=a._matrix;i.push(a.getPathData(t&&!o.isIdentity()?t.appended(o):t,e))}return i.join("")},_hitTestChildren:function t(e,n,i){return t.base.call(this,e,n.class===j||"path"===n.type?n:u.set({},n,{fill:!1}),i)},_draw:function(t,e,n,i){var r=this._children;if(r.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var s=0,a=r.length;s<a;s++)r[s].draw(t,e,i);if(!e.clip){this._setStyles(t,e,n);var o=this._style;o.hasFill()&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var i=this._children,r=0,s=i.length;r<s;r++){var a=i[r],o=a._matrix;n[a._id]||a._drawSelected(t,o.isIdentity()?e:e.appended(o))}}},new function(){function t(t,e){var n=t._children;if(e&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return u.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],(function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}}),{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new j(A.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),i=g.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(e){t(this,!0).closePath(e)}})},u.each(["reverse","flatten","simplify","smooth"],(function(t){this[t]=function(e){for(var n,i=this._children,r=0,s=i.length;r<s;r++)n=i[r][t](e)||n;return n}}),{}));z.inject(new function(){var t=Math.min,e=Math.max,n=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function r(t){return t._children||[t]}function s(t,e){var n=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(e){for(var i=r(n),s=0,a=i.length;s<a;s++){t=i[s];t._closed||t.isEmpty()||(t.closePath(1e-12),t.getFirstSegment().setHandleIn(0,0),t.getLastSegment().setHandleOut(0,0))}n=n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0)}return n}function a(t,e,n,i,r){var s=new F(A.NO_INSERT);return s.addChildren(t,!0),s=s.reduce({simplify:e}),r&&0==r.insert||s.insertAbove(i&&n.isSibling(i)&&n.getIndex()<i.getIndex()?i:n),s.copyAttributes(n,!0),s}function l(t){return t.hasOverlap()||t.isCrossing()}function c(t,e,n,o){if(o&&(0==o.trace||o.stroke)&&/^(subtract|intersect)$/.test(n))return h(t,e,n);var c=s(t,!0),d=e&&t!==e&&s(e,!0),f=i[n];f[n]=!0,d&&(f.subtract||f.exclude)^d.isClockwise()^c.isClockwise()&&d.reverse();var _,g=v(V.expand(c.getIntersections(d,l))),w=r(c),x=d&&r(d),k=[],S=[];function C(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];u.push(k,i._segments),u.push(S,i.getCurves()),i._overlapsOnly=!0}}function T(t){for(var e=[],n=0,i=t&&t.length;n<i;n++)e.push(S[t[n]]);return e}if(g.length){C(w),x&&C(x);for(var A=new Array(S.length),E=0,M=S.length;E<M;E++)A[E]=S[E].getValues();var O=p.findCurveBoundsCollisions(A,A,0,!0),I={};for(E=0;E<S.length;E++){var P=S[E],R=P._path._id,D=I[R]=I[R]||{};D[P.getIndex()]={hor:T(O[E].hor),ver:T(O[E].ver)}}for(E=0,M=g.length;E<M;E++)y(g[E]._segment,c,d,I,f);for(E=0,M=k.length;E<M;E++){var N=k[E],L=N._intersection;N._winding||y(N,c,d,I,f),L&&L._overlap||(N._path._overlapsOnly=!1)}_=b(k,f)}else _=m(x?w.concat(x):w.slice(),(function(t){return!!f[t]}));return a(_,!0,t,e,o)}function h(t,e,n){var i=s(t),r=s(e),o=i.getIntersections(r,l),c="subtract"===n,u="divide"===n,h={},d=[];function f(t){if(!h[t._id]&&(u||r.contains(t.getPointAt(t.getLength()/2))^c))return d.unshift(t),h[t._id]=!0}for(var p=o.length-1;p>=0;p--){var m=o[p].split();m&&(f(m)&&m.getFirstSegment().setHandleIn(0,0),i.getLastSegment().setHandleOut(0,0))}return f(i),a(d,!1,t,e)}function d(t,e){var n=t;while(n){if(n===e)return;n=n._previous}while(t._next&&t._next!==e)t=t._next;if(!t._next){while(e._previous)e=e._previous;t._next=e,e._previous=t}}function f(t){for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function m(t,e,i){var r=t&&t.length;if(r){var s=u.each(t,(function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}}),{}),a=t.slice().sort((function(t,e){return n(e.getArea())-n(t.getArea())})),o=a[0],l=p.findItemBoundsCollisions(a,null,_.GEOMETRIC_EPSILON);null==i&&(i=o.isClockwise());for(var c=0;c<r;c++){var h=a[c],d=s[h._id],f=0,m=l[c];if(m)for(var v=null,g=m.length-1;g>=0;g--)if(m[g]<c){v=v||h.getInteriorPoint();var y=a[m[g]];if(y.contains(v)){var b=s[y._id];f=b.winding,d.winding+=f,d.container=b.exclude?b.container:y;break}}if(e(d.winding)===e(f))d.exclude=!0,t[d.index]=null;else{var w=d.container;h.setClockwise(w?!w.isClockwise():i)}}}return t}function v(t,e,n){var i,r,s,a=e&&[],o=1e-8,l=1-o,c=!1,u=n||[],h=n&&{};function p(t){return t._path._id+"."+t._segment1._index}for(var m=(n&&n.length)-1;m>=0;m--){var _=n[m];_._path&&(h[p(_)]=!0)}for(m=t.length-1;m>=0;m--){var v,g=t[m],y=g._time,b=y,w=e&&!e(g);_=g._curve;if(_&&(_!==r?(c=!_.hasHandles()||h&&h[p(_)],i=[],s=null,r=_):s>=o&&(y/=s)),w)i&&i.push(g);else{if(e&&a.unshift(g),s=b,y<o)v=_._segment1;else if(y>l)v=_._segment2;else{var x=_.divideAtTime(y,!0);c&&u.push(_,x),v=x._segment1;for(var k=i.length-1;k>=0;k--){var S=i[k];S._time=(S._time-y)/(1-y)}}g._setSegment(v);var C=v._intersection,T=g._intersection;if(C){d(C,T);var A=C;while(A)d(A._intersection,C),A=A._next}else v._intersection=T}}return n||f(u),a||t}function g(i,r,s,a,o){var l,c,u=Array.isArray(r)?r:r[s?"hor":"ver"],h=s?1:0,d=1^h,f=[i.x,i.y],p=f[h],m=f[d],_=1e-9,v=1e-6,y=p-_,b=p+_,w=0,x=0,k=0,S=0,C=!1,T=!1,A=1,E=[];function M(n){var c=n[d+0],u=n[d+6];if(!(m<t(c,u)||m>e(c,u))){var f=n[h+0],_=n[h+2],w=n[h+4],x=n[h+6];if(c!==u){var T=m===c?0:m===u||y>e(f,_,w,x)||b<t(f,_,w,x)?1:B.solveCubic(n,d,m,E,0,1)>0?E[0]:1,M=0===T?f:1===T?x:B.getPoint(n,T)[s?"y":"x"],O=c>u?1:-1,I=l[d]>l[d+6]?1:-1,P=l[h+6];return m!==c?(M<y?k+=O:M>b?S+=O:C=!0,M>p-v&&M<p+v&&(A/=2)):(O!==I?f<y?k+=O:f>b&&(S+=O):f!=P&&(P<b&&M>b?(S+=O,C=!0):P>y&&M<y&&(k+=O,C=!0)),A/=4),l=n,!o&&M>y&&M<b&&0===B.getTangent(n,T)[s?"x":"y"]&&g(i,r,!s,a,!0)}(f<b&&x>y||x<b&&f>y)&&(C=!0)}}function O(n){var i=n[d+0],r=n[d+2],a=n[d+4],o=n[d+6];if(m<=e(i,r,a,o)&&m>=t(i,r,a,o))for(var l,c=n[h+0],u=n[h+2],f=n[h+4],p=n[h+6],_=y>e(c,u,f,p)||b<t(c,u,f,p)?[n]:B.getMonoCurves(n,s),v=0,g=_.length;v<g;v++)if(l=M(_[v]))return l}for(var I=0,P=u.length;I<P;I++){var R,D=u[I],N=D._path,L=D.getValues();if((!I||u[I-1]._path!==N)&&(l=null,N._closed||(c=B.getValues(N.getLastCurve().getSegment2(),D.getSegment1(),null,!a),c[d]!==c[d+6]&&(l=c)),!l)){l=L;var V=N.getLastCurve();while(V&&V!==D){var z=V.getValues();if(z[d]!==z[d+6]){l=z;break}V=V.getPrevious()}}if(R=O(L))return R;if(I+1===P||u[I+1]._path!==N){if(c&&(R=O(c)))return R;!C||k||S||(k=S=N.isClockwise(a)^s?1:-1),w+=k,x+=S,k=S=0,C&&(T=!0,C=!1),c=null}}return w=n(w),x=n(x),{winding:e(w,x),windingL:w,windingR:x,quality:A,onPath:T}}function y(t,e,i,r,s){var a=[],o=t,l=0;do{var c=t.getCurve();if(c){var u=c.getLength();a.push({segment:t,curve:c,length:u}),l+=u}t=t.getNext()}while(t&&!t._intersection&&t!==o);for(var h=[.5,.25,.75],d={winding:0,quality:-1},f=.001,p=1-f,m=0;m<h.length&&d.quality<.5;m++){u=l*h[m];for(var v=0,y=a.length;v<y;v++){var b=a[v],w=b.length;if(u<=w){c=b.curve;var x=c._path,k=x._parent,S=k instanceof F?k:x,C=_.clamp(c.getTimeAt(u),f,p),T=c.getPointAtTime(C),A=n(c.getTangentAtTime(C).y)<Math.SQRT1_2,E=null;if(s.subtract&&i){var M=S===e?i:e,O=M._getWinding(T,A,!0);if(S===e&&O.winding||S===i&&!O.winding){if(O.quality<1)continue;E={winding:0,quality:1}}}E=E||g(T,r[x._id][c.getIndex()],A,!0),E.quality>d.quality&&(d=E);break}u-=w}}for(v=a.length-1;v>=0;v--)a[v].segment._winding=d}function b(t,e){var n,i=[];function r(t){var n;return!(!t||t._visited||e&&(!e[(n=t._winding||{}).winding]||e.unite&&2===n.winding&&n.windingL&&n.windingR))}function s(t){if(t)for(var e=0,i=n.length;e<i;e++)if(t===n[e])return!0;return!1}function a(t){for(var e=t._segments,n=0,i=e.length;n<i;n++)e[n]._visited=!0}function o(t,e){var i=t._intersection,a=i,o=[];function l(i,a){while(i&&i!==a){var l=i._segment,c=l&&l._path;if(c){var u=l.getNext()||c.getFirstSegment(),h=u._intersection;l!==t&&(s(l)||s(u)||u&&r(l)&&(r(u)||h&&r(h._segment)))&&o.push(l),e&&n.push(l)}i=i._next}}if(e&&(n=[t]),i){l(i);while(i&&i._previous)i=i._previous;l(i,a)}return o}t.sort((function(t,e){var n=t._intersection,i=e._intersection,r=!(!n||!n._overlap),s=!(!i||!i._overlap),a=t._path,o=e._path;return r^s?r?1:-1:!n^!i?n?1:-1:a!==o?a._id-o._id:t._index-e._index}));for(var l=0,c=t.length;l<c;l++){var u,h,d,f=t[l],p=r(f),m=null,_=!1,v=!0,g=[];if(p&&f._path._overlapsOnly){var y=f._path,b=f._intersection._segment._path;y.compare(b)&&(y.getArea()&&i.push(y.clone(!1)),a(y),a(b),p=!1)}while(p){var w=!m,x=o(f,w),k=x.shift(),S=(_=!w&&(s(f)||s(k)),!_&&k);if(w&&(m=new j(A.NO_INSERT),u=null),_){(f.isFirst()||f.isLast())&&(v=f._path._closed),f._visited=!0;break}if(S&&u&&(g.push(u),u=null),u||(S&&x.push(f),u={start:m._segments.length,crossings:x,visited:h=[],handleIn:d}),S&&(f=k),!r(f)){m.removeSegments(u.start);for(var C=0,T=h.length;C<T;C++)h[C]._visited=!1;h.length=0;do{f=u&&u.crossings.shift(),f&&f._path||(f=null,u=g.pop(),u&&(h=u.visited,d=u.handleIn))}while(u&&!r(f));if(!f)break}var E=f.getNext();m.add(new N(f._point,d,E&&f._handleOut)),f._visited=!0,h.push(f),f=E||f._path.getFirstSegment(),d=E&&E._handleIn}_&&(v&&(m.getFirstSegment().setHandleIn(d),m.setClosed(v)),0!==m.getArea()&&i.push(m))}return i}return{_getWinding:function(t,e,n){return g(t,this.getCurves(),e,n)},unite:function(t,e){return c(this,t,"unite",e)},intersect:function(t,e){return c(this,t,"intersect",e)},subtract:function(t,e){return c(this,t,"subtract",e)},exclude:function(t,e){return c(this,t,"exclude",e)},divide:function(t,e){return e&&(0==e.trace||e.stroke)?h(this,t,"divide"):a([this.subtract(t,e),this.intersect(t,e)],!0,this,t,e)},resolveCrossings:function(){var t=this._children,e=t||[this];function n(t,e){var n=t&&t._intersection;return n&&n._overlap&&n._path===e}var i=!1,r=!1,s=this.getIntersections(null,(function(t){return t.hasOverlap()&&(i=!0)||t.isCrossing()&&(r=!0)})),a=i&&r&&[];if(s=V.expand(s),i)for(var o=v(s,(function(t){return t.hasOverlap()}),a),l=o.length-1;l>=0;l--){var c=o[l],h=c._path,d=c._segment,p=d.getPrevious(),m=d.getNext();n(p,h)&&n(m,h)&&(d.remove(),p._handleOut._set(0,0),m._handleIn._set(0,0),p===d||p.getCurve().hasLength()||(m._handleIn.set(p._handleIn),p.remove()))}r&&(v(s,i&&function(t){var e=t.getCurve(),n=t.getSegment(),i=t._intersection,r=i._curve,s=i._segment;if(e&&r&&e._path&&r._path)return!0;n&&(n._intersection=null),s&&(s._intersection=null)},a),a&&f(a),e=b(u.each(e,(function(t){u.push(this,t._segments)}),[])));var _,g=e.length;return g>1&&t?(e!==t&&this.setChildren(e),_=this):1!==g||t||(e[0]!==this&&this.setSegments(e[0].removeSegments()),_=this),_||(_=new F(A.NO_INSERT),_.addChildren(e),_=_.reduce(),_.copyAttributes(this),this.replaceWith(_)),_},reorient:function(t,e){var n=this._children;return n&&n.length?this.setChildren(m(this.removeChildren(),(function(e){return!!(t?e:1&e)}),e)):e!==o&&this.setClockwise(e),this},getInteriorPoint:function(){var n=this.getBounds(),i=n.getCenter(!0);if(!this.contains(i)){for(var r=this.getCurves(),s=i.y,a=[],o=[],l=0,c=r.length;l<c;l++){var u=r[l].getValues(),h=u[1],d=u[3],f=u[5],p=u[7];if(s>=t(h,d,f,p)&&s<=e(h,d,f,p))for(var m=B.getMonoCurves(u),_=0,v=m.length;_<v;_++){var g=m[_],y=g[1],b=g[7];if(y!==b&&(s>=y&&s<=b||s>=b&&s<=y)){var w=s===y?g[0]:s===b?g[6]:1===B.solveCubic(g,1,s,o,0,1)?B.getPoint(g,o[0]).x:(g[0]+g[6])/2;a.push(w)}}}a.length>1&&(a.sort((function(t,e){return t-e})),i.x=(a[0]+a[1])/2)}return i}}});var q=u.extend({_class:"PathFlattener",initialize:function(t,e,n,i,r){var s,a=[],o=[],l=0,c=1/(n||32),u=t._segments,h=u[0];function d(t,e){var n=B.getValues(t,e,r);a.push(n),f(n,t._index,0,1)}function f(t,n,r,s){if(!(s-r>c)||i&&B.isStraight(t)||B.isFlatEnough(t,e||.25)){var a=t[6]-t[0],u=t[7]-t[1],h=Math.sqrt(a*a+u*u);h>0&&(l+=h,o.push({offset:l,curve:t,index:n,time:s}))}else{var d=B.subdivide(t,.5),p=(r+s)/2;f(d[0],n,r,p),f(d[1],n,p,s)}}for(var p=1,m=u.length;p<m;p++)s=u[p],d(h,s),h=s;t._closed&&d(s||h,u[0]),this.curves=a,this.parts=o,this.length=l,this.index=0},_get:function(t){for(var e,n=this.parts,i=n.length,r=this.index;;)if(e=r,!r||n[--r].offset<t)break;for(;e<i;e++){var s=n[e];if(s.offset>=t){this.index=e;var a=n[e-1],o=a&&a.index===s.index?a.time:0,l=a?a.offset:0;return{index:s.index,time:o+(s.time-o)*(t-l)/(s.offset-l)}}}return{index:n[i-1].index,time:1}},drawPart:function(t,e,n){for(var i=this._get(e),r=this._get(n),s=i.index,a=r.index;s<=a;s++){var o=B.getPart(this.curves[s],s===i.index?i.time:0,s===r.index?r.time:1);s===i.index&&t.moveTo(o[0],o[1]),t.bezierCurveTo.apply(t,o.slice(2))}}},u.each(B._evaluateMethods,(function(t){this[t+"At"]=function(e){var n=this._get(e);return B[t](this.curves[n.index],n.time)}}),{})),U=u.extend({initialize:function(t){for(var e,n=this.points=[],i=t._segments,r=t._closed,s=0,a=i.length;s<a;s++){var o=i[s].point;e&&e.equals(o)||n.push(e=o.clone())}r&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=r},fit:function(t){var e=this.points,n=e.length,i=null;return n>0&&(i=[new N(e[0])],n>1&&(this.fitCubic(i,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(t,e,n,i,r,s){var a=this.points;if(i-n!==1){for(var o,l=this.chordLengthParameterize(n,i),c=Math.max(e,e*e),u=!0,h=0;h<=4;h++){var d=this.generateBezier(n,i,l,r,s),f=this.findMaxError(n,i,d,l);if(f.error<e&&u)return void this.addCurve(t,d);if(o=f.index,f.error>=c)break;u=this.reparameterize(n,i,l,d),c=f.error}var p=a[o-1].subtract(a[o+1]);this.fitCubic(t,e,n,o,r,p),this.fitCubic(t,e,o,i,p.negate(),s)}else{var m=a[n],_=a[i],v=m.getDistance(_)/3;this.addCurve(t,[m,m.add(r.normalize(v)),_.add(s.normalize(v)),_])}},addCurve:function(t,e){var n=t[t.length-1];n.setHandleOut(e[1].subtract(e[0])),t.push(new N(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,i,r){for(var s=1e-12,a=Math.abs,o=this.points,l=o[t],c=o[e],u=[[0,0],[0,0]],h=[0,0],d=0,f=e-t+1;d<f;d++){var p=n[d],m=1-p,_=3*p*m,v=m*m*m,g=_*m,y=_*p,b=p*p*p,w=i.normalize(g),x=r.normalize(y),k=o[t+d].subtract(l.multiply(v+g)).subtract(c.multiply(y+b));u[0][0]+=w.dot(w),u[0][1]+=w.dot(x),u[1][0]=u[0][1],u[1][1]+=x.dot(x),h[0]+=w.dot(k),h[1]+=x.dot(k)}var S,C,T=u[0][0]*u[1][1]-u[1][0]*u[0][1];if(a(T)>s){var A=u[0][0]*h[1]-u[1][0]*h[0],E=h[0]*u[1][1]-h[1]*u[0][1];S=E/T,C=A/T}else{var M=u[0][0]+u[0][1],O=u[1][0]+u[1][1];S=C=a(M)>s?h[0]/M:a(O)>s?h[1]/O:0}var I,P,R=c.getDistance(l),D=s*R;if(S<D||C<D)S=C=R/3;else{var N=c.subtract(l);I=i.normalize(S),P=r.normalize(C),I.dot(N)-P.dot(N)>R*R&&(S=C=R/3,I=P=null)}return[l,l.add(I||i.normalize(S)),c.add(P||r.normalize(C)),c]},reparameterize:function(t,e,n,i){for(var r=t;r<=e;r++)n[r-t]=this.findRoot(i,this.points[r],n[r-t]);r=1;for(var s=n.length;r<s;r++)if(n[r]<=n[r-1])return!1;return!0},findRoot:function(t,e,n){for(var i=[],r=[],s=0;s<=2;s++)i[s]=t[s+1].subtract(t[s]).multiply(3);for(s=0;s<=1;s++)r[s]=i[s+1].subtract(i[s]).multiply(2);var a=this.evaluate(3,t,n),o=this.evaluate(2,i,n),l=this.evaluate(1,r,n),c=a.subtract(e),u=o.dot(o)+c.dot(l);return _.isMachineZero(u)?n:n-c.dot(o)/u},evaluate:function(t,e,n){for(var i=e.slice(),r=1;r<=t;r++)for(var s=0;s<=t-r;s++)i[s]=i[s].multiply(1-n).add(i[s+1].multiply(n));return i[0]},chordLengthParameterize:function(t,e){for(var n=[0],i=t+1;i<=e;i++)n[i-t]=n[i-t-1]+this.points[i].getDistance(this.points[i-1]);i=1;for(var r=e-t;i<=r;i++)n[i]/=n[r];return n},findMaxError:function(t,e,n,i){for(var r=Math.floor((e-t+1)/2),s=0,a=t+1;a<e;a++){var o=this.evaluate(3,n,i[a-t]),l=o.subtract(this.points[a]),c=l.x*l.x+l.y*l.y;c>=s&&(s=c,r=a)}return{error:s,index:r}}}),H=A.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&u.isPlainObject(t)&&t.x===o&&t.y===o;this._initialize(e&&t,!e&&g.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),W=H.extend({_class:"PointText",initialize:function(){H.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new y(t.x,t.y,this,"setPoint")},setPoint:function(){var t=g.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var i=this._lines,r=this._style,s=r.hasFill(),a=r.hasStroke(),o=r.getLeading(),l=t.shadowColor;t.font=r.getFontStyle(),t.textAlign=r.getJustification();for(var c=0,u=i.length;c<u;c++){t.shadowColor=l;var h=i[c];s&&(t.fillText(h,0,0),t.shadowColor="rgba(0,0,0,0)"),a&&t.strokeText(h,0,0),t.translate(0,o)}}},_getBounds:function(t,e){var n=this._style,i=this._lines,r=i.length,s=n.getJustification(),a=n.getLeading(),o=this.getView().getTextWidth(n.getFontStyle(),i),l=0;"left"!==s&&(l-=o/("center"===s?2:1));var c=new x(l,r?-.75*a:0,o,r*a);return t?t._transformBounds(c,c):c}}),X=u.extend(new function(){var t,e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},n={},i={transparent:[0,0,0,0]};function r(e){var n,r=e.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||e.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),s="rgb";if(r){var a=r[4]?4:3;n=new Array(a);for(var o=0;o<a;o++){var c=r[o+1];n[o]=parseInt(1==c.length?c+c:c,16)/255}}else if(r=e.match(/^(rgb|hsl)a?\((.*)\)$/)){s=r[1],n=r[2].trim().split(/[,\s]+/g);for(var u="hsl"===s,h=(o=0,Math.min(n.length,4));o<h;o++){var d=n[o];c=parseFloat(d);if(u)if(0===o){var f=d.match(/([a-z]*)$/)[1];c*={turn:360,rad:180/Math.PI,grad:.9}[f]||1}else o<3&&(c/=100);else o<3&&(c/=/%$/.test(d)?100:255);n[o]=c}}else{var p=i[e];if(!p)if(l){t||(t=lt.getContext(1,1,{willReadFrequently:!0}),t.globalCompositeOperation="copy"),t.fillStyle="rgba(0,0,0,0)",t.fillStyle=e,t.fillRect(0,0,1,1);var m=t.getImageData(0,0,1,1).data;p=i[e]=[m[0]/255,m[1]/255,m[2]/255]}else p=[0,0,0];n=p.slice()}return[s,n]}var s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],a={"rgb-hsb":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,a=0===s?0:60*(i==t?(e-n)/s+(e<n?6:0):i==e?(n-t)/s+2:(t-e)/s+4);return[a,0===i?0:s/i,i]},"hsb-rgb":function(t,e,n){t=(t/60%6+6)%6;var i=Math.floor(t),r=t-i,a=(i=s[i],[n,n*(1-e),n*(1-e*r),n*(1-e*(1-r))]);return[a[i[0]],a[i[1]],a[i[2]]]},"rgb-hsl":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,a=0===s,o=a?0:60*(i==t?(e-n)/s+(e<n?6:0):i==e?(n-t)/s+2:(t-e)/s+4),l=(i+r)/2,c=a?0:l<.5?s/(i+r):s/(2-i-r);return[o,c,l]},"hsl-rgb":function(t,e,n){if(t=(t/360%1+1)%1,0===e)return[n,n,n];for(var i=[t+1/3,t,t-1/3],r=n<.5?n*(1+e):n+e-n*e,s=2*n-r,a=[],o=0;o<3;o++){var l=i[o];l<0&&(l+=1),l>1&&(l-=1),a[o]=6*l<1?s+6*(r-s)*l:2*l<1?r:3*l<2?s+(r-s)*(2/3-l)*6:s}return a},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return u.each(e,(function(t,i){n[i]=[],u.each(t,(function(t,r){var s=u.capitalize(t),a=/^(hue|saturation)$/.test(t),o=n[i][r]="gradient"===i?"gradient"===t?function(t){var e=this._components[0];return t=$.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:function(){return g.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:+t};this["get"+s]=function(){return this._type===i||a&&/^hs[bl]$/.test(this._type)?this._components[r]:this._convert(i)[r]},this["set"+s]=function(t){this._type===i||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(i),this._properties=e[i],this._type=i),this._components[r]=o.call(this,t),this._changed()}}),this)}),{_class:"Color",_readIndex:!0,initialize:function t(i){var s,a,o,l,c=arguments,h=this.__read,d=0;Array.isArray(i)&&(c=i,i=c[0]);var f=null!=i&&typeof i;if("string"===f&&i in e&&(s=i,i=c[1],Array.isArray(i)?(a=i,o=c[2]):(h&&(d=1),c=u.slice(c,1),f=typeof i)),!a){if(l="number"===f?c:"object"===f&&null!=i.length?i:null,l){s||(s=l.length>=3?"rgb":"gray");var p=e[s].length;o=l[p],h&&(d+=l===arguments?p+(null!=o?1:0):1),l.length>p&&(l=u.slice(l,0,p))}else if("string"===f){var m=r(i);s=m[0],a=m[1],4===a.length&&(o=a[3],a.length--)}else if("object"===f)if(i.constructor===t){if(s=i._type,a=i._components.slice(),o=i._alpha,"gradient"===s)for(var _=1,v=a.length;_<v;_++){var g=a[_];g&&(a[_]=g.clone())}}else if(i.constructor===$)s="gradient",l=c;else{s="hue"in i?"lightness"in i?"hsl":"hsb":"gradient"in i||"stops"in i||"radial"in i?"gradient":"gray"in i?"gray":"rgb";var y=e[s],b=n[s];this._components=a=[];for(_=0,v=y.length;_<v;_++){var w=i[y[_]];null==w&&!_&&"gradient"===s&&"stops"in i&&(w={stops:i.stops,radial:i.radial}),w=b[_].call(this,w),null!=w&&(a[_]=w)}o=i.alpha}h&&s&&(d=1)}if(this._type=s||"rgb",!a){this._components=a=[];for(b=n[this._type],_=0,v=b.length;_<v;_++){w=b[_].call(this,l&&l[_]);null!=w&&(a[_]=w)}}return this._components=a,this._properties=e[this._type],this._alpha=o,h&&(this.__read=d),this},set:"#initialize",_serialize:function(t,e){var n=this.getComponents();return u.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(t){var e;return this._type===t?this._components.slice():(e=a[this._type+"-"+t])?e.apply(this,this._components):a["rgb-"+t].apply(this,a[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new X(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=e[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=u.isPlainValue(t,!0)?X.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&u.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,i=m.instance,r=0,s=t.length;r<s;r++){var a=this._components[r];null!=a&&e.push(t[r]+": "+(n?a:i.number(a)))}return null!=this._alpha&&e.push("alpha: "+i.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){var e=this._convert("rgb"),n=t||null==this._alpha?1:this._alpha;function i(t){return Math.round(255*(t<0?0:t>1?1:t))}return e=[i(e[0]),i(e[1]),i(e[2])],n<1&&e.push(n<0?0:n),t?"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1):(4==e.length?"rgba(":"rgb(")+e.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,i=this._components,r=i[0],s=r._stops,a=i[1],o=i[2],l=i[3],c=e&&e.inverted();if(c&&(a=c._transformPoint(a),o=c._transformPoint(o),l&&(l=c._transformPoint(l))),r._radial){var u=o.getDistance(a);if(l){var h=l.subtract(a);h.getLength()>u&&(l=a.add(h.normalize(u-.1)))}var d=l||a;n=t.createRadialGradient(d.x,d.y,0,a.x,a.y,u)}else n=t.createLinearGradient(a.x,a.y,o.x,o.y);for(var f=0,p=s.length;f<p;f++){var m=s[f],_=m._offset;n.addColorStop(null==_?f/(p-1):_,m._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,i=e.length;n<i;n++){var r=e[n];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:e,random:function(){var t=Math.random;return new X(t(),t(),t())},_setOwner:function(t,e,n){return t&&(t._owner&&e&&t._owner!==e&&(t=t.clone()),!t._owner^!e&&(t._owner=e||null,t._setter=n||null)),t}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return u.each(t,(function(t,e){this[e]=function(e){e=X.read(arguments);for(var n=this._type,i=this._components,r=e._convert(n),s=0,a=i.length;s<a;s++)r[s]=t(i[s],r[s]);return new X(n,r,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}}),{})}),$=u.extend({_class:"Gradient",initialize:function(t,e){this._id=v.get(),t&&u.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"===typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,(function(){return u.serialize([this._stops,this._radial],t,!0,e)}))},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;-1!=e&&(this._owners.splice(e,1),this._owners.length||(this._owners=o))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new $(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,i=e.length;n<i;n++)e[n]._owner=o;e=this._stops=Y.readList(t,0,{clone:!0});for(n=0,i=e.length;n<i;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,i=e.length;if(i===n.length){for(var r=0;r<i;r++)if(!e[r].equals(n[r]))return!1;return!0}}return!1}}),Y=u.extend({_class:"GradientStop",initialize:function(t,e){var n=t,i=e;"object"===typeof t&&e===o&&(Array.isArray(t)&&"number"!==typeof t[0]?(n=t[0],i=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,i=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(i)},clone:function(){return new Y(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,i=this._offset;return u.serialize(null==i?[n]:[n,i],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){X._setOwner(this._color,null),this._color=X._setOwner(X.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),G=u.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new g,selectedColor:null},e=u.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=u.set({},e,{fillColor:new X}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},r={beans:!0},s={_class:"Style",beans:!0,initialize:function(i,r,s){this._values={},this._owner=r,this._project=r&&r._project||s||dt.project,this._defaults=!r||r instanceof E?e:r instanceof H?n:t,i&&this.set(i)}};return u.each(e,(function(t,e){var n=/Color$/.test(e),a="shadowOffset"===e,l=u.capitalize(e),c=i[e],h="set"+l,d="get"+l;s[h]=function(t){var i=this._owner,r=i&&i._children,s=r&&r.length>0&&!(i instanceof F);if(s)for(var a=0,o=r.length;a<o;a++)r[a]._style[h](t);if(("selectedColor"===e||!s)&&e in this._defaults){var l=this._values[e];l!==t&&(n&&(l&&(X._setOwner(l,null),l._canvasStyle=null),t&&t.constructor===X&&(t=X._setOwner(t,i,s&&h))),this._values[e]=t,i&&i._changed(c||129))}},s[d]=function(t){var i=this._owner,r=i&&i._children,s=r&&r.length>0&&!(i instanceof F);if(s&&!t)for(var l=0,c=r.length;l<c;l++){var f=r[l]._style[d]();if(l){if(!u.equals(p,f))return o}else p=f}else if(e in this._defaults){var p=this._values[e];if(p===o)p=this._defaults[e],p&&p.clone&&(p=p.clone());else{var m=n?X:a?g:null;!m||p&&p.constructor===m||(this._values[e]=p=m.read([p],0,{readNull:!0,clone:!0}))}}return p&&n&&(p=X._setOwner(p,i,s&&h)),p},r[d]=function(t){return this._style[d](t)},r[h]=function(t){this._style[h](t)}})),u.each({Font:"FontFamily",WindingRule:"FillRule"},(function(t,e){var n="get"+e,i="set"+e;s[n]=r[n]="#get"+t,s[i]=r[i]="#set"+t})),A.inject(r),s},{set:function(t){var e=t instanceof G,n=e?t._values:t;if(n)for(var i in n)if(i in this._defaults){var r=n[i];this[i]=r&&e&&r.clone?r.clone():r}},equals:function(t){function e(t,e,n){var i=t._values,r=e._values,s=e._defaults;for(var a in i){var l=i[a],c=r[a];if((!n||!(a in r))&&!u.equals(l,c===o?s[a]:c))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=e?e:1.2*n}}),Z=new function(){function t(t,e,n,i){for(var r=["","webkit","moz","Moz","ms","o"],s=e[0].toUpperCase()+e.substring(1),a=0;a<6;a++){var o=r[a],l=o?o+s:e;if(l in t){if(!n)return t[l];t[l]=i;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,e){var n,i=t.ownerDocument,r=i.body,s=i.documentElement;try{n=t.getBoundingClientRect()}catch(c){n={left:0,top:0,width:0,height:0}}var a=n.left-(s.clientLeft||r.clientLeft||0),o=n.top-(s.clientTop||r.clientTop||0);if(!e){var l=i.defaultView;a+=l.pageXOffset||s.scrollLeft||r.scrollLeft,o+=l.pageYOffset||s.scrollTop||r.scrollTop}return new x(a,o,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,i=e.documentElement;return new x(0,0,n.innerWidth||i.clientWidth,n.innerHeight||i.clientHeight)},getOffset:function(t,e){return Z.getBounds(t,e).getPoint()},getSize:function(t){return Z.getBounds(t,!0).getSize()},isInvisible:function(t){return Z.getSize(t).equals(new b(0,0))},isInView:function(t){return!Z.isInvisible(t)&&Z.getViewportBounds(t).intersects(Z.getBounds(t,!0))},isInserted:function(t){return c.body.contains(t)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,i){if("object"===typeof n)for(var r in n)t(e,r,!0,n[r]);else t(e,n,!0,i)}}},K={add:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),s=0,a=r.length;s<a;s++){var o=r[s],l=t===c&&("touchstart"===o||"touchmove"===o)&&{passive:!1};t.addEventListener(o,i,l)}},remove:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),s=0,a=r.length;s<a;s++)t.removeEventListener(r[s],i,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new g(e.pageX||e.clientX+c.documentElement.scrollLeft,e.pageY||e.clientY+c.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return K.getPoint(t).subtract(Z.getOffset(e||K.getTarget(t)))}};K.requestAnimationFrame=new function(){var t,e=Z.getPrefixed(l,"requestAnimationFrame"),n=!1,i=[];function r(){var t=i;i=[];for(var s=0,a=t.length;s<a;s++)t[s]();n=e&&i.length,n&&e(r)}return function(s){i.push(s),e?n||(e(r),n=!0):t||(t=setInterval(r,1e3/60))}};var Q=u.extend(h,{_class:"View",initialize:function t(e,n){function i(t){return n[t]||parseInt(n.getAttribute(t),10)}function r(){var t=Z.getSize(n);return t.isNaN()||t.isZero()?new b(i("width"),i("height")):t}var s;if(l&&n){this._id=n.getAttribute("id"),null==this._id&&n.setAttribute("id",this._id="paper-view-"+t._id++),K.add(n,this._viewEvents);var a="none";if(Z.setPrefixed(n.style,{userDrag:a,userSelect:a,touchCallout:a,contentZooming:a,tapHighlightColor:"rgba(0,0,0,0)"}),d.hasAttribute(n,"resize")){var o=this;K.add(l,this._windowEvents={resize:function(){o.setViewSize(r())}})}if(s=r(),d.hasAttribute(n,"stats")&&"undefined"!==typeof Stats){this._stats=new Stats;var u=this._stats.domElement,h=u.style,f=Z.getOffset(n);h.position="absolute",h.left=f.x+"px",h.top=f.y+"px",c.body.appendChild(u)}}else s=new b(n),n=null;this._project=e,this._scope=e._scope,this._element=n,this._pixelRatio||(this._pixelRatio=l&&l.devicePixelRatio||1),this._setElementSize(s.width,s.height),this._viewSize=s,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new S)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!dt.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Q._focused===this&&(Q._focused=null),Q._views.splice(Q._views.indexOf(this),1),delete Q._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),K.remove(this._element,this._viewEvents),K.remove(l,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:u.each(A._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),(function(t){this[t]={}}),{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;K.requestAnimationFrame((function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;Z.getPrefixed(c,"hidden")&&"true"!==d.getAttribute(e,"keepalive")||!Z.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()})),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){dt=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new u({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new u(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new w(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=b.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new x(new g,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Z.isInView(this._element)},isInserted:function(){return Z.isInserted(this._element)},getPixelSize:function(t){var e,n=this._element;if(n){var i=n.parentNode,r=c.createElement("div");r.style.fontSize=t,i.appendChild(r),e=parseFloat(Z.getStyles(r).fontSize),i.removeChild(r)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},u.each(["rotate","scale","shear","skew"],(function(t){var e="rotate"===t;this[t]=function(){var n=arguments,i=(e?u:g).read(n),r=g.read(n,0,{readNull:!0});return this.transform((new S)[t](i,r||this.getCenter(!0)))}}),{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new S;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=g.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform((new S).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new y(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=g.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(g.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(g.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(g.read(arguments))},getEventPoint:function(t){return this.viewToProject(K.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){c&&"string"===typeof e&&(e=c.getElementById(e));var n=l?J:Q;return new n(t,e)}}},new function(){if(l){var t,e,n,i,r,s=!1,a=!1,o=l.navigator;o.pointerEnabled||o.msPointerEnabled?(n="pointerdown MSPointerDown",i="pointermove MSPointerMove",r="pointerup pointercancel MSPointerUp MSPointerCancel"):(n="touchstart",i="touchmove",r="touchend touchcancel","ontouchstart"in l&&o.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(n+=" mousedown",i+=" mousemove",r+=" mouseup"));var u={},h={mouseout:function(t){var e=Q._focused,n=K.getRelatedTarget(t);if(e&&(!n||"HTML"===n.nodeName)){var i=K.getOffset(t,e._element),r=i.x,s=Math.abs,a=s(r),o=1<<25,l=a-o;i.x=s(l)<a?l*(r<0?-1:1):r,A(e,t,e.viewToProject(i))}},scroll:T};u[n]=function(t){var e=Q._focused=C(t);s||(s=!0,e._handleMouseEvent("mousedown",t))},h[i]=function(n){var i=Q._focused;if(!a){var r=C(n);r?i!==r&&(i&&A(i,n),t||(t=i),i=Q._focused=e=r):e&&e===i&&(t&&!t.isInserted()&&(t=null),i=Q._focused=t,t=null,T())}i&&A(i,n)},h[n]=function(){a=!0},h[r]=function(t){var e=Q._focused;e&&s&&e._handleMouseEvent("mouseup",t),a=s=!1},K.add(c,h),K.add(l,{load:T});var d,f,p,m,_,v,g,y,b=!1,w=!1,x={doubleclick:"click",mousedrag:"mousemove"},k=!1,S={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:u,_handleMouseEvent:function(t,e,n){var i=this._itemEvents,r=i.native[t],a="mousemove"===t,o=this._scope.tool,l=this;function c(t){return i.virtual[t]||l.responds(t)||o&&o.responds(t)}a&&s&&c("mousedrag")&&(t="mousedrag"),n||(n=this.getEventPoint(e));var u=this.getBounds().contains(n),h=r&&u&&l._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),x=h&&h.item||null,S=!1,C={};if(C[t.substr(5)]=!0,r&&x!==m&&(m&&E(m,null,"mouseleave",e,n),x&&E(x,null,"mouseenter",e,n),m=x),k^u&&(E(this,null,u?"mouseenter":"mouseleave",e,n),S=!0),!u&&!C.drag||n.equals(f)||(M(this,x,a?t:"mousemove",e,n,f),S=!0),k=u,C.down&&u||C.up&&d){if(M(this,x,t,e,n,d),C.down){if(y=x===v&&Date.now()-g<300,p=v=x,!w&&x){var T=x;while(T&&!T.responds("mousedrag"))T=T._parent;T&&(_=x)}d=n}else C.up&&(w||x!==p||(g=Date.now(),M(this,x,y?"doubleclick":"click",e,n,d),y=!1),p=_=null);k=!1,S=!0}f=n,S&&o&&(b=o._handleMouseEvent(t,e,n,C)||b),!1!==e.cancelable&&(b&&!C.move||C.down&&c("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,n,i){var r,s=this._scope,a=s.tool;function o(a){a.responds(t)&&(dt=s,a.emit(t,r=r||new et(t,e,n,i)))}this.isVisible()&&(o(this),a&&a.responds(t)&&o(a))},_countItemEvent:function(t,e){var n=this._itemEvents,i=n.native,r=n.virtual;for(var s in S)i[s]=(i[s]||0)+(S[s][t]||0)*e;r[t]=(r[t]||0)+e},statics:{updateFocus:T,_resetState:function(){s=a=b=k=!1,t=e=d=f=p=m=_=v=g=y=null}}}}function C(t){var e=K.getTarget(t);return e.getAttribute&&Q._viewsById[e.getAttribute("id")]}function T(){var t=Q._focused;if(!t||!t.isVisible())for(var n=0,i=Q._views.length;n<i;n++)if((t=Q._views[n]).isVisible()){Q._focused=e=t;break}}function A(t,e,n){t._handleMouseEvent("mousemove",e,n)}function E(t,e,n,i,r,s,a){var o,l=!1;function c(t,n){if(t.responds(n)){if(o||(o=new it(n,i,r,e||t,s?r.subtract(s):null)),t.emit(n,o)&&(b=!0,o.prevented&&(w=!0),o.stopped))return l=!0}else{var a=x[n];if(a)return c(t,a)}}while(t&&t!==a){if(c(t,n))break;t=t._parent}return l}function M(t,e,n,i,r,s){return t._project.removeOn(n),w=b=!1,_&&E(_,null,n,i,r,s)||e&&e!==_&&!e.isDescendant(_)&&E(e,null,"mousedrag"===n?"mousemove":n,i,r,s,_)||E(t,_||e||t,n,i,r,s)}}),J=Q.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof l.HTMLCanvasElement)){var n=b.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+u.slice(arguments,1));e=lt.getCanvas(n)}var i=this._context=e.getContext("2d");if(i.save(),this._pixelRatio=1,!/^off|false$/.test(d.getAttribute(e,"hidpi"))){var r=l.devicePixelRatio||1,s=Z.getPrefixed(i,"backingStorePixelRatio")||1;this._pixelRatio=r/s}Q.call(this,t,e),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var i=this._pixelRatio;if(t.base.call(this,e*i,n*i),1!==i){var r=this._element,s=this._context;if(!d.hasAttribute(r,"resize")){var a=r.style;a.width=e+"px",a.height=n+"px"}s.restore(),s.save(),s.scale(i,i)}},getContext:function(){return this._context},getPixelSize:function t(e){var n,i=dt.agent;if(i&&i.firefox)n=t.base.call(this,e);else{var r=this._context,s=r.font;r.font=e+" serif",n=parseFloat(r.font),r.font=s}return n},getTextWidth:function(t,e){var n=this._context,i=n.font,r=0;n.font=t;for(var s=0,a=e.length;s<a;s++)r=Math.max(r,n.measureText(e[s]).width);return n.font=i,r},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),tt=u.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return nt.modifiers}}),et=tt.extend({_class:"KeyEvent",initialize:function(t,e,n,i){this.type=t,this.event=e,this.key=n,this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),nt=new function(){var t,e,n={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"\t",space:" ",enter:"\r"},r={},s={},a=new u({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=dt&&dt.agent;return t&&t.mac?this.meta:this.control}}});function h(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e||e===o?String.fromCharCode(t.keyCode):e,n[e]||(e.length>1?u.hyphenate(e):e.toLowerCase())}function d(e,n,i,o){var l,c=Q._focused;if(r[n]=e,e?s[n]=i:delete s[n],n.length>1&&(l=u.camelize(n))in a){a[l]=e;var h=dt&&dt.agent;if("meta"===l&&h&&h.mac)if(e)t={};else{for(var f in t)f in s&&d(!1,f,t[f],o);t=null}}else e&&t&&(t[n]=i);c&&c._handleKeyEvent(e?"keydown":"keyup",o,n,i)}return K.add(c,{keydown:function(t){var n=h(t),r=dt&&dt.agent;n.length>1||r&&r.chrome&&(t.altKey||r.mac&&t.metaKey||!r.mac&&t.ctrlKey)?d(!0,n,i[n]||(n.length>1?"":n),t):e=n},keypress:function(t){if(e){var n=h(t),i=t.charCode,r=i>=32?String.fromCharCode(i):n.length>1?"":n;n!==e&&(n=r.toLowerCase()),d(!0,n,r,t),e=null}},keyup:function(t){var e=h(t);e in s&&d(!1,e,s[e],t)}}),K.add(l,{blur:function(t){for(var e in s)d(!1,e,s[e],t)}}),{modifiers:a,isDown:function(t){return!!r[t]}}},it=tt.extend({_class:"MouseEvent",initialize:function(t,e,n,i,r){this.type=t,this.event=e,this.point=n,this.target=i,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),rt=tt.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){var e=t.item,n=e._parent;while(/^(Group|CompoundPath)$/.test(n._class))e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),st=f.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){f.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,i){dt=this._scope,i.drag&&!this.responds(t)&&(t="mousemove");var r=i.move||i.drag,s=this.responds(t),a=!1,o=this;function l(t,e){var s=n,a=r?o._point:o._downPoint||s;if(r){if(o._moveCount>=0&&s.equals(a))return!1;if(a&&(null!=t||null!=e)){var l=s.subtract(a),c=l.getLength();if(c<(t||0))return!1;e&&(s=a.add(l.normalize(Math.min(c,e))))}o._moveCount++}return o._point=s,o._lastPoint=a||s,i.down&&(o._moveCount=-1,o._downPoint=s,o._downCount++),!0}function c(){s&&(a=o.emit(t,new rt(o,t,e))||a)}if(i.down)l(),c();else if(i.up)l(null,this._maxDistance),c();else if(s)while(l(this._minDistance,this._maxDistance))c();return a}}),at=u.extend(h,{_class:"Tween",statics:{easings:new u({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:2*(2-t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,n,i,r,s,a){this.object=e;var o=typeof s,l="function"===o;this.type=l?o:"string"===o?s:"linear",this.easing=l?s:t.easings[this.type],this.duration=r,this.running=!1,this._then=null,this._startTime=null;var c=n||i;this._keys=c?Object.keys(c):[],this._parsedKeys=this._parseKeys(this._keys),this._from=c&&this._getState(n),this._to=c&&this._getState(i),!1!==a&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),n=this._keys,i=function(n){return"function"===typeof n?n(e,t):n},r=0,s=n&&n.length;r<s;r++){var a=n[r],o=i(this._from[a]),l=i(this._to[a]),c=o&&l&&o.__add&&l.__add?l.__subtract(o).__multiply(e).__add(o):(l-o)*e+o;this._setProperty(this._parsedKeys[a],c)}this.responds("update")&&this.emit("update",new u({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,n=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(n)},_getState:function(t){for(var e=this._keys,n={},i=0,r=e.length;i<r;i++){var s,a=e[i],o=this._parsedKeys[a],l=this._getProperty(o);if(t){var c=this._resolveValue(l,t[a]);this._setProperty(o,c),s=this._getProperty(o),s=s&&s.clone?s.clone():s,this._setProperty(o,l)}else s=l&&l.clone?l.clone():l;n[a]=s}return n},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&2===e.length){var n=e[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(t,n[0],e[1]):e}if("string"===typeof e){var i=e.match(/^[+\-*/]=(.*)/);if(i){var r=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],r)}}}return e},_calculate:function(t,e,n){return dt.PaperScript.calculateBinary(t,e,n)},_parseKeys:function(t){for(var e={},n=0,i=t.length;n<i;n++){var r=t[n],s=r.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[r]=s.split("/")}return e},_getProperty:function(t,e){for(var n=this.object,i=0,r=t.length-(e||0);i<r&&n;i++)n=n[t[i]];return n},_setProperty:function(t,e){var n=this._getProperty(t,1);n&&(n[t[t.length-1]]=e)}}),ot={request:function(t){var e=new a.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,u.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;0===n||200===n?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,i='Could not load "'+t.url+'" (Status: '+n+")";if(!t.onError)throw new Error(i);t.onError(i,n)},e.send(null)}},lt=u.exports.CanvasProvider={canvases:[],getCanvas:function(t,e,n){if(!l)return null;var i,r=!0;"object"===typeof t&&(e=t.height,t=t.width),this.canvases.length?i=this.canvases.pop():(i=c.createElement("canvas"),r=!1);var s=i.getContext("2d",n||{});if(!s)throw new Error("Canvas "+i+" is unable to provide a 2D context.");return i.width===t&&i.height===e?r&&s.clearRect(0,0,t+1,e+1):(i.width=t,i.height=e),s.save(),i},getContext:function(t,e,n){var i=this.getCanvas(t,e,n);return i?i.getContext("2d",n||{}):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},ct=new function(){var t,e,n,i,r,s,a,o,l,c,h,d=Math.min,f=Math.max,p=Math.abs;function m(t,e,n){return.2989*t+.587*e+.114*n}function _(t,e,n,i){var r=i-m(t,e,n);l=t+r,c=e+r,h=n+r;i=m(l,c,h);var s=d(l,c,h),a=f(l,c,h);if(s<0){var o=i-s;l=i+(l-i)*i/o,c=i+(c-i)*i/o,h=i+(h-i)*i/o}if(a>255){var u=255-i,p=a-i;l=i+(l-i)*u/p,c=i+(c-i)*u/p,h=i+(h-i)*u/p}}function v(t,e,n){return f(t,e,n)-d(t,e,n)}function g(t,e,n,i){var r,s=[t,e,n],a=f(t,e,n),o=d(t,e,n);o=o===t?0:o===e?1:2,a=a===t?0:a===e?1:2,r=0===d(o,a)?1===f(o,a)?2:1:0,s[a]>s[o]?(s[r]=(s[r]-s[o])*i/(s[a]-s[o]),s[a]=i):s[r]=s[a]=0,s[o]=0,l=s[0],c=s[1],h=s[2]}var y={multiply:function(){l=r*t/255,c=s*e/255,h=a*n/255},screen:function(){l=r+t-r*t/255,c=s+e-s*e/255,h=a+n-a*n/255},overlay:function(){l=r<128?2*r*t/255:255-2*(255-r)*(255-t)/255,c=s<128?2*s*e/255:255-2*(255-s)*(255-e)/255,h=a<128?2*a*n/255:255-2*(255-a)*(255-n)/255},"soft-light":function(){var i=t*r/255;l=i+r*(255-(255-r)*(255-t)/255-i)/255,i=e*s/255,c=i+s*(255-(255-s)*(255-e)/255-i)/255,i=n*a/255,h=i+a*(255-(255-a)*(255-n)/255-i)/255},"hard-light":function(){l=t<128?2*t*r/255:255-2*(255-t)*(255-r)/255,c=e<128?2*e*s/255:255-2*(255-e)*(255-s)/255,h=n<128?2*n*a/255:255-2*(255-n)*(255-a)/255},"color-dodge":function(){l=0===r?0:255===t?255:d(255,255*r/(255-t)),c=0===s?0:255===e?255:d(255,255*s/(255-e)),h=0===a?0:255===n?255:d(255,255*a/(255-n))},"color-burn":function(){l=255===r?255:0===t?0:f(0,255-255*(255-r)/t),c=255===s?255:0===e?0:f(0,255-255*(255-s)/e),h=255===a?255:0===n?0:f(0,255-255*(255-a)/n)},darken:function(){l=r<t?r:t,c=s<e?s:e,h=a<n?a:n},lighten:function(){l=r>t?r:t,c=s>e?s:e,h=a>n?a:n},difference:function(){l=r-t,l<0&&(l=-l),c=s-e,c<0&&(c=-c),h=a-n,h<0&&(h=-h)},exclusion:function(){l=r+t*(255-r-r)/255,c=s+e*(255-s-s)/255,h=a+n*(255-a-a)/255},hue:function(){g(t,e,n,v(r,s,a)),_(l,c,h,m(r,s,a))},saturation:function(){g(r,s,a,v(t,e,n)),_(l,c,h,m(r,s,a))},luminosity:function(){_(r,s,a,m(t,e,n))},color:function(){_(t,e,n,m(r,s,a))},add:function(){l=d(r+t,255),c=d(s+e,255),h=d(a+n,255)},subtract:function(){l=f(r-t,0),c=f(s-e,0),h=f(a-n,0)},average:function(){l=(r+t)/2,c=(s+e)/2,h=(a+n)/2},negation:function(){l=255-p(255-t-r),c=255-p(255-e-s),h=255-p(255-n-a)}},b=this.nativeModes=u.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],(function(t){this[t]=!0}),{}),w=lt.getContext(1,1,{willReadFrequently:!0});w&&(u.each(y,(function(t,e){var n="darken"===e,i=!1;w.save();try{w.fillStyle=n?"#300":"#a00",w.fillRect(0,0,1,1),w.globalCompositeOperation=e,w.globalCompositeOperation===e&&(w.fillStyle=n?"#a00":"#300",w.fillRect(0,0,1,1),i=w.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(r){}w.restore(),b[e]=i})),lt.release(w)),this.process=function(u,d,f,p,m){var _=d.canvas,v="normal"===u;if(v||b[u])f.save(),f.setTransform(1,0,0,1,0,0),f.globalAlpha=p,v||(f.globalCompositeOperation=u),f.drawImage(_,m.x,m.y),f.restore();else{var g=y[u];if(!g)return;for(var w=f.getImageData(m.x,m.y,_.width,_.height),x=w.data,k=d.getImageData(0,0,_.width,_.height).data,S=0,C=x.length;S<C;S+=4){t=k[S],r=x[S],e=k[S+1],s=x[S+1],n=k[S+2],a=x[S+2],i=k[S+3],o=x[S+3],g();var T=i*p/255,A=1-T;x[S]=T*l+A*r,x[S+1]=T*c+A*s,x[S+2]=T*h+A*a,x[S+3]=i*p+A*o}f.putImageData(w,m.x,m.y)}}},ut=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",i={href:n,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function r(e,n,i){return a(c.createElementNS(t,e),n,i)}function s(t,e){var n=i[e],r=n?t.getAttributeNS(n,e):t.getAttribute(e);return"null"===r?null:r}function a(t,e,n){for(var r in e){var s=e[r],a=i[r];"number"===typeof s&&n&&(s=n.number(s)),a?t.setAttributeNS(a,r,s):t.setAttribute(r,s)}return t}return{svg:t,xmlns:e,xlink:n,create:r,get:s,set:a}},ht=u.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof z||t instanceof O||t instanceof H)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},(function(t,e){var n=u.capitalize(e),i=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:i,fromSVG:i&&u.each(i,(function(t,e){this[t]=e}),{}),exportFilter:t[3],get:"get"+n,set:"set"+n}}),{});new function(){var t;function e(e,n,i){var r,s=new u,a=e.getTranslation();n&&(e.isInvertible()?(e=e._shiftless(),r=e._inverseTransform(a),a=null):r=new g,s[i?"cx":"x"]=r.x,s[i?"cy":"y"]=r.y);if(!e.isIdentity()){var o=e.decompose();if(o){var l=[],c=o.rotation,h=o.scaling,d=o.skewing;a&&!a.isZero()&&l.push("translate("+t.point(a)+")"),c&&l.push("rotate("+t.number(c)+")"),_.isZero(h.x-1)&&_.isZero(h.y-1)||l.push("scale("+t.point(h)+")"),d.x&&l.push("skewX("+t.number(d.x)+")"),d.y&&l.push("skewY("+t.number(d.y)+")"),s.transform=l.join(" ")}else s.transform="matrix("+e.getValues().join(",")+")"}return s}function n(n,i){for(var r=e(n._matrix),s=n._children,a=ut.create("g",r,t),o=0,l=s.length;o<l;o++){var c=s[o],u=k(c,i);if(u)if(c.isClipMask()){var h=ut.create("clipPath");h.appendChild(u),b(c,h,"clip"),ut.set(a,{"clip-path":"url(#"+h.id+")"})}else a.appendChild(u)}return a}function i(n,i){var r=e(n._matrix,!0),s=n.getSize(),a=n.getImage();return r.x-=s.width/2,r.y-=s.height/2,r.width=s.width,r.height=s.height,r.href=0==i.embedImages&&a&&a.src||n.toDataURL(),ut.create("image",r,t)}function r(n,i){var r=i.matchShapes;if(r){var a=n.toShape(!1);if(a)return s(a,i)}var o,l=n._segments,c=l.length,u=e(n._matrix);if(r&&c>=2&&!n.hasHandles())if(c>2){o=n._closed?"polygon":"polyline";for(var h=[],d=0;d<c;d++)h.push(t.point(l[d]._point));u.points=h.join(" ")}else{o="line";var f=l[0]._point,p=l[1]._point;u.set({x1:f.x,y1:f.y,x2:p.x,y2:p.y})}else o="path",u.d=n.getPathData(null,i.precision);return ut.create(o,u,t)}function s(n){var i=n._type,r=n._radius,s=e(n._matrix,!0,"rectangle"!==i);if("rectangle"===i){i="rect";var a=n._size,o=a.width,l=a.height;s.x-=o/2,s.y-=l/2,s.width=o,s.height=l,r.isZero()&&(r=null)}return r&&("circle"===i?s.r=r:(s.rx=r.width,s.ry=r.height)),ut.create(i,s,t)}function o(n,i){var r=e(n._matrix),s=n.getPathData(null,i.precision);return s&&(r.d=s),ut.create("path",r,t)}function l(n,i){var r=e(n._matrix,!0),s=n._definition,a=y(s,"symbol"),o=s._item,l=o.getStrokeBounds();return a||(a=ut.create("symbol",{viewBox:t.rectangle(l)}),a.appendChild(k(o,i)),b(s,a,"symbol")),r.href="#"+a.id,r.x+=l.x,r.y+=l.y,r.width=l.width,r.height=l.height,r.overflow="visible",ut.create("use",r,t)}function c(e){var n=y(e,"color");if(!n){var i,r=e.getGradient(),s=r._radial,a=e.getOrigin(),o=e.getDestination();if(s){i={cx:a.x,cy:a.y,r:a.getDistance(o)};var l=e.getHighlight();l&&(i.fx=l.x,i.fy=l.y)}else i={x1:a.x,y1:a.y,x2:o.x,y2:o.y};i.gradientUnits="userSpaceOnUse",n=ut.create((s?"radial":"linear")+"Gradient",i,t);for(var c=r._stops,u=0,h=c.length;u<h;u++){var d=c[u],f=d._color,p=f.getAlpha(),m=d._offset;i={offset:null==m?u/(h-1):m},f&&(i["stop-color"]=f.toCSS(!0)),p<1&&(i["stop-opacity"]=p),n.appendChild(ut.create("stop",i,t))}b(e,n,"color")}return"url(#"+n.id+")"}function h(n){var i=ut.create("text",e(n._matrix,!0),t);return i.textContent=n._content,i}var d,f={Group:n,Layer:n,Raster:i,Path:r,Shape:s,CompoundPath:o,SymbolItem:l,PointText:h};function p(e,n,i,r){var s={},a=!r&&e.getParent(),o=[];return null!=e._name&&(s.id=e._name),u.each(ht,(function(t){var n=t.get,r=t.type,l=e[n]();if(t.exportFilter?t.exportFilter(e,l):0==i.reduceAttributes||!a||!u.equals(a[n](),l)){if("color"===r&&null!=l){var h=l.getAlpha();h<1&&(s[t.attribute+"-opacity"]=h)}"style"===r?o.push(t.attribute+": "+l):s[t.attribute]=null==l?"none":"color"===r?l.gradient?c(l,e):l.toCSS(!0):"array"===r?l.join(","):"lookup"===r?t.toSVG[l]:l}})),o.length&&(s.style=o.join(";")),1===s.opacity&&delete s.opacity,e._visible||(s.visibility="hidden"),ut.set(n,s,t)}function y(t,e){return d||(d={ids:{},svgs:{}}),t&&d.svgs[e+"-"+(t._id||t.__id||(t.__id=v.get("svg")))]}function b(t,e,n){d||y();var i=d.ids[n]=(d.ids[n]||0)+1;e.id=n+"-"+i,d.svgs[n+"-"+(t._id||t.__id)]=e}function w(t,e){var n=t,i=null;if(d){for(var r in n="svg"===t.nodeName.toLowerCase()&&t,d.svgs)i||(n||(n=ut.create("svg"),n.appendChild(t)),i=n.insertBefore(ut.create("defs"),n.firstChild)),i.appendChild(d.svgs[r]);d=null}return e.asString?(new a.XMLSerializer).serializeToString(n):n}function k(t,e,n){var i=f[t._class],r=i&&i(t,e);if(r){var s=e.onExport;s&&(r=s(t,r,e)||r);var a=JSON.stringify(t._data);a&&"{}"!==a&&"null"!==a&&r.setAttribute("data-paper-data",a)}return r&&p(t,r,e,n)}function C(e){return e||(e={}),t=new m(e.precision),e}A.inject({exportSVG:function(t){return t=C(t),w(k(this,t,!0),t)}}),T.inject({exportSVG:function(n){n=C(n);var i=this._children,r=this.getView(),s=u.pick(n.bounds,"view"),a=n.matrix||"view"===s&&r._matrix,o=a&&S.read([a]),l="view"===s?new x([0,0],r.getViewSize()):"content"===s?A._getBounds(i,o,{stroke:!0}).rect:x.read([s],0,{readNull:!0}),c={version:"1.1",xmlns:ut.svg,"xmlns:xlink":ut.xlink};l&&(c.width=l.width,c.height=l.height,(l.x||0===l.x||l.y||0===l.y)&&(c.viewBox=t.rectangle(l)));var h=ut.create("svg",c,t),d=h;o&&!o.isIdentity()&&(d=h.appendChild(ut.create("g",e(o),t)));for(var f=0,p=i.length;f<p;f++)d.appendChild(k(i[f],n,!0));return w(h,n)}})},new function(){var t,e={};function n(e,n,i,r,s,a){var o=ut.get(e,n)||a,l=null==o?r?null:i?"":0:i?o:parseFloat(o);return/%\s*$/.test(o)?l/100*(s?1:t[/x|^width/.test(n)?"width":"height"]):l}function i(t,e,i,r,s,a,o){return e=n(t,e||"x",!1,r,s,a),i=n(t,i||"y",!1,r,s,o),!r||null!=e&&null!=i?new g(e,i):null}function r(t,e,i,r,s){return e=n(t,e||"width",!1,r,s),i=n(t,i||"height",!1,r,s),!r||null!=e&&null!=i?new b(e,i):null}function s(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?C(t)||t:"lookup"===e?n[t]:t}function h(t,e,n,i){var r=t.childNodes,s="clippath"===e,a="defs"===e,o=new E,l=o._project,c=l._currentStyle,u=[];if(s||a||(o=k(o,t,i),l._currentStyle=o._style.clone()),i)for(var h=t.querySelectorAll("defs"),d=0,f=h.length;d<f;d++)M(h[d],n,!1);for(d=0,f=r.length;d<f;d++){var p,m=r[d];1!==m.nodeType||/^defs$/i.test(m.nodeName)||!(p=M(m,n,!1))||p instanceof R||u.push(p)}return o.addChildren(u),s&&(o=k(o.reduce(),t,i)),l._currentStyle=c,(s||a)&&(o.remove(),o=null),o}function d(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),i=[],r=0,s=n.length;r<s;r+=2)i.push(new g(parseFloat(n[r]),parseFloat(n[r+1])));var a=new j(i);return"polygon"===e&&a.closePath(),a}function f(t){return z.create(t.getAttribute("d"))}function p(t,r){var s,a=(n(t,"href",!0)||"").substring(1),o="radialgradient"===r;if(a)s=e[a].getGradient(),s._radial^o&&(s=s.clone(),s._radial=o);else{for(var l=t.childNodes,c=[],u=0,h=l.length;u<h;u++){var d=l[u];1===d.nodeType&&c.push(k(new Y,d))}s=new $(c,o)}var f,p,m,_="userSpaceOnUse"!==n(t,"gradientUnits",!0);o?(f=i(t,"cx","cy",!1,_,"50%","50%"),p=f.add(n(t,"r",!1,!1,_,"50%"),0),m=i(t,"fx","fy",!0,_)):(f=i(t,"x1","y1",!1,_,"0%","0%"),p=i(t,"x2","y2",!1,_,"100%","0%"));var v=k(new X(s,f,p,m),t);return v._scaleToBounds=_,null}var m={"#document":function(t,e,n,i){for(var r=t.childNodes,s=0,a=r.length;s<a;s++){var o=r[s];if(1===o.nodeType)return M(o,n,i)}},g:h,svg:h,clippath:h,polygon:d,polyline:d,path:f,lineargradient:p,radialgradient:p,image:function(t){var e=new I(n(t,"href",!0));return e.on("load",(function(){var e=r(t);this.setSize(e);var n=i(t).add(e.divide(2));this._matrix.append((new S).translate(n))})),e},symbol:function(t,e,n,i){return new R(h(t,e,n,i),!0)},defs:h,use:function(t){var r=(n(t,"href",!0)||"").substring(1),s=e[r],a=i(t);return s?s instanceof R?s.place(a):s.clone().translate(a):null},circle:function(t){return new O.Circle(i(t,"cx","cy"),n(t,"r"))},ellipse:function(t){return new O.Ellipse({center:i(t,"cx","cy"),radius:r(t,"rx","ry")})},rect:function(t){return new O.Rectangle(new x(i(t),r(t)),r(t,"rx","ry"))},line:function(t){return new j.Line(i(t,"x1","y1"),i(t,"x2","y2"))},text:function(t){var e=new W(i(t).add(i(t,"dx","dy")));return e.setContent(t.textContent.trim()||""),e},switch:h};function _(t,e,n,i){if(t.transform){for(var r=(i.getAttribute(n)||"").split(/\)\s*/g),s=new S,a=0,o=r.length;a<o;a++){var l=r[a];if(!l)break;for(var c=l.split(/\(\s*/),u=c[0].trim(),h=c[1].split(/[\s,]+/g),d=0,f=h.length;d<f;d++)h[d]=parseFloat(h[d]);switch(u){case"matrix":s.append(new S(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":s.rotate(h[0],h[1]||0,h[2]||0);break;case"translate":s.translate(h[0],h[1]||0);break;case"scale":s.scale(h);break;case"skewX":s.skew(h[0],0);break;case"skewY":s.skew(0,h[0]);break}}t.transform(s)}}function v(t,e,n){var i="fill-opacity"===n?"getFillColor":"getStrokeColor",r=t[i]&&t[i]();r&&r.setAlpha(parseFloat(e))}var y=u.set(u.each(ht,(function(t){this[t.attribute]=function(e,n){if(e[t.set]&&(e[t.set](s(n,t.type,t.fromSVG)),"color"===t.type)){var i=e[t.get]();if(i&&i._scaleToBounds){var r=e.getBounds();i.transform((new S).translate(r.getPoint()).scale(r.getSize()))}}}}),{}),{id:function(t,n){e[n]=t,t.setName&&t.setName(n)},"clip-path":function(t,e){var n=C(e);if(n){if(n=n.clone(),n.setClipMask(!0),!(t instanceof E))return new E(n,t);t.insertChild(0,n)}},gradientTransform:_,transform:_,"fill-opacity":v,"stroke-opacity":v,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var n=e.match(/(.*)%$/);t.setOffset(n?n[1]/100:parseFloat(e))}},viewBox:function(t,e,n,i,a){var o,l=new x(s(e,"array")),c=r(i,null,null,!0);if(t instanceof E){var u=c?c.divide(l.getSize()):1,h=(new S).scale(u).translate(l.getPoint().negate());o=t}else t instanceof R&&(c&&l.setSize(c),o=t._item);if(o){if("visible"!==w(i,"overflow",a)){var d=new O.Rectangle(l);d.setClipMask(!0),o.addChild(d)}h&&o.transform(h)}}});function w(t,e,n){var i=t.attributes[e],r=i&&i.value;if(!r&&t.style){var s=u.camelize(e);r=t.style[s],r||n.node[s]===n.parent[s]||(r=n.node[s])}return r?"none"===r?null:r:o}function k(t,e,n){var i=e.parentNode,r={node:Z.getStyles(e)||{},parent:!n&&!/^defs$/i.test(i.tagName)&&Z.getStyles(i)||{}};return u.each(y,(function(n,i){var s=w(e,i,r);t=s!==o&&n(t,s,i,e,r)||t})),t}function C(t){var n=t&&t.match(/\((?:["'#]*)([^"')]+)/),i=n&&n[1],r=i&&e[l?i.replace(l.location.href.split("#")[0]+"#",""):i];return r&&r._scaleToBounds&&(r=r.clone(),r._scaleToBounds=!0),r}function M(n,i,s){var a,o,l,h=n.nodeName.toLowerCase(),d="#document"!==h,f=c.body;s&&d&&(t=dt.getView().getSize(),t=r(n,null,null,!0)||t,a=ut.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),o=n.parentNode,l=n.nextSibling,a.appendChild(n),f.appendChild(a));var p=dt.settings,_=p.applyMatrix,v=p.insertItems;p.applyMatrix=!1,p.insertItems=!1;var g=m[h],y=g&&g(n,h,i,s)||null;if(p.insertItems=v,p.applyMatrix=_,y){!d||y instanceof E||(y=k(y,n,s));var b=i.onImport,w=d&&n.getAttribute("data-paper-data");b&&(y=b(n,y,i)||y),i.expandShapes&&y instanceof O&&(y.remove(),y=y.toPath()),w&&(y._data=JSON.parse(w))}return a&&(f.removeChild(a),o&&(l?o.insertBefore(n,l):o.appendChild(n))),s&&(e={},y&&u.pick(i.applyMatrix,_)&&y.matrix.apply(!0,!0)),y}function P(t,e,n){if(!t)return null;e="function"===typeof e?{onLoad:e}:e||{};var i=dt,r=null;function s(s){try{var c="object"===typeof s?s:(new a.DOMParser).parseFromString(s.trim(),"image/svg+xml");if(!c.nodeName)throw c=null,new Error("Unsupported SVG source: "+t);dt=i,r=M(c,e,!0),e&&!1===e.insert||n._insertItem(o,r);var u=e.onLoad;u&&u(r,s)}catch(h){l(h)}}function l(t,n){var i=e.onError;if(!i)throw new Error(t);i(t,n)}if("string"!==typeof t||/^[\s\S]*</.test(t)){if("undefined"!==typeof File&&t instanceof File){var u=new FileReader;return u.onload=function(){s(u.result)},u.onerror=function(){l(u.error)},u.readAsText(t)}s(t)}else{var h=c.getElementById(t);h?s(h):ot.request({url:t,async:!0,onLoad:s,onError:l})}return r}A.inject({importSVG:function(t,e){return P(t,e,this)}}),T.inject({importSVG:function(t,e){return this.activate(),P(t,e,this)}})},u.exports.PaperScript=function(){var t,e,h=this,f=h.acorn;if(!f)try{f=n(5189)}catch(A){}f||(f=t=e={},function(n,a){"object"==typeof t&&"object"==typeof e?a(t):(i=[t],r=a,s="function"===typeof r?r.apply(t,i):r,s!==o&&(e.exports=s))}(0,(function(t){"use strict";var e,n,i,r;t.version="0.5.0",t.parse=function(t,r){return n=String(t),i=n.length,a(r),Yt(),Pe(e.program)};var s=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function a(t){for(var n in e=t||{},s)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=s[n]);r=e.sourceFile||null}var o,l,c,u,h,d,f,p,m,_,v,g,y,b,w,x,k=t.getLineInfo=function(t,e){for(var n=1,i=0;;){Ht.lastIndex=i;var r=Ht.exec(t);if(!(r&&r.index<e))break;++n,i=r.index+r[0].length}return{line:n,column:e-i}};function S(t,e){var i=k(n,t);e+=" ("+i.line+":"+i.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=i,r.raisedAt=o,r}t.tokenize=function(t,r){n=String(t),i=n.length,a(r),Yt();var s={};function v(t){return g=c,le(t),s.start=l,s.end=c,s.startLoc=u,s.endLoc=h,s.type=d,s.value=f,s}return v.jumpTo=function(t,i){if(o=t,e.locations){var r;m=1,_=Ht.lastIndex=0;while((r=Ht.exec(n))&&r.index<t)++m,_=r.index+r[0].length}p=i,Qt()},v};var C=[],T={type:"num"},E={type:"regexp"},M={type:"string"},O={type:"name"},I={type:"eof"},P={keyword:"break"},R={keyword:"case",beforeExpr:!0},D={keyword:"catch"},N={keyword:"continue"},L={keyword:"debugger"},B={keyword:"default"},V={keyword:"do",isLoop:!0},z={keyword:"else",beforeExpr:!0},j={keyword:"finally"},F={keyword:"for",isLoop:!0},q={keyword:"function"},U={keyword:"if"},H={keyword:"return",beforeExpr:!0},W={keyword:"switch"},X={keyword:"throw",beforeExpr:!0},$={keyword:"try"},Y={keyword:"var"},G={keyword:"while",isLoop:!0},Z={keyword:"with"},K={keyword:"new",beforeExpr:!0},Q={keyword:"this"},J={keyword:"null",atomValue:null},tt={keyword:"true",atomValue:!0},et={keyword:"false",atomValue:!1},nt={keyword:"in",binop:7,beforeExpr:!0},it={break:P,case:R,catch:D,continue:N,debugger:L,default:B,do:V,else:z,finally:j,for:F,function:q,if:U,return:H,switch:W,throw:X,try:$,var:Y,while:G,with:Z,null:J,true:tt,false:et,new:K,in:nt,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Q,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},rt={type:"[",beforeExpr:!0},st={type:"]"},at={type:"{",beforeExpr:!0},ot={type:"}"},lt={type:"(",beforeExpr:!0},ct={type:")"},ut={type:",",beforeExpr:!0},ht={type:";",beforeExpr:!0},dt={type:":",beforeExpr:!0},ft={type:"."},pt={type:"?",beforeExpr:!0},mt={binop:10,beforeExpr:!0},_t={isAssign:!0,beforeExpr:!0},vt={isAssign:!0,beforeExpr:!0},gt={postfix:!0,prefix:!0,isUpdate:!0},yt={prefix:!0,beforeExpr:!0},bt={binop:1,beforeExpr:!0},wt={binop:2,beforeExpr:!0},xt={binop:3,beforeExpr:!0},kt={binop:4,beforeExpr:!0},St={binop:5,beforeExpr:!0},Ct={binop:6,beforeExpr:!0},Tt={binop:7,beforeExpr:!0},At={binop:8,beforeExpr:!0},Et={binop:9,prefix:!0,beforeExpr:!0},Mt={binop:10,beforeExpr:!0};for(var Ot in t.tokTypes={bracketL:rt,bracketR:st,braceL:at,braceR:ot,parenL:lt,parenR:ct,comma:ut,semi:ht,colon:dt,dot:ft,question:pt,slash:mt,eq:_t,name:O,eof:I,num:T,regexp:E,string:M},it)t.tokTypes["_"+Ot]=it[Ot];function It(t){t=t.split(" ");var e="",n=[];t:for(var i=0;i<t.length;++i){for(var r=0;r<n.length;++r)if(n[r][0].length==t[i].length){n[r].push(t[i]);continue t}n.push([t[i]])}function s(t){if(1==t.length)return e+="return str === "+JSON.stringify(t[0])+";";e+="switch(str){";for(var n=0;n<t.length;++n)e+="case "+JSON.stringify(t[n])+":";e+="return true}return false;"}if(n.length>3){n.sort((function(t,e){return e.length-t.length})),e+="switch(str.length){";for(i=0;i<n.length;++i){var a=n[i];e+="case "+a[0].length+":",s(a)}e+="}"}else s(t);return new Function("str",e)}var Pt,Rt=It("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Dt=It("class enum extends super const export import"),Nt=It("implements interface let package private protected public static yield"),Lt=It("eval arguments"),Bt=It("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Vt=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,zt="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",jt="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",Ft=new RegExp("["+zt+"]"),qt=new RegExp("["+zt+jt+"]"),Ut=/[\n\r\u2028\u2029]/,Ht=/\r\n|[\n\r\u2028\u2029]/g,Wt=t.isIdentifierStart=function(t){return t<65?36===t:t<91||(t<97?95===t:t<123||t>=170&&Ft.test(String.fromCharCode(t)))},Xt=t.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||t>=170&&qt.test(String.fromCharCode(t))))};function $t(){this.line=m,this.column=o-_}function Yt(){m=1,o=_=0,p=!0,Qt()}function Gt(t,n){c=o,e.locations&&(h=new $t),d=t,Qt(),f=n,p=t.beforeExpr}function Zt(){var t=e.onComment&&e.locations&&new $t,i=o,r=n.indexOf("*/",o+=2);if(-1===r&&S(o-2,"Unterminated comment"),o=r+2,e.locations){var s;Ht.lastIndex=i;while((s=Ht.exec(n))&&s.index<o)++m,_=s.index+s[0].length}e.onComment&&e.onComment(!0,n.slice(i+2,r),i,o,t,e.locations&&new $t)}function Kt(){var t=o,r=e.onComment&&e.locations&&new $t,s=n.charCodeAt(o+=2);while(o<i&&10!==s&&13!==s&&8232!==s&&8233!==s)++o,s=n.charCodeAt(o);e.onComment&&e.onComment(!1,n.slice(t+2,o),t,o,r,e.locations&&new $t)}function Qt(){while(o<i){var t=n.charCodeAt(o);if(32===t)++o;else if(13===t){++o;var r=n.charCodeAt(o);10===r&&++o,e.locations&&(++m,_=o)}else if(10===t||8232===t||8233===t)++o,e.locations&&(++m,_=o);else if(t>8&&t<14)++o;else if(47===t){r=n.charCodeAt(o+1);if(42===r)Zt();else{if(47!==r)break;Kt()}}else if(160===t)++o;else{if(!(t>=5760&&Vt.test(String.fromCharCode(t))))break;++o}}}function Jt(){var t=n.charCodeAt(o+1);return t>=48&&t<=57?fe(!0):(++o,Gt(ft))}function te(){var t=n.charCodeAt(o+1);return p?(++o,ue()):61===t?ce(vt,2):ce(mt,1)}function ee(){var t=n.charCodeAt(o+1);return 61===t?ce(vt,2):ce(Mt,1)}function ne(t){var e=n.charCodeAt(o+1);return e===t?ce(124===t?bt:wt,2):61===e?ce(vt,2):ce(124===t?xt:St,1)}function ie(){var t=n.charCodeAt(o+1);return 61===t?ce(vt,2):ce(kt,1)}function re(t){var e=n.charCodeAt(o+1);return e===t?45==e&&62==n.charCodeAt(o+2)&&Ut.test(n.slice(g,o))?(o+=3,Kt(),Qt(),le()):ce(gt,2):61===e?ce(vt,2):ce(Et,1)}function se(t){var e=n.charCodeAt(o+1),i=1;return e===t?(i=62===t&&62===n.charCodeAt(o+2)?3:2,61===n.charCodeAt(o+i)?ce(vt,i+1):ce(At,i)):33==e&&60==t&&45==n.charCodeAt(o+2)&&45==n.charCodeAt(o+3)?(o+=4,Kt(),Qt(),le()):(61===e&&(i=61===n.charCodeAt(o+2)?3:2),ce(Tt,i))}function ae(t){var e=n.charCodeAt(o+1);return 61===e?ce(Ct,61===n.charCodeAt(o+2)?3:2):ce(61===t?_t:yt,1)}function oe(t){switch(t){case 46:return Jt();case 40:return++o,Gt(lt);case 41:return++o,Gt(ct);case 59:return++o,Gt(ht);case 44:return++o,Gt(ut);case 91:return++o,Gt(rt);case 93:return++o,Gt(st);case 123:return++o,Gt(at);case 125:return++o,Gt(ot);case 58:return++o,Gt(dt);case 63:return++o,Gt(pt);case 48:var e=n.charCodeAt(o+1);if(120===e||88===e)return de();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return fe(!1);case 34:case 39:return pe(t);case 47:return te(t);case 37:case 42:return ee();case 124:case 38:return ne(t);case 94:return ie();case 43:case 45:return re(t);case 60:case 62:return se(t);case 61:case 33:return ae(t);case 126:return ce(yt,1)}return!1}function le(t){if(t?o=l+1:l=o,e.locations&&(u=new $t),t)return ue();if(o>=i)return Gt(I);var r=n.charCodeAt(o);if(Wt(r)||92===r)return ve();var s=oe(r);if(!1===s){var a=String.fromCharCode(r);if("\\"===a||Ft.test(a))return ve();S(o,"Unexpected character '"+a+"'")}return s}function ce(t,e){var i=n.slice(o,o+e);o+=e,Gt(t,i)}function ue(){for(var t,e,r="",s=o;;){o>=i&&S(s,"Unterminated regular expression");var a=n.charAt(o);if(Ut.test(a)&&S(s,"Unterminated regular expression"),t)t=!1;else{if("["===a)e=!0;else if("]"===a&&e)e=!1;else if("/"===a&&!e)break;t="\\"===a}++o}r=n.slice(s,o);++o;var l=_e();l&&!/^[gmsiy]*$/.test(l)&&S(s,"Invalid regexp flag");try{var c=new RegExp(r,l)}catch(A){A instanceof SyntaxError&&S(s,A.message),S(A)}return Gt(E,c)}function he(t,e){for(var i=o,r=0,s=0,a=null==e?1/0:e;s<a;++s){var l,c=n.charCodeAt(o);if(l=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0,l>=t)break;++o,r=r*t+l}return o===i||null!=e&&o-i!==e?null:r}function de(){o+=2;var t=he(16);return null==t&&S(l+2,"Expected hexadecimal number"),Wt(n.charCodeAt(o))&&S(o,"Identifier directly after number"),Gt(T,t)}function fe(t){var e=o,i=!1,r=48===n.charCodeAt(o);t||null!==he(10)||S(e,"Invalid number"),46===n.charCodeAt(o)&&(++o,he(10),i=!0);var s=n.charCodeAt(o);69!==s&&101!==s||(s=n.charCodeAt(++o),43!==s&&45!==s||++o,null===he(10)&&S(e,"Invalid number"),i=!0),Wt(n.charCodeAt(o))&&S(o,"Identifier directly after number");var a,l=n.slice(e,o);return i?a=parseFloat(l):r&&1!==l.length?/[89]/.test(l)||x?S(e,"Invalid number"):a=parseInt(l,8):a=parseInt(l,10),Gt(T,a)}function pe(t){o++;for(var r="";;){o>=i&&S(l,"Unterminated string constant");var s=n.charCodeAt(o);if(s===t)return++o,Gt(M,r);if(92===s){s=n.charCodeAt(++o);var a=/^[0-7]+/.exec(n.slice(o,o+3));a&&(a=a[0]);while(a&&parseInt(a,8)>255)a=a.slice(0,-1);if("0"===a&&(a=null),++o,a)x&&S(o-2,"Octal literal in strict mode"),r+=String.fromCharCode(parseInt(a,8)),o+=a.length-1;else switch(s){case 110:r+="\n";break;case 114:r+="\r";break;case 120:r+=String.fromCharCode(me(2));break;case 117:r+=String.fromCharCode(me(4));break;case 85:r+=String.fromCharCode(me(8));break;case 116:r+="\t";break;case 98:r+="\b";break;case 118:r+="\v";break;case 102:r+="\f";break;case 48:r+="\0";break;case 13:10===n.charCodeAt(o)&&++o;case 10:e.locations&&(_=o,++m);break;default:r+=String.fromCharCode(s);break}}else 13!==s&&10!==s&&8232!==s&&8233!==s||S(l,"Unterminated string constant"),r+=String.fromCharCode(s),++o}}function me(t){var e=he(16,t);return null===e&&S(l,"Bad character escape sequence"),e}function _e(){Pt=!1;for(var t,e=!0,i=o;;){var r=n.charCodeAt(o);if(Xt(r))Pt&&(t+=n.charAt(o)),++o;else{if(92!==r)break;Pt||(t=n.slice(i,o)),Pt=!0,117!=n.charCodeAt(++o)&&S(o,"Expecting Unicode escape sequence \\uXXXX"),++o;var s=me(4),a=String.fromCharCode(s);a||S(o-1,"Invalid Unicode escape"),(e?Wt(s):Xt(s))||S(o-4,"Invalid Unicode escape"),t+=a}e=!1}return Pt?t:n.slice(i,o)}function ve(){var t=_e(),e=O;return!Pt&&Bt(t)&&(e=it[t]),Gt(e,t)}function ge(){v=l,g=c,y=h,le()}function ye(t){if(x=t,o=l,e.locations)while(o<_)_=n.lastIndexOf("\n",_-2)+1,--m;Qt(),le()}function be(){this.type=null,this.start=l,this.end=null}function we(){this.start=u,this.end=null,null!==r&&(this.source=r)}function xe(){var t=new be;return e.locations&&(t.loc=new we),e.directSourceFile&&(t.sourceFile=e.directSourceFile),e.ranges&&(t.range=[l,0]),t}function ke(t){var n=new be;return n.start=t.start,e.locations&&(n.loc=new we,n.loc.start=t.loc.start),e.ranges&&(n.range=[t.range[0],0]),n}function Se(t,n){return t.type=n,t.end=g,e.locations&&(t.loc.end=y),e.ranges&&(t.range[1]=g),t}function Ce(t){return e.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function Te(t){if(d===t)return ge(),!0}function Ae(){return!e.strictSemicolons&&(d===I||d===ot||Ut.test(n.slice(g,l)))}function Ee(){Te(ht)||Ae()||Oe()}function Me(t){d===t?ge():Oe()}function Oe(){S(l,"Unexpected token")}function Ie(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&S(t.start,"Assigning to rvalue"),x&&"Identifier"===t.type&&Lt(t.name)&&S(t.start,"Assigning to "+t.name+" in strict mode")}function Pe(t){v=g=o,e.locations&&(y=new $t),b=x=null,w=[],le();var n=t||xe(),i=!0;t||(n.body=[]);while(d!==I){var r=Ne();n.body.push(r),i&&Ce(r)&&ye(!0),i=!1}return Se(n,"Program")}var Re={kind:"loop"},De={kind:"switch"};function Ne(){(d===mt||d===vt&&"/="==f)&&le(!0);var t=d,i=xe();switch(t){case P:case N:ge();var r=t===P;Te(ht)||Ae()?i.label=null:d!==O?Oe():(i.label=en(),Ee());for(var s=0;s<w.length;++s){var a=w[s];if(null==i.label||a.name===i.label.name){if(null!=a.kind&&(r||"loop"===a.kind))break;if(i.label&&r)break}}return s===w.length&&S(i.start,"Unsyntactic "+t.keyword),Se(i,r?"BreakStatement":"ContinueStatement");case L:return ge(),Ee(),Se(i,"DebuggerStatement");case V:return ge(),w.push(Re),i.body=Ne(),w.pop(),Me(G),i.test=Le(),Ee(),Se(i,"DoWhileStatement");case F:if(ge(),w.push(Re),Me(lt),d===ht)return Ve(i,null);if(d===Y){var o=xe();return ge(),je(o,!0),Se(o,"VariableDeclaration"),1===o.declarations.length&&Te(nt)?ze(i,o):Ve(i,o)}o=Fe(!1,!0);return Te(nt)?(Ie(o),ze(i,o)):Ve(i,o);case q:return ge(),Je(i,!0);case U:return ge(),i.test=Le(),i.consequent=Ne(),i.alternate=Te(z)?Ne():null,Se(i,"IfStatement");case H:return b||e.allowReturnOutsideFunction||S(l,"'return' outside of function"),ge(),Te(ht)||Ae()?i.argument=null:(i.argument=Fe(),Ee()),Se(i,"ReturnStatement");case W:ge(),i.discriminant=Le(),i.cases=[],Me(at),w.push(De);for(var c,u;d!=ot;)if(d===R||d===B){var h=d===R;c&&Se(c,"SwitchCase"),i.cases.push(c=xe()),c.consequent=[],ge(),h?c.test=Fe():(u&&S(v,"Multiple default clauses"),u=!0,c.test=null),Me(dt)}else c||Oe(),c.consequent.push(Ne());return c&&Se(c,"SwitchCase"),ge(),w.pop(),Se(i,"SwitchStatement");case X:return ge(),Ut.test(n.slice(g,l))&&S(g,"Illegal newline after throw"),i.argument=Fe(),Ee(),Se(i,"ThrowStatement");case $:if(ge(),i.block=Be(),i.handler=null,d===D){var p=xe();ge(),Me(lt),p.param=en(),x&&Lt(p.param.name)&&S(p.param.start,"Binding "+p.param.name+" in strict mode"),Me(ct),p.guard=null,p.body=Be(),i.handler=Se(p,"CatchClause")}return i.guardedHandlers=C,i.finalizer=Te(j)?Be():null,i.handler||i.finalizer||S(i.start,"Missing catch or finally clause"),Se(i,"TryStatement");case Y:return ge(),je(i),Ee(),Se(i,"VariableDeclaration");case G:return ge(),i.test=Le(),w.push(Re),i.body=Ne(),w.pop(),Se(i,"WhileStatement");case Z:return x&&S(l,"'with' in strict mode"),ge(),i.object=Le(),i.body=Ne(),Se(i,"WithStatement");case at:return Be();case ht:return ge(),Se(i,"EmptyStatement");default:var m=f,_=Fe();if(t===O&&"Identifier"===_.type&&Te(dt)){for(s=0;s<w.length;++s)w[s].name===m&&S(_.start,"Label '"+m+"' is already declared");var y=d.isLoop?"loop":d===W?"switch":null;return w.push({name:m,kind:y}),i.body=Ne(),w.pop(),i.label=_,Se(i,"LabeledStatement")}return i.expression=_,Ee(),Se(i,"ExpressionStatement")}}function Le(){Me(lt);var t=Fe();return Me(ct),t}function Be(t){var e,n=xe(),i=!0,r=!1;n.body=[],Me(at);while(!Te(ot)){var s=Ne();n.body.push(s),i&&t&&Ce(s)&&(e=r,ye(r=!0)),i=!1}return r&&!e&&ye(!1),Se(n,"BlockStatement")}function Ve(t,e){return t.init=e,Me(ht),t.test=d===ht?null:Fe(),Me(ht),t.update=d===ct?null:Fe(),Me(ct),t.body=Ne(),w.pop(),Se(t,"ForStatement")}function ze(t,e){return t.left=e,t.right=Fe(),Me(ct),t.body=Ne(),w.pop(),Se(t,"ForInStatement")}function je(t,e){for(t.declarations=[],t.kind="var";;){var n=xe();if(n.id=en(),x&&Lt(n.id.name)&&S(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=Te(_t)?Fe(!0,e):null,t.declarations.push(Se(n,"VariableDeclarator")),!Te(ut))break}return t}function Fe(t,e){var n=qe(e);if(!t&&d===ut){var i=ke(n);i.expressions=[n];while(Te(ut))i.expressions.push(qe(e));return Se(i,"SequenceExpression")}return n}function qe(t){var e=Ue(t);if(d.isAssign){var n=ke(e);return n.operator=f,n.left=e,ge(),n.right=qe(t),Ie(e),Se(n,"AssignmentExpression")}return e}function Ue(t){var e=He(t);if(Te(pt)){var n=ke(e);return n.test=e,n.consequent=Fe(!0),Me(dt),n.alternate=Fe(!0,t),Se(n,"ConditionalExpression")}return e}function He(t){return We(Xe(),-1,t)}function We(t,e,n){var i=d.binop;if(null!=i&&(!n||d!==nt)&&i>e){var r=ke(t);r.left=t,r.operator=f;var s=d;ge(),r.right=We(Xe(),i,n);var a=Se(r,s===bt||s===wt?"LogicalExpression":"BinaryExpression");return We(a,e,n)}return t}function Xe(){if(d.prefix){var t=xe(),e=d.isUpdate;return t.operator=f,t.prefix=!0,p=!0,ge(),t.argument=Xe(),e?Ie(t.argument):x&&"delete"===t.operator&&"Identifier"===t.argument.type&&S(t.start,"Deleting local variable in strict mode"),Se(t,e?"UpdateExpression":"UnaryExpression")}var n=$e();while(d.postfix&&!Ae()){t=ke(n);t.operator=f,t.prefix=!1,t.argument=n,Ie(n),ge(),n=Se(t,"UpdateExpression")}return n}function $e(){return Ye(Ge())}function Ye(t,e){if(Te(ft)){var n=ke(t);return n.object=t,n.property=en(!0),n.computed=!1,Ye(Se(n,"MemberExpression"),e)}if(Te(rt)){n=ke(t);return n.object=t,n.property=Fe(),n.computed=!0,Me(st),Ye(Se(n,"MemberExpression"),e)}if(!e&&Te(lt)){n=ke(t);return n.callee=t,n.arguments=tn(ct,!1),Ye(Se(n,"CallExpression"),e)}return t}function Ge(){switch(d){case Q:var t=xe();return ge(),Se(t,"ThisExpression");case O:return en();case T:case M:case E:t=xe();return t.value=f,t.raw=n.slice(l,c),ge(),Se(t,"Literal");case J:case tt:case et:t=xe();return t.value=d.atomValue,t.raw=d.keyword,ge(),Se(t,"Literal");case lt:var i=u,r=l;ge();var s=Fe();return s.start=r,s.end=c,e.locations&&(s.loc.start=i,s.loc.end=h),e.ranges&&(s.range=[r,c]),Me(ct),s;case rt:t=xe();return ge(),t.elements=tn(st,!0,!0),Se(t,"ArrayExpression");case at:return Ke();case q:t=xe();return ge(),Je(t,!1);case K:return Ze();default:Oe()}}function Ze(){var t=xe();return ge(),t.callee=Ye(Ge(),!0),Te(lt)?t.arguments=tn(ct,!1):t.arguments=C,Se(t,"NewExpression")}function Ke(){var t=xe(),n=!0,i=!1;t.properties=[],ge();while(!Te(ot)){if(n)n=!1;else if(Me(ut),e.allowTrailingCommas&&Te(ot))break;var r,s={key:Qe()},a=!1;if(Te(dt)?(s.value=Fe(!0),r=s.kind="init"):e.ecmaVersion>=5&&"Identifier"===s.key.type&&("get"===s.key.name||"set"===s.key.name)?(a=i=!0,r=s.kind=s.key.name,s.key=Qe(),d!==lt&&Oe(),s.value=Je(xe(),!1)):Oe(),"Identifier"===s.key.type&&(x||i))for(var o=0;o<t.properties.length;++o){var l=t.properties[o];if(l.key.name===s.key.name){var c=r==l.kind||a&&"init"===l.kind||"init"===r&&("get"===l.kind||"set"===l.kind);c&&!x&&"init"===r&&"init"===l.kind&&(c=!1),c&&S(s.key.start,"Redefinition of property")}}t.properties.push(s)}return Se(t,"ObjectExpression")}function Qe(){return d===T||d===M?Ge():en(!0)}function Je(t,e){d===O?t.id=en():e?Oe():t.id=null,t.params=[];var n=!0;Me(lt);while(!Te(ct))n?n=!1:Me(ut),t.params.push(en());var i=b,r=w;if(b=!0,w=[],t.body=Be(!0),b=i,w=r,x||t.body.body.length&&Ce(t.body.body[0]))for(var s=t.id?-1:0;s<t.params.length;++s){var a=s<0?t.id:t.params[s];if((Nt(a.name)||Lt(a.name))&&S(a.start,"Defining '"+a.name+"' in strict mode"),s>=0)for(var o=0;o<s;++o)a.name===t.params[o].name&&S(a.start,"Argument name clash in strict mode")}return Se(t,e?"FunctionDeclaration":"FunctionExpression")}function tn(t,n,i){var r=[],s=!0;while(!Te(t)){if(s)s=!1;else if(Me(ut),n&&e.allowTrailingCommas&&Te(t))break;i&&d===ut?r.push(null):r.push(Fe(!0))}return r}function en(t){var i=xe();return t&&"everywhere"==e.forbidReserved&&(t=!1),d===O?(!t&&(e.forbidReserved&&(3===e.ecmaVersion?Rt:Dt)(f)||x&&Nt(f))&&-1==n.slice(l,c).indexOf("\\")&&S(l,"The keyword '"+f+"' is reserved"),i.name=f):t&&d.keyword?i.name=d.keyword:Oe(),p=!1,ge(),Se(i,"Identifier")}})),f.version||(f=null));function p(t,e){return(h.acorn||f).parse(t,e)}var m={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},_={"-":"__negate","+":"__self"},v=u.each(["add","subtract","multiply","divide","modulo","equals","negate"],(function(t){this["__"+t]="#"+t}),{__self:function(){return this}});function y(t,e,n){var i=m[e];if(t&&t[i]){var r=t[i](n);return"!="===e?!r:r}switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n;case"==":return t==n;case"!=":return t!=n}}function w(t,e){var n=_[t];if(e&&e[n])return e[n]();switch(t){case"+":return+e;case"-":return-e}}function x(t,e){if(!t)return"";e=e||{};var n=[];function i(t){for(var e=0,i=n.length;e<i;e++){var r=n[e];if(r[0]>=t)break;t+=r[1]}return t}function r(e){return t.substring(i(e.range[0]),i(e.range[1]))}function s(e,n){return t.substring(i(e.range[1]),i(n.range[0]))}function o(e,r){for(var s=i(e.range[0]),a=i(e.range[1]),o=0,l=n.length-1;l>=0;l--)if(s>n[l][0]){o=l+1;break}n.splice(o,0,[s,r.length-a+s]),t=t.substring(0,s)+r+t.substring(a)}function u(t,e){switch(t.type){case"UnaryExpression":if(t.operator in _&&"Literal"!==t.argument.type){var n=r(t.argument);o(t,'$__("'+t.operator+'", '+n+")")}break;case"BinaryExpression":if(t.operator in m&&"Literal"!==t.left.type){var i=r(t.left),a=r(t.right),l=s(t.left,t.right),c=t.operator;o(t,"__$__("+i+","+l.replace(new RegExp("\\"+c),'"'+c+'"')+", "+a+")")}break;case"UpdateExpression":case"AssignmentExpression":var u=e&&e.type;if(!("ForStatement"===u||"BinaryExpression"===u&&/^[=!<>]/.test(e.operator)||"MemberExpression"===u&&e.computed))if("UpdateExpression"===t.type){n=r(t.argument);var h="__$__("+n+', "'+t.operator[0]+'", 1)',d=n+" = "+h;t.prefix?d="("+d+")":"AssignmentExpression"!==u&&"VariableDeclarator"!==u&&"BinaryExpression"!==u||(r(e.left||e.id)===n&&(d=h),d=n+"; "+d),o(t,d)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){i=r(t.left),a=r(t.right),h=i+" = __$__("+i+', "'+t.operator[0]+'", '+a+")";o(t,/^\(.*\)$/.test(r(t))?"("+h+")":h)}break}}function h(t){switch(t.type){case"ExportDefaultDeclaration":o({range:[t.start,t.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var e=t.declaration,n=t.specifiers;if(e){var i=e.declarations;i&&(i.forEach((function(t){o(t,"module.exports."+r(t))})),o({range:[t.start,e.start+e.kind.length]},""))}else if(n){var s=n.map((function(t){var e=r(t);return"module.exports."+e+" = "+e+"; "})).join("");s&&o(t,s)}break}}function d(t,e,n){if(t){for(var i in t)if("range"!==i&&"loc"!==i){var r=t[i];if(Array.isArray(r))for(var s=0,a=r.length;s<a;s++)d(r[s],t,n);else r&&"object"===typeof r&&d(r,t,n)}!1!==n.operatorOverloading&&u(t,e),!1!==n.moduleExports&&h(t)}}function f(t){var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t=(Math.abs(t)<<1)+(t<0?1:0);while(t||!e){var i=31&t;t>>=5,t&&(i|=32),e+=n[i]}return e}var v,g=e.url||"",y=e.sourceMaps,b=e.paperFeatures||{},w=e.source||t,x=e.offset||0,k=dt.agent,S=k.versionNumber,C=!1,T=/\r\n|\n|\r/gm;if(y&&(k.chrome&&S>=30||k.webkit&&S>=537.76||k.firefox&&S>=23||k.node)){if(k.node)x-=2;else if(l&&g&&!l.location.href.indexOf(g)){var A=c.getElementsByTagName("html")[0].innerHTML;x=A.substr(0,A.indexOf(t)+1).match(T).length+1}C=x>0&&!(k.chrome&&S>=36||k.safari&&S>=600||k.firefox&&S>=40||k.node);var E=["AA"+f(C?0:x)+"A"];E.length=(t.match(T)||[]).length+1+(C?x:0),v={version:3,file:g,names:[],mappings:E.join(";AACA"),sourceRoot:"",sources:[g],sourcesContent:[w]}}return!1===b.operatorOverloading&&!1===b.moduleExports||d(p(t,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,b),v&&(C&&(t=new Array(x+1).join("\n")+t),/^(inline|both)$/.test(y)&&(t+="\n//# sourceMappingURL=data:application/json;base64,"+a.btoa(unescape(encodeURIComponent(JSON.stringify(v))))),t+="\n//# sourceURL="+(g||"paperscript")),{url:g,source:w,code:t,map:v}}function k(t,e,n){dt=e;var i,r=e.getView(),s=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(t)&&!/\bnew\s+Tool\b/.test(t)?new st:null,a=s?s._events:[],o=["onFrame","onResize"].concat(a),l=[],h=[],d="object"===typeof t?t:x(t,n);function f(e,n){for(var i in e)!n&&/^_/.test(i)||!new RegExp("([\\b\\s\\W]|^)"+i.replace(/\$/g,"\\$")+"\\b").test(t)||(l.push(i),h.push(e[i]))}t=d.code,f({__$__:y,$__:w,paper:e,tool:s},!0),f(e),t="var module = { exports: {} }; "+t;var p=u.each(o,(function(e){new RegExp("\\s+"+e+"\\b").test(t)&&(l.push(e),this.push("module.exports."+e+" = "+e+";"))}),[]).join("\n");p&&(t+="\n"+p),t+="\nreturn module.exports;";var m=dt.agent;if(c&&(m.chrome||m.firefox&&m.versionNumber<40)){var _=c.createElement("script"),v=c.head||c.getElementsByTagName("head")[0];m.firefox&&(t="\n"+t),_.appendChild(c.createTextNode("document.__paperscript__ = function("+l+") {"+t+"\n}")),v.appendChild(_),i=c.__paperscript__,delete c.__paperscript__,v.removeChild(_)}else i=Function(l,t);p=i&&i.apply(e,h);var b=p||{};return u.each(a,(function(t){var e=b[t];e&&(s[t]=e)})),r&&(b.onResize&&r.setOnResize(b.onResize),r.emit("resize",{size:r.size,delta:new g}),b.onFrame&&r.setOnFrame(b.onFrame),r.requestUpdate()),p}function S(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==d.getAttribute(t,"ignore")){var e=d.getAttribute(t,"canvas"),n=c.getElementById(e),i=t.src||t.getAttribute("data-src"),r=d.hasAttribute(t,"async"),s="data-paper-scope";if(!n)throw new Error('Unable to find canvas with id "'+e+'"');var a=d.get(n.getAttribute(s))||(new d).setup(n);return n.setAttribute(s,a._id),i?ot.request({url:i,async:r,mimeType:"text/plain",onLoad:function(t){k(t,a,i)}}):k(t.innerHTML,a,t.baseURI),t.setAttribute("data-paper-ignore","true"),a}}function C(){u.each(c&&c.getElementsByTagName("script"),S)}function T(t){return t?S(t):C()}return g.inject(v),b.inject(v),X.inject(v),l&&("complete"===c.readyState?setTimeout(C):K.add(l,{load:C})),{compile:x,execute:k,load:T,parse:p,calculateBinary:y,calculateUnary:w}}.call(this);var dt=new(d.inject(u.exports,{Base:u,Numerical:_,Key:nt,DomEvent:K,DomElement:Z,document:c,window:l,Symbol:R,PlacedSymbol:P}));return dt.agent.node&&n(6999)(dt),r=dt,s="function"===typeof r?r.call(e,n,e,t):r,s===o||(t.exports=s),dt}).call(this,"object"===typeof self?self:null)},5048:function(t,e,n){"use strict";n.d(e,{HI:function(){return Kr},MQ:function(){return ss},Ut:function(){return _a},Ph:function(){return Ma},uz:function(){return fa},xS:function(){return Oa},jL:function(){return Ra},_G:function(){return oa},_E:function(){return Da},x2:function(){return Na},se:function(){return La},V4:function(){return Ba}});n(6573),n(8100),n(7936),n(7467),n(4732),n(9577);var i=n(1132);n(4979);const r=()=>new DOMException("","AbortError"),s=t=>(e,n,[i,r,s],a)=>{t(e[r],[n,i,s],(t=>t[0]===n&&t[1]===i),a)};n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);const a=t=>(e,n,i)=>{const r=[];for(let t=0;t<i.numberOfInputs;t+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},o=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})};n(4603),n(7566),n(8721);const l=new WeakSet,c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,g={construct(){return g}},y=t=>{try{const e=new Proxy(t,g);new e}catch{return!1}return!0},b=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,w=(t,e)=>{const n=[];let i=t.replace(/^[\s]+/,""),r=i.match(b);while(null!==r){const t=r[1].slice(1,-1),s=r[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(s),i=i.slice(r[0].length).replace(/^[\s]+/,""),r=i.match(b)}return[n.join(";"),i]},x=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},k=t=>{if(!y(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!==typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},S=(t,e,n,i,r,s,a,o,l,c,u,h,d)=>{let f=0;return(p,m,v={credentials:"omit"})=>{const g=u.get(p);if(void 0!==g&&g.has(m))return Promise.resolve();const y=c.get(p);if(void 0!==y){const t=y.get(m);if(void 0!==t)return t}const b=s(p),S=void 0===b.audioWorklet?r(m).then((([t,e])=>{const[i,r]=w(t,e),s=`${i};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${r}\n})})(window,'_AWGS')`;return n(s)})).then((()=>{const t=d._AWGS.pop();if(void 0===t)throw new SyntaxError;i(b.currentTime,b.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const i=_.get(b);if(void 0!==i){if(i.has(t))throw e();k(n),x(n.parameterDescriptors),i.set(t,n)}else k(n),x(n.parameterDescriptors),_.set(b,new Map([[t,n]]))}),b.sampleRate,void 0,void 0)))})):Promise.all([r(m),Promise.resolve(t(h,h))]).then((([[t,e],n])=>{const i=f+1;f=i;const[r,s]=w(t,e),c=n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}",u=n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));",h=n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));",d=`${r};((AudioWorkletProcessor,registerProcessor)=>{${s}\n})(${c},(n,p)=>registerProcessor(n,class extends p{${u}process(i,o,p){${h}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${i}',class extends AudioWorkletProcessor{process(){return !1}})`,p=new Blob([d],{type:"application/javascript; charset=utf-8"}),m=URL.createObjectURL(p);return b.audioWorklet.addModule(m,v).then((()=>{if(o(b))return b;const t=a(b);return t.audioWorklet.addModule(m,v).then((()=>t))})).then((t=>{if(null===l)throw new SyntaxError;try{new l(t,`__sac${i}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(m)))}));return void 0===y?c.set(p,new Map([[m,S]])):y.set(m,S),S.then((()=>{const t=u.get(p);void 0===t?u.set(p,new Set([m])):t.add(m)})).finally((()=>{const t=c.get(p);void 0!==t&&t.delete(m)})),S}},C=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},T=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[i]=n;return t.delete(i),i},A=(t,e,n,i)=>{const r=C(t,e),s=T(r,(t=>t[0]===n&&t[1]===i));return 0===r.size&&t.delete(e),s},E=t=>C(p,t),M=t=>{if(l.has(t))throw new Error("The AudioNode is already stored.");l.add(t),E(t).forEach((t=>t(!0)))},O=t=>"port"in t,I=t=>{if(!l.has(t))throw new Error("The AudioNode is not stored.");l.delete(t),E(t).forEach((t=>t(!1)))},P=(t,e)=>{!O(t)&&e.every((t=>0===t.size))&&I(t)},R=(t,e,n,i,r,s,a,o,l,c,u,h,d)=>{const f=new WeakMap;return(p,m,_,v,g)=>{const{activeInputs:y,passiveInputs:b}=s(m),{outputs:w}=s(p),x=o(p),k=s=>{const o=l(m),c=l(p);if(s){const e=A(b,p,_,v);t(y,p,e,!1),g||h(p)||n(c,o,_,v),d(m)&&M(m)}else{const t=i(y,p,_,v);e(b,v,t,!1),g||h(p)||r(c,o,_,v);const n=a(m);if(0===n)u(m)&&P(m,y);else{const t=f.get(m);void 0!==t&&clearTimeout(t),f.set(m,setTimeout((()=>{u(m)&&P(m,y)}),1e3*n))}}};return!!c(w,[m,_,v],(t=>t[0]===m&&t[1]===_&&t[2]===v),!0)&&(x.add(k),u(p)?t(y,p,[_,v,k],!0):e(b,v,[p,_,k],!0),!0)}},D=t=>(e,n,[i,r,s],a)=>{const o=e.get(i);void 0===o?e.set(i,new Set([[r,n,s]])):t(o,[r,n,s],(t=>t[0]===r&&t[1]===n),a)},N=t=>(e,n)=>{const i=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(i).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(i),i.disconnect()};n.addEventListener("ended",r)},L=t=>(e,n)=>{t(e).add(n)},B={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},V=(t,e,n,i,r,s)=>class extends t{constructor(t,n){const a=r(t),o={...B,...n},l=i(a,o),c=s(a)?e():null;super(t,!1,l,c),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}},z=(t,e)=>t.context===e,j=(t,e,n)=>()=>{const i=new WeakMap,r=async(r,s)=>{let a=e(r);const o=z(a,s);if(!o){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(s,e)}return i.set(s,a),await n(r,s,a),a};return{render(t,e){const n=i.get(e);return void 0!==n?Promise.resolve(n):r(t,e)}}},F=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},q=()=>new DOMException("","IndexSizeError"),U=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(i){if(12===i.code)throw q();throw i}})(t.getChannelData)},H={numberOfChannels:1},W=(t,e,n,i,r,s,a,o)=>{let l=null;return class c{constructor(c){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:d}={...H,...c};null===l&&(l=new r(1,1,44100));const f=null!==i&&e(s,s)?new i({length:u,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,u,d);if(0===f.numberOfChannels)throw n();return"function"!==typeof f.copyFromChannel?(a(f),U(f)):e(F,(()=>F(f)))||o(f),t.add(f),f}static[Symbol.hasInstance](e){return null!==e&&"object"===typeof e&&Object.getPrototypeOf(e)===c.prototype||t.has(e)}}},X=-34028234663852886e22,$=-X,Y=t=>l.has(t),G={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Z=(t,e,n,i,r,s,a,o)=>class extends t{constructor(t,i){const o=s(t),l={...G,...i},c=r(o,l),u=a(o),h=u?e():null;super(t,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,u,c.playbackRate,$,X)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"===typeof t?o(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){M(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),Y(this)&&I(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}},K=(t,e,n,i,r)=>()=>{const s=new WeakMap;let a=null,o=null;const l=async(l,c)=>{let u=n(l);const h=z(u,c);if(!h){const t={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,loop:u.loop,loopEnd:u.loopEnd,loopStart:u.loopStart,playbackRate:u.playbackRate.value};u=e(c,t),null!==a&&u.start(...a),null!==o&&u.stop(o)}return s.set(c,u),h?await t(c,l.playbackRate,u.playbackRate):await i(c,l.playbackRate,u.playbackRate),await r(l,c,u),u};return{set start(t){a=t},set stop(t){o=t},render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):l(t,e)}}},Q=t=>"playbackRate"in t,J=t=>"frequency"in t&&"gain"in t,tt=t=>"offset"in t,et=t=>!("frequency"in t)&&"gain"in t,nt=t=>"detune"in t&&"frequency"in t&&!("gain"in t),it=t=>"pan"in t,rt=t=>C(c,t),st=t=>C(h,t),at=(t,e)=>{const{activeInputs:n}=rt(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||at(n,[...e,t])}))));const i=Q(t)?[t.playbackRate]:O(t)?Array.from(t.parameters.values()):J(t)?[t.Q,t.detune,t.frequency,t.gain]:tt(t)?[t.offset]:et(t)?[t.gain]:nt(t)?[t.detune,t.frequency]:it(t)?[t.pan]:[];for(const r of i){const t=st(r);void 0!==t&&t.activeInputs.forEach((([t])=>at(t,e)))}Y(t)&&I(t)},ot=t=>{at(t.destination,[])},lt=t=>void 0===t||"number"===typeof t||"string"===typeof t&&("balanced"===t||"interactive"===t||"playback"===t),ct=(t,e,n,i,r,s,a,o,l)=>class extends t{constructor(t={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new l(t)}catch(a){if(12===a.code&&"sampleRate is not in range"===a.message)throw n();throw a}if(null===e)throw i();if(!lt(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:r}=t,{sampleRate:s}=e;if(this._baseLatency="number"===typeof e.baseLatency?e.baseLatency:"balanced"===r?512/s:"interactive"===r||void 0===r?256/s:"playback"===r?1024/s:128*Math.max(2,Math.min(128,Math.round(r*s/128)))/s,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ot(this)})))}createMediaElementSource(t){return new r(this,{mediaElement:t})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(t){return new a(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new o(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}},ut=(t,e,n,i,r,s,a,o)=>class extends t{constructor(t,n){const i=s(t),l=a(i),c=r(i,n,l),u=l?e(o):null;super(t,!1,c,u),this._isNodeOfNativeOfflineAudioContext=l,this._nativeAudioDestinationNode=c}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},ht=t=>{const e=new WeakMap,n=async(n,i)=>{const r=i.destination;return e.set(i,r),await t(n,i,r),r};return{render(t,i){const r=e.get(i);return void 0!==r?Promise.resolve(r):n(t,i)}}},dt=(t,e,n,i,r,s,a,o)=>(l,c)=>{const u=c.listener,h=()=>{const h=new Float32Array(1),d=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),f=a(c);let p=!1,m=[0,0,-1,0,1,0],_=[0,0,0];const v=()=>{if(p)return;p=!0;const t=i(c,256,9,0);t.onaudioprocess=({inputBuffer:t})=>{const e=[s(t,h,0),s(t,h,1),s(t,h,2),s(t,h,3),s(t,h,4),s(t,h,5)];e.some(((t,e)=>t!==m[e]))&&(u.setOrientation(...e),m=e);const n=[s(t,h,6),s(t,h,7),s(t,h,8)];n.some(((t,e)=>t!==_[e]))&&(u.setPosition(...n),_=n)},d.connect(t)},g=t=>e=>{e!==m[t]&&(m[t]=e,u.setOrientation(...m))},y=t=>e=>{e!==_[t]&&(_[t]=e,u.setPosition(..._))},b=(e,i,s)=>{const a=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:i});a.connect(d,0,e),a.start(),Object.defineProperty(a.offset,"defaultValue",{get(){return i}});const u=t({context:l},f,a.offset,$,X);return o(u,"value",(t=>()=>t.call(u)),(t=>e=>{try{t.call(u,e)}catch(n){if(9!==n.code)throw n}v(),f&&s(e)})),u.cancelAndHoldAtTime=(t=>f?()=>{throw r()}:(...e)=>{const n=t.apply(u,e);return v(),n})(u.cancelAndHoldAtTime),u.cancelScheduledValues=(t=>f?()=>{throw r()}:(...e)=>{const n=t.apply(u,e);return v(),n})(u.cancelScheduledValues),u.exponentialRampToValueAtTime=(t=>f?()=>{throw r()}:(...e)=>{const n=t.apply(u,e);return v(),n})(u.exponentialRampToValueAtTime),u.linearRampToValueAtTime=(t=>f?()=>{throw r()}:(...e)=>{const n=t.apply(u,e);return v(),n})(u.linearRampToValueAtTime),u.setTargetAtTime=(t=>f?()=>{throw r()}:(...e)=>{const n=t.apply(u,e);return v(),n})(u.setTargetAtTime),u.setValueAtTime=(t=>f?()=>{throw r()}:(...e)=>{const n=t.apply(u,e);return v(),n})(u.setValueAtTime),u.setValueCurveAtTime=(t=>f?()=>{throw r()}:(...e)=>{const n=t.apply(u,e);return v(),n})(u.setValueCurveAtTime),u};return{forwardX:b(0,0,g(0)),forwardY:b(1,0,g(1)),forwardZ:b(2,-1,g(2)),positionX:b(6,0,y(0)),positionY:b(7,0,y(1)),positionZ:b(8,0,y(2)),upX:b(3,0,g(3)),upY:b(4,1,g(4)),upZ:b(5,0,g(5))}},{forwardX:d,forwardY:f,forwardZ:p,positionX:m,positionY:_,positionZ:v,upX:g,upY:y,upZ:b}=void 0===u.forwardX?h():u;return{get forwardX(){return d},get forwardY(){return f},get forwardZ(){return p},get positionX(){return m},get positionY(){return _},get positionZ(){return v},get upX(){return g},get upY(){return y},get upZ(){return b}}},ft=t=>"context"in t,pt=t=>ft(t[0]),mt=(t,e,n,i)=>{for(const r of t)if(n(r)){if(i)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},_t=(t,e,[n,i],r)=>{mt(t,[e,n,i],(t=>t[0]===e&&t[1]===n),r)},vt=(t,[e,n,i],r)=>{const s=t.get(e);void 0===s?t.set(e,new Set([[n,i]])):mt(s,[n,i],(t=>t[0]===n),r)},gt=t=>"inputs"in t,yt=(t,e,n,i)=>{if(gt(e)){const r=e.inputs[i];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,i),[e,n,i]},bt=(t,e,n)=>{for(const i of t)if(i[0]===e&&i[1]===n)return t.delete(i),i;return null},wt=(t,e,n)=>T(t,(t=>t[0]===e&&t[1]===n)),xt=(t,e)=>{const n=E(t);if(!n.delete(e))throw new Error("Missing the expected event listener.")},kt=(t,e,n)=>{const i=C(t,e),r=T(i,(t=>t[0]===n));return 0===i.size&&t.delete(e),r},St=(t,e,n,i)=>{gt(e)?t.disconnect(e.inputs[i],n,0):t.disconnect(e,n,i)},Ct=t=>C(u,t),Tt=t=>C(d,t),At=t=>m.has(t),Et=t=>!l.has(t),Mt=(t,e)=>new Promise((n=>{if(null!==e)n(!0);else{const e=t.createScriptProcessor(256,1,1),i=t.createGain(),r=t.createBuffer(1,2,44100),s=r.getChannelData(0);s[0]=1,s[1]=1;const a=t.createBufferSource();a.buffer=r,a.loop=!0,a.connect(e).connect(t.destination),a.connect(i),a.disconnect(i),e.onaudioprocess=i=>{const r=i.inputBuffer.getChannelData(0);Array.prototype.some.call(r,(t=>1===t))?n(!0):n(!1),a.stop(),e.onaudioprocess=null,a.disconnect(e),e.disconnect(t.destination)},a.start()}})),Ot=(t,e)=>{const n=new Map;for(const i of t)for(const t of i){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},It=t=>"context"in t,Pt=t=>{const e=new Map;t.connect=(t=>(n,i=0,r=0)=>{const s=It(n)?t(n,i,r):t(n,i),a=e.get(n);return void 0===a?e.set(n,[{input:r,output:i}]):a.every((t=>t.input!==r||t.output!==i))&&a.push({input:r,output:i}),s})(t.connect.bind(t)),t.disconnect=(n=>(i,r,s)=>{if(n.apply(t),void 0===i)e.clear();else if("number"===typeof i)for(const[t,n]of e){const r=n.filter((t=>t.output!==i));0===r.length?e.delete(t):e.set(t,r)}else if(e.has(i))if(void 0===r)e.delete(i);else{const t=e.get(i);if(void 0!==t){const n=t.filter((t=>t.output!==r&&(t.input!==s||void 0===s)));0===n.length?e.delete(i):e.set(i,n)}}for(const[n,a]of e)a.forEach((e=>{It(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})(t.disconnect)},Rt=(t,e,n,i)=>{const{activeInputs:r,passiveInputs:s}=st(e),{outputs:a}=rt(t),o=E(t),l=a=>{const o=Ct(t),l=Tt(e);if(a){const e=kt(s,t,n);_t(r,t,e,!1),i||At(t)||o.connect(l,n)}else{const e=wt(r,t,n);vt(s,e,!1),i||At(t)||o.disconnect(l,n)}};return!!mt(a,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(o.add(l),Y(t)?_t(r,t,[n,l],!0):vt(s,[t,n,l],!0),!0)},Dt=(t,e,n,i)=>{const{activeInputs:r,passiveInputs:s}=rt(e),a=bt(r[i],t,n);if(null===a){const e=A(s,t,n,i);return[e[2],!1]}return[a[2],!0]},Nt=(t,e,n)=>{const{activeInputs:i,passiveInputs:r}=st(e),s=bt(i,t,n);if(null===s){const e=kt(r,t,n);return[e[1],!1]}return[s[2],!0]},Lt=(t,e,n,i,r)=>{const[s,a]=Dt(t,n,i,r);if(null!==s&&(xt(t,s),!a||e||At(t)||St(Ct(t),Ct(n),i,r)),Y(n)){const{activeInputs:t}=rt(n);P(n,t)}},Bt=(t,e,n,i)=>{const[r,s]=Nt(t,n,i);null!==r&&(xt(t,r),!s||e||At(t)||Ct(t).disconnect(Tt(n),i))},Vt=(t,e)=>{const n=rt(t),i=[];for(const r of n.outputs)pt(r)?Lt(t,e,...r):Bt(t,e,...r),i.push(r[0]);return n.outputs.clear(),i},zt=(t,e,n)=>{const i=rt(t),r=[];for(const s of i.outputs)s[1]===n&&(pt(s)?Lt(t,e,...s):Bt(t,e,...s),r.push(s[0]),i.outputs.delete(s));return r},jt=(t,e,n,i,r)=>{const s=rt(t);return Array.from(s.outputs).filter((t=>t[0]===n&&(void 0===i||t[1]===i)&&(void 0===r||t[2]===r))).map((n=>(pt(n)?Lt(t,e,...n):Bt(t,e,...n),s.outputs.delete(n),n[0])))},Ft=(t,e,n,i,r,s,a,o,l,c,h,d,f,m,_,v)=>class extends c{constructor(e,i,r,s){super(r),this._context=e,this._nativeAudioNode=r;const a=h(e);d(a)&&!0!==n(Mt,(()=>Mt(a,v)))&&Pt(r),u.set(this,r),p.set(this,new Set),"closed"!==e.state&&i&&M(this),t(this,s,r)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,o=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw r();const c=h(this._context),u=_(c);if(f(t)||m(t))throw s();if(ft(t)){const r=Ct(t);try{const e=yt(this._nativeAudioNode,r,n,o),i=Et(this);(u||i)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!i&&Et(t)&&M(t)}catch(v){if(12===v.code)throw s();throw v}const a=e(this,t,n,o,u);if(a){const e=l([this],t);Ot(e,i(u))}return t}const d=Tt(t);if("playbackRate"===d.name&&1024===d.maxValue)throw a();try{this._nativeAudioNode.connect(d,n),(u||Et(this))&&this._nativeAudioNode.disconnect(d,n)}catch(v){if(12===v.code)throw s();throw v}const p=Rt(this,t,n,u);if(p){const e=l([this],t);Ot(e,i(u))}}disconnect(t,e,n){let i;const a=h(this._context),c=_(a);if(void 0===t)i=Vt(this,c);else if("number"===typeof t){if(t<0||t>=this.numberOfOutputs)throw r();i=zt(this,c,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw r();if(ft(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw r();if(i=jt(this,c,t,e,n),0===i.length)throw s()}for(const r of i){const t=l([this],r);Ot(t,o)}}},qt=(t,e,n,r,s,a,o,l,c,u,h,d,f)=>(p,m,_,v=null,g=null)=>{const y=_.value,b=new i.AutomationEventList(y),w=m?r(b):null,x={get defaultValue(){return y},get maxValue(){return null===v?_.maxValue:v},get minValue(){return null===g?_.minValue:g},get value(){return _.value},set value(t){_.value=t,x.setValueAtTime(t,p.context.currentTime)},cancelAndHoldAtTime(t){if("function"===typeof _.cancelAndHoldAtTime)null===w&&b.flush(p.context.currentTime),b.add(s(t)),_.cancelAndHoldAtTime(t);else{const e=Array.from(b).pop();null===w&&b.flush(p.context.currentTime),b.add(s(t));const n=Array.from(b).pop();_.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?_.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?_.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?_.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&_.setValueCurveAtTime(n.values,n.startTime,n.duration))}return x},cancelScheduledValues(t){return null===w&&b.flush(p.context.currentTime),b.add(a(t)),_.cancelScheduledValues(t),x},exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;const n=p.context.currentTime;return null===w&&b.flush(n),0===Array.from(b).length&&(b.add(u(y,n)),_.setValueAtTime(y,n)),b.add(o(t,e)),_.exponentialRampToValueAtTime(t,e),x},linearRampToValueAtTime(t,e){const n=p.context.currentTime;return null===w&&b.flush(n),0===Array.from(b).length&&(b.add(u(y,n)),_.setValueAtTime(y,n)),b.add(l(t,e)),_.linearRampToValueAtTime(t,e),x},setTargetAtTime(t,e,n){return null===w&&b.flush(p.context.currentTime),b.add(c(t,e,n)),_.setTargetAtTime(t,e,n),x},setValueAtTime(t,e){return null===w&&b.flush(p.context.currentTime),b.add(u(t,e)),_.setValueAtTime(t,e),x},setValueCurveAtTime(t,e,n){const i=t instanceof Float32Array?t:new Float32Array(t);if(null!==d&&"webkitAudioContext"===d.name){const t=e+n,r=p.context.sampleRate,s=Math.ceil(e*r),a=Math.floor(t*r),o=a-s,l=new Float32Array(o);for(let u=0;u<o;u+=1){const t=(i.length-1)/n*((s+u)/r-e),a=Math.floor(t),o=Math.ceil(t);l[u]=a===o?i[a]:(1-(t-a))*i[a]+(1-(o-t))*i[o]}null===w&&b.flush(p.context.currentTime),b.add(h(l,e,n)),_.setValueCurveAtTime(l,e,n);const c=a/r;c<t&&f(x,l[l.length-1],c),f(x,i[i.length-1],t)}else null===w&&b.flush(p.context.currentTime),b.add(h(i,e,n)),_.setValueCurveAtTime(i,e,n);return x}};return n.set(x,_),e.set(x,p),t(x,w),x},Ut=t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:i}=n;e.exponentialRampToValueAtTime(i,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:i}=n;e.linearRampToValueAtTime(i,t)}else if("setTarget"===n.type){const{startTime:t,target:i,timeConstant:r}=n;e.setTargetAtTime(i,t,r)}else if("setValue"===n.type){const{startTime:t,value:i}=n;e.setValueAtTime(i,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:i,values:r}=n;e.setValueCurveAtTime(r,i,t)}}}});class Ht{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,i)=>t.call(e,n,i,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Wt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Xt=(t,e,n,i,r,s,a,o,l,c,u,h,d,f)=>class extends e{constructor(e,f,p){var m;const v=o(e),g=l(v),y=u({...Wt,...p});d(y);const b=_.get(v),w=null===b||void 0===b?void 0:b.get(f),x=g||"closed"!==v.state?v:null!==(m=a(v))&&void 0!==m?m:v,k=r(x,g?null:e.baseLatency,c,f,w,y),S=g?i(f,y,w):null;super(e,!0,k,S);const C=[];k.parameters.forEach(((t,e)=>{const i=n(this,g,t);C.push([e,i])})),this._nativeAudioWorkletNode=k,this._onprocessorerror=null,this._parameters=new Ht(C),g&&t(v,this);const{activeInputs:T}=s(this);h(k,T)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"===typeof t?f(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function $t(t,e,n,i,r){if("function"===typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],i,r);else{const s=t.getChannelData(i);if(0===e[n].byteLength)e[n]=s.slice(r,r+128);else{const t=new Float32Array(s.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const Yt=(t,e,n,i,r)=>{"function"===typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],i,r):0!==e[n].byteLength&&t.getChannelData(i).set(e[n],r)},Gt=(t,e)=>{const n=[];for(let i=0;i<t;i+=1){const t=[],r="number"===typeof e?e:e[i];for(let e=0;e<r;e+=1)t.push(new Float32Array(128));n.push(t)}return n},Zt=(t,e)=>{const n=C(v,t),i=Ct(e);return C(n,i)},Kt=async(t,e,n,i,r,s,a)=>{const o=null===e?128*Math.ceil(t.context.length/128):e.length,l=i.channelCount*i.numberOfInputs,c=r.reduce(((t,e)=>t+e),0),u=0===c?null:n.createBuffer(c,o,n.sampleRate);if(void 0===s)throw new Error("Missing the processor constructor.");const h=rt(t),d=await Zt(n,t),f=Gt(i.numberOfInputs,i.channelCount),p=Gt(i.numberOfOutputs,r),m=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let v=0;v<o;v+=128){if(i.numberOfInputs>0&&null!==e)for(let t=0;t<i.numberOfInputs;t+=1)for(let n=0;n<i.channelCount;n+=1)$t(e,f[t],n,n,v);void 0!==s.parameterDescriptors&&null!==e&&s.parameterDescriptors.forEach((({name:t},n)=>{$t(e,m,t,l+n,v)}));for(let t=0;t<i.numberOfInputs;t+=1)for(let e=0;e<r[t];e+=1)0===p[t][e].byteLength&&(p[t][e]=new Float32Array(128));try{const t=f.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=a(v/n.sampleRate,n.sampleRate,(()=>d.process(t,p,m)));if(null!==u)for(let n=0,s=0;n<i.numberOfOutputs;n+=1){for(let t=0;t<r[n];t+=1)Yt(u,p[n],t,s+t,v);s+=r[n]}if(!e)break}catch(_){t.dispatchEvent(new ErrorEvent("processorerror",{colno:_.colno,filename:_.filename,lineno:_.lineno,message:_.message}));break}}return u},Qt=(t,e,n,i,r,s,a,o,l,c,u,h,d,f,p,m)=>(_,v,g)=>{const y=new WeakMap;let b=null;const w=async(o,w)=>{let x=u(o),k=null;const S=z(x,w),C=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===h){const t=C.reduce(((t,e)=>t+e),0),n=r(w,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),s=[];for(let e=0;e<o.numberOfOutputs;e+=1)s.push(i(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[e]}));const c=a(w,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});c.connect=e.bind(null,s),c.disconnect=l.bind(null,s),k=[n,s,c]}else S||(x=new h(w,_));if(y.set(w,null===k?x:k[2]),null!==k){if(null===b){if(void 0===g)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=o.channelCount*o.numberOfInputs,e=void 0===g.parameterDescriptors?0:g.parameterDescriptors.length,n=t+e,l=async()=>{const l=new d(n,128*Math.ceil(o.context.length/128),w.sampleRate),c=[],u=[];for(let t=0;t<v.numberOfInputs;t+=1)c.push(a(l,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),u.push(r(l,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(o.parameters.values()).map((async t=>{const e=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await f(l,t,e.offset),e}))),_=i(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<v.numberOfInputs;t+=1){c[t].connect(u[t]);for(let e=0;e<v.channelCount;e+=1)u[t].connect(_,e,t*v.channelCount+e)}for(const[e,n]of h.entries())n.connect(_,0,t+e),n.start(0);return _.connect(l.destination),await Promise.all(c.map((t=>p(o,l,t)))),m(l)};b=Kt(o,0===n?null:await l(),w,v,C,g,c)}const t=await b,e=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,u,h]=k;null!==t&&(e.buffer=t,e.start(0)),e.connect(l);for(let n=0,i=0;n<o.numberOfOutputs;n+=1){const t=u[n];for(let e=0;e<C[n];e+=1)l.connect(t,i+e,e);i+=C[n]}return h}if(S)for(const[e,n]of o.parameters.entries())await t(w,n,x.parameters.get(e));else for(const[t,e]of o.parameters.entries())await f(w,e,x.parameters.get(t));return await p(o,w,x),x};return{render(t,e){o(e,t);const n=y.get(e);return void 0!==n?Promise.resolve(n):w(t,e)}}},Jt=(t,e,n,i,r,s,a,o,l,c,u,h,d,f,p,m,_,v,g,y)=>class extends p{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(t,e,i){return new n({length:e,numberOfChannels:t,sampleRate:i})}createBufferSource(){return new i(this)}createChannelMerger(t=6){return new s(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new a(this,{numberOfOutputs:t})}createConstantSource(){return new o(this)}createConvolver(){return new l(this)}createDelay(t=1){return new u(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new f(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new _(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new v(this,{...n,imag:e,real:t})}createStereoPanner(){return new g(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,n){return c(this._nativeContext,t).then((t=>("function"===typeof e&&e(t),t)),(t=>{throw"function"===typeof n&&n(t),t}))}},te={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},ee=(t,e,n,i,r,s,a,o)=>class extends t{constructor(t,i){const l=s(t),c={...te,...i},u=r(l,c),h=a(l),d=h?n():null;super(t,!1,u,d),this._Q=e(this,h,u.Q,$,X),this._detune=e(this,h,u.detune,1200*Math.log2($),-1200*Math.log2($)),this._frequency=e(this,h,u.frequency,t.sampleRate/2,0),this._gain=e(this,h,u.gain,40*Math.log10($),X),this._nativeBiquadFilterNode=u,o(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(r){if(11===r.code)throw i();throw r}if(t.length!==e.length||e.length!==n.length)throw i()}},ne=(t,e,n,i,r)=>()=>{const s=new WeakMap,a=async(a,o)=>{let l=n(a);const c=z(l,o);if(!c){const t={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(o,t)}return s.set(o,l),c?(await t(o,a.Q,l.Q),await t(o,a.detune,l.detune),await t(o,a.frequency,l.frequency),await t(o,a.gain,l.gain)):(await i(o,a.Q,l.Q),await i(o,a.detune,l.detune),await i(o,a.frequency,l.frequency),await i(o,a.gain,l.gain)),await r(a,o,l),l};return{render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):a(t,e)}}},ie=(t,e)=>(n,i)=>{const r=e.get(n);if(void 0!==r)return r;const s=t.get(n);if(void 0!==s)return s;try{const r=i();return r instanceof Promise?(t.set(n,r),r.catch((()=>!1)).then((i=>(t.delete(n),e.set(n,i),i)))):(e.set(n,r),r)}catch{return e.set(n,!1),!1}},re={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},se=(t,e,n,i,r)=>class extends t{constructor(t,s){const a=i(t),o={...re,...s},l=n(a,o),c=r(a)?e():null;super(t,!1,l,c)}},ae=(t,e,n)=>()=>{const i=new WeakMap,r=async(r,s)=>{let a=e(r);const o=z(a,s);if(!o){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(s,e)}return i.set(s,a),await n(r,s,a),a};return{render(t,e){const n=i.get(e);return void 0!==n?Promise.resolve(n):r(t,e)}}},oe={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},le=(t,e,n,i,r,s)=>class extends t{constructor(t,a){const o=i(t),l=s({...oe,...a}),c=n(o,l),u=r(o)?e():null;super(t,!1,c,u)}},ce=(t,e,n)=>()=>{const i=new WeakMap,r=async(r,s)=>{let a=e(r);const o=z(a,s);if(!o){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(s,e)}return i.set(s,a),await n(r,s,a),a};return{render(t,e){const n=i.get(e);return void 0!==n?Promise.resolve(n):r(t,e)}}},ue=t=>(e,n,i)=>t(n,e,i),he=t=>(e,n,i=0,r=0)=>{const s=e[i];if(void 0===s)throw t();return It(n)?s.connect(n,0,r):s.connect(n,0)},de=t=>(e,n)=>{const i=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return i.buffer=r,i.loop=!0,i.connect(n),i.start(),()=>{i.stop(),i.disconnect(n)}},fe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},pe=(t,e,n,i,r,s,a)=>class extends t{constructor(t,a){const o=r(t),l={...fe,...a},c=i(o,l),u=s(o),h=u?n():null;super(t,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=e(this,u,c.offset,$,X),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"===typeof t?a(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){M(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),Y(this)&&I(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}},me=(t,e,n,i,r)=>()=>{const s=new WeakMap;let a=null,o=null;const l=async(l,c)=>{let u=n(l);const h=z(u,c);if(!h){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,offset:u.offset.value};u=e(c,t),null!==a&&u.start(a),null!==o&&u.stop(o)}return s.set(c,u),h?await t(c,l.offset,u.offset):await i(c,l.offset,u.offset),await r(l,c,u),u};return{set start(t){a=t},set stop(t){o=t},render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):l(t,e)}}},_e=t=>e=>(t[0]=e,t[0]),ve={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},ge=(t,e,n,i,r,s)=>class extends t{constructor(t,a){const o=i(t),l={...ve,...a},c=n(o,l),u=r(o),h=u?e():null;super(t,!1,c,h),this._isBufferNullified=!1,this._nativeConvolverNode=c,null!==l.buffer&&s(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,t.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}},ye=(t,e,n)=>()=>{const i=new WeakMap,r=async(r,s)=>{let a=e(r);const o=z(a,s);if(!o){const e={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(s,e)}return i.set(s,a),gt(a)?await n(r,s,a.inputs[0]):await n(r,s,a),a};return{render(t,e){const n=i.get(e);return void 0!==n?Promise.resolve(n):r(t,e)}}},be=(t,e)=>(n,i,r)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,i,r)}catch(s){if("SyntaxError"===s.name)throw t();throw s}},we=()=>new DOMException("","DataCloneError"),xe=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((i=>{const r=()=>{n.onmessage=null,e.close(),n.close(),i()};n.onmessage=()=>r();try{e.postMessage(t,[t])}catch{}finally{r()}}))},ke=(t,e,n,i,r,s,a,o,l,c,u)=>(h,d)=>{const f=a(h)?h:s(h);if(r.has(d)){const t=n();return Promise.reject(t)}try{r.add(d)}catch{}return e(l,(()=>l(f)))?f.decodeAudioData(d).then((n=>(xe(d).catch((()=>{})),e(o,(()=>o(n)))||u(n),t.add(n),n))):new Promise(((e,n)=>{const r=async()=>{try{await xe(d)}catch{}},s=t=>{n(t),r()};try{f.decodeAudioData(d,(n=>{"function"!==typeof n.copyFromChannel&&(c(n),U(n)),t.add(n),r().then((()=>e(n)))}),(t=>{s(null===t?i():t)}))}catch(a){s(a)}}))},Se=(t,e,n,i,r,s,a,o)=>(l,c)=>{const u=e.get(l);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=s(l.context),d=o(h);if(u===c){if(e.delete(l),!d&&a(l)){const e=i(l),{outputs:s}=n(l);for(const n of s)if(pt(n)){const r=i(n[0]);t(e,r,n[1],n[2])}else{const t=r(n[0]);e.connect(t,n[1])}}}else e.set(l,u-c)},Ce={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Te=(t,e,n,i,r,s,a)=>class extends t{constructor(t,o){const l=r(t),c={...Ce,...o},u=i(l,c),h=s(l),d=h?n(c.maxDelayTime):null;super(t,!1,u,d),this._delayTime=e(this,h,u.delayTime),a(this,c.maxDelayTime)}get delayTime(){return this._delayTime}},Ae=(t,e,n,i,r)=>s=>{const a=new WeakMap,o=async(o,l)=>{let c=n(o);const u=z(c,l);if(!u){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:s};c=e(l,t)}return a.set(l,c),u?await t(l,o.delayTime,c.delayTime):await i(l,o.delayTime,c.delayTime),await r(o,l,c),c};return{render(t,e){const n=a.get(e);return void 0!==n?Promise.resolve(n):o(t,e)}}},Ee=t=>(e,n,i,r)=>t(e[r],(t=>t[0]===n&&t[1]===i)),Me=t=>(e,n)=>{t(e).delete(n)},Oe=t=>"delayTime"in t,Ie=(t,e,n)=>function i(r,s){const a=ft(s)?s:n(t,s);if(Oe(a))return[];if(r[0]===a)return[r];if(r.includes(a))return[];const{outputs:o}=e(a);return Array.from(o).map((t=>i([...r,a],t[0]))).reduce(((t,e)=>t.concat(e)),[])},Pe=(t,e,n)=>{const i=e[n];if(void 0===i)throw t();return i},Re=t=>(e,n=void 0,i=void 0,r=0)=>void 0===n?e.forEach((t=>t.disconnect())):"number"===typeof n?Pe(t,e,n).disconnect():It(n)?void 0===i?e.forEach((t=>t.disconnect(n))):void 0===r?Pe(t,e,i).disconnect(n,0):Pe(t,e,i).disconnect(n,0,r):void 0===i?e.forEach((t=>t.disconnect(n))):Pe(t,e,i).disconnect(n,0),De={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Ne=(t,e,n,i,r,s,a,o)=>class extends t{constructor(t,r){const l=s(t),c={...De,...r},u=i(l,c),h=a(l),d=h?n():null;super(t,!1,u,d),this._attack=e(this,h,u.attack),this._knee=e(this,h,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=e(this,h,u.ratio),this._release=e(this,h,u.release),this._threshold=e(this,h,u.threshold),o(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"===typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Le=(t,e,n,i,r)=>()=>{const s=new WeakMap,a=async(a,o)=>{let l=n(a);const c=z(l,o);if(!c){const t={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(o,t)}return s.set(o,l),c?(await t(o,a.attack,l.attack),await t(o,a.knee,l.knee),await t(o,a.ratio,l.ratio),await t(o,a.release,l.release),await t(o,a.threshold,l.threshold)):(await i(o,a.attack,l.attack),await i(o,a.knee,l.knee),await i(o,a.ratio,l.ratio),await i(o,a.release,l.release),await i(o,a.threshold,l.threshold)),await r(a,o,l),l};return{render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):a(t,e)}}},Be=()=>new DOMException("","EncodingError"),Ve=t=>e=>new Promise(((n,i)=>{if(null===t)return void i(new SyntaxError);const r=t.document.head;if(null===r)i(new SyntaxError);else{const s=t.document.createElement("script"),a=new Blob([e],{type:"application/javascript"}),o=URL.createObjectURL(a),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(o)};t.onerror=(e,n,r,s,a)=>n===o||n===t.location.href&&1===r&&1===s?(c(),i(a),!1):null!==l?l(e,n,r,s,a):void 0,s.onerror=()=>{c(),i(new SyntaxError)},s.onload=()=>{c(),n()},s.src=o,s.type="module",r.appendChild(s)}})),ze=t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,i){if(null!==n){let r=this._listeners.get(n);void 0===r&&(r=t(this,n),"function"===typeof n&&this._listeners.set(n,r)),this._nativeEventTarget.addEventListener(e,r,i)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const i=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===i?null:i,n)}},je=t=>(e,n,i)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return i()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}},Fe=t=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw t()},qe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ue=(t,e,n,i,r,s)=>class extends t{constructor(t,a){const o=r(t),l={...qe,...a},c=i(o,l),u=s(o),h=u?n():null;super(t,!1,c,h),this._gain=e(this,u,c.gain,$,X)}get gain(){return this._gain}},He=(t,e,n,i,r)=>()=>{const s=new WeakMap,a=async(a,o)=>{let l=n(a);const c=z(l,o);if(!c){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(o,t)}return s.set(o,l),c?await t(o,a.gain,l.gain):await i(o,a.gain,l.gain),await r(a,o,l),l};return{render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):a(t,e)}}},We=(t,e)=>n=>e(t,n),Xe=t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},$e=t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0},Ye=t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Ge=t=>e=>t.get(e),Ze=()=>new DOMException("","InvalidStateError"),Ke=t=>e=>{const n=t.get(e);if(void 0===n)throw Ze();return n},Qe=(t,e)=>n=>{let i=t.get(n);if(void 0!==i)return i;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),t.set(n,i),i},Je=t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n},tn=()=>new DOMException("","InvalidAccessError"),en=t=>{t.getFrequencyResponse=(e=>(n,i,r)=>{if(n.length!==i.length||i.length!==r.length)throw tn();return e.call(t,n,i,r)})(t.getFrequencyResponse)},nn={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},rn=(t,e,n,i,r,s)=>class extends t{constructor(t,a){const o=i(t),l=r(o),c={...nn,...a},u=e(o,l?null:t.baseLatency,c),h=l?n(c.feedback,c.feedforward):null;super(t,!1,u,h),en(u),this._nativeIIRFilterNode=u,s(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}},sn=(t,e,n,i,r,s,a,o,l,c,u)=>{const h=c.length;let d=o;for(let f=0;f<h;f+=1){let o=n[0]*c[f];for(let e=1;e<r;e+=1){const i=d-e&l-1;o+=n[e]*s[i],o-=t[e]*a[i]}for(let t=r;t<i;t+=1)o+=n[t]*s[d-t&l-1];for(let n=r;n<e;n+=1)o-=t[n]*a[d-n&l-1];s[d]=c[f],a[d]=o,d=d+1&l-1,u[f]=o}return d},an=(t,e,n,i)=>{const r=n instanceof Float64Array?n:new Float64Array(n),s=i instanceof Float64Array?i:new Float64Array(i),a=r.length,o=s.length,l=Math.min(a,o);if(1!==r[0]){for(let t=0;t<a;t+=1)s[t]/=r[0];for(let t=1;t<o;t+=1)r[t]/=r[0]}const c=32,u=new Float32Array(c),h=new Float32Array(c),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let p=0;p<f;p+=1){const e=t.getChannelData(p),n=d.getChannelData(p);u.fill(0),h.fill(0),sn(r,a,s,o,l,u,h,0,c,e,n)}return d},on=(t,e,n,i,r)=>(s,a)=>{const o=new WeakMap;let l=null;const c=async(c,u)=>{let h=null,d=e(c);const f=z(d,u);if(void 0===u.createIIRFilter?h=t(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(d=u.createIIRFilter(a,s)),o.set(u,null===h?d:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(c.context.destination.channelCount,c.context.length,u.sampleRate);l=(async()=>{await i(c,t,t.destination);const e=await r(t);return an(e,u,s,a)})()}const t=await l;return h.buffer=t,h.start(0),h}return await i(c,u,d),d};return{render(t,e){const n=o.get(e);return void 0!==n?Promise.resolve(n):c(t,e)}}},ln=(t,e,n,i,r,s)=>a=>(o,l)=>{const c=t.get(o);if(void 0===c){if(!a&&s(o)){const t=i(o),{outputs:s}=n(o);for(const n of s)if(pt(n)){const r=i(n[0]);e(t,r,n[1],n[2])}else{const e=r(n[0]);t.disconnect(e,n[1])}}t.set(o,l)}else t.set(o,c+l)},cn=(t,e)=>n=>{const i=t.get(n);return e(i)||e(n)},un=(t,e)=>n=>t.has(n)||e(n),hn=(t,e)=>n=>t.has(n)||e(n),dn=(t,e)=>n=>{const i=t.get(n);return e(i)||e(n)},fn=t=>e=>null!==t&&e instanceof t,pn=t=>e=>null!==t&&"function"===typeof t.AudioNode&&e instanceof t.AudioNode,mn=t=>e=>null!==t&&"function"===typeof t.AudioParam&&e instanceof t.AudioParam,_n=(t,e)=>n=>t(n)||e(n),vn=t=>e=>null!==t&&e instanceof t,gn=t=>null!==t&&t.isSecureContext,yn=(t,e,n,i)=>class extends t{constructor(t,r){const s=n(t),a=e(s,r);if(i(s))throw TypeError();super(t,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},bn={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},wn=(t,e,n,i)=>class extends t{constructor(t,r){const s=n(t);if(i(s))throw new TypeError;const a={...bn,...r},o=e(s,a);super(t,!1,o,null),this._nativeMediaStreamAudioDestinationNode=o}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},xn=(t,e,n,i)=>class extends t{constructor(t,r){const s=n(t),a=e(s,r);if(i(s))throw new TypeError;super(t,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},kn=(t,e,n)=>class extends t{constructor(t,i){const r=n(t),s=e(r,i);super(t,!0,s,null)}},Sn=(t,e,n,i,r)=>class extends i{constructor(t={}){if(null===r)throw new Error("Missing the native AudioContext constructor.");let i;try{i=new r(t)}catch(o){if(12===o.code&&"sampleRate is not in range"===o.message)throw e();throw o}if(null===i)throw n();if(!lt(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&i.sampleRate!==t.sampleRate)throw e();super(i,2);const{latencyHint:s}=t,{sampleRate:a}=i;if(this._baseLatency="number"===typeof i.baseLatency?i.baseLatency:"balanced"===s?512/a:"interactive"===s||void 0===s?256/a:"playback"===s?1024/a:128*Math.max(2,Math.min(128,Math.round(s*a/128)))/a,this._nativeAudioContext=i,"webkitAudioContext"===r.name?(this._nativeGainNode=i.createGain(),this._nativeOscillatorNode=i.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(i.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===i.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),i.removeEventListener("statechange",t)};i.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw t()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ot(this)})))}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((e=>{if(void 0===e||15===e.code)throw t();throw e}))}suspend(){return this._nativeAudioContext.suspend().catch((e=>{if(void 0===e)throw t();throw e}))}},Cn=(t,e,n,i,r,s)=>class extends n{constructor(n,s){super(n),this._nativeContext=n,f.set(this,n),i(n)&&r.set(n,new Set),this._destination=new t(this,s),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"===typeof t?s(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Tn=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},An={numberOfChannels:1},En=(t,e,n,i,r)=>class extends i{constructor(e){const{length:i,numberOfChannels:r,sampleRate:s}={...An,...e},a=n(r,i,s);t(Tn,(()=>Tn(a)))||a.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(a.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(a,r),this._length=i,this._nativeOfflineAudioContext=a,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(e()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,ot(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}},Mn=(t,e)=>(n,i,r)=>{const s=new Set;return n.connect=(r=>(a,o=0,l=0)=>{const c=0===s.size;if(e(a))return r.call(n,a,o,l),t(s,[a,o,l],(t=>t[0]===a&&t[1]===o&&t[2]===l),!0),c&&i(),a;r.call(n,a,o),t(s,[a,o],(t=>t[0]===a&&t[1]===o),!0),c&&i()})(n.connect),n.disconnect=(t=>(i,a,o)=>{const l=s.size>0;if(void 0===i)t.apply(n),s.clear();else if("number"===typeof i){t.call(n,i);for(const t of s)t[1]===i&&s.delete(t)}else{e(i)?t.call(n,i,a,o):t.call(n,i,a);for(const t of s)t[0]!==i||void 0!==a&&t[1]!==a||void 0!==o&&t[2]!==o||s.delete(t)}const c=0===s.size;l&&c&&r()})(n.disconnect),n},On=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n]&&(t[n]=i)},In=(t,e)=>{On(t,e,"channelCount"),On(t,e,"channelCountMode"),On(t,e,"channelInterpretation")},Pn=t=>"function"===typeof t.getFloatTimeDomainData,Rn=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const i=Math.max(n.length,t.fftSize);for(let t=0;t<i;t+=1)e[t]=.0078125*(n[t]-128);return e}},Dn=(t,e)=>(n,i)=>{const r=n.createAnalyser();if(In(r,i),!(i.maxDecibels>i.minDecibels))throw e();return On(r,i,"fftSize"),On(r,i,"maxDecibels"),On(r,i,"minDecibels"),On(r,i,"smoothingTimeConstant"),t(Pn,(()=>Pn(r)))||Rn(r),r},Nn=t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Ln=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n].value&&(t[n].value=i)},Bn=t=>{t.start=(e=>{let n=!1;return(i=0,r=0,s)=>{if(n)throw Ze();e.call(t,i,r,s),n=!0}})(t.start)},Vn=t=>{t.start=(e=>(n=0,i=0,r)=>{if("number"===typeof r&&r<0||i<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,i,r)})(t.start)},zn=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},jn=(t,e,n,i,r,s,a,o,l,c,u)=>(h,d)=>{const f=h.createBufferSource();return In(f,d),Ln(f,d,"playbackRate"),On(f,d,"buffer"),On(f,d,"loop"),On(f,d,"loopEnd"),On(f,d,"loopStart"),e(n,(()=>n(h)))||Bn(f),e(i,(()=>i(h)))||l(f),e(r,(()=>r(h)))||c(f,h),e(s,(()=>s(h)))||Vn(f),e(a,(()=>a(h)))||u(f,h),e(o,(()=>o(h)))||zn(f),t(h,f),f},Fn=t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,qn=(t,e)=>(n,i,r)=>{const s=n.destination;if(s.channelCount!==i)try{s.channelCount=i}catch{}r&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:i});const a=t(n,{channelCount:i,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(a,"channelCount",(t=>()=>t.call(a)),(t=>e=>{t.call(a,e);try{s.channelCount=e}catch(n){if(e>s.maxChannelCount)throw n}})),e(a,"channelCountMode",(t=>()=>t.call(a)),(t=>e=>{t.call(a,e),s.channelCountMode=e})),e(a,"channelInterpretation",(t=>()=>t.call(a)),(t=>e=>{t.call(a,e),s.channelInterpretation=e})),Object.defineProperty(a,"maxChannelCount",{get:()=>s.maxChannelCount}),a.connect(s),a},Un=t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,Hn=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},Wn=(t,e,n,i,r)=>(s,a,o,l,c,u)=>{if(null!==o)try{const e=new o(s,l,u),i=new Map;let a=null;if(Object.defineProperties(e,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>a,set:t=>{"function"===typeof a&&e.removeEventListener("processorerror",a),a="function"===typeof t?t:null,"function"===typeof a&&e.addEventListener("processorerror",a)}}}),e.addEventListener=(t=>(...n)=>{if("processorerror"===n[0]){const t="function"===typeof n[1]?n[1]:"object"===typeof n[1]&&null!==n[1]&&"function"===typeof n[1].handleEvent?n[1].handleEvent:null;if(null!==t){const e=i.get(n[1]);void 0!==e?n[1]=e:(n[1]=e=>{"error"===e.type?(Object.defineProperties(e,{type:{value:"processorerror"}}),t(e)):t(new ErrorEvent(n[0],{...e}))},i.set(t,n[1]))}}return t.call(e,"error",n[1],n[2]),t.call(e,...n)})(e.addEventListener),e.removeEventListener=(t=>(...n)=>{if("processorerror"===n[0]){const t=i.get(n[1]);void 0!==t&&(i.delete(n[1]),n[1]=t)}return t.call(e,"error",n[1],n[2]),t.call(e,n[0],n[1],n[2])})(e.removeEventListener),0!==u.numberOfOutputs){const t=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(t).connect(s.destination);const i=()=>t.disconnect(),a=()=>t.connect(s.destination);return r(e,i,a)}return e}catch(h){if(11===h.code)throw i();throw h}if(void 0===c)throw i();return Hn(u),e(s,a,c,u)},Xn=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),$n=t=>new Promise(((e,n)=>{const{port1:i,port2:r}=new MessageChannel;i.onmessage=({data:t})=>{i.close(),r.close(),e(t)},i.onmessageerror=({data:t})=>{i.close(),r.close(),n(t)},r.postMessage(t)})),Yn=async(t,e)=>{const n=await $n(e);return new t(n)},Gn=(t,e,n,i)=>{let r=v.get(t);void 0===r&&(r=new WeakMap,v.set(t,r));const s=Yn(n,i);return r.set(e,s),s},Zn=(t,e,n,i,r,s,a,o,l,c,u,h,d)=>(f,p,m,_)=>{if(0===_.numberOfInputs&&0===_.numberOfOutputs)throw l();const v=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(v.some((t=>t<1)))throw l();if(v.length!==_.numberOfOutputs)throw e();if("explicit"!==_.channelCountMode)throw l();const g=_.channelCount*_.numberOfInputs,y=v.reduce(((t,e)=>t+e),0),b=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(g+b>6||y>6)throw l();const w=new MessageChannel,x=[],k=[];for(let t=0;t<_.numberOfInputs;t+=1)x.push(a(f,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),k.push(r(f,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const S=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:i}of m.parameterDescriptors){const r=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==_.parameterData[i]?_.parameterData[i]:void 0===t?0:t});Object.defineProperties(r.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?$:e},minValue:{get:()=>void 0===n?X:n}}),S.push(r)}const C=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,g+b)}),T=Xn(p,f.sampleRate),A=o(f,T,g+b,Math.max(1,y)),E=r(f,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),M=[];for(let t=0;t<_.numberOfOutputs;t+=1)M.push(i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[t]}));for(let t=0;t<_.numberOfInputs;t+=1){x[t].connect(k[t]);for(let e=0;e<_.channelCount;e+=1)k[t].connect(C,e,t*_.channelCount+e)}const O=new Ht(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:t},e)=>{const n=S[e];return n.connect(C,0,g+e),n.start(0),[t,n.offset]})));C.connect(A);let I=_.channelInterpretation,P=null;const R=0===_.numberOfOutputs?[A]:M,D={get bufferSize(){return T},get channelCount(){return _.channelCount},set channelCount(t){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return I},set channelInterpretation(t){for(const e of x)e.channelInterpretation=t;I=t},get context(){return A.context},get inputs(){return x},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return P},set onprocessorerror(t){"function"===typeof P&&D.removeEventListener("processorerror",P),P="function"===typeof t?t:null,"function"===typeof P&&D.addEventListener("processorerror",P)},get parameters(){return O},get port(){return w.port2},addEventListener(...t){return A.addEventListener(t[0],t[1],t[2])},connect:t.bind(null,R),disconnect:c.bind(null,R),dispatchEvent(...t){return A.dispatchEvent(t[0])},removeEventListener(...t){return A.removeEventListener(t[0],t[1],t[2])}},N=new Map;w.port1.addEventListener=(t=>(...e)=>{if("message"===e[0]){const t="function"===typeof e[1]?e[1]:"object"===typeof e[1]&&null!==e[1]&&"function"===typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=N.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{u(f.currentTime,f.sampleRate,(()=>t(e)))},N.set(t,e[1]))}}return t.call(w.port1,e[0],e[1],e[2])})(w.port1.addEventListener),w.port1.removeEventListener=(t=>(...e)=>{if("message"===e[0]){const t=N.get(e[1]);void 0!==t&&(N.delete(e[1]),e[1]=t)}return t.call(w.port1,e[0],e[1],e[2])})(w.port1.removeEventListener);let L=null;Object.defineProperty(w.port1,"onmessage",{get:()=>L,set:t=>{"function"===typeof L&&w.port1.removeEventListener("message",L),L="function"===typeof t?t:null,"function"===typeof L&&(w.port1.addEventListener("message",L),w.port1.start())}}),m.prototype.port=w.port1;let B=null;const V=Gn(f,D,m,_);V.then((t=>B=t));const z=Gt(_.numberOfInputs,_.channelCount),j=Gt(_.numberOfOutputs,v),F=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let q=!0;const U=()=>{_.numberOfOutputs>0&&A.disconnect(E);for(let t=0,e=0;t<_.numberOfOutputs;t+=1){const n=M[t];for(let i=0;i<v[t];i+=1)E.disconnect(n,e+i,i);e+=v[t]}},H=new Map;A.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==B){const i=h(D);for(let r=0;r<T;r+=128){for(let e=0;e<_.numberOfInputs;e+=1)for(let n=0;n<_.channelCount;n+=1)$t(t,z[e],n,n,r);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:e},n)=>{$t(t,F,e,g+n,r)}));for(let t=0;t<_.numberOfInputs;t+=1)for(let e=0;e<v[t];e+=1)0===j[t][e].byteLength&&(j[t][e]=new Float32Array(128));try{const t=z.map(((t,e)=>{const n=i[e];if(n.size>0)return H.set(e,T/128),t;const r=H.get(e);return void 0===r?[]:(t.every((t=>t.every((t=>0===t))))&&(1===r?H.delete(e):H.set(e,r-1)),t)})),n=u(f.currentTime+r/f.sampleRate,f.sampleRate,(()=>B.process(t,j,F)));q=n;for(let i=0,s=0;i<_.numberOfOutputs;i+=1){for(let t=0;t<v[i];t+=1)Yt(e,j[i],t,s+t,r);s+=v[i]}}catch(n){q=!1,D.dispatchEvent(new ErrorEvent("processorerror",{colno:n.colno,filename:n.filename,lineno:n.lineno,message:n.message}))}if(!q){for(let t=0;t<_.numberOfInputs;t+=1){x[t].disconnect(k[t]);for(let e=0;e<_.channelCount;e+=1)k[r].disconnect(C,e,t*_.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=S[e];t.disconnect(C,0,g+e),t.stop()}}C.disconnect(A),A.onaudioprocess=null,W?U():Z();break}}}};let W=!1;const Y=a(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),G=()=>A.connect(Y).connect(f.destination),Z=()=>{A.disconnect(Y),Y.disconnect()},K=()=>{if(q){Z(),_.numberOfOutputs>0&&A.connect(E);for(let t=0,e=0;t<_.numberOfOutputs;t+=1){const n=M[t];for(let i=0;i<v[t];i+=1)E.connect(n,e+i,i);e+=v[t]}}W=!0},Q=()=>{q&&(G(),U()),W=!1};return G(),d(D,K,Q)},Kn=(t,e)=>{const n=t.createBiquadFilter();return In(n,e),Ln(n,e,"Q"),Ln(n,e,"detune"),Ln(n,e,"frequency"),Ln(n,e,"gain"),On(n,e,"type"),n},Qn=(t,e)=>(n,i)=>{const r=n.createChannelMerger(i.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,r),In(r,i),r},Jn=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Ze()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Ze()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Ze()}})},ti=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return In(n,e),Jn(n),n},ei=(t,e,n,i,r)=>(s,a)=>{if(void 0===s.createConstantSource)return n(s,a);const o=s.createConstantSource();return In(o,a),Ln(o,a,"offset"),e(i,(()=>i(s)))||Vn(o),e(r,(()=>r(s)))||zn(o),t(s,o),o},ni=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),ii=(t,e,n,i)=>(r,{offset:s,...a})=>{const o=r.createBuffer(1,2,44100),l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(r,{...a,gain:s}),u=o.getChannelData(0);u[0]=1,u[1]=1,l.buffer=o,l.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(t){l.onended=t},addEventListener(...t){return l.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return l.dispatchEvent(t[0])},removeEventListener(...t){return l.removeEventListener(t[0],t[1],t[2])},start(t=0){l.start.call(l,t)},stop(t=0){l.stop.call(l,t)}},d=()=>l.connect(c),f=()=>l.disconnect(c);return t(r,l),i(ni(h,c),d,f)},ri=(t,e)=>(n,i)=>{const r=n.createConvolver();if(In(r,i),i.disableNormalization===r.normalize&&(r.normalize=!i.disableNormalization),On(r,i,"buffer"),i.channelCount>2)throw t();if(e(r,"channelCount",(t=>()=>t.call(r)),(e=>n=>{if(n>2)throw t();return e.call(r,n)})),"max"===i.channelCountMode)throw t();return e(r,"channelCountMode",(t=>()=>t.call(r)),(e=>n=>{if("max"===n)throw t();return e.call(r,n)})),r},si=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return In(n,e),Ln(n,e,"delayTime"),n},ai=t=>(e,n)=>{const i=e.createDynamicsCompressor();if(In(i,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return Ln(i,n,"attack"),Ln(i,n,"knee"),Ln(i,n,"ratio"),Ln(i,n,"release"),Ln(i,n,"threshold"),i},oi=(t,e)=>{const n=t.createGain();return In(n,e),Ln(n,e,"gain"),n},li=t=>(e,n,i)=>{if(void 0===e.createIIRFilter)return t(e,n,i);const r=e.createIIRFilter(i.feedforward,i.feedback);return In(r,i),r};function ci(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function ui(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function hi(t,e){let n=[0,0];for(let i=t.length-1;i>=0;i-=1)n=ui(n,e),n[0]+=t[i];return n}const di=(t,e,n,i)=>(r,s,{channelCount:a,channelCountMode:o,channelInterpretation:l,feedback:c,feedforward:u})=>{const h=Xn(s,r.sampleRate),d=c instanceof Float64Array?c:new Float64Array(c),f=u instanceof Float64Array?u:new Float64Array(u),p=d.length,m=f.length,_=Math.min(p,m);if(0===p||p>20)throw i();if(0===d[0])throw e();if(0===m||m>20)throw i();if(0===f[0])throw e();if(1!==d[0]){for(let t=0;t<m;t+=1)f[t]/=d[0];for(let t=1;t<p;t+=1)d[t]/=d[0]}const v=n(r,h,a,a);v.channelCount=a,v.channelCountMode=o,v.channelInterpretation=l;const g=32,y=[],b=[],w=[];for(let t=0;t<a;t+=1){y.push(0);const t=new Float32Array(g),e=new Float32Array(g);t.fill(0),e.fill(0),b.push(t),w.push(e)}v.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,i=e.numberOfChannels;for(let r=0;r<i;r+=1){const t=e.getChannelData(r),i=n.getChannelData(r);y[r]=sn(d,p,f,m,_,b[r],w[r],y[r],g,t,i)}};const x=r.sampleRate/2,k={get bufferSize(){return h},get channelCount(){return v.channelCount},set channelCount(t){v.channelCount=t},get channelCountMode(){return v.channelCountMode},set channelCountMode(t){v.channelCountMode=t},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(t){v.channelInterpretation=t},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(...t){return v.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return v.dispatchEvent(t[0])},getFrequencyResponse(e,n,i){if(e.length!==n.length||n.length!==i.length)throw t();const r=e.length;for(let t=0;t<r;t+=1){const r=-Math.PI*(e[t]/x),s=[Math.cos(r),Math.sin(r)],a=hi(f,s),o=hi(d,s),l=ci(a,o);n[t]=Math.sqrt(l[0]*l[0]+l[1]*l[1]),i[t]=Math.atan2(l[1],l[0])}},removeEventListener(...t){return v.removeEventListener(t[0],t[1],t[2])}};return ni(k,v)},fi=(t,e)=>t.createMediaElementSource(e.mediaElement),pi=(t,e)=>{const n=t.createMediaStreamDestination();return In(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},mi=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const i=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(r,"mediaStream",{value:e}),r},_i=(t,e)=>(n,{mediaStreamTrack:i})=>{if("function"===typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(i);const r=new MediaStream([i]),s=n.createMediaStreamSource(r);if("audio"!==i.kind)throw t();if(e(n))throw new TypeError;return s},vi=t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,gi=(t,e,n,i,r,s)=>(a,o)=>{const l=a.createOscillator();return In(l,o),Ln(l,o,"detune"),Ln(l,o,"frequency"),void 0!==o.periodicWave?l.setPeriodicWave(o.periodicWave):On(l,o,"type"),e(n,(()=>n(a)))||Vn(l),e(i,(()=>i(a)))||s(l,a),e(r,(()=>r(a)))||zn(l),t(a,l),l},yi=t=>(e,n)=>{const i=e.createPanner();return void 0===i.orientationX?t(e,n):(In(i,n),Ln(i,n,"orientationX"),Ln(i,n,"orientationY"),Ln(i,n,"orientationZ"),Ln(i,n,"positionX"),Ln(i,n,"positionY"),Ln(i,n,"positionZ"),On(i,n,"coneInnerAngle"),On(i,n,"coneOuterAngle"),On(i,n,"coneOuterGain"),On(i,n,"distanceModel"),On(i,n,"maxDistance"),On(i,n,"panningModel"),On(i,n,"refDistance"),On(i,n,"rolloffFactor"),i)},bi=(t,e,n,i,r,s,a,o,l,c)=>(u,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:f,distanceModel:p,maxDistance:m,orientationX:_,orientationY:v,orientationZ:g,panningModel:y,positionX:b,positionY:w,positionZ:x,refDistance:k,rolloffFactor:S,...C})=>{const T=u.createPanner();if(C.channelCount>2)throw a();if("max"===C.channelCountMode)throw a();In(T,C);const A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E=n(u,{...A,channelInterpretation:"speakers",numberOfInputs:6}),M=i(u,{...C,gain:1}),O=i(u,{...A,gain:1}),I=i(u,{...A,gain:0}),P=i(u,{...A,gain:0}),R=i(u,{...A,gain:0}),D=i(u,{...A,gain:0}),N=i(u,{...A,gain:0}),L=r(u,256,6,1),B=s(u,{...A,curve:new Float32Array([1,1]),oversample:"none"});let V=[_,v,g],z=[b,w,x];const j=new Float32Array(1);L.onaudioprocess=({inputBuffer:t})=>{const e=[l(t,j,0),l(t,j,1),l(t,j,2)];e.some(((t,e)=>t!==V[e]))&&(T.setOrientation(...e),V=e);const n=[l(t,j,3),l(t,j,4),l(t,j,5)];n.some(((t,e)=>t!==z[e]))&&(T.setPosition(...n),z=n)},Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0});const F={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(t){if(t>2)throw a();M.channelCount=t,T.channelCount=t},get channelCountMode(){return T.channelCountMode},set channelCountMode(t){if("max"===t)throw a();M.channelCountMode=t,T.channelCountMode=t},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(t){M.channelInterpretation=t,T.channelInterpretation=t},get coneInnerAngle(){return T.coneInnerAngle},set coneInnerAngle(t){T.coneInnerAngle=t},get coneOuterAngle(){return T.coneOuterAngle},set coneOuterAngle(t){T.coneOuterAngle=t},get coneOuterGain(){return T.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();T.coneOuterGain=t},get context(){return T.context},get distanceModel(){return T.distanceModel},set distanceModel(t){T.distanceModel=t},get inputs(){return[M]},get maxDistance(){return T.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;T.maxDistance=t},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get orientationX(){return O.gain},get orientationY(){return I.gain},get orientationZ(){return P.gain},get panningModel(){return T.panningModel},set panningModel(t){T.panningModel=t},get positionX(){return R.gain},get positionY(){return D.gain},get positionZ(){return N.gain},get refDistance(){return T.refDistance},set refDistance(t){if(t<0)throw new RangeError;T.refDistance=t},get rolloffFactor(){return T.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;T.rolloffFactor=t},addEventListener(...t){return M.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return M.dispatchEvent(t[0])},removeEventListener(...t){return M.removeEventListener(t[0],t[1],t[2])}};h!==F.coneInnerAngle&&(F.coneInnerAngle=h),d!==F.coneOuterAngle&&(F.coneOuterAngle=d),f!==F.coneOuterGain&&(F.coneOuterGain=f),p!==F.distanceModel&&(F.distanceModel=p),m!==F.maxDistance&&(F.maxDistance=m),_!==F.orientationX.value&&(F.orientationX.value=_),v!==F.orientationY.value&&(F.orientationY.value=v),g!==F.orientationZ.value&&(F.orientationZ.value=g),y!==F.panningModel&&(F.panningModel=y),b!==F.positionX.value&&(F.positionX.value=b),w!==F.positionY.value&&(F.positionY.value=w),x!==F.positionZ.value&&(F.positionZ.value=x),k!==F.refDistance&&(F.refDistance=k),S!==F.rolloffFactor&&(F.rolloffFactor=S),1===V[0]&&0===V[1]&&0===V[2]||T.setOrientation(...V),0===z[0]&&0===z[1]&&0===z[2]||T.setPosition(...z);const q=()=>{M.connect(T),t(M,B,0,0),B.connect(O).connect(E,0,0),B.connect(I).connect(E,0,1),B.connect(P).connect(E,0,2),B.connect(R).connect(E,0,3),B.connect(D).connect(E,0,4),B.connect(N).connect(E,0,5),E.connect(L).connect(u.destination)},U=()=>{M.disconnect(T),o(M,B,0,0),B.disconnect(O),O.disconnect(E),B.disconnect(I),I.disconnect(E),B.disconnect(P),P.disconnect(E),B.disconnect(R),R.disconnect(E),B.disconnect(D),D.disconnect(E),B.disconnect(N),N.disconnect(E),E.disconnect(L),L.disconnect(u.destination)};return c(ni(F,T),q,U)},wi=t=>(e,{disableNormalization:n,imag:i,real:r})=>{const s=i instanceof Float32Array?i:new Float32Array(i),a=r instanceof Float32Array?r:new Float32Array(r),o=e.createPeriodicWave(a,s,{disableNormalization:n});if(Array.from(i).length<2)throw t();return o},xi=(t,e,n,i)=>t.createScriptProcessor(e,n,i),ki=(t,e)=>(n,i)=>{const r=i.channelCountMode;if("clamped-max"===r)throw e();if(void 0===n.createStereoPanner)return t(n,i);const s=n.createStereoPanner();return In(s,i),Ln(s,i,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>r,set:t=>{if(t!==r)throw e()}}),s},Si=(t,e,n,i,r,s)=>{const a=16385,o=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},h=(t,e,r,s)=>{const h=new Float32Array(a),d=new Float32Array(a);for(let n=0;n<a;n+=1){const t=n/(a-1)*l;h[n]=Math.cos(t),d[n]=Math.sin(t)}const f=n(t,{...c,gain:0}),p=i(t,{...u,curve:h}),m=i(t,{...u,curve:o}),_=n(t,{...c,gain:0}),v=i(t,{...u,curve:d});return{connectGraph(){e.connect(f),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(_),m.connect(r),r.connect(void 0===p.inputs?p:p.inputs[0]),r.connect(void 0===v.inputs?v:v.inputs[0]),p.connect(f.gain),v.connect(_.gain),f.connect(s,0,0),_.connect(s,0,1)},disconnectGraph(){e.disconnect(f),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(_),m.disconnect(r),r.disconnect(void 0===p.inputs?p:p.inputs[0]),r.disconnect(void 0===v.inputs?v:v.inputs[0]),p.disconnect(f.gain),v.disconnect(_.gain),f.disconnect(s,0,0),_.disconnect(s,0,1)}}},d=(t,r,s,h)=>{const d=new Float32Array(a),f=new Float32Array(a),p=new Float32Array(a),m=new Float32Array(a),_=Math.floor(a/2);for(let e=0;e<a;e+=1)if(e>_){const t=(e-_)/(a-1-_)*l;d[e]=Math.cos(t),f[e]=Math.sin(t),p[e]=0,m[e]=1}else{const t=e/(a-1-_)*l;d[e]=1,f[e]=0,p[e]=Math.cos(t),m[e]=Math.sin(t)}const v=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),g=n(t,{...c,gain:0}),y=i(t,{...u,curve:d}),b=n(t,{...c,gain:0}),w=i(t,{...u,curve:f}),x=i(t,{...u,curve:o}),k=n(t,{...c,gain:0}),S=i(t,{...u,curve:p}),C=n(t,{...c,gain:0}),T=i(t,{...u,curve:m});return{connectGraph(){r.connect(v),r.connect(void 0===x.inputs?x:x.inputs[0]),v.connect(g,0),v.connect(b,0),v.connect(k,1),v.connect(C,1),x.connect(s),s.connect(void 0===y.inputs?y:y.inputs[0]),s.connect(void 0===w.inputs?w:w.inputs[0]),s.connect(void 0===S.inputs?S:S.inputs[0]),s.connect(void 0===T.inputs?T:T.inputs[0]),y.connect(g.gain),w.connect(b.gain),S.connect(k.gain),T.connect(C.gain),g.connect(h,0,0),k.connect(h,0,0),b.connect(h,0,1),C.connect(h,0,1)},disconnectGraph(){r.disconnect(v),r.disconnect(void 0===x.inputs?x:x.inputs[0]),v.disconnect(g,0),v.disconnect(b,0),v.disconnect(k,1),v.disconnect(C,1),x.disconnect(s),s.disconnect(void 0===y.inputs?y:y.inputs[0]),s.disconnect(void 0===w.inputs?w:w.inputs[0]),s.disconnect(void 0===S.inputs?S:S.inputs[0]),s.disconnect(void 0===T.inputs?T:T.inputs[0]),y.disconnect(g.gain),w.disconnect(b.gain),S.disconnect(k.gain),T.disconnect(C.gain),g.disconnect(h,0,0),k.disconnect(h,0,0),b.disconnect(h,0,1),C.disconnect(h,0,1)}}},f=(t,e,n,i,s)=>{if(1===e)return h(t,n,i,s);if(2===e)return d(t,n,i,s);throw r()};return(e,{channelCount:i,channelCountMode:a,pan:o,...l})=>{if("max"===a)throw r();const c=t(e,{...l,channelCount:1,channelCountMode:a,numberOfInputs:2}),u=n(e,{...l,channelCount:i,channelCountMode:a,gain:1}),h=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:o});let{connectGraph:d,disconnectGraph:p}=f(e,i,u,h,c);Object.defineProperty(h.gain,"defaultValue",{get:()=>0}),Object.defineProperty(h.gain,"maxValue",{get:()=>1}),Object.defineProperty(h.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){u.channelCount!==t&&(_&&p(),({connectGraph:d,disconnectGraph:p}=f(e,t,u,h,c)),_&&d()),u.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw r();u.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){u.channelInterpretation=t},get context(){return u.context},get inputs(){return[u]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get pan(){return h.gain},addEventListener(...t){return u.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return u.dispatchEvent(t[0])},removeEventListener(...t){return u.removeEventListener(t[0],t[1],t[2])}};let _=!1;const v=()=>{d(),_=!0},g=()=>{p(),_=!1};return s(ni(m,c),v,g)}},Ci=(t,e,n,i,r,s,a)=>(o,l)=>{const c=o.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===o.createGain().gain.automationRate)return n(o,l);In(c,l);const u=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==u&&u.length<2)throw e();On(c,{curve:u},"curve"),On(c,l,"oversample");let h=null,d=!1;a(c,"curve",(t=>()=>t.call(c)),(e=>n=>(e.call(c,n),d&&(i(n)&&null===h?h=t(o,c):i(n)||null===h||(h(),h=null)),n)));const f=()=>{d=!0,i(c.curve)&&(h=t(o,c))},p=()=>{d=!1,null!==h&&(h(),h=null)};return r(c,f,p)},Ti=(t,e,n,i,r)=>(s,{curve:a,oversample:o,...l})=>{const c=s.createWaveShaper(),u=s.createWaveShaper();In(c,l),In(u,l);const h=n(s,{...l,gain:1}),d=n(s,{...l,gain:-1}),f=n(s,{...l,gain:1}),p=n(s,{...l,gain:-1});let m=null,_=!1,v=null;const g={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){h.channelCount=t,d.channelCount=t,c.channelCount=t,f.channelCount=t,u.channelCount=t,p.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){h.channelCountMode=t,d.channelCountMode=t,c.channelCountMode=t,f.channelCountMode=t,u.channelCountMode=t,p.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,d.channelInterpretation=t,c.channelInterpretation=t,f.channelInterpretation=t,u.channelInterpretation=t,p.channelInterpretation=t},get context(){return c.context},get curve(){return v},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)c.curve=n,u.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),i=new Float32Array(t+2-t%2);e[0]=n[0],i[0]=-n[t-1];const r=Math.ceil((t+1)/2),s=(t+1)/2-1;for(let a=1;a<r;a+=1){const o=a/r*s,l=Math.floor(o),c=Math.ceil(o);e[a]=l===c?n[l]:(1-(o-l))*n[l]+(1-(c-o))*n[c],i[a]=l===c?-n[t-1-l]:-(1-(o-l))*n[t-1-l]-(1-(c-o))*n[t-1-c]}e[r]=t%2===1?n[r-1]:(n[r-2]+n[r-1])/2,c.curve=e,u.curve=i}v=n,_&&(i(v)&&null===m?m=t(s,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(t){c.oversample=t,u.oversample=t},addEventListener(...t){return h.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return h.dispatchEvent(t[0])},removeEventListener(...t){return h.removeEventListener(t[0],t[1],t[2])}};null!==a&&(g.curve=a instanceof Float32Array?a:new Float32Array(a)),o!==g.oversample&&(g.oversample=o);const y=()=>{h.connect(c).connect(f),h.connect(d).connect(u).connect(p).connect(f),_=!0,i(v)&&(m=t(s,h))},b=()=>{h.disconnect(c),c.disconnect(f),h.disconnect(d),d.disconnect(u),u.disconnect(p),p.disconnect(f),_=!1,null!==m&&(m(),m=null)};return r(ni(g,f),y,b)},Ai=()=>new DOMException("","NotSupportedError"),Ei={numberOfChannels:1},Mi=(t,e,n,i,r)=>class extends t{constructor(t,n,r){let s;if("number"===typeof t&&void 0!==n&&void 0!==r)s={length:n,numberOfChannels:t,sampleRate:r};else{if("object"!==typeof t)throw new Error("The given parameters are not valid.");s=t}const{length:a,numberOfChannels:o,sampleRate:l}={...Ei,...s},c=i(o,a,l);e(Tn,(()=>Tn(c)))||c.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(c.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(c,o),this._length=a,this._nativeOfflineAudioContext=c,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,ot(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}},Oi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Ii=(t,e,n,i,r,s,a)=>class extends t{constructor(t,a){const o=r(t),l={...Oi,...a},c=n(o,l),u=s(o),h=u?i():null,d=t.sampleRate/2;super(t,!1,c,h),this._detune=e(this,u,c.detune,153600,-153600),this._frequency=e(this,u,c.frequency,d,-d),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"===typeof t?a(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){M(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),Y(this)&&I(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}},Pi=(t,e,n,i,r)=>()=>{const s=new WeakMap;let a=null,o=null,l=null;const c=async(c,u)=>{let h=n(c);const d=z(h,u);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===a?void 0:a,type:h.type};h=e(u,t),null!==o&&h.start(o),null!==l&&h.stop(l)}return s.set(u,h),d?(await t(u,c.detune,h.detune),await t(u,c.frequency,h.frequency)):(await i(u,c.detune,h.detune),await i(u,c.frequency,h.frequency)),await r(c,u,h),h};return{set periodicWave(t){a=t},set start(t){o=t},set stop(t){l=t},render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):c(t,e)}}},Ri={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Di=(t,e,n,i,r,s,a)=>class extends t{constructor(t,o){const l=r(t),c={...Ri,...o},u=n(l,c),h=s(l),d=h?i():null;super(t,!1,u,d),this._nativePannerNode=u,this._orientationX=e(this,h,u.orientationX,$,X),this._orientationY=e(this,h,u.orientationY,$,X),this._orientationZ=e(this,h,u.orientationZ,$,X),this._positionX=e(this,h,u.positionX,$,X),this._positionY=e(this,h,u.positionY,$,X),this._positionZ=e(this,h,u.positionZ,$,X),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}},Ni=(t,e,n,i,r,s,a,o,l,c)=>()=>{const u=new WeakMap;let h=null;const d=async(d,f)=>{let p=null,m=s(d);const _={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},v={..._,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},g=z(m,f);if("bufferSize"in m)p=i(f,{..._,gain:1});else if(!g){const t={...v,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=r(f,t)}if(u.set(f,null===p?m:p),null!==p){if(null===h){if(null===a)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new a(6,d.context.length,f.sampleRate),i=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});i.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(e,i)=>{const r=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===i?1:0});return await o(t,e,r.offset),r})));for(let t=0;t<6;t+=1)e[t].connect(i,0,t),e[t].start(0);return c(t)})()}const t=await h,s=i(f,{..._,gain:1});await l(d,f,s);const u=[];for(let e=0;e<t.numberOfChannels;e+=1)u.push(t.getChannelData(e));let m=[u[0][0],u[1][0],u[2][0]],g=[u[3][0],u[4][0],u[5][0]],y=i(f,{..._,gain:1}),b=r(f,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:g[0],positionY:g[1],positionZ:g[2]});s.connect(y).connect(b.inputs[0]),b.connect(p);for(let e=128;e<t.length;e+=128){const t=[u[0][e],u[1][e],u[2][e]],n=[u[3][e],u[4][e],u[5][e]];if(t.some(((t,e)=>t!==m[e]))||n.some(((t,e)=>t!==g[e]))){m=t,g=n;const a=e/f.sampleRate;y.gain.setValueAtTime(0,a),y=i(f,{..._,gain:0}),b=r(f,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:g[0],positionY:g[1],positionZ:g[2]}),y.gain.setValueAtTime(1,a),s.connect(y).connect(b.inputs[0]),b.connect(p)}}return p}return g?(await t(f,d.orientationX,m.orientationX),await t(f,d.orientationY,m.orientationY),await t(f,d.orientationZ,m.orientationZ),await t(f,d.positionX,m.positionX),await t(f,d.positionY,m.positionY),await t(f,d.positionZ,m.positionZ)):(await o(f,d.orientationX,m.orientationX),await o(f,d.orientationY,m.orientationY),await o(f,d.orientationZ,m.orientationZ),await o(f,d.positionX,m.positionX),await o(f,d.positionY,m.positionY),await o(f,d.positionZ,m.positionZ)),gt(m)?await l(d,f,m.inputs[0]):await l(d,f,m),m};return{render(t,e){const n=u.get(e);return void 0!==n?Promise.resolve(n):d(t,e)}}},Li={disableNormalization:!1},Bi=(t,e,n,i)=>class r{constructor(r,s){const a=e(r),o=i({...Li,...s}),l=t(a,o);return n.add(l),l}static[Symbol.hasInstance](t){return null!==t&&"object"===typeof t&&Object.getPrototypeOf(t)===r.prototype||n.has(t)}},Vi=(t,e)=>(n,i,r)=>{const s=t(i);return s.replay(r),e(i,n,r)},zi=(t,e,n)=>async(i,r,s)=>{const a=t(i);await Promise.all(a.activeInputs.map(((t,a)=>Array.from(t).map((async([t,o])=>{const l=e(t),c=await l.render(t,r),u=i.context.destination;n(t)||i===u&&n(i)||c.connect(s,o,a)})))).reduce(((t,e)=>[...t,...e]),[]))},ji=(t,e,n)=>async(i,r,s)=>{const a=e(i);await Promise.all(Array.from(a.activeInputs).map((async([e,i])=>{const a=t(e),o=await a.render(e,r);n(e)||o.connect(s,i)})))},Fi=(t,e,n,i)=>r=>t(Tn,(()=>Tn(r)))?Promise.resolve(t(i,i)).then((t=>{if(!t){const t=n(r,512,0,1);r.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>r.currentTime,t.connect(r.destination)}return r.startRendering()})):new Promise((t=>{const n=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(r.destination),r.startRendering()})),qi=t=>(e,n)=>{t.set(e,n)},Ui=t=>(e,n)=>t.set(e,n),Hi=(t,e,n,i,r,s,a,o)=>(l,c)=>n(l).render(l,c).then((()=>Promise.all(Array.from(i(c)).map((t=>n(t).render(t,c)))))).then((()=>r(c))).then((n=>("function"!==typeof n.copyFromChannel?(a(n),U(n)):e(s,(()=>s(n)))||o(n),t.add(n),n))),Wi={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Xi=(t,e,n,i,r,s)=>class extends t{constructor(t,a){const o=r(t),l={...Wi,...a},c=n(o,l),u=s(o),h=u?i():null;super(t,!1,c,h),this._pan=e(this,u,c.pan)}get pan(){return this._pan}},$i=(t,e,n,i,r)=>()=>{const s=new WeakMap,a=async(a,o)=>{let l=n(a);const c=z(l,o);if(!c){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(o,t)}return s.set(o,l),c?await t(o,a.pan,l.pan):await i(o,a.pan,l.pan),gt(l)?await r(a,o,l.inputs[0]):await r(a,o,l),l};return{render(t,e){const n=s.get(e);return void 0!==n?Promise.resolve(n):a(t,e)}}},Yi=t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Gi=(t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),r=URL.createObjectURL(n);let s=!1,a=!1;try{await i.audioWorklet.addModule(r);const e=new t(i,"a",{numberOfOutputs:0}),n=i.createOscillator();e.port.onmessage=()=>s=!0,e.onprocessorerror=()=>a=!0,n.connect(e),n.start(0),await i.startRendering(),await new Promise((t=>setTimeout(t)))}catch{}finally{URL.revokeObjectURL(r)}return s&&!a},Zi=(t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),i=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{i.disconnect(),t(0!==n.currentTime)},n.startRendering()}))},Ki=()=>new DOMException("","UnknownError"),Qi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Ji=(t,e,n,i,r,s,a)=>class extends t{constructor(t,e){const o=r(t),l={...Qi,...e},c=n(o,l),u=s(o),h=u?i():null;super(t,!0,c,h),this._isCurveNullified=!1,this._nativeWaveShaperNode=c,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}},tr=(t,e,n)=>()=>{const i=new WeakMap,r=async(r,s)=>{let a=e(r);const o=z(a,s);if(!o){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(s,e)}return i.set(s,a),gt(a)?await n(r,s,a.inputs[0]):await n(r,s,a),a};return{render(t,e){const n=i.get(e);return void 0!==n?Promise.resolve(n):r(t,e)}}},er=()=>"undefined"===typeof window?null:window,nr=(t,e)=>n=>{n.copyFromChannel=(i,r,s=0)=>{const a=t(s),o=t(r);if(o>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(o),u=i.length;for(let t=a<0?-a:0;t+a<l&&t<u;t+=1)i[t]=c[t+a]},n.copyToChannel=(i,r,s=0)=>{const a=t(s),o=t(r);if(o>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(o),u=i.length;for(let t=a<0?-a:0;t+a<l&&t<u;t+=1)c[t+a]=i[t]}},ir=t=>e=>{e.copyFromChannel=(n=>(i,r,s=0)=>{const a=t(s),o=t(r);if(a<e.length)return n.call(e,i,o,a)})(e.copyFromChannel),e.copyToChannel=(n=>(i,r,s=0)=>{const a=t(s),o=t(r);if(a<e.length)return n.call(e,i,o,a)})(e.copyToChannel)},rr=t=>(e,n)=>{const i=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=i),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===i?null:n}),(t=>n=>t.call(e,null===n?i:n)))},sr=(t,e)=>(n,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource(),s=()=>{const t=i.numberOfInputs;for(let e=0;e<t;e+=1)r.connect(i,0,e)},a=()=>r.disconnect(i);e(i,s,a)},ar=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),or=t=>{if(null===t)return!1;const e=t.length;return e%2!==0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},lr=(t,e,n,i)=>{let r=t;while(!r.hasOwnProperty(e))r=Object.getPrototypeOf(r);const{get:s,set:a}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(s),set:i(a)})},cr=t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))}),ur=t=>({...t,channelCount:t.numberOfOutputs}),hr=t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}},dr=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(i){if(9!==i.code)throw i;dr(t,e,n+1e-7)}},fr=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},pr=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},mr=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},_r=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},vr=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},gr=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},yr=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},br=t=>{t.start=(e=>(n=0,i=0,r)=>{const s=t.buffer,a=null===s?i:Math.min(s.duration,i);null!==s&&a>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,a,r)})(t.start)},wr=(t,e)=>{const n=e.createGain();t.connect(n);const i=(e=>()=>{e.call(t,n),t.removeEventListener("ended",i)})(t.disconnect);t.addEventListener("ended",i),ni(t,n),t.stop=(e=>{let i=!1;return(r=0)=>{if(i)try{e.call(t,r)}catch{n.gain.setValueAtTime(0,r)}else e.call(t,r),i=!0}})(t.stop)},xr=(t,e)=>n=>{const i={value:t};return Object.defineProperties(n,{currentTarget:i,target:i}),"function"===typeof e?e.call(t,n):e.handleEvent.call(t,n)},kr=s(mt),Sr=D(mt),Cr=Ee(T),Tr=new WeakMap,Ar=$e(Tr),Er=ie(new Map,new WeakMap),Mr=er(),Or=Dn(Er,q),Ir=Xe(rt),Pr=zi(rt,Ir,At),Rr=j(Or,Ct,Pr),Dr=Ke(f),Nr=vi(Mr),Lr=vn(Nr),Br=new WeakMap,Vr=ze(xr),zr=Fn(Mr),jr=fn(zr),Fr=pn(Mr),qr=mn(Mr),Ur=Un(Mr),Hr=Ft(a(c),R(kr,Sr,yt,Cr,St,rt,Ar,E,Ct,mt,Y,At,Et),Er,ln(m,St,rt,Ct,Tt,Y),q,tn,Ai,Se(yt,m,rt,Ct,Tt,Dr,Y,Lr),Ie(Br,rt,C),Vr,Dr,jr,Fr,qr,Lr,Ur),Wr=V(Hr,Rr,q,Or,Dr,Lr),Xr=new WeakSet,$r=Nn(Mr),Yr=_e(new Uint32Array(1)),Gr=nr(Yr,q),Zr=ir(Yr),Kr=W(Xr,Er,Ai,$r,Nr,Yi($r),Gr,Zr),Qr=N(oi),Jr=ji(Ir,st,At),ts=ue(Jr),es=jn(Qr,Er,fr,pr,mr,_r,vr,gr,br,rr(lr),wr),ns=Vi(Ye(st),Jr),is=K(ts,es,Ct,ns,Pr),rs=qt(o(h),Br,d,Ut,i.createCancelAndHoldAutomationEvent,i.createCancelScheduledValuesAutomationEvent,i.createExponentialRampToValueAutomationEvent,i.createLinearRampToValueAutomationEvent,i.createSetTargetAutomationEvent,i.createSetValueAutomationEvent,i.createSetValueCurveAutomationEvent,zr,dr),ss=Z(Hr,is,rs,Ze,es,Dr,Lr,xr),as=ut(Hr,ht,q,Ze,qn(oi,lr),Dr,Lr,Pr),os=ne(ts,Kn,Ct,ns,Pr),ls=Ui(Tr),cs=ee(Hr,rs,os,tn,Kn,Dr,Lr,ls),us=Mn(mt,Fr),hs=sr(Ze,us),ds=Qn(zr,hs),fs=ae(ds,Ct,Pr),ps=se(Hr,fs,ds,Dr,Lr),ms=ce(ti,Ct,Pr),_s=le(Hr,ms,ti,Dr,Lr,ur),vs=ii(Qr,es,oi,us),gs=ei(Qr,Er,vs,_r,gr),ys=me(ts,gs,Ct,ns,Pr),bs=pe(Hr,rs,ys,gs,Dr,Lr,xr),ws=ri(Ai,lr),xs=ye(ws,Ct,Pr),ks=ge(Hr,xs,ws,Dr,Lr,ls),Ss=Ae(ts,si,Ct,ns,Pr),Cs=Te(Hr,rs,Ss,si,Dr,Lr,ls),Ts=ai(Ai),As=Le(ts,Ts,Ct,ns,Pr),Es=Ne(Hr,rs,As,Ts,Ai,Dr,Lr,ls),Ms=He(ts,oi,Ct,ns,Pr),Os=Ue(Hr,rs,Ms,oi,Dr,Lr),Is=di(tn,Ze,xi,Ai),Ps=Fi(Er,oi,xi,Zi(oi,Nr)),Rs=on(es,Ct,Nr,Pr,Ps),Ds=li(Is),Ns=rn(Hr,Ds,Rs,Dr,Lr,ls),Ls=dt(rs,ds,gs,xi,Ai,ar,Lr,lr),Bs=new WeakMap,Vs=Cn(as,Ls,Vr,Lr,Bs,xr),zs=gi(Qr,Er,_r,vr,gr,wr),js=Pi(ts,zs,Ct,ns,Pr),Fs=Ii(Hr,rs,zs,js,Dr,Lr,xr),qs=de(es),Us=Ti(qs,Ze,oi,or,us),Hs=Ci(qs,Ze,Us,or,us,zr,lr),Ws=bi(yt,Ze,ds,oi,xi,Hs,Ai,St,ar,us),Xs=yi(Ws),$s=Ni(ts,ds,gs,oi,Xs,Ct,Nr,ns,Pr,Ps),Ys=Di(Hr,rs,Xs,$s,Dr,Lr,ls),Gs=wi(q),Zs=Bi(Gs,Dr,new WeakSet,hr),Ks=Si(ds,ti,oi,Hs,Ai,us),Qs=ki(Ks,Ai),Js=$i(ts,Qs,Ct,ns,Pr),ta=Xi(Hr,rs,Qs,Js,Dr,Lr),ea=tr(Hs,Ct,Pr),na=Ji(Hr,Ze,Hs,ea,Dr,Lr,ls),ia=gn(Mr),ra=je(Mr),sa=new WeakMap,aa=Qe(sa,Nr),oa=ia?S(Er,Ai,Ve(Mr),ra,Fe(r),Dr,aa,Lr,Ur,new WeakMap,new WeakMap,Gi(Ur,Nr),Mr):void 0,la=_n(jr,Lr),ca=ke(Xr,Er,we,Be,new WeakSet,Dr,la,F,Tn,Gr,Zr),ua=Jt(oa,Wr,Kr,ss,cs,ps,_s,bs,ks,ca,Cs,Es,Os,Ns,Vs,Fs,Ys,Zs,ta,na),ha=yn(Hr,fi,Dr,Lr),da=wn(Hr,pi,Dr,Lr),fa=xn(Hr,mi,Dr,Lr),pa=_i(Ze,Lr),ma=kn(Hr,pa,Dr),_a=ct(ua,Ze,Ai,Ki,ha,da,fa,ma,zr),va=Je(Bs),ga=L(va),ya=he(q),ba=Me(va),wa=Re(q),xa=new WeakMap,ka=We(xa,C),Sa=Zn(ya,q,Ze,ds,ti,gs,oi,xi,Ai,wa,ra,ka,us),Ca=Wn(Ze,Sa,oi,Ai,us),Ta=Qt(ts,ya,es,ds,ti,gs,oi,ba,wa,ra,Ct,Ur,Nr,ns,Pr,Ps),Aa=Ge(sa),Ea=qi(xa),Ma=ia?Xt(ga,Hr,rs,Ta,Ca,rt,Aa,Dr,Lr,Ur,cr,Ea,yr,xr):void 0,Oa=Sn(Ze,Ai,Ki,Vs,zr),Ia=be(Ai,Nr),Pa=Hi(Xr,Er,Ir,va,Ps,F,Gr,Zr),Ra=(En(Er,Ze,Ia,Vs,Pa),Mi(ua,Er,Ze,Ia,Pa)),Da=cn(f,jr),Na=un(u,Fr),La=hn(d,qr),Ba=dn(f,Lr)},5239:function(t){
/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */
(function(e,n){t.exports?t.exports=n():e.Toastify=n()})(this,(function(t){var e=function(t){return new e.lib.init(t)},n="1.12.0";function i(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function r(t,e){return!(!t||"string"!==typeof e)&&!!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1)}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:n,constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var n=document.createElement("img");n.src=this.options.avatar,n.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(n):t.insertAdjacentElement("afterbegin",n)}if(!0===this.options.close){var r=document.createElement("button");r.type="button",r.setAttribute("aria-label","Close"),r.className="toast-close",r.innerHTML="&#10006;",r.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var s=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&s>360?t.insertAdjacentElement("afterbegin",r):t.appendChild(r)}if(this.options.stopOnFocus&&this.options.duration>0){var a=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){a.removeElement(t)}),a.options.duration)}))}if("undefined"!==typeof this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"===typeof this.options.onClick&&"undefined"===typeof this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"===typeof this.options.offset){var o=i("x",this.options),l=i("y",this.options),c="left"==this.options.position?o:"-"+o,u="toastify-top"==this.options.gravity?l:"-"+l;t.style.transform="translate("+c+","+u+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),t="string"===typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!==typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body,!t)throw"Root element is not defined";var n=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,n),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},i={top:15,bottom:15},s=document.getElementsByClassName("toastify"),a=0;a<s.length;a++){t=!0===r(s[a],"toastify-top")?"toastify-top":"toastify-bottom";var o=s[a].offsetHeight;t=t.substr(9,t.length-1);var l=15,c=window.innerWidth>0?window.innerWidth:screen.width;c<=360?(s[a].style[t]=i[t]+"px",i[t]+=o+l):!0===r(s[a],"toastify-left")?(s[a].style[t]=e[t]+"px",e[t]+=o+l):(s[a].style[t]=n[t]+"px",n[t]+=o+l)}return this},e.lib.init.prototype=e.lib,e}))},5537:function(t,e,n){"use strict";n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(4979);var i=n(755),r=n.n(i);
/*!
* vue-round-slider v1.0.1
*
* @website https://vue.roundsliderui.com/
* @copyright (c) 2020 Soundar
* @license MIT
*/
function s(t,e){return e={exports:{}},t(e,e.exports),e.exports}s((function(t,e){
/*! roundSlider v1.6.1 | (c) 2015-2020, Soundar | MIT license | http://roundsliderui.com/licence.html */
!function(t){t(r())}((function(t){var e="roundSlider";function n(e,n){this.id=e.id,this.control=t(e),this.options=t.extend({},this.defaults,n)}t.fn[e]=function(i){return function(i,r){for(var s=0;s<this.length;s++){var a=this[s],o=t.data(a,e);if(o){if(t.isPlainObject(i))"function"==typeof o.option?o.option(i):a.id&&window[a.id]&&"function"==typeof window[a.id].option&&window[a.id].option(i);else if("string"==typeof i&&"function"==typeof o[i]){if(("option"===i||0===i.indexOf("get"))&&void 0===r[2])return o[i](r[1]);o[i](r[1],r[2])}}else{var l=new n(a,i);l._saveInstanceOnElement(),l._saveInstanceOnID(),!1!==l._raise("beforeCreate")?(l._init(),l._raise("create")):l._removeData()}}return this}.call(this,i,arguments)},n.prototype={pluginName:e,version:"1.6.1",options:{},control:null,defaults:{min:0,max:100,step:1,value:null,radius:85,width:18,handleSize:"+0",startAngle:0,endAngle:"+360",animation:!0,showTooltip:!0,editableTooltip:!0,readOnly:!1,disabled:!1,keyboardAction:!0,mouseScrollAction:!1,lineCap:"butt",sliderType:"default",circleShape:"full",handleShape:"round",startValue:null,svgMode:!1,borderWidth:1,borderColor:null,pathColor:null,rangeColor:null,tooltipColor:null,beforeCreate:null,create:null,start:null,beforeValueChange:null,drag:null,change:null,update:null,valueChange:null,stop:null,tooltipFormat:null},keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39},_props:function(){return{numberType:["min","max","step","radius","width","borderWidth","startAngle","startValue"],booleanType:["animation","showTooltip","editableTooltip","readOnly","disabled","keyboardAction","mouseScrollAction","svgMode"],stringType:["sliderType","circleShape","handleShape","lineCap"]}},_init:function(){var t,e=this.options;e.svgMode&&(t=function(){},this._appendSeperator=t,this._refreshSeperator=t,this._updateSeperator=t,this._appendOverlay=t,this._checkOverlay=t,this._updateWidth=t),this.control.is("input")&&(this._isInputType=!0,this._hiddenField=this.control,this.control=this.$createElement("div"),this.control.insertAfter(this._hiddenField),e.value=this._hiddenField.val()||e.value),this._isBrowserSupported()&&this._onInit()},_onInit:function(){this._initialize(),this._update(),this._render()},_initialize:function(){var t=this.browserName=this.getBrowserName();t&&this.control.addClass("rs-"+t),this._isReadOnly=!1,this._checkDataType(),this._refreshCircleShape()},_render:function(){this.container=this.$createElement("div.rs-container"),this.innerContainer=this.$createElement("div.rs-inner-container"),this.container.append(this.innerContainer);var t="rs-control "+(this.options.svgMode?"rs-svg-mode":"rs-classic-mode");this.control.addClass(t).empty().append(this.container),this._createLayers(),this._createOtherLayers(),this._setContainerClass(),this._setRadius(),this._setProperties(),this._setValue(),this._updateTooltipPos(),this._bindControlEvents("_bind"),this._raiseValueChange("create"),this._updatePre()},_update:function(){this._validateSliderType(),this._updateStartEnd(),this._validateStartEnd(),this._handle1=this._handle2=this._handleDefaults(),this._analyzeModelValue(),this._validateModelValue()},_createLayers:function(){var t=this.options;if(t.svgMode)return this._createSVGElements(),this._setSVGAttributes(),this._setSVGStyles(),void this._moveSliderRange(!0);this.block=this.$createElement("div.rs-block rs-outer rs-border"),this.innerContainer.append(this.block);var e=t.width,n=this._start,i=this.$createElement("div.rs-path rs-transition");this._showRange?(this.block1=i.clone().addClass("rs-range-color").rsRotate(n),this.block2=i.clone().addClass("rs-range-color").css("opacity","0").rsRotate(n),this.block3=i.clone().addClass("rs-path-color").rsRotate(n),this.block4=i.addClass("rs-path-color").css({opacity:"1","z-index":"1"}).rsRotate(n-180),this.block.append(this.block1,this.block2,this.block3,this.block4).addClass("rs-split")):this.block.append(i.addClass("rs-path-color")),this.lastBlock=this.$createElement("span.rs-block").css({padding:e}),this.innerBlock=this.$createElement("div.rs-inner rs-bg-color rs-border"),this.lastBlock.append(this.innerBlock),this.block.append(this.lastBlock)},_createOtherLayers:function(){this._appendHandle(),this._appendSeperator(),this._appendOverlay(),this._appendHiddenField()},_setProperties:function(){var t=this.options;this._setHandleShape(),this._addAnimation(),this._appendTooltip(),t.showTooltip||this._removeTooltip(),t.disabled?this.disable():t.readOnly&&this._readOnly(!0),t.mouseScrollAction&&this._bindScrollEvents("_bind")},_updatePre:function(){this._prechange=this._predrag=this._pre_bvc=this._preValue=this.options.value},_backupPreValue:function(){this._pre_handle1=this._handle1,this._pre_handle2=this._handle2},_revertPreValue:function(){this._handle1=this._pre_handle1,this._handle2=this._pre_handle2,this._updateModelValue()},_setValue:function(){var t;this._rangeSlider?(this._setHandleValue(1),this._setHandleValue(2)):(this._minRange&&!this.options.svgMode&&this._setHandleValue(1),t=this._minRange?2:this._active||1,this._setHandleValue(t))},_appendTooltip:function(){var t;0===this.container.children(".rs-tooltip").length&&(t=this.tooltip=this.$createElement("span.rs-tooltip rs-tooltip-text"),this.container.append(t),this._setTooltipColor(t),this._tooltipEditable(),this._updateTooltip())},_removeTooltip:function(){0!=this.container.children(".rs-tooltip").length&&this.tooltip&&this.tooltip.remove()},_setTooltipColor:function(t){var e=this.options,n=e.tooltipColor,i="inherit"!==n?n:e.rangeColor;t&&null!=i&&t.css("color",i)},_tooltipEditable:function(){var t=this.options,e=this.tooltip;e&&t.showTooltip&&this[t.editableTooltip?(e.addClass("rs-edit"),"_bind"):(e.removeClass("rs-edit"),"_unbind")](e,"click",this._editTooltip)},_editTooltip:function(t){var e,n,i=this.tooltip;i.hasClass("rs-edit")&&!this._isReadOnly&&(e=2*parseFloat(i.css("border-left-width")),n=this.input=this.$createElement("input.rs-input rs-tooltip-text").css({height:i.outerHeight()-e,width:i.outerWidth()-e}),this._setTooltipColor(n),i.html(n).removeClass("rs-edit").addClass("rs-hover"),n.focus().val(this._getTooltipValue(!0)),this._bind(n,"blur change",this._focusOut))},_focusOut:function(t){var e;"change"==t.type?(","==(e=this.input.val().replace("-",","))[0]&&(e="-"+e.slice(1).replace("-",",")),this.options.value=e,this._validateValue(!0)&&(this.input.val(this._getTooltipValue(!0)),this._raiseEvent("change"))):(delete this.input,this.tooltip.addClass("rs-edit").removeClass("rs-hover"),this._updateTooltip())},_setHandleShape:function(){var t=this.options,e=t.handleShape,n=this._handles();n.removeClass("rs-handle-dot rs-handle-square"),"dot"==e?n.addClass("rs-handle-dot"):"square"==e?n.addClass("rs-handle-square"):t.handleShape="round"},_setHandleValue:function(t){this._active=t;var e=this["_handle"+t];this._minRange||(this.bar=this._activeHandleBar()),this._changeSliderValue(e.value,e.angle)},_addAnimation:function(){this.options.animation&&this.control.addClass("rs-animation")},_removeAnimation:function(){this.control.removeClass("rs-animation")},_setContainerClass:function(){var t=this.options.circleShape;"full"==t||"pie"==t||0===t.indexOf("custom")?this.container.addClass("rs-full rs-"+t):this.container.addClass("rs-"+t.split("-").join(" rs-"))},_setRadius:function(){var e,n,i,r=this.options,s=r.radius,a=2*s,o=r.circleShape,l=0,c=e=a,u=n=a,h="full"==o||"pie"==o||0===o.indexOf("custom");if(r.svgMode&&!h&&(i=this._handleBars(),"none"!=r.lineCap?(l="butt"===r.lineCap?r.borderWidth/2:r.width/2+r.borderWidth,-1!=o.indexOf("bottom")&&i.css("margin-top",l+"px"),-1!=o.indexOf("right")&&i.css("margin-right",-l+"px")):t.each(i,(function(t,e){e.style.removeProperty("margin-top"),e.style.removeProperty("margin-right")}))),0===o.indexOf("half"))switch(o){case"half-top":case"half-bottom":e=(c=s)+l;break;case"half-left":case"half-right":n=(u=s)+l}else 0===o.indexOf("quarter")&&(e=n=(c=u=s)+l);this.container.css({height:c,width:u}),this.control.css({height:e,width:n}),0!==l?this.innerContainer.css({height:e,width:n}):this.innerContainer.removeAttr("style"),r.svgMode&&this.svgContainer.height(a).width(a).children("svg").height(a).width(a)},_border:function(t){var e=this.options;return e.svgMode?2*e.borderWidth:t?parseFloat(this._startLine.children().css("border-bottom-width")):2*parseFloat(this.block.css("border-top-width"))},_appendHandle:function(){!this._rangeSlider&&this._minRange||this._createHandle(1),this._showRange&&this._createHandle(2)},_appendSeperator:function(){this._startLine=this._addSeperator(this._start,"rs-start"),this._endLine=this._addSeperator(this._start+this._end,"rs-end"),this._refreshSeperator()},_addSeperator:function(t,e){var n=this.$createElement("span.rs-seperator rs-border"),i=this.$createElement("span.rs-bar rs-transition "+e).append(n).rsRotate(t);return this.container.append(i),i},_refreshSeperator:function(){var t=this._startLine.add(this._endLine),e=t.children().removeAttr("style"),n=this.options,i=n.width+this._border();"round"==n.lineCap&&"full"!=n.circleShape?(t.addClass("rs-rounded"),e.css({width:i,height:i/2+1}),this._startLine.children().css("margin-top",-1).addClass(this._minRange?"rs-range-color":"rs-path-color"),this._endLine.children().css("margin-top",i/-2).addClass("rs-path-color")):(t.removeClass("rs-rounded"),e.css({width:i,"margin-top":this._border(!0)/-2}).removeClass("rs-range-color rs-path-color"))},_updateSeperator:function(){this._startLine.rsRotate(this._start),this._endLine.rsRotate(this._start+this._end)},_createHandle:function(t){var e,n=this.$createElement("div.rs-handle rs-move");"round"!=(e=this.options.handleShape)&&n.addClass("rs-handle-"+e),n.attr({index:t,tabIndex:"0"});var i=this._dataElement()[0].id,r=(i=i?i+"_":"")+"handle";this._rangeSlider&&(r+="_"+(1==t?"start":"end")),n.attr({role:"slider","aria-label":r});var s=this._handleDefaults(),a=this.$createElement("div.rs-bar rs-transition").css("z-index","7").append(n);return a.addClass(this._rangeSlider&&2==t?"rs-second":"rs-first"),a.rsRotate(s.angle),this.container.append(a),this._refreshHandle(),this.bar=a,1!=(this._active=t)&&2!=t&&(this["_handle"+t]=s),this._bind(n,"focus blur",this._handleFocus),n},_refreshHandle:function(){var t,e,n,i=this.options,r=i.handleSize,s=i.width,a=!0,o=this.isNumber;"string"==typeof r&&o(r)&&("+"===r.charAt(0)||"-"===r.charAt(0)?r=s+parseFloat(r):!r.indexOf(",")||o((n=r.split(","))[0])&&o(n[1])&&(e=parseFloat(n[0]),t=parseFloat(n[1]),a=!1)),a&&(t=e=o(r)?parseFloat(r):s);var l=(s+this._border()-e)/2;this._handles().css({height:t,width:e,margin:-t/2+"px 0 0 "+l+"px"})},_defaultValue:function(){var t=this.options,e=t.startValue;return this.isNumber(e)?this._limitValue(e):t.min},_handleDefaults:function(){var t=this._defaultValue();return{angle:this._valueToAngle(t),value:t}},_handleBars:function(){return this.container.children("div.rs-bar")},_handles:function(){return this._handleBars().find(".rs-handle")},_activeHandleBar:function(e){return this._minRange?this.bar:(e=null!=e?e:this._active,t(this._handleBars()[e-1]))},_handleArgs:function(t){var e=this["_handle"+(t=null!=t?t:this._active)]||{};return{element:this._activeHandleBar(t).children(),index:t,isActive:t==this._active,value:e.value,angle:e.angle}},_dataElement:function(){return this._isInputType?this._hiddenField:this.control},_raiseEvent:function(t){var e,n=this["_pre"+t],i=this.options.value;n!==i&&(this["_pre"+t]=i,"change"==t&&(this._predrag=i,this._updateHidden()),this._updateTooltip(),e=this._handleArgs(),this._raise(t,{value:i,preValue:n,handle:e}),i!=this._preValue&&(this._raise("update",{value:i,preValue:n,handle:e,action:t}),this._raiseValueChange(t)))},_raiseBeforeValueChange:function(t,e){void 0!==e?this._rangeSlider&&(e=this._formRangeValue(e)):e=this.options.value;var n="code"!==t;if(e===this._pre_bvc)return!n;var i={value:e,preValue:this._pre_bvc,action:t,isUserAction:n,cancelable:!0},r=0!=this._raise("beforeValueChange",i);return r&&(this._pre_bvc=e),r},_raiseValueChange:function(t){var e=this.options.value,n=[];this._minRange||n.push(this._handleArgs(1)),this._showRange&&n.push(this._handleArgs(2));var i={value:e,preValue:this._preValue,action:t,isUserAction:"code"!==t&&"create"!==t,isInvertedRange:this._isInvertedRange,handles:n};this._raise("valueChange",i),this._preValue=e},_elementDown:function(e){var n,i,r,s,a,o,l,c,u;this._isReadOnly||(t(e.target).hasClass("rs-handle")?this._handleDown(e):(n=this._getXY(e),i=this._getCenterPoint(),r=this._getDistance(n,i),(s=(this.block||this.svgContainer).outerWidth()/2)-(this.options.width+this._border())<=r&&r<=s&&(0!==(a=this.control.find(".rs-handle.rs-focus")).length&&e.preventDefault(),c=(o=this._getAngleValue(n,i)).angle,u=o.value,this._rangeSlider&&(1==a.length?(l=parseFloat(a.attr("index")),this._invertRange||(1==l&&c>this._handle2.angle?l=2:2==l&&c<this._handle1.angle&&(l=1)),this._active=l):this._active=this._handle2.angle-c<c-this._handle1.angle?2:1,this.bar=this._activeHandleBar()),this._raiseBeforeValueChange("change",u)&&(this._changeSliderValue(u,c),this._raiseEvent("change")))))},_handleDown:function(e){e.preventDefault();var n=t(e.target);n.focus(),this._removeAnimation(),this._bindMouseEvents("_bind"),this.bar=n.parent(),this._active=parseFloat(n.attr("index")),this._handles().removeClass("rs-move"),this._raise("start",{value:this.options.value,handle:this._handleArgs()})},_handleMove:function(t){t.preventDefault();var e=this._getXY(t),n=this._getCenterPoint(),i=this._getAngleValue(e,n,!0),r=i.angle,s=i.value;this._raiseBeforeValueChange("drag",s)&&(this._changeSliderValue(s,r),this._raiseEvent("drag"))},_handleUp:function(t){this._handles().addClass("rs-move"),this._bindMouseEvents("_unbind"),this._addAnimation(),this._raiseEvent("change"),this._raise("stop",{value:this.options.value,handle:this._handleArgs()})},_handleFocus:function(e){var n,i;this._isReadOnly||(this._handles().removeClass("rs-focus"),(n=this.options.keyboardAction)&&this._bindKeyboardEvents("_unbind"),"blur"!==e.type&&((i=t(e.target)).addClass("rs-focus"),this.bar=i.parent(),this._active=parseFloat(i.attr("index")),n&&this._bindKeyboardEvents("_bind"),this.control.find("div.rs-bar").css("z-index","7"),this.bar.css("z-index","8")))},_handleKeyDown:function(t){var e,n,i,r=t.keyCode,s=this.keys;27==r&&this._handles().blur(),35<=r&&r<=40&&(37<=r&&r<=40&&this._removeAnimation(),e=this["_handle"+this._active],t.preventDefault(),r==s.UP||r==s.RIGHT?n=this._round(this._limitValue(e.value+this.options.step)):r==s.DOWN||r==s.LEFT?n=this._round(this._limitValue(e.value-this._getMinusStep(e.value))):36==r?n=this._getKeyValue("Home"):35==r&&(n=this._getKeyValue("End")),i=this._valueToAngle(n),this._raiseBeforeValueChange("drag",n)&&(this._changeSliderValue(n,i),this._raiseEvent("drag")))},_handleKeyUp:function(t){this._addAnimation(),this._raiseEvent("change")},_getMinusStep:function(t){var e=this.options,n=e.min,i=e.max,r=e.step;if(t!=i)return r;var s=(i-n)%r;return 0==s?r:s},_getKeyValue:function(t){var e=this.options,n=e.min,i=e.max;return this._rangeSlider?"Home"==t?1==this._active?n:this._handle1.value:1==this._active?this._handle2.value:i:"Home"==t?n:i},_elementScroll:function(t){var e,n,i,r,s;this._isReadOnly||(t.preventDefault(),0!=(s=(e=t.originalEvent||t).wheelDelta?e.wheelDelta/60:e.detail?-e.detail/2:0)&&(this._updateActiveHandle(t),i=(n=this["_handle"+this._active]).value+(0<s?this.options.step:-this._getMinusStep(n.value)),i=this._limitValue(i),r=this._valueToAngle(i),this._raiseBeforeValueChange("change",i)&&(this._removeAnimation(),this._changeSliderValue(i,r),this._raiseEvent("change"),this._addAnimation())))},_updateActiveHandle:function(e){var n=t(e.target);n.hasClass("rs-handle")&&n.parent().parent()[0]==this.control[0]&&(this.bar=n.parent(),this._active=parseFloat(n.attr("index"))),this.bar.find(".rs-handle").hasClass("rs-focus")||this.bar.find(".rs-handle").focus()},_bindControlEvents:function(t){this[t](this.control,"mousedown touchstart",this._elementDown)},_bindScrollEvents:function(t){this[t](this.control,"mousewheel DOMMouseScroll",this._elementScroll)},_bindMouseEvents:function(e){var n=t(document);this[e](n,"mousemove touchmove",this._handleMove),this[e](n,"mouseup mouseleave touchend touchcancel",this._handleUp)},_bindKeyboardEvents:function(e){var n=t(document);this[e](n,"keydown",this._handleKeyDown),this[e](n,"keyup",this._handleKeyUp)},_changeSliderValue:function(t,e){var n=this._oriAngle(e),i=this._limitAngle(e),r=this._active,s=this.options;if(this._showRange){var a=1==r&&n<=this._oriAngle(this._handle2.angle)||2==r&&n>=this._oriAngle(this._handle1.angle),o=this._invertRange;if(this._minRange||a||o){if(this["_handle"+r]={angle:e,value:t},s.value=this._rangeSlider?this._handle1.value+","+this._handle2.value:t,this.bar.rsRotate(i),this._updateARIA(t),s.svgMode)return void this._moveSliderRange();var l=this._oriAngle(this._handle2.angle)-this._oriAngle(this._handle1.angle),c="1",u="0";l<=180&&!(l<0&&-180<l)&&(c="0",u="1"),this.block2.css("opacity",c),this.block3.css("opacity",u),(1==r?this.block4:this.block2).rsRotate(i-180),(1==r?this.block1:this.block3).rsRotate(i)}}else this["_handle"+r]={angle:e,value:t},s.value=t,this.bar.rsRotate(i),this._updateARIA(t)},_createSVGElements:function(){var t=this.$createSVG("svg"),e="path.rs-transition ",n={fill:"transparent"};this.$path=this.$createSVG(e+"rs-path",n),this.$range=this._showRange?this.$createSVG(e+"rs-range",n):null,this.$border=this.$createSVG(e+"rs-border",n),this.$append(t,[this.$path,this.$range,this.$border]),this.svgContainer=this.$createElement("div.rs-svg-container").append(t).appendTo(this.innerContainer)},_setSVGAttributes:function(){var e=this.options,n=e.radius,i=e.borderWidth,r=e.width,s=e.lineCap,a=n-i/2,o=a-r-i,l=this._start,c=this._end,u=l+c,h=this.$drawPath(n,a,l,u,o,s);this.$setAttribute(this.$border,{d:h}),t(this.$border).css("stroke-width",i);var d=n-i-r/2;this.svgPathLength=this.$getArcLength(d,c);var f={d:this.$drawPath(n,d,l,u),"stroke-width":r,"stroke-linecap":s};this.$setAttribute(this.$path,f),this._showRange&&(this.$setAttribute(this.$range,f),"round"==s||"square"==s?this.$range.setAttribute("stroke-dashoffset","0.01"):this.$range.removeAttribute("stroke-dashoffset"))},_setSVGStyles:function(){var e=this.options,n=e.borderColor,i=e.pathColor,r=e.rangeColor;n&&("inherit"==n&&(n=r),t(this.$border).css("stroke",n)),i&&(this.svgContainer["inherit"==i?"addClass":"removeClass"]("rs-path-inherited"),"inherit"==i&&(i=r),t(this.$path).css("stroke",i)),this._showRange&&r&&t(this.$range).css("stroke",r)},_moveSliderRange:function(t){var e,n,i,r,s,a,o,l,c;this._showRange&&(e=this._start,n=this._end,a=this._handle1.angle,o=this._handle2.angle,t&&(a=o=this._handleDefaults().angle),i=[],r=(a-=e)<=(o-=e),this._isInvertedRange=!r,r?i.push(0):(this._minRange&&i.push(0),s=a,a=o,o=s),l=a/n*this.svgPathLength,i.push(l),c=(o-a)/n*this.svgPathLength,i.push(c,this.svgPathLength),this.$range.style.strokeDasharray=i.join(" "))},_isPropsRelatedToSVG:function(t){return this._hasProperty(t,["radius","borderWidth","width","lineCap","startAngle","endAngle"])},_isPropsRelatedToSVGStyles:function(t){return this._hasProperty(t,["borderColor","pathColor","rangeColor"])},_hasProperty:function(t,e){return"string"==typeof t?-1!==e.indexOf(t):Object.keys(t).some((function(t){return-1!==e.indexOf(t)}))},_updateARIA:function(t){var e,n=this.options,i=n.min,r=n.max;this.bar.children().attr({"aria-valuenow":t}),this._rangeSlider?((e=this._handles()).eq(0).attr({"aria-valuemin":i}),e.eq(1).attr({"aria-valuemax":r}),1==this._active?e.eq(1).attr({"aria-valuemin":t}):e.eq(0).attr({"aria-valuemax":t})):this.bar.children().attr({"aria-valuemin":i,"aria-valuemax":r})},_getDistance:function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},_getXY:function(t){return-1==t.type.indexOf("mouse")&&(t=(t.originalEvent||t).changedTouches[0]),{x:t.pageX,y:t.pageY}},_getCenterPoint:function(){var t=this.block||this.svgContainer,e=t.offset();return{x:e.left+t.outerWidth()/2,y:e.top+t.outerHeight()/2}},_getAngleValue:function(t,e,n){var i=-Math.atan2(t.y-e.y,e.x-t.x)/(Math.PI/180);return i<this._start&&(i+=360),i=this._checkAngle(i,n),this._processStepByAngle(i)},_checkAngle:function(t,e){var n=this._oriAngle(t),i=this["_handle"+this._active].angle,r=this._oriAngle(i);if(n>this._end){if(!e)return i;t=this._start+(r<=this._end-r?0:this._end)}else if(e){var s=this._handleDragDistance;if(this.isNumber(s)&&Math.abs(n-r)>s)return i}return t},_processStepByAngle:function(t){var e=this._angleToValue(t);return this._processStepByValue(e)},_processStepByValue:function(t){var e=this.options,n=e.min,i=e.max,r=e.step,s=i<n,a=t-(t-n)%(r=s?-r:r),o=this._limitValue(a+r),l=this._limitValue(a-r),c=s?t<=a?a-t<t-o?a:o:l-t<t-a?a:l:a<=t?t-a<o-t?a:o:t-l<a-t?a:l;return{value:c=this._round(c),angle:this._valueToAngle(c)}},_round:function(t){var e=this.options.step.toString().split(".");return e[1]?parseFloat(t.toFixed(e[1].length)):Math.round(t)},_oriAngle:function(t){var e=t-this._start;return e<0&&(e+=360),e},_limitAngle:function(t){return t>360+this._start&&(t-=360),t<this._start&&(t+=360),t},_limitValue:function(t){var e=this.options,n=e.min,i=e.max,r=i<n;return(!r&&t<n||r&&n<t)&&(t=n),(!r&&i<t||r&&t<i)&&(t=i),t},_angleToValue:function(t){var e=this.options,n=e.min,i=e.max;return this._oriAngle(t)/this._end*(i-n)+n},_valueToAngle:function(t){var e=this.options,n=e.min;return(t-n)/(e.max-n)*this._end+this._start},_appendHiddenField:function(){var t=this._hiddenField=this._hiddenField||this.$createElement("input");t.attr({type:"hidden",name:this._dataElement()[0].id||""}),this.control.append(t),this._updateHidden()},_updateHidden:function(){var t=this.options.value;this._hiddenField.val(t)},_updateTooltip:function(){var t=this.options,e=this.tooltip;e&&(e.hasClass("rs-hover")||e.html(this._getTooltipValue()),this._updateTooltipPos()),!t.showTooltip&&t.mouseScrollAction&&this.control.height()},_updateTooltipPos:function(){var t,e,n,i=this.options,r=i.circleShape,s={};i.showTooltip&&0!==r.indexOf("quarter")&&((t=this.tooltip).is(":visible")?(t.removeClass("rs-center").addClass("rs-reset"),e=-t.outerHeight()/2,n=-t.outerWidth()/2,t.removeClass("rs-reset"),"full"==r||"pie"==r||0===r.indexOf("custom")?s={"margin-top":e,"margin-left":n}:"half-top"==r||"half-bottom"==r?s={"margin-left":n}:"half-left"!=r&&"half-right"!=r||(s={"margin-top":e})):t.addClass("rs-center"),t.css(s))},_getTooltipValue:function(t){var e=this.options.value;if(this._rangeSlider){var n=e.split(",");return t?n[0]+" - "+n[1]:this._tooltipValue(n[0],1)+" - "+this._tooltipValue(n[1],2)}return t?e:this._tooltipValue(e)},_tooltipValue:function(t,e){var n=this._raise("tooltipFormat",{value:t,handle:this._handleArgs(e)});return null!=n&&"boolean"!=typeof n?n:t},_validateStartAngle:function(){var t=this.options,e=t.startAngle;return(e=(this.isNumber(e)?parseFloat(e):0)%360)<0&&(e+=360),t.startAngle=e},_validateEndAngle:function(){var t=this.options,e=t.startAngle,n=t.endAngle;n=this.isNumber(n)?("string"!=typeof n||"+"!==n.charAt(0)&&"-"!==n.charAt(0)||(n=e+parseFloat(n)),parseFloat(n)):360;return(n%=360)<=e&&(n+=360),n},_refreshCircleShape:function(){var t=this.options,e=t.circleShape;-1==["half-top","half-bottom","half-left","half-right","quarter-top-left","quarter-top-right","quarter-bottom-right","quarter-bottom-left","pie","custom-half","custom-quarter"].indexOf(e)&&(e="half"==e?"half-top":"quarter"==e?"quarter-top-left":"full"),t.circleShape=e},_appendOverlay:function(){var t=this.options.circleShape;"pie"==t?this._checkOverlay(".rs-overlay",270):"custom-half"!=t&&"custom-quarter"!=t||(this._checkOverlay(".rs-overlay1",180),"custom-quarter"==t&&this._checkOverlay(".rs-overlay2",this._end))},_checkOverlay:function(t,e){var n=this.container.children(t);0==n.length&&(n=this.$createElement("div"+t+" rs-transition rs-bg-color"),this.container.append(n)),n.rsRotate(this._start+e)},_checkDataType:function(){var t,e,n,i=this.options,r=this._props();for(t in r.numberType)n=i[e=r.numberType[t]],this.isNumber(n)?i[e]=parseFloat(n):i[e]=this.defaults[e];for(t in r.booleanType)n=i[e=r.booleanType[t]],i[e]="false"!=n&&!!n;for(t in r.stringType)n=i[e=r.stringType[t]],i[e]=(""+n).toLowerCase()},_validateSliderType:function(){var t=this.options,e=t.sliderType.toLowerCase();this._rangeSlider=this._showRange=this._minRange=!1,"range"==e?this._rangeSlider=this._showRange=!0:e=-1!=e.indexOf("min")?(this._showRange=this._minRange=!0,"min-range"):"default",t.sliderType=e},_updateStartEnd:function(){var t=this.options,e=t.circleShape,n=t.startAngle,i=t.endAngle;"full"!=e&&(-1!=e.indexOf("quarter")?i="+90":-1!=e.indexOf("half")?i="+180":"pie"==e&&(i="+270"),t.endAngle=i,"quarter-top-left"==e||"half-top"==e?n=0:"quarter-top-right"==e||"half-right"==e?n=90:"quarter-bottom-right"==e||"half-bottom"==e?n=180:"quarter-bottom-left"!=e&&"half-left"!=e||(n=270),t.startAngle=n)},_validateStartEnd:function(){this._start=this._validateStartAngle(),this._end=this._validateEndAngle();var t=this._start<this._end?0:360;this._end+=t-this._start},_validateValue:function(t){return this._backupPreValue(),this._analyzeModelValue(),this._validateModelValue(),this._raiseBeforeValueChange(t?"change":"code")?(this._setValue(),this._backupPreValue(),!0):(this._revertPreValue(),!1)},_analyzeModelValue:function(){var t=this.options,e=t.value;e instanceof Array&&(e=e.toString());var n,i,r="string"==typeof e?e.split(","):[e];1==r.length&&this.isNumber(r[0])?r=[t.min,r[0]]:2<=r.length&&!this.isNumber(r[1])&&(r[1]=t.max),i=this._rangeSlider?[this._parseModelValue(r[0]),this._parseModelValue(r[1])].toString():(n=r.pop(),this._parseModelValue(n)),t.value=i},_parseModelValue:function(t){return this.isNumber(t)?parseFloat(t):this._defaultValue()},_validateModelValue:function(){var t,e,n,i,r=this.options,s=r.value;this._rangeSlider?(t=s.split(","),n=parseFloat(t[0]),i=parseFloat(t[1]),n=this._limitValue(n),i=this._limitValue(i),this._invertRange||(e=r.min,r.max<e?n<i&&(n=i):i<n&&(i=n)),this._handle1=this._processStepByValue(n),this._handle2=this._processStepByValue(i)):this["_handle"+(this._minRange?2:this._active||1)]=this._processStepByValue(this._limitValue(s)),this._updateModelValue()},_updateModelValue:function(){var t;t=this._rangeSlider?this._handle1.value+","+this._handle2.value:this["_handle"+(this._minRange?2:this._active||1)].value,this.options.value=t},_formRangeValue:function(t,e){e=e||this._active;var n=this._handle1.value,i=this._handle2.value;return 1==e?t+","+i:n+","+t},$createElement:function(e){var n=e.split(".");return t(document.createElement(n[0])).addClass(n[1]||"")},$createSVG:function(t,e){var n=t.split("."),i=document.createElementNS("http://www.w3.org/2000/svg",n[0]);return n[1]&&i.setAttribute("class",n[1]),e&&this.$setAttribute(i,e),i},$setAttribute:function(t,e){for(var n in e){var i,r=e[n];"class"!==n||(i=t.getAttribute("class"))&&(r+=" "+i),t.setAttribute(n,r)}return t},$append:function(t,e){return e.forEach((function(e){e&&t.appendChild(e)})),t},isNumber:function(t){return"number"==typeof(t=parseFloat(t))&&!isNaN(t)},getBrowserName:function(){var t="",e=window.navigator.userAgent;return window.opr&&opr.addons||window.opera||0<=e.indexOf(" OPR/")?t="opera":"undefined"!=typeof InstallTrigger?t="firefox":0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")?t="ie":window.StyleMedia?t="edge":-1!=e.indexOf("Safari")&&-1==e.indexOf("Chrome")?t="safari":(window.chrome&&window.chrome.webstore||-1!=e.indexOf("Chrome"))&&(t="chrome"),t},_isBrowserSupported:function(){for(var t=["borderRadius","WebkitBorderRadius","MozBorderRadius","OBorderRadius","msBorderRadius","KhtmlBorderRadius"],n=0;n<t.length;n++)if(void 0!==document.body.style[t[n]])return!0;console.error(e+" : Browser not supported")},_raise:function(e,n){var i=this.options,r=i[e],s=!0;return(n=n||{value:i.value}).id=this.id,n.control=this.control,n.options=i,r&&(n.type=e,"string"==typeof r&&(r=window[r]),t.isFunction(r)&&(s=!1!==(s=r.call(this,n))&&s)),this.control.trigger(t.Event(e,n)),s},_bind:function(e,n,i){t(e).bind(n,t.proxy(i,this))},_unbind:function(e,n,i){t(e).unbind(n,t.proxy(i,this))},_getInstance:function(){return t.data(this._dataElement()[0],e)},_saveInstanceOnElement:function(){t.data(this.control[0],e,this)},_saveInstanceOnID:function(){var t=this.id;t&&void 0!==window[t]&&(window[t]=this)},_removeData:function(){var n=this._dataElement()[0];t.removeData&&t.removeData(n,e),n.id&&"function"==typeof window[n.id]._init&&delete window[n.id]},_destroyControl:function(){this._isInputType&&this._dataElement().insertAfter(this.control).attr("type","text"),this.control.empty().removeClass("rs-control").height("").width(""),this._removeAnimation(),this._bindControlEvents("_unbind"),this._bindScrollEvents("_unbind")},_updateWidth:function(){this.lastBlock.css("padding",this.options.width)},_readOnly:function(t){this._isReadOnly=t,this.container.removeClass("rs-readonly"),t&&this.container.addClass("rs-readonly")},_get:function(t){return this.options[t]},_set:function(n,i,r){var s=this._props();if(-1!=t.inArray(n,s.numberType)){if(!this.isNumber(i))return;i=parseFloat(i)}else-1!=t.inArray(n,s.booleanType)?i="false"!=i&&!!i:-1!=t.inArray(n,s.stringType)&&(i=i.toLowerCase());var a=this.options;if(this._preValue=a.value,r||a[n]!==i){switch(a[n]=i,n){case"startAngle":case"endAngle":this._validateStartEnd(),this._updateSeperator(),this._appendOverlay();case"startValue":this._minRange&&(this._handle1=this._handleDefaults());case"min":case"max":case"step":case"value":this._validateValue()&&(this._updateHidden(),this._updateTooltip(),a.value!==this._preValue&&(this._raiseValueChange("code"),this._updatePre()));break;case"radius":this._setRadius(),this._updateTooltipPos();break;case"width":this._removeAnimation(),this._updateWidth(),this._setRadius(),this._refreshHandle(),this._updateTooltipPos(),this._addAnimation(),this._refreshSeperator();break;case"borderWidth":this._setRadius(),this._refreshHandle();break;case"handleSize":this._refreshHandle();break;case"handleShape":this._setHandleShape();break;case"animation":a.animation?this._addAnimation():this._removeAnimation();break;case"showTooltip":a.showTooltip?this._appendTooltip():this._removeTooltip();break;case"editableTooltip":this._tooltipEditable(),this._updateTooltipPos();break;case"rangeColor":case"tooltipColor":this._setTooltipColor(this.tooltip),this._setTooltipColor(this.input);break;case"disabled":a.disabled?this.disable():this.enable();break;case"readOnly":a.readOnly?this._readOnly(!0):a.disabled||this._readOnly(!1);break;case"mouseScrollAction":this._bindScrollEvents(a.mouseScrollAction?"_bind":"_unbind");break;case"lineCap":this._setRadius(),this._refreshSeperator();break;case"circleShape":this._refreshCircleShape(),"full"==a.circleShape&&(a.startAngle=0,a.endAngle="+360");case"sliderType":this._destroyControl(),this._onInit();break;case"svgMode":var o=this.control,l=a;this.destroy(),o[e](l)}return this}},option:function(e,n){if(e&&this._getInstance()){var i=this.options;if(t.isPlainObject(e)){var r,s="value",a=void 0!==e.min,o=void 0!==e.max;for(var l in(a||o)&&(a&&(i.min=e.min,delete e.min),o&&(i.max=e.max,delete e.max),r=i.value,void 0!==e[s]&&(r=e[s],delete e[s]),this._set(s,r,!0)),e)this._set(l,e[l])}else if("string"==typeof e){if(void 0===n)return this._get(e);this._set(e,n)}return i.svgMode&&(this._isPropsRelatedToSVG(e)&&(this._setSVGAttributes(),this._moveSliderRange()),this._isPropsRelatedToSVGStyles(e)&&this._setSVGStyles()),this}},getValue:function(t){if(this._rangeSlider&&this.isNumber(t)){var e=parseFloat(t);if(1==e||2==e)return this["_handle"+e].value}return this._get("value")},setValue:function(t,e){var n,i;this.isNumber(t)&&(this.isNumber(e)&&(this._rangeSlider?(n=parseFloat(e),i=parseFloat(t),t=this._formRangeValue(i,n)):this._minRange||(this._active=e)),this._set("value",t))},refreshTooltip:function(){this._updateTooltipPos()},disable:function(){this.options.disabled=!0,this.container.addClass("rs-disabled"),this._readOnly(!0)},enable:function(){var t=this.options;t.disabled=!1,this.container.removeClass("rs-disabled"),t.readOnly||this._readOnly(!1)},destroy:function(){this._getInstance()&&(this._destroyControl(),this._removeData(),this._isInputType&&this.control.remove())}},t.fn.rsRotate=function(t){var e=this,n="rotate("+t+"deg)";return e.css("-webkit-transform",n),e.css("-moz-transform",n),e.css("-ms-transform",n),e.css("-o-transform",n),e.css("transform",n),e},n.prototype.$polarToCartesian=function(t,e,n){var i=(n-180)*Math.PI/180;return[t+e*Math.cos(i),t+e*Math.sin(i)].join(" ")},n.prototype.$drawArc=function(t,e,n,i,r){var s,a,o,l=i-n==360,c=Math.abs(n-i)<=180?"0":"1",u=r?1:0,h=r?i:n,d=[];return l?(s=(n+i)/2,a=this.$polarToCartesian(t,e,s),o=this.$polarToCartesian(t,e,h),d.push("A",1,1,0,0,u,a,"A",1,1,0,0,u,o)):(o=this.$polarToCartesian(t,e,h),d.push("A",e,e,0,c,u,o)),d.join(" ")},n.prototype.$drawPath=function(t,e,n,i,r,s){var a,o,l=this.$polarToCartesian(t,e,n),c=["M "+l,this.$drawArc(t,e,n,i,!0)];return r&&(a=this.$polarToCartesian(t,r,i),o=this.$drawArc(t,r,n,i,!1),"none"==s?c.push("M "+a,o):"round"==s?c.push("A 1, 1, 0, 0, 1, "+a,o,"A 1, 1, 0, 0, 1, "+l):"butt"!=s&&"square"!=s||c.push("L "+a,o,"L "+l,"Z")),c.join(" ")},n.prototype.$getArcLength=function(t,e){return void 0===e&&(e=360),2*Math.PI*t*(e/360)},t.fn[e].prototype=n.prototype}))}));var a={name:"RoundSlider",props:{min:{type:[String,Number],default:0},max:{type:[String,Number],default:100},step:{type:[String,Number],default:1},value:{type:[String,Number],default:null},radius:{type:[String,Number],default:105},width:{type:[String,Number],default:20},lineCap:{type:String,default:"butt",validator:function(t){return l("lineCap",t)}},startAngle:{type:[String,Number],default:0},endAngle:{type:[String,Number],default:"+360"},borderWidth:{type:[String,Number],default:0},borderColor:{type:String,default:"inherit"},pathColor:{type:String,default:"#EEE"},rangeColor:{type:String,default:"#69F"},tooltipColor:{type:String,default:"inherit"},sliderType:{type:String,default:"min-range",validator:function(t){return l("sliderType",t)}},circleShape:{type:String,default:"full",validator:function(t){return l("circleShape",t)}},animation:{type:[String,Boolean],default:!0},readOnly:{type:[String,Boolean],default:!1},disabled:{type:[String,Boolean],default:!1},handleSize:{type:[String,Number],default:"+0"},handleShape:{type:String,default:"round",validator:function(t){return l("handleShape",t)}},showTooltip:{type:[String,Boolean],default:!0},editableTooltip:{type:[String,Boolean],default:!0},keyboardAction:{type:[String,Boolean],default:!0},mouseScrollAction:{type:[String,Boolean],default:!1},startValue:{type:[String,Number],default:null},create:{type:Function,default:null},beforeValueChange:{type:Function,default:null},change:{type:Function,default:null},update:{type:Function,default:null},valueChange:{type:Function,default:null},tooltipFormat:{type:Function,default:null}},computed:{control:function(){return r()(this.$el)},instance:function(){return this.control.data("roundSlider")},allProps:function(){var t=this;if(this.$props)return this.$props;var e=Object.keys(this.$options.props),n=e.reduce((function(e,n){var i={};return i[n]=t[n],Object.assign(e,i)}),{});return n}},mounted:function(){var t=this,e={svgMode:!0},n=Object.assign(e,this.allProps);this.control.roundSlider(n).on("update",(function(e){var n=e.value;t.$emit("input",n)})),this.watchProps()},destroyed:function(){this.control.roundSlider("destroy")},methods:{watchProps:function(){var t=this,e=Object.keys(this.allProps);e.forEach((function(e){t.$watch(e,(function(n){t.updateProp(e,n)}))}),this)},updateProp:function(t,e){this.instance.option(t,e)}}},o={lineCap:["butt","round","square","none"],sliderType:["min-range","range","default"],circleShape:["full","pie","half-top","half-bottom","half-left","half-right","quarter-top-left","quarter-top-right","quarter-bottom-right","quarter-bottom-left"],handleShape:["round","square","dot"]},l=function(t,e){var n=o[t];if(-1===n.indexOf(e)){var i='custom validator check failed for prop "'+t+'" with value "'+e+'"',r="\n\n---\x3e The possible values are \n\t\t* "+n.join("\n\t\t* ")+"\n\n";console.error("[Vue warn]: Invalid prop: "+i+r)}return!0};function c(t,e,n,i,r,s,a,o,l,c){"boolean"!==typeof a&&(l=o,o=a,a=!1);var u,h="function"===typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,r&&(h.functional=!0)),i&&(h._scopeId=i),s?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=u):e&&(u=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,o(t))}),u)if(h.functional){var d=h.render;h.render=function(t,e){return u.call(e),d(t,e)}}else{var f=h.beforeCreate;h.beforeCreate=f?[].concat(f,u):[u]}return n}var u,h="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function d(t){return function(t,e){return p(t,e)}}var f={};function p(t,e){var n=h?e.media||"default":t,i=f[n]||(f[n]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);var r=e.source;if(e.map&&(r+="\n/*# sourceURL="+e.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),void 0===u&&(u=document.head||document.getElementsByTagName("head")[0]),u.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(r),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var s=i.ids.size-1,a=document.createTextNode(r),o=i.element.childNodes;o[s]&&i.element.removeChild(o[s]),o.length?i.element.insertBefore(a,o[s]):i.element.appendChild(a)}}}var m=a,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},v=[],g=function(t){t&&(t("data-v-340fcb96_0",{source:'/*! roundSlider v1.6.1 | (c) 2015-2020, Soundar | MIT license | http://roundsliderui.com/licence.html */.rs-edge,.rs-handle,.rs-ie{-ms-touch-action:none;touch-action:none}.rs-control{position:relative;outline:0 none}.rs-container{position:relative}.rs-control *,.rs-control :after,.rs-control :before{-webkit-box-sizing:border-box;box-sizing:border-box}.rs-animation .rs-transition{transition:all .5s linear 0s}.rs-bar{-webkit-transform-origin:100% 50%;-ms-transform-origin:100% 50%;transform-origin:100% 50%}.rs-control .rs-overlay1,.rs-control .rs-overlay2,.rs-control .rs-split .rs-path{-webkit-transform-origin:50% 100%;-ms-transform-origin:50% 100%;transform-origin:50% 100%}.rs-control .rs-overlay{-webkit-transform-origin:100% 100%;-ms-transform-origin:100% 100%;transform-origin:100% 100%}.rs-rounded .rs-seperator,.rs-split .rs-path{-webkit-background-clip:padding-box;background-clip:padding-box}.rs-disabled{opacity:.35}.rs-inner-container{height:100%;width:100%;position:absolute;top:0;overflow:hidden}.rs-control .rs-quarter div.rs-block{height:200%;width:200%}.rs-control .rs-half.rs-bottom div.rs-block,.rs-control .rs-half.rs-top div.rs-block{height:200%;width:100%}.rs-control .rs-half.rs-left div.rs-block,.rs-control .rs-half.rs-right div.rs-block{height:100%;width:200%}.rs-control .rs-bottom .rs-block{top:auto;bottom:0}.rs-control .rs-right .rs-block{right:0}.rs-block.rs-outer{border-radius:1000px}.rs-block{height:100%;width:100%;display:block;position:absolute;top:0;overflow:hidden;z-index:3}.rs-block .rs-inner{border-radius:1000px;display:block;height:100%;width:100%;position:relative}.rs-overlay{width:50%}.rs-overlay1,.rs-overlay2{width:100%}.rs-overlay,.rs-overlay1,.rs-overlay2{position:absolute;background-color:#fff;z-index:3;top:0;height:50%}.rs-bar{display:block;position:absolute;bottom:0;height:0;z-index:10}.rs-bar.rs-rounded{z-index:5}.rs-bar .rs-seperator{height:0;display:block;float:left}.rs-bar:not(.rs-rounded) .rs-seperator{border-left:none;border-right:none}.rs-bar.rs-start .rs-seperator{border-top:none}.rs-bar.rs-end .rs-seperator{border-bottom:none}.rs-bar.rs-start.rs-rounded .rs-seperator{border-radius:0 0 1000px 1000px}.rs-bar.rs-end.rs-rounded .rs-seperator{border-radius:1000px 1000px 0 0}.rs-full .rs-bar,.rs-half .rs-bar{width:50%}.rs-half.rs-left .rs-bar,.rs-half.rs-right .rs-bar,.rs-quarter .rs-bar{width:100%}.rs-full .rs-bar,.rs-half.rs-left .rs-bar,.rs-half.rs-right .rs-bar{top:50%}.rs-bottom .rs-bar{top:0}.rs-half.rs-right .rs-bar,.rs-quarter.rs-right .rs-bar{right:100%}.rs-handle.rs-move{cursor:move}.rs-readonly .rs-handle.rs-move{cursor:default}.rs-classic-mode .rs-path{display:block;height:100%;width:100%}.rs-split .rs-path{border-radius:1000px 1000px 0 0;overflow:hidden;height:50%;position:absolute;top:0;z-index:2}.rs-control .rs-svg-container{display:block;position:absolute;top:0}.rs-control .rs-bottom .rs-svg-container{top:auto;bottom:0}.rs-control .rs-right .rs-svg-container{right:0}.rs-tooltip{position:absolute;cursor:default;border:1px solid transparent;z-index:10}.rs-full .rs-tooltip{top:50%;left:50%}.rs-bottom .rs-tooltip{top:0}.rs-top .rs-tooltip{bottom:0}.rs-right .rs-tooltip{left:0}.rs-left .rs-tooltip{right:0}.rs-half.rs-bottom .rs-tooltip,.rs-half.rs-top .rs-tooltip{left:50%}.rs-half.rs-left .rs-tooltip,.rs-half.rs-right .rs-tooltip{top:50%}.rs-tooltip .rs-input{outline:0 none;border:none;background:0 0}.rs-tooltip-text{font-family:verdana;font-size:13px;border-radius:7px;text-align:center;color:inherit}.rs-tooltip.rs-edit{padding:5px 8px}.rs-tooltip.rs-edit:hover,.rs-tooltip.rs-hover{border:1px solid #aaa;cursor:pointer}.rs-readonly .rs-tooltip.rs-edit:hover{border-color:transparent;cursor:default}.rs-tooltip.rs-center{margin:0!important}.rs-half.rs-bottom .rs-tooltip.rs-center,.rs-half.rs-top .rs-tooltip.rs-center{transform:translate(-50%,0)}.rs-half.rs-left .rs-tooltip.rs-center,.rs-half.rs-right .rs-tooltip.rs-center{transform:translate(0,-50%)}.rs-full .rs-tooltip.rs-center{transform:translate(-50%,-50%)}.rs-tooltip.rs-reset{margin:0!important;top:0!important;left:0!important}.rs-handle{border-radius:1000px;outline:0 none;float:left}.rs-handle.rs-handle-square{border-radius:0}.rs-handle-dot{border:1px solid #aaa;padding:6px}.rs-handle-dot:after{display:block;content:"";border:1px solid #aaa;height:100%;width:100%;border-radius:1000px}.rs-seperator{border:1px solid #aaa}.rs-border{border:1px solid #aaa}.rs-path-color{background-color:#fff}.rs-range-color{background-color:#54bbe0}.rs-bg-color{background-color:#fff}.rs-handle{background-color:#838383}.rs-handle-dot{background-color:#fff}.rs-handle-dot:after{background-color:#838383}.rs-path-inherited .rs-path{opacity:.2}.rs-svg-mode .rs-path{stroke:#fff}.rs-svg-mode .rs-range{stroke:#54bbe0}.rs-svg-mode .rs-border{stroke:#aaa}',map:void 0,media:void 0}),t("data-v-340fcb96_1",{source:".rs-handle{background-color:#f3f3f3;box-shadow:0 0 4px 0 #000}.rs-tooltip-text{font-size:26px;font-weight:500;font-family:Avenir,Tahoma,Verdana,sans-serif}.rs-animation .rs-transition{transition:all .5s ease-in-out 0s}.rs-tooltip.rs-edit:hover,.rs-tooltip.rs-hover{border:1px solid #cacaca}",map:void 0,media:void 0}))},y=void 0,b=void 0,w=!1,x=c({render:_,staticRenderFns:v},g,m,y,w,b,!1,d,void 0,void 0),k=function(t){k.installed||(k.installed=!0,t.component("RoundSlider",x))},S={version:"1.0.1",name:x.name,install:k};x.version="1.0.1";var C=null;"undefined"!==typeof window?C=window.Vue:"undefined"!==typeof n.g&&(C=n.g.Vue),C&&C.use(S),x.install=k,e.A=x},2856:function(t,e,n){"use strict";n.d(e,{Ay:function(){return Qi}});n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(9848);var i=Object.freeze({}),r=Array.isArray;function s(t){return void 0===t||null===t}function a(t){return void 0!==t&&null!==t}function o(t){return!0===t}function l(t){return!1===t}function c(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return"function"===typeof t}function h(t){return null!==t&&"object"===typeof t}var d=Object.prototype.toString;function f(t){return"[object Object]"===d.call(t)}function p(t){return"[object RegExp]"===d.call(t)}function m(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function _(t){return a(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function v(t){return null==t?"":Array.isArray(t)||f(t)&&t.toString===d?JSON.stringify(t,g,2):String(t)}function g(t,e){return e&&e.__v_isRef?e.value:e}function y(t){var e=parseFloat(t);return isNaN(e)?t:e}function b(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}b("slot,component",!0);var w=b("key,ref,slot,slot-scope,is");function x(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var k=Object.prototype.hasOwnProperty;function S(t,e){return k.call(t,e)}function C(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var T=/-(\w)/g,A=C((function(t){return t.replace(T,(function(t,e){return e?e.toUpperCase():""}))})),E=C((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),M=/\B([A-Z])/g,O=C((function(t){return t.replace(M,"-$1").toLowerCase()}));function I(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function P(t,e){return t.bind(e)}var R=Function.prototype.bind?P:I;function D(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function N(t,e){for(var n in e)t[n]=e[n];return t}function L(t){for(var e={},n=0;n<t.length;n++)t[n]&&N(e,t[n]);return e}function B(t,e,n){}var V=function(t,e,n){return!1},z=function(t){return t};function j(t,e){if(t===e)return!0;var n=h(t),i=h(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),s=Array.isArray(e);if(r&&s)return t.length===e.length&&t.every((function(t,n){return j(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||s)return!1;var a=Object.keys(t),o=Object.keys(e);return a.length===o.length&&a.every((function(n){return j(t[n],e[n])}))}catch(l){return!1}}function F(t,e){for(var n=0;n<t.length;n++)if(j(t[n],e))return n;return-1}function q(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function U(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var H="data-server-rendered",W=["component","directive","filter"],X=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:V,isReservedAttr:V,isUnknownElement:V,getTagNamespace:B,parsePlatformTagName:z,mustUseProp:V,async:!0,_lifecycleHooks:X},Y=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function G(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function Z(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var K=new RegExp("[^".concat(Y.source,".$_\\d]"));function Q(t){if(!K.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var J="__proto__"in{},tt="undefined"!==typeof window,et=tt&&window.navigator.userAgent.toLowerCase(),nt=et&&/msie|trident/.test(et),it=et&&et.indexOf("msie 9.0")>0,rt=et&&et.indexOf("edge/")>0;et&&et.indexOf("android");var st=et&&/iphone|ipad|ipod|ios/.test(et);et&&/chrome\/\d+/.test(et),et&&/phantomjs/.test(et);var at,ot=et&&et.match(/firefox\/(\d+)/),lt={}.watch,ct=!1;if(tt)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){ct=!0}}),window.addEventListener("test-passive",null,ut)}catch(Qa){}var ht=function(){return void 0===at&&(at=!tt&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),at},dt=tt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ft(t){return"function"===typeof t&&/native code/.test(t.toString())}var pt,mt="undefined"!==typeof Symbol&&ft(Symbol)&&"undefined"!==typeof Reflect&&ft(Reflect.ownKeys);pt="undefined"!==typeof Set&&ft(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var _t=null;function vt(t){void 0===t&&(t=null),t||_t&&_t._scope.off(),_t=t,t&&t._scope.on()}var gt=function(){function t(t,e,n,i,r,s,a,o){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),yt=function(t){void 0===t&&(t="");var e=new gt;return e.text=t,e.isComment=!0,e};function bt(t){return new gt(void 0,void 0,void 0,String(t))}function wt(t){var e=new gt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}"function"===typeof SuppressedError&&SuppressedError;var xt=0,kt=[],St=function(){for(var t=0;t<kt.length;t++){var e=kt[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}kt.length=0},Ct=function(){function t(){this._pending=!1,this.id=xt++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,kt.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,i=e.length;n<i;n++){var r=e[n];0,r.update()}},t}();Ct.target=null;var Tt=[];function At(t){Tt.push(t),Ct.target=t}function Et(){Tt.pop(),Ct.target=Tt[Tt.length-1]}var Mt=Array.prototype,Ot=Object.create(Mt),It=["push","pop","shift","unshift","splice","sort","reverse"];It.forEach((function(t){var e=Mt[t];Z(Ot,t,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r,s=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&a.observeArray(r),a.dep.notify(),s}))}));var Pt=Object.getOwnPropertyNames(Ot),Rt={},Dt=!0;function Nt(t){Dt=t}var Lt={notify:B,depend:B,addSub:B,removeSub:B},Bt=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Lt:new Ct,this.vmCount=0,Z(t,"__ob__",this),r(t)){if(!n)if(J)t.__proto__=Ot;else for(var i=0,s=Pt.length;i<s;i++){var a=Pt[i];Z(t,a,Ot[a])}e||this.observeArray(t)}else{var o=Object.keys(t);for(i=0;i<o.length;i++){a=o[i];zt(t,a,Rt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Vt(t[e],!1,this.mock)},t}();function Vt(t,e,n){return t&&S(t,"__ob__")&&t.__ob__ instanceof Bt?t.__ob__:!Dt||!n&&ht()||!r(t)&&!f(t)||!Object.isExtensible(t)||t.__v_skip||Xt(t)||t instanceof gt?void 0:new Bt(t,e,n)}function zt(t,e,n,i,s,a,o){void 0===o&&(o=!1);var l=new Ct,c=Object.getOwnPropertyDescriptor(t,e);if(!c||!1!==c.configurable){var u=c&&c.get,h=c&&c.set;u&&!h||n!==Rt&&2!==arguments.length||(n=t[e]);var d=s?n&&n.__ob__:Vt(n,!1,a);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=u?u.call(t):n;return Ct.target&&(l.depend(),d&&(d.dep.depend(),r(e)&&qt(e))),Xt(e)&&!s?e.value:e},set:function(e){var i=u?u.call(t):n;if(U(i,e)){if(h)h.call(t,e);else{if(u)return;if(!s&&Xt(i)&&!Xt(e))return void(i.value=e);n=e}d=s?e&&e.__ob__:Vt(e,!1,a),l.notify()}}}),l}}function jt(t,e,n){if(!Wt(t)){var i=t.__ob__;return r(t)&&m(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),i&&!i.shallow&&i.mock&&Vt(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||i&&i.vmCount?n:i?(zt(i.value,e,n,void 0,i.shallow,i.mock),i.dep.notify(),n):(t[e]=n,n)}}function Ft(t,e){if(r(t)&&m(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||Wt(t)||S(t,e)&&(delete t[e],n&&n.dep.notify())}}function qt(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),r(e)&&qt(e)}function Ut(t){return Ht(t,!0),Z(t,"__v_isShallow",!0),t}function Ht(t,e){if(!Wt(t)){Vt(t,e,ht());0}}function Wt(t){return!(!t||!t.__v_isReadonly)}function Xt(t){return!(!t||!0!==t.__v_isRef)}function $t(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(Xt(t))return t.value;var i=t&&t.__ob__;return i&&i.dep.depend(),t},set:function(t){var i=e[n];Xt(i)&&!Xt(t)?i.value=t:e[n]=t}})}var Yt="watcher";"".concat(Yt," callback"),"".concat(Yt," getter"),"".concat(Yt," cleanup");var Gt;var Zt=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Gt,!t&&Gt&&(this.index=(Gt.scopes||(Gt.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Gt;try{return Gt=this,t()}finally{Gt=e}}else 0},t.prototype.on=function(){Gt=this},t.prototype.off=function(){Gt=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}},t}();function Kt(t,e){void 0===e&&(e=Gt),e&&e.active&&e.effects.push(t)}function Qt(){return Gt}function Jt(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}var te=C((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}}));function ee(t,e){function n(){var t=n.fns;if(!r(t))return Ke(t,null,arguments,e,"v-on handler");for(var i=t.slice(),s=0;s<i.length;s++)Ke(i[s],null,arguments,e,"v-on handler")}return n.fns=t,n}function ne(t,e,n,i,r,a){var l,c,u,h;for(l in t)c=t[l],u=e[l],h=te(l),s(c)||(s(u)?(s(c.fns)&&(c=t[l]=ee(c,a)),o(h.once)&&(c=t[l]=r(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,t[l]=u));for(l in e)s(t[l])&&(h=te(l),i(h.name,e[l],h.capture))}function ie(t,e,n){var i;t instanceof gt&&(t=t.data.hook||(t.data.hook={}));var r=t[e];function l(){n.apply(this,arguments),x(i.fns,l)}s(r)?i=ee([l]):a(r.fns)&&o(r.merged)?(i=r,i.fns.push(l)):i=ee([r,l]),i.merged=!0,t[e]=i}function re(t,e,n){var i=e.options.props;if(!s(i)){var r={},o=t.attrs,l=t.props;if(a(o)||a(l))for(var c in i){var u=O(c);se(r,l,c,u,!0)||se(r,o,c,u,!1)}return r}}function se(t,e,n,i,r){if(a(e)){if(S(e,n))return t[n]=e[n],r||delete e[n],!0;if(S(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function ae(t){for(var e=0;e<t.length;e++)if(r(t[e]))return Array.prototype.concat.apply([],t);return t}function oe(t){return c(t)?[bt(t)]:r(t)?ce(t):void 0}function le(t){return a(t)&&a(t.text)&&l(t.isComment)}function ce(t,e){var n,i,l,u,h=[];for(n=0;n<t.length;n++)i=t[n],s(i)||"boolean"===typeof i||(l=h.length-1,u=h[l],r(i)?i.length>0&&(i=ce(i,"".concat(e||"","_").concat(n)),le(i[0])&&le(u)&&(h[l]=bt(u.text+i[0].text),i.shift()),h.push.apply(h,i)):c(i)?le(u)?h[l]=bt(u.text+i):""!==i&&h.push(bt(i)):le(i)&&le(u)?h[l]=bt(u.text+i.text):(o(t._isVList)&&a(i.tag)&&s(i.key)&&a(e)&&(i.key="__vlist".concat(e,"_").concat(n,"__")),h.push(i)));return h}function ue(t,e){var n,i,s,o,l=null;if(r(t)||"string"===typeof t)for(l=new Array(t.length),n=0,i=t.length;n<i;n++)l[n]=e(t[n],n);else if("number"===typeof t)for(l=new Array(t),n=0;n<t;n++)l[n]=e(n+1,n);else if(h(t))if(mt&&t[Symbol.iterator]){l=[];var c=t[Symbol.iterator](),u=c.next();while(!u.done)l.push(e(u.value,l.length)),u=c.next()}else for(s=Object.keys(t),l=new Array(s.length),n=0,i=s.length;n<i;n++)o=s[n],l[n]=e(t[o],o,n);return a(l)||(l=[]),l._isVList=!0,l}function he(t,e,n,i){var r,s=this.$scopedSlots[t];s?(n=n||{},i&&(n=N(N({},i),n)),r=s(n)||(u(e)?e():e)):r=this.$slots[t]||(u(e)?e():e);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function de(t){return Ci(this.$options,"filters",t,!0)||z}function fe(t,e){return r(t)?-1===t.indexOf(e):t!==e}function pe(t,e,n,i,r){var s=$.keyCodes[e]||n;return r&&i&&!$.keyCodes[e]?fe(r,i):s?fe(s,t):i?O(i)!==e:void 0===t}function me(t,e,n,i,s){if(n)if(h(n)){r(n)&&(n=L(n));var a=void 0,o=function(r){if("class"===r||"style"===r||w(r))a=t;else{var o=t.attrs&&t.attrs.type;a=i||$.mustUseProp(e,o,r)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=A(r),c=O(r);if(!(l in a)&&!(c in a)&&(a[r]=n[r],s)){var u=t.on||(t.on={});u["update:".concat(r)]=function(t){n[r]=t}}};for(var l in n)o(l)}else;return t}function _e(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),ge(i,"__static__".concat(t),!1)),i}function ve(t,e,n){return ge(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function ge(t,e,n){if(r(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&ye(t[i],"".concat(e,"_").concat(i),n);else ye(t,e,n)}function ye(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function be(t,e){if(e)if(f(e)){var n=t.on=t.on?N({},t.on):{};for(var i in e){var r=n[i],s=e[i];n[i]=r?[].concat(r,s):s}}else;return t}function we(t,e,n,i){e=e||{$stable:!n};for(var s=0;s<t.length;s++){var a=t[s];r(a)?we(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return i&&(e.$key=i),e}function xe(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"===typeof i&&i&&(t[e[n]]=e[n+1])}return t}function ke(t,e){return"string"===typeof t?e+t:t}function Se(t){t._o=ve,t._n=y,t._s=v,t._l=ue,t._t=he,t._q=j,t._i=F,t._m=_e,t._f=de,t._k=pe,t._b=me,t._v=bt,t._e=yt,t._u=we,t._g=be,t._d=xe,t._p=ke}function Ce(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var s=t[i],a=s.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,s.context!==e&&s.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(s);else{var o=a.slot,l=n[o]||(n[o]=[]);"template"===s.tag?l.push.apply(l,s.children||[]):l.push(s)}}for(var c in n)n[c].every(Te)&&delete n[c];return n}function Te(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Ae(t){return t.isComment&&t.asyncFactory}function Ee(t,e,n,r){var s,a=Object.keys(n).length>0,o=e?!!e.$stable:!a,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&r&&r!==i&&l===r.$key&&!a&&!r.$hasNormal)return r;for(var c in s={},e)e[c]&&"$"!==c[0]&&(s[c]=Me(t,n,c,e[c]))}else s={};for(var u in n)u in s||(s[u]=Oe(n,u));return e&&Object.isExtensible(e)&&(e._normalized=s),Z(s,"$stable",o),Z(s,"$key",l),Z(s,"$hasNormal",a),s}function Me(t,e,n,i){var s=function(){var e=_t;vt(t);var n=arguments.length?i.apply(null,arguments):i({});n=n&&"object"===typeof n&&!r(n)?[n]:oe(n);var s=n&&n[0];return vt(e),n&&(!s||1===n.length&&s.isComment&&!Ae(s))?void 0:n};return i.proxy&&Object.defineProperty(e,n,{get:s,enumerable:!0,configurable:!0}),s}function Oe(t,e){return function(){return t[e]}}function Ie(t){var e=t.$options,n=e.setup;if(n){var i=t._setupContext=Pe(t);vt(t),At();var r=Ke(n,null,[t._props||Ut({}),i],t,"setup");if(Et(),vt(),u(r))e.render=r;else if(h(r))if(t._setupState=r,r.__sfc){var s=t._setupProxy={};for(var a in r)"__sfc"!==a&&$t(s,r,a)}else for(var a in r)G(a)||$t(t,r,a);else 0}}function Pe(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};Z(e,"_v_attr_proxy",!0),Re(e,t.$attrs,i,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};Re(e,t.$listeners,i,t,"$listeners")}return t._listenersProxy},get slots(){return Ne(t)},emit:R(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return $t(t,e,n)}))}}}function Re(t,e,n,i,r){var s=!1;for(var a in e)a in t?e[a]!==n[a]&&(s=!0):(s=!0,De(t,a,i,r));for(var a in t)a in e||(s=!0,delete t[a]);return s}function De(t,e,n,i){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[i][e]}})}function Ne(t){return t._slotsProxy||Le(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function Le(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function Be(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=Ce(e._renderChildren,r),t.$scopedSlots=n?Ee(t.$parent,n.data.scopedSlots,t.$slots):i,t._c=function(e,n,i,r){return Xe(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return Xe(t,e,n,i,r,!0)};var s=n&&n.data;zt(t,"$attrs",s&&s.attrs||i,null,!0),zt(t,"$listeners",e._parentListeners||i,null,!0)}var Ve=null;function ze(t){Se(t.prototype),t.prototype.$nextTick=function(t){return un(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,i=e._parentVnode;i&&t._isMounted&&(t.$scopedSlots=Ee(t.$parent,i.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&Le(t._slotsProxy,t.$scopedSlots)),t.$vnode=i;var s,a=_t,o=Ve;try{vt(t),Ve=t,s=n.call(t._renderProxy,t.$createElement)}catch(Qa){Ze(Qa,t,"render"),s=t._vnode}finally{Ve=o,vt(a)}return r(s)&&1===s.length&&(s=s[0]),s instanceof gt||(s=yt()),s.parent=i,s}}function je(t,e){return(t.__esModule||mt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),h(t)?e.extend(t):t}function Fe(t,e,n,i,r){var s=yt();return s.asyncFactory=t,s.asyncMeta={data:e,context:n,children:i,tag:r},s}function qe(t,e){if(o(t.error)&&a(t.errorComp))return t.errorComp;if(a(t.resolved))return t.resolved;var n=Ve;if(n&&a(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&a(t.loadingComp))return t.loadingComp;if(n&&!a(t.owners)){var i=t.owners=[n],r=!0,l=null,c=null;n.$on("hook:destroyed",(function(){return x(i,n)}));var u=function(t){for(var e=0,n=i.length;e<n;e++)i[e].$forceUpdate();t&&(i.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},d=q((function(n){t.resolved=je(n,e),r?i.length=0:u(!0)})),f=q((function(e){a(t.errorComp)&&(t.error=!0,u(!0))})),p=t(d,f);return h(p)&&(_(p)?s(t.resolved)&&p.then(d,f):_(p.component)&&(p.component.then(d,f),a(p.error)&&(t.errorComp=je(p.error,e)),a(p.loading)&&(t.loadingComp=je(p.loading,e),0===p.delay?t.loading=!0:l=setTimeout((function(){l=null,s(t.resolved)&&s(t.error)&&(t.loading=!0,u(!1))}),p.delay||200)),a(p.timeout)&&(c=setTimeout((function(){c=null,s(t.resolved)&&f(null)}),p.timeout)))),r=!1,t.loading?t.loadingComp:t.resolved}}function Ue(t){if(r(t))for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||Ae(n)))return n}}var He=1,We=2;function Xe(t,e,n,i,s,a){return(r(n)||c(n))&&(s=i,i=n,n=void 0),o(a)&&(s=We),$e(t,e,n,i,s)}function $e(t,e,n,i,s){if(a(n)&&a(n.__ob__))return yt();if(a(n)&&a(n.is)&&(e=n.is),!e)return yt();var o,l;if(r(i)&&u(i[0])&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),s===We?i=oe(i):s===He&&(i=ae(i)),"string"===typeof e){var c=void 0;l=t.$vnode&&t.$vnode.ns||$.getTagNamespace(e),o=$.isReservedTag(e)?new gt($.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!a(c=Ci(t.$options,"components",e))?new gt(e,n,i,void 0,void 0,t):li(c,n,t,i,e)}else o=li(e,n,t,i);return r(o)?o:a(o)?(a(l)&&Ye(o,l),a(n)&&Ge(n),o):yt()}function Ye(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),a(t.children))for(var i=0,r=t.children.length;i<r;i++){var l=t.children[i];a(l.tag)&&(s(l.ns)||o(n)&&"svg"!==l.tag)&&Ye(l,e,n)}}function Ge(t){h(t.style)&&mn(t.style),h(t.class)&&mn(t.class)}function Ze(t,e,n){At();try{if(e){var i=e;while(i=i.$parent){var r=i.$options.errorCaptured;if(r)for(var s=0;s<r.length;s++)try{var a=!1===r[s].call(i,t,e,n);if(a)return}catch(Qa){Qe(Qa,i,"errorCaptured hook")}}}Qe(t,e,n)}finally{Et()}}function Ke(t,e,n,i,r){var s;try{s=n?t.apply(e,n):t.call(e),s&&!s._isVue&&_(s)&&!s._handled&&(s.catch((function(t){return Ze(t,i,r+" (Promise/async)")})),s._handled=!0)}catch(Qa){Ze(Qa,i,r)}return s}function Qe(t,e,n){if($.errorHandler)try{return $.errorHandler.call(null,t,e,n)}catch(Qa){Qa!==t&&Je(Qa,null,"config.errorHandler")}Je(t,e,n)}function Je(t,e,n){if(!tt||"undefined"===typeof console)throw t;console.error(t)}var tn,en=!1,nn=[],rn=!1;function sn(){rn=!1;var t=nn.slice(0);nn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ft(Promise)){var an=Promise.resolve();tn=function(){an.then(sn),st&&setTimeout(B)},en=!0}else if(nt||"undefined"===typeof MutationObserver||!ft(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())tn="undefined"!==typeof setImmediate&&ft(setImmediate)?function(){setImmediate(sn)}:function(){setTimeout(sn,0)};else{var on=1,ln=new MutationObserver(sn),cn=document.createTextNode(String(on));ln.observe(cn,{characterData:!0}),tn=function(){on=(on+1)%2,cn.data=String(on)},en=!0}function un(t,e){var n;if(nn.push((function(){if(t)try{t.call(e)}catch(Qa){Ze(Qa,e,"nextTick")}else n&&n(e)})),rn||(rn=!0,tn()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function hn(t){return function(e,n){if(void 0===n&&(n=_t),n)return dn(n,t,e)}}function dn(t,e,n){var i=t.$options;i[e]=vi(i[e],n)}hn("beforeMount"),hn("mounted"),hn("beforeUpdate"),hn("updated"),hn("beforeDestroy"),hn("destroyed"),hn("activated"),hn("deactivated"),hn("serverPrefetch"),hn("renderTracked"),hn("renderTriggered"),hn("errorCaptured");var fn="2.7.16";var pn=new pt;function mn(t){return _n(t,pn),pn.clear(),t}function _n(t,e){var n,i,s=r(t);if(!(!s&&!h(t)||t.__v_skip||Object.isFrozen(t)||t instanceof gt)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(s){n=t.length;while(n--)_n(t[n],e)}else if(Xt(t))_n(t.value,e);else{i=Object.keys(t),n=i.length;while(n--)_n(t[i[n]],e)}}}var vn,gn=0,yn=function(){function t(t,e,n,i,r){Kt(this,Gt&&!Gt._vm?Gt:t?t._scope:void 0),(this.vm=t)&&r&&(t._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++gn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pt,this.newDepIds=new pt,this.expression="",u(e)?this.getter=e:(this.getter=Q(e),this.getter||(this.getter=B)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;At(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Qa){if(!this.user)throw Qa;Ze(Qa,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&mn(t),Et(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Kn(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||h(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');Ke(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&x(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function bn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Sn(t,e)}function wn(t,e){vn.$on(t,e)}function xn(t,e){vn.$off(t,e)}function kn(t,e){var n=vn;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function Sn(t,e,n){vn=t,ne(e,n||{},wn,xn,kn,t),vn=void 0}function Cn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(r(t))for(var s=0,a=t.length;s<a;s++)i.$on(t[s],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(r(t)){for(var i=0,s=t.length;i<s;i++)n.$off(t[i],e);return n}var a,o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;var l=o.length;while(l--)if(a=o[l],a===e||a.fn===e){o.splice(l,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?D(n):n;for(var i=D(arguments,1),r='event handler for "'.concat(t,'"'),s=0,a=n.length;s<a;s++)Ke(n[s],e,i,e,r)}return e}}var Tn=null;function An(t){var e=Tn;return Tn=t,function(){Tn=e}}function En(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Mn(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,s=An(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),s(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n);var a=n;while(a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode)a.$parent.$el=a.$el,a=a.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Nn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||x(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Nn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function On(t,e,n){var i;t.$el=e,t.$options.render||(t.$options.render=yt),Nn(t,"beforeMount"),i=function(){t._update(t._render(),n)};var r={before:function(){t._isMounted&&!t._isDestroyed&&Nn(t,"beforeUpdate")}};new yn(t,i,B,r,!0),n=!1;var s=t._preWatchers;if(s)for(var a=0;a<s.length;a++)s[a].run();return null==t.$vnode&&(t._isMounted=!0,Nn(t,"mounted")),t}function In(t,e,n,r,s){var a=r.data.scopedSlots,o=t.$scopedSlots,l=!!(a&&!a.$stable||o!==i&&!o.$stable||a&&t.$scopedSlots.$key!==a.$key||!a&&t.$scopedSlots.$key),c=!!(s||t.$options._renderChildren||l),u=t.$vnode;t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=s;var h=r.data.attrs||i;t._attrsProxy&&Re(t._attrsProxy,h,u.data&&u.data.attrs||i,t,"$attrs")&&(c=!0),t.$attrs=h,n=n||i;var d=t.$options._parentListeners;if(t._listenersProxy&&Re(t._listenersProxy,n,d||i,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,Sn(t,n,d),e&&t.$options.props){Nt(!1);for(var f=t._props,p=t.$options._propKeys||[],m=0;m<p.length;m++){var _=p[m],v=t.$options.props;f[_]=Ti(_,v,e,t)}Nt(!0),t.$options.propsData=e}c&&(t.$slots=Ce(s,r.context),t.$forceUpdate())}function Pn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Rn(t,e){if(e){if(t._directInactive=!1,Pn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Rn(t.$children[n]);Nn(t,"activated")}}function Dn(t,e){if((!e||(t._directInactive=!0,!Pn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Dn(t.$children[n]);Nn(t,"deactivated")}}function Nn(t,e,n,i){void 0===i&&(i=!0),At();var r=_t,s=Qt();i&&vt(t);var a=t.$options[e],o="".concat(e," hook");if(a)for(var l=0,c=a.length;l<c;l++)Ke(a[l],t,n||null,t,o);t._hasHookEvent&&t.$emit("hook:"+e),i&&(vt(r),s&&s.on()),Et()}var Ln=[],Bn=[],Vn={},zn=!1,jn=!1,Fn=0;function qn(){Fn=Ln.length=Bn.length=0,Vn={},zn=jn=!1}var Un=0,Hn=Date.now;if(tt&&!nt){var Wn=window.performance;Wn&&"function"===typeof Wn.now&&Hn()>document.createEvent("Event").timeStamp&&(Hn=function(){return Wn.now()})}var Xn=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function $n(){var t,e;for(Un=Hn(),jn=!0,Ln.sort(Xn),Fn=0;Fn<Ln.length;Fn++)t=Ln[Fn],t.before&&t.before(),e=t.id,Vn[e]=null,t.run();var n=Bn.slice(),i=Ln.slice();qn(),Zn(n),Yn(i),St(),dt&&$.devtools&&dt.emit("flush")}function Yn(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i&&i._watcher===n&&i._isMounted&&!i._isDestroyed&&Nn(i,"updated")}}function Gn(t){t._inactive=!1,Bn.push(t)}function Zn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Rn(t[e],!0)}function Kn(t){var e=t.id;if(null==Vn[e]&&(t!==Ct.target||!t.noRecurse)){if(Vn[e]=!0,jn){var n=Ln.length-1;while(n>Fn&&Ln[n].id>t.id)n--;Ln.splice(n+1,0,t)}else Ln.push(t);zn||(zn=!0,un($n))}}function Qn(t){var e=t.$options.provide;if(e){var n=u(e)?e.call(t):e;if(!h(n))return;for(var i=Jt(t),r=mt?Reflect.ownKeys(n):Object.keys(n),s=0;s<r.length;s++){var a=r[s];Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))}}}function Jn(t){var e=ti(t.$options.inject,t);e&&(Nt(!1),Object.keys(e).forEach((function(n){zt(t,n,e[n])})),Nt(!0))}function ti(t,e){if(t){for(var n=Object.create(null),i=mt?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var s=i[r];if("__ob__"!==s){var a=t[s].from;if(a in e._provided)n[s]=e._provided[a];else if("default"in t[s]){var o=t[s].default;n[s]=u(o)?o.call(e):o}else 0}}return n}}function ei(t,e,n,s,a){var l,c=this,u=a.options;S(s,"_uid")?(l=Object.create(s),l._original=s):(l=s,s=s._original);var h=o(u._compiled),d=!h;this.data=t,this.props=e,this.children=n,this.parent=s,this.listeners=t.on||i,this.injections=ti(u.inject,s),this.slots=function(){return c.$slots||Ee(s,t.scopedSlots,c.$slots=Ce(n,s)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ee(s,t.scopedSlots,this.slots())}}),h&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Ee(s,t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,i){var a=Xe(l,t,e,n,i,d);return a&&!r(a)&&(a.fnScopeId=u._scopeId,a.fnContext=s),a}:this._c=function(t,e,n,i){return Xe(l,t,e,n,i,d)}}function ni(t,e,n,s,o){var l=t.options,c={},u=l.props;if(a(u))for(var h in u)c[h]=Ti(h,u,e||i);else a(n.attrs)&&ri(c,n.attrs),a(n.props)&&ri(c,n.props);var d=new ei(n,c,o,s,t),f=l.render.call(null,d._c,d);if(f instanceof gt)return ii(f,n,d.parent,l,d);if(r(f)){for(var p=oe(f)||[],m=new Array(p.length),_=0;_<p.length;_++)m[_]=ii(p[_],n,d.parent,l,d);return m}}function ii(t,e,n,i,r){var s=wt(t);return s.fnContext=n,s.fnOptions=i,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function ri(t,e){for(var n in e)t[A(n)]=e[n]}function si(t){return t.name||t.__name||t._componentTag}Se(ei.prototype);var ai={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;ai.prepatch(n,n)}else{var i=t.componentInstance=ci(t,Tn);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;In(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Nn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Gn(n):Rn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Dn(e,!0):e.$destroy())}},oi=Object.keys(ai);function li(t,e,n,i,r){if(!s(t)){var l=n.$options._base;if(h(t)&&(t=l.extend(t)),"function"===typeof t){var c;if(s(t.cid)&&(c=t,t=qe(c,l),void 0===t))return Fe(c,e,n,i,r);e=e||{},Zi(t),a(e.model)&&di(t.options,e);var u=re(e,t,r);if(o(t.options.functional))return ni(t,u,e,n,i);var d=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}ui(e);var p=si(t.options)||r,m=new gt("vue-component-".concat(t.cid).concat(p?"-".concat(p):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:u,listeners:d,tag:r,children:i},c);return m}}}function ci(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return a(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}function ui(t){for(var e=t.hook||(t.hook={}),n=0;n<oi.length;n++){var i=oi[n],r=e[i],s=ai[i];r===s||r&&r._merged||(e[i]=r?hi(s,r):s)}}function hi(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function di(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var s=e.on||(e.on={}),o=s[i],l=e.model.callback;a(o)?(r(o)?-1===o.indexOf(l):o!==l)&&(s[i]=[l].concat(o)):s[i]=l}var fi=B,pi=$.optionMergeStrategies;function mi(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var i,r,s,a=mt?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)i=a[o],"__ob__"!==i&&(r=t[i],s=e[i],n&&S(t,i)?r!==s&&f(r)&&f(s)&&mi(r,s):jt(t,i,s));return t}function _i(t,e,n){return n?function(){var i=u(e)?e.call(n,n):e,r=u(t)?t.call(n,n):t;return i?mi(i,r):r}:e?t?function(){return mi(u(e)?e.call(this,this):e,u(t)?t.call(this,this):t)}:e:t}function vi(t,e){var n=e?t?t.concat(e):r(e)?e:[e]:t;return n?gi(n):n}function gi(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function yi(t,e,n,i){var r=Object.create(t||null);return e?N(r,e):r}pi.data=function(t,e,n){return n?_i(t,e,n):e&&"function"!==typeof e?t:_i(t,e)},X.forEach((function(t){pi[t]=vi})),W.forEach((function(t){pi[t+"s"]=yi})),pi.watch=function(t,e,n,i){if(t===lt&&(t=void 0),e===lt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var s={};for(var a in N(s,t),e){var o=s[a],l=e[a];o&&!r(o)&&(o=[o]),s[a]=o?o.concat(l):r(l)?l:[l]}return s},pi.props=pi.methods=pi.inject=pi.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return N(r,t),e&&N(r,e),r},pi.provide=function(t,e){return t?function(){var n=Object.create(null);return mi(n,u(t)?t.call(this):t),e&&mi(n,u(e)?e.call(this):e,!1),n}:e};var bi=function(t,e){return void 0===e?t:e};function wi(t,e){var n=t.props;if(n){var i,s,a,o={};if(r(n)){i=n.length;while(i--)s=n[i],"string"===typeof s&&(a=A(s),o[a]={type:null})}else if(f(n))for(var l in n)s=n[l],a=A(l),o[a]=f(s)?s:{type:s};else 0;t.props=o}}function xi(t,e){var n=t.inject;if(n){var i=t.inject={};if(r(n))for(var s=0;s<n.length;s++)i[n[s]]={from:n[s]};else if(f(n))for(var a in n){var o=n[a];i[a]=f(o)?N({from:a},o):{from:o}}else 0}}function ki(t){var e=t.directives;if(e)for(var n in e){var i=e[n];u(i)&&(e[n]={bind:i,update:i})}}function Si(t,e,n){if(u(e)&&(e=e.options),wi(e,n),xi(e,n),ki(e),!e._base&&(e.extends&&(t=Si(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Si(t,e.mixins[i],n);var s,a={};for(s in t)o(s);for(s in e)S(t,s)||o(s);function o(i){var r=pi[i]||bi;a[i]=r(t[i],e[i],n,i)}return a}function Ci(t,e,n,i){if("string"===typeof n){var r=t[e];if(S(r,n))return r[n];var s=A(n);if(S(r,s))return r[s];var a=E(s);if(S(r,a))return r[a];var o=r[n]||r[s]||r[a];return o}}function Ti(t,e,n,i){var r=e[t],s=!S(n,t),a=n[t],o=Ii(Boolean,r.type);if(o>-1)if(s&&!S(r,"default"))a=!1;else if(""===a||a===O(t)){var l=Ii(String,r.type);(l<0||o<l)&&(a=!0)}if(void 0===a){a=Ai(i,r,t);var c=Dt;Nt(!0),Vt(a),Nt(c)}return a}function Ai(t,e,n){if(S(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:u(i)&&"Function"!==Mi(e.type)?i.call(t):i}}var Ei=/^\s*function (\w+)/;function Mi(t){var e=t&&t.toString().match(Ei);return e?e[1]:""}function Oi(t,e){return Mi(t)===Mi(e)}function Ii(t,e){if(!r(e))return Oi(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Oi(e[n],t))return n;return-1}var Pi={enumerable:!0,configurable:!0,get:B,set:B};function Ri(t,e,n){Pi.get=function(){return this[e][n]},Pi.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Pi)}function Di(t){var e=t.$options;if(e.props&&Ni(t,e.props),Ie(t),e.methods&&Ui(t,e.methods),e.data)Li(t);else{var n=Vt(t._data={});n&&n.vmCount++}e.computed&&zi(t,e.computed),e.watch&&e.watch!==lt&&Hi(t,e.watch)}function Ni(t,e){var n=t.$options.propsData||{},i=t._props=Ut({}),r=t.$options._propKeys=[],s=!t.$parent;s||Nt(!1);var a=function(s){r.push(s);var a=Ti(s,e,n,t);zt(i,s,a,void 0,!0),s in t||Ri(t,"_props",s)};for(var o in e)a(o);Nt(!0)}function Li(t){var e=t.$options.data;e=t._data=u(e)?Bi(e,t):e||{},f(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);while(r--){var s=n[r];0,i&&S(i,s)||G(s)||Ri(t,"_data",s)}var a=Vt(e);a&&a.vmCount++}function Bi(t,e){At();try{return t.call(e,e)}catch(Qa){return Ze(Qa,e,"data()"),{}}finally{Et()}}var Vi={lazy:!0};function zi(t,e){var n=t._computedWatchers=Object.create(null),i=ht();for(var r in e){var s=e[r],a=u(s)?s:s.get;0,i||(n[r]=new yn(t,a||B,B,Vi)),r in t||ji(t,r,s)}}function ji(t,e,n){var i=!ht();u(n)?(Pi.get=i?Fi(e):qi(n),Pi.set=B):(Pi.get=n.get?i&&!1!==n.cache?Fi(e):qi(n.get):B,Pi.set=n.set||B),Object.defineProperty(t,e,Pi)}function Fi(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Ct.target&&e.depend(),e.value}}function qi(t){return function(){return t.call(this,this)}}function Ui(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?B:R(e[n],t)}function Hi(t,e){for(var n in e){var i=e[n];if(r(i))for(var s=0;s<i.length;s++)Wi(t,n,i[s]);else Wi(t,n,i)}}function Wi(t,e,n,i){return f(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function Xi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=jt,t.prototype.$delete=Ft,t.prototype.$watch=function(t,e,n){var i=this;if(f(e))return Wi(i,t,e,n);n=n||{},n.user=!0;var r=new yn(i,t,e,n);if(n.immediate){var s='callback for immediate watcher "'.concat(r.expression,'"');At(),Ke(e,i,[r.value],i,s),Et()}return function(){r.teardown()}}}var $i=0;function Yi(t){t.prototype._init=function(t){var e=this;e._uid=$i++,e._isVue=!0,e.__v_skip=!0,e._scope=new Zt(!0),e._scope.parent=void 0,e._scope._vm=!0,t&&t._isComponent?Gi(e,t):e.$options=Si(Zi(e.constructor),t||{},e),e._renderProxy=e,e._self=e,En(e),bn(e),Be(e),Nn(e,"beforeCreate",void 0,!1),Jn(e),Di(e),Qn(e),Nn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Gi(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Zi(t){var e=t.options;if(t.super){var n=Zi(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var r=Ki(t);r&&N(t.extendOptions,r),e=t.options=Si(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Ki(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}function Qi(t){this._init(t)}function Ji(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=D(arguments,1);return n.unshift(this),u(t.install)?t.install.apply(t,n):u(t)&&t.apply(null,n),e.push(t),this}}function tr(t){t.mixin=function(t){return this.options=Si(this.options,t),this}}function er(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var s=si(t)||si(n.options);var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Si(n.options,t),a["super"]=n,a.options.props&&nr(a),a.options.computed&&ir(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,W.forEach((function(t){a[t]=n[t]})),s&&(a.options.components[s]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=N({},a.options),r[i]=a,a}}function nr(t){var e=t.options.props;for(var n in e)Ri(t.prototype,"_props",n)}function ir(t){var e=t.options.computed;for(var n in e)ji(t.prototype,n,e[n])}function rr(t){W.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&f(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&u(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function sr(t){return t&&(si(t.Ctor.options)||t.tag)}function ar(t,e){return r(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function or(t,e){var n=t.cache,i=t.keys,r=t._vnode,s=t.$vnode;for(var a in n){var o=n[a];if(o){var l=o.name;l&&!e(l)&&lr(n,a,i,r)}}s.componentOptions.children=void 0}function lr(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,x(n,e)}Yi(Qi),Xi(Qi),Cn(Qi),Mn(Qi),ze(Qi);var cr=[String,RegExp,Array],ur={name:"keep-alive",abstract:!0,props:{include:cr,exclude:cr,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,i=t.vnodeToCache,r=t.keyToCache;if(i){var s=i.tag,a=i.componentInstance,o=i.componentOptions;e[r]={name:sr(o),tag:s,componentInstance:a},n.push(r),this.max&&n.length>parseInt(this.max)&&lr(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)lr(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){or(t,(function(t){return ar(e,t)}))})),this.$watch("exclude",(function(e){or(t,(function(t){return!ar(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Ue(t),n=e&&e.componentOptions;if(n){var i=sr(n),r=this,s=r.include,a=r.exclude;if(s&&(!i||!ar(s,i))||a&&i&&ar(a,i))return e;var o=this,l=o.cache,c=o.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,x(c,u),c.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},hr={KeepAlive:ur};function dr(t){var e={get:function(){return $}};Object.defineProperty(t,"config",e),t.util={warn:fi,extend:N,mergeOptions:Si,defineReactive:zt},t.set=jt,t.delete=Ft,t.nextTick=un,t.observable=function(t){return Vt(t),t},t.options=Object.create(null),W.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,N(t.options.components,hr),Ji(t),tr(t),er(t),rr(t)}dr(Qi),Object.defineProperty(Qi.prototype,"$isServer",{get:ht}),Object.defineProperty(Qi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Qi,"FunctionalRenderContext",{value:ei}),Qi.version=fn;var fr=b("style,class"),pr=b("input,textarea,option,select,progress"),mr=function(t,e,n){return"value"===n&&pr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},_r=b("contenteditable,draggable,spellcheck"),vr=b("events,caret,typing,plaintext-only"),gr=function(t,e){return kr(e)||"false"===e?"false":"contenteditable"===t&&vr(e)?e:"true"},yr=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),br="http://www.w3.org/1999/xlink",wr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},xr=function(t){return wr(t)?t.slice(6,t.length):""},kr=function(t){return null==t||!1===t};function Sr(t){var e=t.data,n=t,i=t;while(a(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Cr(i.data,e));while(a(n=n.parent))n&&n.data&&(e=Cr(e,n.data));return Tr(e.staticClass,e.class)}function Cr(t,e){return{staticClass:Ar(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function Tr(t,e){return a(t)||a(e)?Ar(t,Er(e)):""}function Ar(t,e){return t?e?t+" "+e:t:e||""}function Er(t){return Array.isArray(t)?Mr(t):h(t)?Or(t):"string"===typeof t?t:""}function Mr(t){for(var e,n="",i=0,r=t.length;i<r;i++)a(e=Er(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Or(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Ir={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Pr=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Rr=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Dr=function(t){return Pr(t)||Rr(t)};function Nr(t){return Rr(t)?"svg":"math"===t?"math":void 0}var Lr=Object.create(null);function Br(t){if(!tt)return!0;if(Dr(t))return!1;if(t=t.toLowerCase(),null!=Lr[t])return Lr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Lr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Lr[t]=/HTMLUnknownElement/.test(e.toString())}var Vr=b("text,number,password,search,email,tel,url");function zr(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function jr(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function Fr(t,e){return document.createElementNS(Ir[t],e)}function qr(t){return document.createTextNode(t)}function Ur(t){return document.createComment(t)}function Hr(t,e,n){t.insertBefore(e,n)}function Wr(t,e){t.removeChild(e)}function Xr(t,e){t.appendChild(e)}function $r(t){return t.parentNode}function Yr(t){return t.nextSibling}function Gr(t){return t.tagName}function Zr(t,e){t.textContent=e}function Kr(t,e){t.setAttribute(e,"")}var Qr=Object.freeze({__proto__:null,createElement:jr,createElementNS:Fr,createTextNode:qr,createComment:Ur,insertBefore:Hr,removeChild:Wr,appendChild:Xr,parentNode:$r,nextSibling:Yr,tagName:Gr,setTextContent:Zr,setStyleScope:Kr}),Jr={create:function(t,e){ts(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ts(t,!0),ts(e))},destroy:function(t){ts(t,!0)}};function ts(t,e){var n=t.data.ref;if(a(n)){var i=t.context,s=t.componentInstance||t.elm,o=e?null:s,l=e?void 0:s;if(u(n))Ke(n,i,[o],i,"template ref function");else{var c=t.data.refInFor,h="string"===typeof n||"number"===typeof n,d=Xt(n),f=i.$refs;if(h||d)if(c){var p=h?f[n]:n.value;e?r(p)&&x(p,s):r(p)?p.includes(s)||p.push(s):h?(f[n]=[s],es(i,n,f[n])):n.value=[s]}else if(h){if(e&&f[n]!==s)return;f[n]=l,es(i,n,o)}else if(d){if(e&&n.value!==s)return;n.value=o}else 0}}}function es(t,e,n){var i=t._setupState;i&&S(i,e)&&(Xt(i[e])?i[e].value=n:i[e]=n)}var ns=new gt("",{},[]),is=["create","activate","update","remove","destroy"];function rs(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&ss(t,e)||o(t.isAsyncPlaceholder)&&s(e.asyncFactory.error))}function ss(t,e){if("input"!==t.tag)return!0;var n,i=a(n=t.data)&&a(n=n.attrs)&&n.type,r=a(n=e.data)&&a(n=n.attrs)&&n.type;return i===r||Vr(i)&&Vr(r)}function as(t,e,n){var i,r,s={};for(i=e;i<=n;++i)r=t[i].key,a(r)&&(s[r]=i);return s}function os(t){var e,n,i={},l=t.modules,u=t.nodeOps;for(e=0;e<is.length;++e)for(i[is[e]]=[],n=0;n<l.length;++n)a(l[n][is[e]])&&i[is[e]].push(l[n][is[e]]);function h(t){return new gt(u.tagName(t).toLowerCase(),{},[],void 0,t)}function d(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=u.parentNode(t);a(e)&&u.removeChild(e,t)}function p(t,e,n,i,r,s,l){if(a(t.elm)&&a(s)&&(t=s[l]=wt(t)),t.isRootInsert=!r,!m(t,e,n,i)){var c=t.data,h=t.children,d=t.tag;a(d)?(t.elm=t.ns?u.createElementNS(t.ns,d):u.createElement(d,t),k(t),y(t,h,e),a(c)&&x(t,e),g(n,t.elm,i)):o(t.isComment)?(t.elm=u.createComment(t.text),g(n,t.elm,i)):(t.elm=u.createTextNode(t.text),g(n,t.elm,i))}}function m(t,e,n,i){var r=t.data;if(a(r)){var s=a(t.componentInstance)&&r.keepAlive;if(a(r=r.hook)&&a(r=r.init)&&r(t,!1),a(t.componentInstance))return _(t,e),g(n,t.elm,i),o(s)&&v(t,e,n,i),!0}}function _(t,e){a(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(x(t,e),k(t)):(ts(t),e.push(t))}function v(t,e,n,r){var s,o=t;while(o.componentInstance)if(o=o.componentInstance._vnode,a(s=o.data)&&a(s=s.transition)){for(s=0;s<i.activate.length;++s)i.activate[s](ns,o);e.push(o);break}g(n,t.elm,r)}function g(t,e,n){a(t)&&(a(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function y(t,e,n){if(r(e)){0;for(var i=0;i<e.length;++i)p(e[i],n,t.elm,null,!0,e,i)}else c(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return a(t.tag)}function x(t,n){for(var r=0;r<i.create.length;++r)i.create[r](ns,t);e=t.data.hook,a(e)&&(a(e.create)&&e.create(ns,t),a(e.insert)&&n.push(t))}function k(t){var e;if(a(e=t.fnScopeId))u.setStyleScope(t.elm,e);else{var n=t;while(n)a(e=n.context)&&a(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent}a(e=Tn)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function S(t,e,n,i,r,s){for(;i<=r;++i)p(n[i],s,t,e,!1,n,i)}function C(t){var e,n,r=t.data;if(a(r))for(a(e=r.hook)&&a(e=e.destroy)&&e(t),e=0;e<i.destroy.length;++e)i.destroy[e](t);if(a(e=t.children))for(n=0;n<t.children.length;++n)C(t.children[n])}function T(t,e,n){for(;e<=n;++e){var i=t[e];a(i)&&(a(i.tag)?(A(i),C(i)):f(i.elm))}}function A(t,e){if(a(e)||a(t.data)){var n,r=i.remove.length+1;for(a(e)?e.listeners+=r:e=d(t.elm,r),a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)&&A(n,e),n=0;n<i.remove.length;++n)i.remove[n](t,e);a(n=t.data.hook)&&a(n=n.remove)?n(t,e):e()}else f(t.elm)}function E(t,e,n,i,r){var o,l,c,h,d=0,f=0,m=e.length-1,_=e[0],v=e[m],g=n.length-1,y=n[0],b=n[g],w=!r;while(d<=m&&f<=g)s(_)?_=e[++d]:s(v)?v=e[--m]:rs(_,y)?(O(_,y,i,n,f),_=e[++d],y=n[++f]):rs(v,b)?(O(v,b,i,n,g),v=e[--m],b=n[--g]):rs(_,b)?(O(_,b,i,n,g),w&&u.insertBefore(t,_.elm,u.nextSibling(v.elm)),_=e[++d],b=n[--g]):rs(v,y)?(O(v,y,i,n,f),w&&u.insertBefore(t,v.elm,_.elm),v=e[--m],y=n[++f]):(s(o)&&(o=as(e,d,m)),l=a(y.key)?o[y.key]:M(y,e,d,m),s(l)?p(y,i,t,_.elm,!1,n,f):(c=e[l],rs(c,y)?(O(c,y,i,n,f),e[l]=void 0,w&&u.insertBefore(t,c.elm,_.elm)):p(y,i,t,_.elm,!1,n,f)),y=n[++f]);d>m?(h=s(n[g+1])?null:n[g+1].elm,S(t,h,n,f,g,i)):f>g&&T(e,d,m)}function M(t,e,n,i){for(var r=n;r<i;r++){var s=e[r];if(a(s)&&rs(t,s))return r}}function O(t,e,n,r,l,c){if(t!==e){a(e.elm)&&a(r)&&(e=r[l]=wt(e));var h=e.elm=t.elm;if(o(t.isAsyncPlaceholder))a(e.asyncFactory.resolved)?R(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,f=e.data;a(f)&&a(d=f.hook)&&a(d=d.prepatch)&&d(t,e);var p=t.children,m=e.children;if(a(f)&&w(e)){for(d=0;d<i.update.length;++d)i.update[d](t,e);a(d=f.hook)&&a(d=d.update)&&d(t,e)}s(e.text)?a(p)&&a(m)?p!==m&&E(h,p,m,n,c):a(m)?(a(t.text)&&u.setTextContent(h,""),S(h,null,m,0,m.length-1,n)):a(p)?T(p,0,p.length-1):a(t.text)&&u.setTextContent(h,""):t.text!==e.text&&u.setTextContent(h,e.text),a(f)&&a(d=f.hook)&&a(d=d.postpatch)&&d(t,e)}}}function I(t,e,n){if(o(n)&&a(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var P=b("attrs,class,staticClass,staticStyle,key");function R(t,e,n,i){var r,s=e.tag,l=e.data,c=e.children;if(i=i||l&&l.pre,e.elm=t,o(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(l)&&(a(r=l.hook)&&a(r=r.init)&&r(e,!0),a(r=e.componentInstance)))return _(e,n),!0;if(a(s)){if(a(c))if(t.hasChildNodes())if(a(r=l)&&a(r=r.domProps)&&a(r=r.innerHTML)){if(r!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,d=0;d<c.length;d++){if(!h||!R(h,c[d],n,i)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else y(e,c,n);if(a(l)){var f=!1;for(var p in l)if(!P(p)){f=!0,x(e,n);break}!f&&l["class"]&&mn(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,r){if(!s(e)){var l=!1,c=[];if(s(t))l=!0,p(e,c);else{var d=a(t.nodeType);if(!d&&rs(t,e))O(t,e,c,null,null,r);else{if(d){if(1===t.nodeType&&t.hasAttribute(H)&&(t.removeAttribute(H),n=!0),o(n)&&R(t,e,c))return I(e,c,!0),t;t=h(t)}var f=t.elm,m=u.parentNode(f);if(p(e,c,f._leaveCb?null:m,u.nextSibling(f)),a(e.parent)){var _=e.parent,v=w(e);while(_){for(var g=0;g<i.destroy.length;++g)i.destroy[g](_);if(_.elm=e.elm,v){for(var y=0;y<i.create.length;++y)i.create[y](ns,_);var b=_.data.hook.insert;if(b.merged)for(var x=b.fns.slice(1),k=0;k<x.length;k++)x[k]()}else ts(_);_=_.parent}}a(m)?T([t],0,0):a(t.tag)&&C(t)}}return I(e,c,l),e.elm}a(t)&&C(t)}}var ls={create:cs,update:cs,destroy:function(t){cs(t,ns)}};function cs(t,e){(t.data.directives||e.data.directives)&&us(t,e)}function us(t,e){var n,i,r,s=t===ns,a=e===ns,o=ds(t.data.directives,t.context),l=ds(e.data.directives,e.context),c=[],u=[];for(n in l)i=o[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,ps(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(ps(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var n=0;n<c.length;n++)ps(c[n],"inserted",e,t)};s?ie(e,"insert",h):h()}if(u.length&&ie(e,"postpatch",(function(){for(var n=0;n<u.length;n++)ps(u[n],"componentUpdated",e,t)})),!s)for(n in o)l[n]||ps(o[n],"unbind",t,t,a)}var hs=Object.create(null);function ds(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++){if(i=t[n],i.modifiers||(i.modifiers=hs),r[fs(i)]=i,e._setupState&&e._setupState.__sfc){var s=i.def||Ci(e,"_setupState","v-"+i.name);i.def="function"===typeof s?{bind:s,update:s}:s}i.def=i.def||Ci(e.$options,"directives",i.name,!0)}return r}function fs(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function ps(t,e,n,i,r){var s=t.def&&t.def[e];if(s)try{s(n.elm,t,n,i,r)}catch(Qa){Ze(Qa,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var ms=[Jr,ls];function _s(t,e){var n=e.componentOptions;if((!a(n)||!1!==n.Ctor.options.inheritAttrs)&&(!s(t.data.attrs)||!s(e.data.attrs))){var i,r,l,c=e.elm,u=t.data.attrs||{},h=e.data.attrs||{};for(i in(a(h.__ob__)||o(h._v_attr_proxy))&&(h=e.data.attrs=N({},h)),h)r=h[i],l=u[i],l!==r&&vs(c,i,r,e.data.pre);for(i in(nt||rt)&&h.value!==u.value&&vs(c,"value",h.value),u)s(h[i])&&(wr(i)?c.removeAttributeNS(br,xr(i)):_r(i)||c.removeAttribute(i))}}function vs(t,e,n,i){i||t.tagName.indexOf("-")>-1?gs(t,e,n):yr(e)?kr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):_r(e)?t.setAttribute(e,gr(e,n)):wr(e)?kr(n)?t.removeAttributeNS(br,xr(e)):t.setAttributeNS(br,e,n):gs(t,e,n)}function gs(t,e,n){if(kr(n))t.removeAttribute(e);else{if(nt&&!it&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var ys={create:_s,update:_s};function bs(t,e){var n=e.elm,i=e.data,r=t.data;if(!(s(i.staticClass)&&s(i.class)&&(s(r)||s(r.staticClass)&&s(r.class)))){var o=Sr(e),l=n._transitionClasses;a(l)&&(o=Ar(o,Er(l))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var ws,xs={create:bs,update:bs},ks="__r",Ss="__c";function Cs(t){if(a(t[ks])){var e=nt?"change":"input";t[e]=[].concat(t[ks],t[e]||[]),delete t[ks]}a(t[Ss])&&(t.change=[].concat(t[Ss],t.change||[]),delete t[Ss])}function Ts(t,e,n){var i=ws;return function r(){var s=e.apply(null,arguments);null!==s&&Ms(t,r,n,i)}}var As=en&&!(ot&&Number(ot[1])<=53);function Es(t,e,n,i){if(As){var r=Un,s=e;e=s._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return s.apply(this,arguments)}}ws.addEventListener(t,e,ct?{capture:n,passive:i}:n)}function Ms(t,e,n,i){(i||ws).removeEventListener(t,e._wrapper||e,n)}function Os(t,e){if(!s(t.data.on)||!s(e.data.on)){var n=e.data.on||{},i=t.data.on||{};ws=e.elm||t.elm,Cs(n),ne(n,i,Es,Ms,Ts,e.context),ws=void 0}}var Is,Ps={create:Os,update:Os,destroy:function(t){return Os(t,ns)}};function Rs(t,e){if(!s(t.data.domProps)||!s(e.data.domProps)){var n,i,r=e.elm,l=t.data.domProps||{},c=e.data.domProps||{};for(n in(a(c.__ob__)||o(c._v_attr_proxy))&&(c=e.data.domProps=N({},c)),l)n in c||(r[n]="");for(n in c){if(i=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===l[n])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===n&&"PROGRESS"!==r.tagName){r._value=i;var u=s(i)?"":String(i);Ds(r,u)&&(r.value=u)}else if("innerHTML"===n&&Rr(r.tagName)&&s(r.innerHTML)){Is=Is||document.createElement("div"),Is.innerHTML="<svg>".concat(i,"</svg>");var h=Is.firstChild;while(r.firstChild)r.removeChild(r.firstChild);while(h.firstChild)r.appendChild(h.firstChild)}else if(i!==l[n])try{r[n]=i}catch(Qa){}}}}function Ds(t,e){return!t.composing&&("OPTION"===t.tagName||Ns(t,e)||Ls(t,e))}function Ns(t,e){var n=!0;try{n=document.activeElement!==t}catch(Qa){}return n&&t.value!==e}function Ls(t,e){var n=t.value,i=t._vModifiers;if(a(i)){if(i.number)return y(n)!==y(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var Bs={create:Rs,update:Rs},Vs=C((function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function zs(t){var e=js(t.style);return t.staticStyle?N(t.staticStyle,e):e}function js(t){return Array.isArray(t)?L(t):"string"===typeof t?Vs(t):t}function Fs(t,e){var n,i={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=zs(r.data))&&N(i,n)}(n=zs(t.data))&&N(i,n);var s=t;while(s=s.parent)s.data&&(n=zs(s.data))&&N(i,n);return i}var qs,Us=/^--/,Hs=/\s*!important$/,Ws=function(t,e,n){if(Us.test(e))t.style.setProperty(e,n);else if(Hs.test(n))t.style.setProperty(O(e),n.replace(Hs,""),"important");else{var i=$s(e);if(Array.isArray(n))for(var r=0,s=n.length;r<s;r++)t.style[i]=n[r];else t.style[i]=n}},Xs=["Webkit","Moz","ms"],$s=C((function(t){if(qs=qs||document.createElement("div").style,t=A(t),"filter"!==t&&t in qs)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Xs.length;n++){var i=Xs[n]+e;if(i in qs)return i}}));function Ys(t,e){var n=e.data,i=t.data;if(!(s(n.staticStyle)&&s(n.style)&&s(i.staticStyle)&&s(i.style))){var r,o,l=e.elm,c=i.staticStyle,u=i.normalizedStyle||i.style||{},h=c||u,d=js(e.data.style)||{};e.data.normalizedStyle=a(d.__ob__)?N({},d):d;var f=Fs(e,!0);for(o in h)s(f[o])&&Ws(l,o,"");for(o in f)r=f[o],Ws(l,o,null==r?"":r)}}var Gs={create:Ys,update:Ys},Zs=/\s+/;function Ks(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Zs).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Qs(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Zs).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Js(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&N(e,ta(t.name||"v")),N(e,t),e}return"string"===typeof t?ta(t):void 0}}var ta=C((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),ea=tt&&!it,na="transition",ia="animation",ra="transition",sa="transitionend",aa="animation",oa="animationend";ea&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ra="WebkitTransition",sa="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(aa="WebkitAnimation",oa="webkitAnimationEnd"));var la=tt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ca(t){la((function(){la(t)}))}function ua(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Ks(t,e))}function ha(t,e){t._transitionClasses&&x(t._transitionClasses,e),Qs(t,e)}function da(t,e,n){var i=pa(t,e),r=i.type,s=i.timeout,a=i.propCount;if(!r)return n();var o=r===na?sa:oa,l=0,c=function(){t.removeEventListener(o,u),n()},u=function(e){e.target===t&&++l>=a&&c()};setTimeout((function(){l<a&&c()}),s+1),t.addEventListener(o,u)}var fa=/\b(transform|all)(,|$)/;function pa(t,e){var n,i=window.getComputedStyle(t),r=(i[ra+"Delay"]||"").split(", "),s=(i[ra+"Duration"]||"").split(", "),a=ma(r,s),o=(i[aa+"Delay"]||"").split(", "),l=(i[aa+"Duration"]||"").split(", "),c=ma(o,l),u=0,h=0;e===na?a>0&&(n=na,u=a,h=s.length):e===ia?c>0&&(n=ia,u=c,h=l.length):(u=Math.max(a,c),n=u>0?a>c?na:ia:null,h=n?n===na?s.length:l.length:0);var d=n===na&&fa.test(i[ra+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:d}}function ma(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return _a(e)+_a(t[n])})))}function _a(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function va(t,e){var n=t.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Js(t.data.transition);if(!s(i)&&!a(n._enterCb)&&1===n.nodeType){var r=i.css,o=i.type,l=i.enterClass,c=i.enterToClass,d=i.enterActiveClass,f=i.appearClass,p=i.appearToClass,m=i.appearActiveClass,_=i.beforeEnter,v=i.enter,g=i.afterEnter,b=i.enterCancelled,w=i.beforeAppear,x=i.appear,k=i.afterAppear,S=i.appearCancelled,C=i.duration,T=Tn,A=Tn.$vnode;while(A&&A.parent)T=A.context,A=A.parent;var E=!T._isMounted||!t.isRootInsert;if(!E||x||""===x){var M=E&&f?f:l,O=E&&m?m:d,I=E&&p?p:c,P=E&&w||_,R=E&&u(x)?x:v,D=E&&k||g,N=E&&S||b,L=y(h(C)?C.enter:C);0;var B=!1!==r&&!it,V=ba(R),z=n._enterCb=q((function(){B&&(ha(n,I),ha(n,O)),z.cancelled?(B&&ha(n,M),N&&N(n)):D&&D(n),n._enterCb=null}));t.data.show||ie(t,"insert",(function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),R&&R(n,z)})),P&&P(n),B&&(ua(n,M),ua(n,O),ca((function(){ha(n,M),z.cancelled||(ua(n,I),V||(ya(L)?setTimeout(z,L):da(n,o,z)))}))),t.data.show&&(e&&e(),R&&R(n,z)),B||V||z()}}}function ga(t,e){var n=t.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Js(t.data.transition);if(s(i)||1!==n.nodeType)return e();if(!a(n._leaveCb)){var r=i.css,o=i.type,l=i.leaveClass,c=i.leaveToClass,u=i.leaveActiveClass,d=i.beforeLeave,f=i.leave,p=i.afterLeave,m=i.leaveCancelled,_=i.delayLeave,v=i.duration,g=!1!==r&&!it,b=ba(f),w=y(h(v)?v.leave:v);0;var x=n._leaveCb=q((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),g&&(ha(n,c),ha(n,u)),x.cancelled?(g&&ha(n,l),m&&m(n)):(e(),p&&p(n)),n._leaveCb=null}));_?_(k):k()}function k(){x.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),g&&(ua(n,l),ua(n,u),ca((function(){ha(n,l),x.cancelled||(ua(n,c),b||(ya(w)?setTimeout(x,w):da(n,o,x)))}))),f&&f(n,x),g||b||x())}}function ya(t){return"number"===typeof t&&!isNaN(t)}function ba(t){if(s(t))return!1;var e=t.fns;return a(e)?ba(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function wa(t,e){!0!==e.data.show&&va(e)}var xa=tt?{create:wa,activate:wa,remove:function(t,e){!0!==t.data.show?ga(t,e):e()}}:{},ka=[ys,xs,Ps,Bs,Gs,xa],Sa=ka.concat(ms),Ca=os({nodeOps:Qr,modules:Sa});it&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Ra(t,"input")}));var Ta={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ie(n,"postpatch",(function(){Ta.componentUpdated(t,e,n)})):Aa(t,e,n.context),t._vOptions=[].map.call(t.options,Oa)):("textarea"===n.tag||Vr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ia),t.addEventListener("compositionend",Pa),t.addEventListener("change",Pa),it&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Aa(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,Oa);if(r.some((function(t,e){return!j(t,i[e])}))){var s=t.multiple?e.value.some((function(t){return Ma(t,r)})):e.value!==e.oldValue&&Ma(e.value,r);s&&Ra(t,"change")}}}};function Aa(t,e,n){Ea(t,e,n),(nt||rt)&&setTimeout((function(){Ea(t,e,n)}),0)}function Ea(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var s,a,o=0,l=t.options.length;o<l;o++)if(a=t.options[o],r)s=F(i,Oa(a))>-1,a.selected!==s&&(a.selected=s);else if(j(Oa(a),i))return void(t.selectedIndex!==o&&(t.selectedIndex=o));r||(t.selectedIndex=-1)}}function Ma(t,e){return e.every((function(e){return!j(e,t)}))}function Oa(t){return"_value"in t?t._value:t.value}function Ia(t){t.target.composing=!0}function Pa(t){t.target.composing&&(t.target.composing=!1,Ra(t.target,"input"))}function Ra(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Da(t){return!t.componentInstance||t.data&&t.data.transition?t:Da(t.componentInstance._vnode)}var Na={bind:function(t,e,n){var i=e.value;n=Da(n);var r=n.data&&n.data.transition,s=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,va(n,(function(){t.style.display=s}))):t.style.display=i?s:"none"},update:function(t,e,n){var i=e.value,r=e.oldValue;if(!i!==!r){n=Da(n);var s=n.data&&n.data.transition;s?(n.data.show=!0,i?va(n,(function(){t.style.display=t.__vOriginalDisplay})):ga(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},La={model:Ta,show:Na},Ba={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Va(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Va(Ue(e.children)):t}function za(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var i in r)e[A(i)]=r[i];return e}function ja(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Fa(t){while(t=t.parent)if(t.data.transition)return!0}function qa(t,e){return e.key===t.key&&e.tag===t.tag}var Ua=function(t){return t.tag||Ae(t)},Ha=function(t){return"show"===t.name},Wa={name:"transition",props:Ba,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Ua),n.length)){0;var i=this.mode;0;var r=n[0];if(Fa(this.$vnode))return r;var s=Va(r);if(!s)return r;if(this._leaving)return ja(t,r);var a="__transition-".concat(this._uid,"-");s.key=null==s.key?s.isComment?a+"comment":a+s.tag:c(s.key)?0===String(s.key).indexOf(a)?s.key:a+s.key:s.key;var o=(s.data||(s.data={})).transition=za(this),l=this._vnode,u=Va(l);if(s.data.directives&&s.data.directives.some(Ha)&&(s.data.show=!0),u&&u.data&&!qa(s,u)&&!Ae(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=N({},o);if("out-in"===i)return this._leaving=!0,ie(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ja(t,r);if("in-out"===i){if(Ae(s))return l;var d,f=function(){d()};ie(o,"afterEnter",f),ie(o,"enterCancelled",f),ie(h,"delayLeave",(function(t){d=t}))}}return r}}},Xa=N({tag:String,moveClass:String},Ba);delete Xa.mode;var $a={props:Xa,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=An(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],s=this.children=[],a=za(this),o=0;o<r.length;o++){var l=r[o];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))s.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(i){var c=[],u=[];for(o=0;o<i.length;o++){l=i[o];l.data.transition=a,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?c.push(l):u.push(l)}this.kept=t(e,null,c),this.removed=u}return t(e,null,s)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ya),t.forEach(Ga),t.forEach(Za),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;ua(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(sa,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(sa,t),n._moveCb=null,ha(n,e))})}})))},methods:{hasMove:function(t,e){if(!ea)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Qs(n,t)})),Ks(n,e),n.style.display="none",this.$el.appendChild(n);var i=pa(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function Ya(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ga(t){t.data.newPos=t.elm.getBoundingClientRect()}function Za(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var s=t.elm.style;s.transform=s.WebkitTransform="translate(".concat(i,"px,").concat(r,"px)"),s.transitionDuration="0s"}}var Ka={Transition:Wa,TransitionGroup:$a};Qi.config.mustUseProp=mr,Qi.config.isReservedTag=Dr,Qi.config.isReservedAttr=fr,Qi.config.getTagNamespace=Nr,Qi.config.isUnknownElement=Br,N(Qi.options.directives,La),N(Qi.options.components,Ka),Qi.prototype.__patch__=tt?Ca:B,Qi.prototype.$mount=function(t,e){return t=t&&tt?zr(t):void 0,On(this,t,e)},tt&&setTimeout((function(){$.devtools&&dt&&dt.emit("init",Qi)}),0)},5862:function(t){function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},4566:function(t){function e(t){if(Array.isArray(t))return t}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},6710:function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},4864:function(t,e,n){var i=n(5295);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function s(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}t.exports=s,t.exports.__esModule=!0,t.exports["default"]=t.exports},8593:function(t,e,n){function i(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(c)throw r}}return o}}n(4114),t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},4367:function(t){function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},8764:function(t,e,n){var i=n(4566),r=n(8593),s=n(6103),a=n(4367);function o(t,e){return i(t)||r(t,e)||s(t,e)||a()}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},74:function(t,e,n){var i=n(2235)["default"];function r(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},5295:function(t,e,n){var i=n(2235)["default"],r=n(74);function s(t){var e=r(t,"string");return"symbol"==i(e)?e:e+""}t.exports=s,t.exports.__esModule=!0,t.exports["default"]=t.exports},2235:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},6103:function(t,e,n){var i=n(5862);function r(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},9306:function(t,e,n){"use strict";var i=n(4901),r=n(6823),s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(r(t)+" is not a function")}},3506:function(t,e,n){"use strict";var i=n(3925),r=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s("Can't set "+r(t)+" as a prototype")}},7080:function(t,e,n){"use strict";var i=n(4402).has;t.exports=function(t){return i(t),t}},679:function(t,e,n){"use strict";var i=n(1625),r=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw new r("Incorrect invocation")}},8551:function(t,e,n){"use strict";var i=n(34),r=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(r(t)+" is not an object")}},7811:function(t){"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(t,e,n){"use strict";var i=n(4576),r=n(6706),s=n(2195),a=i.ArrayBuffer,o=i.TypeError;t.exports=a&&r(a.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==s(t))throw new o("ArrayBuffer expected");return t.byteLength}},3238:function(t,e,n){"use strict";var i=n(4576),r=n(7476),s=n(7394),a=i.ArrayBuffer,o=a&&a.prototype,l=o&&r(o.slice);t.exports=function(t){if(0!==s(t))return!1;if(!l)return!1;try{return l(t,0,0),!1}catch(e){return!0}}},5169:function(t,e,n){"use strict";var i=n(3238),r=TypeError;t.exports=function(t){if(i(t))throw new r("ArrayBuffer is detached");return t}},5636:function(t,e,n){"use strict";var i=n(4576),r=n(9504),s=n(6706),a=n(7696),o=n(5169),l=n(7394),c=n(4483),u=n(1548),h=i.structuredClone,d=i.ArrayBuffer,f=i.DataView,p=Math.min,m=d.prototype,_=f.prototype,v=r(m.slice),g=s(m,"resizable","get"),y=s(m,"maxByteLength","get"),b=r(_.getInt8),w=r(_.setInt8);t.exports=(u||c)&&function(t,e,n){var i,r=l(t),s=void 0===e?r:a(e),m=!g||!g(t);if(o(t),u&&(t=h(t,{transfer:[t]}),r===s&&(n||m)))return t;if(r>=s&&(!n||m))i=v(t,0,s);else{var _=n&&!m&&y?{maxByteLength:y(t)}:void 0;i=new d(s,_);for(var x=new f(t),k=new f(i),S=p(s,r),C=0;C<S;C++)w(k,C,b(x,C))}return u||c(t),i}},4644:function(t,e,n){"use strict";var i,r,s,a=n(7811),o=n(3724),l=n(4576),c=n(4901),u=n(34),h=n(9297),d=n(6955),f=n(6823),p=n(6699),m=n(6840),_=n(2106),v=n(1625),g=n(2787),y=n(2967),b=n(8227),w=n(3392),x=n(1181),k=x.enforce,S=x.get,C=l.Int8Array,T=C&&C.prototype,A=l.Uint8ClampedArray,E=A&&A.prototype,M=C&&g(C),O=T&&g(T),I=Object.prototype,P=l.TypeError,R=b("toStringTag"),D=w("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",L=a&&!!y&&"Opera"!==d(l.opera),B=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},z={BigInt64Array:8,BigUint64Array:8},j=function(t){if(!u(t))return!1;var e=d(t);return"DataView"===e||h(V,e)||h(z,e)},F=function(t){var e=g(t);if(u(e)){var n=S(e);return n&&h(n,N)?n[N]:F(e)}},q=function(t){if(!u(t))return!1;var e=d(t);return h(V,e)||h(z,e)},U=function(t){if(q(t))return t;throw new P("Target is not a typed array")},H=function(t){if(c(t)&&(!y||v(M,t)))return t;throw new P(f(t)+" is not a typed array constructor")},W=function(t,e,n,i){if(o){if(n)for(var r in V){var s=l[r];if(s&&h(s.prototype,t))try{delete s.prototype[t]}catch(a){try{s.prototype[t]=e}catch(c){}}}O[t]&&!n||m(O,t,n?e:L&&T[t]||e,i)}},X=function(t,e,n){var i,r;if(o){if(y){if(n)for(i in V)if(r=l[i],r&&h(r,t))try{delete r[t]}catch(s){}if(M[t]&&!n)return;try{return m(M,t,n?e:L&&M[t]||e)}catch(s){}}for(i in V)r=l[i],!r||r[t]&&!n||m(r,t,e)}};for(i in V)r=l[i],s=r&&r.prototype,s?k(s)[N]=r:L=!1;for(i in z)r=l[i],s=r&&r.prototype,s&&(k(s)[N]=r);if((!L||!c(M)||M===Function.prototype)&&(M=function(){throw new P("Incorrect invocation")},L))for(i in V)l[i]&&y(l[i],M);if((!L||!O||O===I)&&(O=M.prototype,L))for(i in V)l[i]&&y(l[i].prototype,O);if(L&&g(E)!==O&&y(E,O),o&&!h(O,R))for(i in B=!0,_(O,R,{configurable:!0,get:function(){return u(this)?this[D]:void 0}}),V)l[i]&&p(l[i],D,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:B&&D,aTypedArray:U,aTypedArrayConstructor:H,exportTypedArrayMethod:W,exportTypedArrayStaticMethod:X,getTypedArrayConstructor:F,isView:j,isTypedArray:q,TypedArray:M,TypedArrayPrototype:O}},5370:function(t,e,n){"use strict";var i=n(6198);t.exports=function(t,e,n){var r=0,s=arguments.length>2?n:i(e),a=new t(s);while(s>r)a[r]=e[r++];return a}},9617:function(t,e,n){"use strict";var i=n(5397),r=n(5610),s=n(6198),a=function(t){return function(e,n,a){var o=i(e),l=s(o);if(0===l)return!t&&-1;var c,u=r(a,l);if(t&&n!==n){while(l>u)if(c=o[u++],c!==c)return!0}else for(;l>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4527:function(t,e,n){"use strict";var i=n(3724),r=n(4376),s=TypeError,a=Object.getOwnPropertyDescriptor,o=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=o?function(t,e){if(r(t)&&!a(t,"length").writable)throw new s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7680:function(t,e,n){"use strict";var i=n(9504);t.exports=i([].slice)},7628:function(t,e,n){"use strict";var i=n(6198);t.exports=function(t,e){for(var n=i(t),r=new e(n),s=0;s<n;s++)r[s]=t[n-s-1];return r}},9928:function(t,e,n){"use strict";var i=n(6198),r=n(1291),s=RangeError;t.exports=function(t,e,n,a){var o=i(t),l=r(n),c=l<0?o+l:l;if(c>=o||c<0)throw new s("Incorrect index");for(var u=new e(o),h=0;h<o;h++)u[h]=h===c?a:t[h];return u}},2195:function(t,e,n){"use strict";var i=n(9504),r=i({}.toString),s=i("".slice);t.exports=function(t){return s(r(t),8,-1)}},6955:function(t,e,n){"use strict";var i=n(2140),r=n(4901),s=n(2195),a=n(8227),o=a("toStringTag"),l=Object,c="Arguments"===s(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=i?s:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=l(t),o))?n:c?s(e):"Object"===(i=s(e))&&r(e.callee)?"Arguments":i}},7740:function(t,e,n){"use strict";var i=n(9297),r=n(5031),s=n(7347),a=n(4913);t.exports=function(t,e,n){for(var o=r(e),l=a.f,c=s.f,u=0;u<o.length;u++){var h=o[u];i(t,h)||n&&i(n,h)||l(t,h,c(e,h))}}},2211:function(t,e,n){"use strict";var i=n(9039);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},6699:function(t,e,n){"use strict";var i=n(3724),r=n(4913),s=n(6980);t.exports=i?function(t,e,n){return r.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2106:function(t,e,n){"use strict";var i=n(283),r=n(4913);t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},6840:function(t,e,n){"use strict";var i=n(4901),r=n(4913),s=n(283),a=n(9433);t.exports=function(t,e,n,o){o||(o={});var l=o.enumerable,c=void 0!==o.name?o.name:e;if(i(n)&&s(n,c,o),o.global)l?t[e]=n:a(e,n);else{try{o.unsafe?t[e]&&(l=!0):delete t[e]}catch(u){}l?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},9433:function(t,e,n){"use strict";var i=n(4576),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},3724:function(t,e,n){"use strict";var i=n(9039);t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(t,e,n){"use strict";var i,r,s,a,o=n(4576),l=n(9429),c=n(1548),u=o.structuredClone,h=o.ArrayBuffer,d=o.MessageChannel,f=!1;if(c)f=function(t){u(t,{transfer:[t]})};else if(h)try{d||(i=l("worker_threads"),i&&(d=i.MessageChannel)),d&&(r=new d,s=new h(2),a=function(t){r.port1.postMessage(null,[t])},2===s.byteLength&&(a(s),0===s.byteLength&&(f=a)))}catch(p){}t.exports=f},4055:function(t,e,n){"use strict";var i=n(4576),r=n(34),s=i.document,a=r(s)&&r(s.createElement);t.exports=function(t){return a?s.createElement(t):{}}},6837:function(t){"use strict";var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},5002:function(t){"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9544:function(t,e,n){"use strict";var i=n(2839);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},6193:function(t,e,n){"use strict";var i=n(4215);t.exports="NODE"===i},2839:function(t,e,n){"use strict";var i=n(4576),r=i.navigator,s=r&&r.userAgent;t.exports=s?String(s):""},9519:function(t,e,n){"use strict";var i,r,s=n(4576),a=n(2839),o=s.process,l=s.Deno,c=o&&o.versions||l&&l.version,u=c&&c.v8;u&&(i=u.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&a&&(i=a.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),t.exports=r},4215:function(t,e,n){"use strict";var i=n(4576),r=n(2839),s=n(2195),a=function(t){return r.slice(0,t.length)===t};t.exports=function(){return a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":i.Bun&&"string"==typeof Bun.version?"BUN":i.Deno&&"object"==typeof Deno.version?"DENO":"process"===s(i.process)?"NODE":i.window&&i.document?"BROWSER":"REST"}()},8574:function(t,e,n){"use strict";var i=n(9504),r=Error,s=i("".replace),a=function(t){return String(new r(t).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(a);t.exports=function(t,e){if(l&&"string"==typeof t&&!r.prepareStackTrace)while(e--)t=s(t,o,"");return t}},6518:function(t,e,n){"use strict";var i=n(4576),r=n(7347).f,s=n(6699),a=n(6840),o=n(9433),l=n(7740),c=n(2796);t.exports=function(t,e){var n,u,h,d,f,p,m=t.target,_=t.global,v=t.stat;if(u=_?i:v?i[m]||o(m,{}):i[m]&&i[m].prototype,u)for(h in e){if(f=e[h],t.dontCallGetSet?(p=r(u,h),d=p&&p.value):d=u[h],n=c(_?h:m+(v?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(t.sham||d&&d.sham)&&s(f,"sham",!0),a(u,h,f,t)}}},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},8745:function(t,e,n){"use strict";var i=n(616),r=Function.prototype,s=r.apply,a=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(s):function(){return a.apply(s,arguments)})},6080:function(t,e,n){"use strict";var i=n(7476),r=n(9306),s=n(616),a=i(i.bind);t.exports=function(t,e){return r(t),void 0===e?t:s?a(t,e):function(){return t.apply(e,arguments)}}},616:function(t,e,n){"use strict";var i=n(9039);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:function(t,e,n){"use strict";var i=n(616),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},350:function(t,e,n){"use strict";var i=n(3724),r=n(9297),s=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,o=r(s,"name"),l=o&&"something"===function(){}.name,c=o&&(!i||i&&a(s,"name").configurable);t.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},6706:function(t,e,n){"use strict";var i=n(9504),r=n(9306);t.exports=function(t,e,n){try{return i(r(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(s){}}},7476:function(t,e,n){"use strict";var i=n(2195),r=n(9504);t.exports=function(t){if("Function"===i(t))return r(t)}},9504:function(t,e,n){"use strict";var i=n(616),r=Function.prototype,s=r.call,a=i&&r.bind.bind(s,s);t.exports=i?a:function(t){return function(){return s.apply(t,arguments)}}},9429:function(t,e,n){"use strict";var i=n(4576),r=n(6193);t.exports=function(t){if(r){try{return i.process.getBuiltinModule(t)}catch(e){}try{return Function('return require("'+t+'")')()}catch(e){}}}},7751:function(t,e,n){"use strict";var i=n(4576),r=n(4901),s=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(i[t]):i[t]&&i[t][e]}},1767:function(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},5966:function(t,e,n){"use strict";var i=n(9306),r=n(4117);t.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},3789:function(t,e,n){"use strict";var i=n(9306),r=n(8551),s=n(9565),a=n(1291),o=n(1767),l="Invalid size",c=RangeError,u=TypeError,h=Math.max,d=function(t,e){this.set=t,this.size=h(e,0),this.has=i(t.has),this.keys=i(t.keys)};d.prototype={getIterator:function(){return o(r(s(this.keys,this.set)))},includes:function(t){return s(this.has,this.set,t)}},t.exports=function(t){r(t);var e=+t.size;if(e!==e)throw new u(l);var n=a(e);if(n<0)throw new c(l);return new d(t,n)}},4576:function(t,e,n){"use strict";var i=function(t){return t&&t.Math===Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,n){"use strict";var i=n(9504),r=n(8981),s=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(r(t),e)}},421:function(t){"use strict";t.exports={}},397:function(t,e,n){"use strict";var i=n(7751);t.exports=i("document","documentElement")},5917:function(t,e,n){"use strict";var i=n(3724),r=n(9039),s=n(4055);t.exports=!i&&!r((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},7055:function(t,e,n){"use strict";var i=n(9504),r=n(9039),s=n(2195),a=Object,o=i("".split);t.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?o(t,""):a(t)}:a},3167:function(t,e,n){"use strict";var i=n(4901),r=n(34),s=n(2967);t.exports=function(t,e,n){var a,o;return s&&i(a=e.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&s(t,o),t}},3706:function(t,e,n){"use strict";var i=n(9504),r=n(4901),s=n(7629),a=i(Function.toString);r(s.inspectSource)||(s.inspectSource=function(t){return a(t)}),t.exports=s.inspectSource},1181:function(t,e,n){"use strict";var i,r,s,a=n(8622),o=n(4576),l=n(34),c=n(6699),u=n(9297),h=n(7629),d=n(6119),f=n(421),p="Object already initialized",m=o.TypeError,_=o.WeakMap,v=function(t){return s(t)?r(t):i(t,{})},g=function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return n}};if(a||h.state){var y=h.state||(h.state=new _);y.get=y.get,y.has=y.has,y.set=y.set,i=function(t,e){if(y.has(t))throw new m(p);return e.facade=t,y.set(t,e),e},r=function(t){return y.get(t)||{}},s=function(t){return y.has(t)}}else{var b=d("state");f[b]=!0,i=function(t,e){if(u(t,b))throw new m(p);return e.facade=t,c(t,b,e),e},r=function(t){return u(t,b)?t[b]:{}},s=function(t){return u(t,b)}}t.exports={set:i,get:r,has:s,enforce:v,getterFor:g}},4376:function(t,e,n){"use strict";var i=n(2195);t.exports=Array.isArray||function(t){return"Array"===i(t)}},1108:function(t,e,n){"use strict";var i=n(6955);t.exports=function(t){var e=i(t);return"BigInt64Array"===e||"BigUint64Array"===e}},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:function(t,e,n){"use strict";var i=n(9039),r=n(4901),s=/#|\.prototype\./,a=function(t,e){var n=l[o(t)];return n===u||n!==c&&(r(e)?i(e):!!e)},o=a.normalize=function(t){return String(t).replace(s,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},4117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},34:function(t,e,n){"use strict";var i=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},3925:function(t,e,n){"use strict";var i=n(34);t.exports=function(t){return i(t)||null===t}},6395:function(t){"use strict";t.exports=!1},757:function(t,e,n){"use strict";var i=n(7751),r=n(4901),s=n(1625),a=n(7040),o=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&s(e.prototype,o(t))}},507:function(t,e,n){"use strict";var i=n(9565);t.exports=function(t,e,n){var r,s,a=n?t:t.iterator,o=t.next;while(!(r=i(o,a)).done)if(s=e(r.value),void 0!==s)return s}},9539:function(t,e,n){"use strict";var i=n(9565),r=n(8551),s=n(5966);t.exports=function(t,e,n){var a,o;r(t);try{if(a=s(t,"return"),!a){if("throw"===e)throw n;return n}a=i(a,t)}catch(l){o=!0,a=l}if("throw"===e)throw n;if(o)throw a;return r(a),n}},6198:function(t,e,n){"use strict";var i=n(8014);t.exports=function(t){return i(t.length)}},283:function(t,e,n){"use strict";var i=n(9504),r=n(9039),s=n(4901),a=n(9297),o=n(3724),l=n(350).CONFIGURABLE,c=n(3706),u=n(1181),h=u.enforce,d=u.get,f=String,p=Object.defineProperty,m=i("".slice),_=i("".replace),v=i([].join),g=o&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),b=t.exports=function(t,e,n){"Symbol("===m(f(e),0,7)&&(e="["+_(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||l&&t.name!==e)&&(o?p(t,"name",{value:e,configurable:!0}):t.name=e),g&&n&&a(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?o&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=h(t);return a(i,"source")||(i.source=v(y,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return s(this)&&d(this).source||c(this)}),"toString")},741:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},2603:function(t,e,n){"use strict";var i=n(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},4913:function(t,e,n){"use strict";var i=n(3724),r=n(5917),s=n(8686),a=n(8551),o=n(6969),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";e.f=i?s?function(t,e,n){if(a(t),e=o(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var i=u(t,e);i&&i[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:i[d],enumerable:h in n?n[h]:i[h],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=o(e),a(n),r)try{return c(t,e,n)}catch(i){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:function(t,e,n){"use strict";var i=n(3724),r=n(9565),s=n(8773),a=n(6980),o=n(5397),l=n(6969),c=n(9297),u=n(5917),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=o(t),e=l(e),u)try{return h(t,e)}catch(n){}if(c(t,e))return a(!r(s.f,t,e),t[e])}},8480:function(t,e,n){"use strict";var i=n(1828),r=n(8727),s=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,s)}},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},2787:function(t,e,n){"use strict";var i=n(9297),r=n(4901),s=n(8981),a=n(6119),o=n(2211),l=a("IE_PROTO"),c=Object,u=c.prototype;t.exports=o?c.getPrototypeOf:function(t){var e=s(t);if(i(e,l))return e[l];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof c?u:null}},1625:function(t,e,n){"use strict";var i=n(9504);t.exports=i({}.isPrototypeOf)},1828:function(t,e,n){"use strict";var i=n(9504),r=n(9297),s=n(5397),a=n(9617).indexOf,o=n(421),l=i([].push);t.exports=function(t,e){var n,i=s(t),c=0,u=[];for(n in i)!r(o,n)&&r(i,n)&&l(u,n);while(e.length>c)r(i,n=e[c++])&&(~a(u,n)||l(u,n));return u}},8773:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},2967:function(t,e,n){"use strict";var i=n(6706),r=n(34),s=n(7750),a=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=i(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(o){}return function(n,i){return s(n),a(i),r(n)?(e?t(n,i):n.__proto__=i,n):n}}():void 0)},4270:function(t,e,n){"use strict";var i=n(9565),r=n(4901),s=n(34),a=TypeError;t.exports=function(t,e){var n,o;if("string"===e&&r(n=t.toString)&&!s(o=i(n,t)))return o;if(r(n=t.valueOf)&&!s(o=i(n,t)))return o;if("string"!==e&&r(n=t.toString)&&!s(o=i(n,t)))return o;throw new a("Can't convert object to primitive value")}},5031:function(t,e,n){"use strict";var i=n(7751),r=n(9504),s=n(8480),a=n(3717),o=n(8551),l=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=s.f(o(t)),n=a.f;return n?l(e,n(t)):e}},7979:function(t,e,n){"use strict";var i=n(8551);t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},7750:function(t,e,n){"use strict";var i=n(4117),r=TypeError;t.exports=function(t){if(i(t))throw new r("Can't call method on "+t);return t}},9472:function(t,e,n){"use strict";var i=n(4576),r=n(8745),s=n(4901),a=n(4215),o=n(2839),l=n(7680),c=n(2812),u=i.Function,h=/MSIE .\./.test(o)||"BUN"===a&&function(){var t=i.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}();t.exports=function(t,e){var n=e?2:1;return h?function(i,a){var o=c(arguments.length,1)>n,h=s(i)?i:u(i),d=o?l(arguments,n):[],f=o?function(){r(h,this,d)}:h;return e?t(f,a):t(f)}:t}},9286:function(t,e,n){"use strict";var i=n(4402),r=n(8469),s=i.Set,a=i.add;t.exports=function(t){var e=new s;return r(t,(function(t){a(e,t)})),e}},3440:function(t,e,n){"use strict";var i=n(7080),r=n(4402),s=n(9286),a=n(5170),o=n(3789),l=n(8469),c=n(507),u=r.has,h=r.remove;t.exports=function(t){var e=i(this),n=o(t),r=s(e);return a(e)<=n.size?l(e,(function(t){n.includes(t)&&h(r,t)})):c(n.getIterator(),(function(t){u(e,t)&&h(r,t)})),r}},4402:function(t,e,n){"use strict";var i=n(9504),r=Set.prototype;t.exports={Set:Set,add:i(r.add),has:i(r.has),remove:i(r["delete"]),proto:r}},8750:function(t,e,n){"use strict";var i=n(7080),r=n(4402),s=n(5170),a=n(3789),o=n(8469),l=n(507),c=r.Set,u=r.add,h=r.has;t.exports=function(t){var e=i(this),n=a(t),r=new c;return s(e)>n.size?l(n.getIterator(),(function(t){h(e,t)&&u(r,t)})):o(e,(function(t){n.includes(t)&&u(r,t)})),r}},4449:function(t,e,n){"use strict";var i=n(7080),r=n(4402).has,s=n(5170),a=n(3789),o=n(8469),l=n(507),c=n(9539);t.exports=function(t){var e=i(this),n=a(t);if(s(e)<=n.size)return!1!==o(e,(function(t){if(n.includes(t))return!1}),!0);var u=n.getIterator();return!1!==l(u,(function(t){if(r(e,t))return c(u,"normal",!1)}))}},3838:function(t,e,n){"use strict";var i=n(7080),r=n(5170),s=n(8469),a=n(3789);t.exports=function(t){var e=i(this),n=a(t);return!(r(e)>n.size)&&!1!==s(e,(function(t){if(!n.includes(t))return!1}),!0)}},8527:function(t,e,n){"use strict";var i=n(7080),r=n(4402).has,s=n(5170),a=n(3789),o=n(507),l=n(9539);t.exports=function(t){var e=i(this),n=a(t);if(s(e)<n.size)return!1;var c=n.getIterator();return!1!==o(c,(function(t){if(!r(e,t))return l(c,"normal",!1)}))}},8469:function(t,e,n){"use strict";var i=n(9504),r=n(507),s=n(4402),a=s.Set,o=s.proto,l=i(o.forEach),c=i(o.keys),u=c(new a).next;t.exports=function(t,e,n){return n?r({iterator:c(t),next:u},e):l(t,e)}},4916:function(t,e,n){"use strict";var i=n(7751),r=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var e=i("Set");try{(new e)[t](r(0));try{return(new e)[t](r(-1)),!1}catch(n){return!0}}catch(s){return!1}}},5170:function(t,e,n){"use strict";var i=n(6706),r=n(4402);t.exports=i(r.proto,"size","get")||function(t){return t.size}},3650:function(t,e,n){"use strict";var i=n(7080),r=n(4402),s=n(9286),a=n(3789),o=n(507),l=r.add,c=r.has,u=r.remove;t.exports=function(t){var e=i(this),n=a(t).getIterator(),r=s(e);return o(n,(function(t){c(e,t)?u(r,t):l(r,t)})),r}},4204:function(t,e,n){"use strict";var i=n(7080),r=n(4402).add,s=n(9286),a=n(3789),o=n(507);t.exports=function(t){var e=i(this),n=a(t).getIterator(),l=s(e);return o(n,(function(t){r(l,t)})),l}},6119:function(t,e,n){"use strict";var i=n(5745),r=n(3392),s=i("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},7629:function(t,e,n){"use strict";var i=n(6395),r=n(4576),s=n(9433),a="__core-js_shared__",o=t.exports=r[a]||s(a,{});(o.versions||(o.versions=[])).push({version:"3.38.1",mode:i?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,n){"use strict";var i=n(7629);t.exports=function(t,e){return i[t]||(i[t]=e||{})}},1548:function(t,e,n){"use strict";var i=n(4576),r=n(9039),s=n(9519),a=n(4215),o=i.structuredClone;t.exports=!!o&&!r((function(){if("DENO"===a&&s>92||"NODE"===a&&s>94||"BROWSER"===a&&s>97)return!1;var t=new ArrayBuffer(8),e=o(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},4495:function(t,e,n){"use strict";var i=n(9519),r=n(9039),s=n(4576),a=s.String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},9225:function(t,e,n){"use strict";var i,r,s,a,o=n(4576),l=n(8745),c=n(6080),u=n(4901),h=n(9297),d=n(9039),f=n(397),p=n(7680),m=n(4055),_=n(2812),v=n(9544),g=n(6193),y=o.setImmediate,b=o.clearImmediate,w=o.process,x=o.Dispatch,k=o.Function,S=o.MessageChannel,C=o.String,T=0,A={},E="onreadystatechange";d((function(){i=o.location}));var M=function(t){if(h(A,t)){var e=A[t];delete A[t],e()}},O=function(t){return function(){M(t)}},I=function(t){M(t.data)},P=function(t){o.postMessage(C(t),i.protocol+"//"+i.host)};y&&b||(y=function(t){_(arguments.length,1);var e=u(t)?t:k(t),n=p(arguments,1);return A[++T]=function(){l(e,void 0,n)},r(T),T},b=function(t){delete A[t]},g?r=function(t){w.nextTick(O(t))}:x&&x.now?r=function(t){x.now(O(t))}:S&&!v?(s=new S,a=s.port2,s.port1.onmessage=I,r=c(a.postMessage,a)):o.addEventListener&&u(o.postMessage)&&!o.importScripts&&i&&"file:"!==i.protocol&&!d(P)?(r=P,o.addEventListener("message",I,!1)):r=E in m("script")?function(t){f.appendChild(m("script"))[E]=function(){f.removeChild(this),M(t)}}:function(t){setTimeout(O(t),0)}),t.exports={set:y,clear:b}},5610:function(t,e,n){"use strict";var i=n(1291),r=Math.max,s=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):s(n,e)}},5854:function(t,e,n){"use strict";var i=n(2777),r=TypeError;t.exports=function(t){var e=i(t,"number");if("number"==typeof e)throw new r("Can't convert number to bigint");return BigInt(e)}},7696:function(t,e,n){"use strict";var i=n(1291),r=n(8014),s=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw new s("Wrong length or index");return n}},5397:function(t,e,n){"use strict";var i=n(7055),r=n(7750);t.exports=function(t){return i(r(t))}},1291:function(t,e,n){"use strict";var i=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},8014:function(t,e,n){"use strict";var i=n(1291),r=Math.min;t.exports=function(t){var e=i(t);return e>0?r(e,9007199254740991):0}},8981:function(t,e,n){"use strict";var i=n(7750),r=Object;t.exports=function(t){return r(i(t))}},2777:function(t,e,n){"use strict";var i=n(9565),r=n(34),s=n(757),a=n(5966),o=n(4270),l=n(8227),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!r(t)||s(t))return t;var n,l=a(t,u);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!r(n)||s(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},6969:function(t,e,n){"use strict";var i=n(2777),r=n(757);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},2140:function(t,e,n){"use strict";var i=n(8227),r=i("toStringTag"),s={};s[r]="z",t.exports="[object z]"===String(s)},655:function(t,e,n){"use strict";var i=n(6955),r=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},3392:function(t,e,n){"use strict";var i=n(9504),r=0,s=Math.random(),a=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++r+s,36)}},7040:function(t,e,n){"use strict";var i=n(4495);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,n){"use strict";var i=n(3724),r=n(9039);t.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},8622:function(t,e,n){"use strict";var i=n(4576),r=n(4901),s=i.WeakMap;t.exports=r(s)&&/native code/.test(String(s))},8227:function(t,e,n){"use strict";var i=n(4576),r=n(5745),s=n(9297),a=n(3392),o=n(4495),l=n(7040),c=i.Symbol,u=r("wks"),h=l?c["for"]||c:c&&c.withoutSetter||a;t.exports=function(t){return s(u,t)||(u[t]=o&&s(c,t)?c[t]:h("Symbol."+t)),u[t]}},6573:function(t,e,n){"use strict";var i=n(3724),r=n(2106),s=n(3238),a=ArrayBuffer.prototype;i&&!("detached"in a)&&r(a,"detached",{configurable:!0,get:function(){return s(this)}})},7936:function(t,e,n){"use strict";var i=n(6518),r=n(5636);r&&i({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return r(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(t,e,n){"use strict";var i=n(6518),r=n(5636);r&&i({target:"ArrayBuffer",proto:!0},{transfer:function(){return r(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(t,e,n){"use strict";var i=n(6518),r=n(8981),s=n(6198),a=n(4527),o=n(6837),l=n(9039),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},h=c||!u();i({target:"Array",proto:!0,arity:1,forced:h},{push:function(t){var e=r(this),n=s(e),i=arguments.length;o(n+i);for(var l=0;l<i;l++)e[n]=arguments[l],n++;return a(e,n),n}})},9479:function(t,e,n){"use strict";var i=n(4576),r=n(3724),s=n(2106),a=n(7979),o=n(9039),l=i.RegExp,c=l.prototype,u=r&&o((function(){var t=!0;try{l(".","d")}catch(u){t=!1}var e={},n="",i=t?"dgimsy":"gimsy",r=function(t,i){Object.defineProperty(e,t,{get:function(){return n+=i,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in t&&(s.hasIndices="d"),s)r(a,s[a]);var o=Object.getOwnPropertyDescriptor(c,"flags").get.call(e);return o!==i||n!==i}));u&&s(c,"flags",{configurable:!0,get:a})},7642:function(t,e,n){"use strict";var i=n(6518),r=n(3440),s=n(4916);i({target:"Set",proto:!0,real:!0,forced:!s("difference")},{difference:r})},8004:function(t,e,n){"use strict";var i=n(6518),r=n(9039),s=n(8750),a=n(4916),o=!a("intersection")||r((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));i({target:"Set",proto:!0,real:!0,forced:o},{intersection:s})},3853:function(t,e,n){"use strict";var i=n(6518),r=n(4449),s=n(4916);i({target:"Set",proto:!0,real:!0,forced:!s("isDisjointFrom")},{isDisjointFrom:r})},5876:function(t,e,n){"use strict";var i=n(6518),r=n(3838),s=n(4916);i({target:"Set",proto:!0,real:!0,forced:!s("isSubsetOf")},{isSubsetOf:r})},2475:function(t,e,n){"use strict";var i=n(6518),r=n(8527),s=n(4916);i({target:"Set",proto:!0,real:!0,forced:!s("isSupersetOf")},{isSupersetOf:r})},5024:function(t,e,n){"use strict";var i=n(6518),r=n(3650),s=n(4916);i({target:"Set",proto:!0,real:!0,forced:!s("symmetricDifference")},{symmetricDifference:r})},1698:function(t,e,n){"use strict";var i=n(6518),r=n(4204),s=n(4916);i({target:"Set",proto:!0,real:!0,forced:!s("union")},{union:r})},7467:function(t,e,n){"use strict";var i=n(7628),r=n(4644),s=r.aTypedArray,a=r.exportTypedArrayMethod,o=r.getTypedArrayConstructor;a("toReversed",(function(){return i(s(this),o(this))}))},4732:function(t,e,n){"use strict";var i=n(4644),r=n(9504),s=n(9306),a=n(5370),o=i.aTypedArray,l=i.getTypedArrayConstructor,c=i.exportTypedArrayMethod,u=r(i.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&s(t);var e=o(this),n=a(l(e),e);return u(n,t)}))},9577:function(t,e,n){"use strict";var i=n(9928),r=n(4644),s=n(1108),a=n(1291),o=n(5854),l=r.aTypedArray,c=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();u("with",{with:function(t,e){var n=l(this),r=a(t),u=s(n)?o(e):+e;return i(n,c(n),r,u)}}["with"],!h)},6368:function(t,e,n){"use strict";var i=n(6518),r=n(4576),s=n(9225).clear;i({global:!0,bind:!0,enumerable:!0,forced:r.clearImmediate!==s},{clearImmediate:s})},4979:function(t,e,n){"use strict";var i=n(6518),r=n(4576),s=n(7751),a=n(6980),o=n(4913).f,l=n(9297),c=n(679),u=n(3167),h=n(2603),d=n(5002),f=n(8574),p=n(3724),m=n(6395),_="DOMException",v=s("Error"),g=s(_),y=function(){c(this,b);var t=arguments.length,e=h(t<1?void 0:arguments[0]),n=h(t<2?void 0:arguments[1],"Error"),i=new g(e,n),r=new v(e);return r.name=_,o(i,"stack",a(1,f(r.stack,1))),u(i,this,y),i},b=y.prototype=g.prototype,w="stack"in new v(_),x="stack"in new g(1,2),k=g&&p&&Object.getOwnPropertyDescriptor(r,_),S=!!k&&!(k.writable&&k.configurable),C=w&&!S&&!x;i({global:!0,constructor:!0,forced:m||C},{DOMException:C?y:g});var T=s(_),A=T.prototype;if(A.constructor!==T)for(var E in m||o(A,"constructor",a(1,T)),d)if(l(d,E)){var M=d[E],O=M.s;l(T,O)||o(T,O,a(6,M.c))}},9848:function(t,e,n){"use strict";n(6368),n(9309)},9309:function(t,e,n){"use strict";var i=n(6518),r=n(4576),s=n(9225).set,a=n(9472),o=r.setImmediate?a(s,!1):s;i({global:!0,bind:!0,enumerable:!0,forced:r.setImmediate!==o},{setImmediate:o})},4603:function(t,e,n){"use strict";var i=n(6840),r=n(9504),s=n(655),a=n(2812),o=URLSearchParams,l=o.prototype,c=r(l.append),u=r(l["delete"]),h=r(l.forEach),d=r([].push),f=new o("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&i(l,"delete",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var i=[];h(this,(function(t,e){d(i,{key:e,value:t})})),a(e,1);var r,o=s(t),l=s(n),f=0,p=0,m=!1,_=i.length;while(f<_)r=i[f++],m||r.key===o?(m=!0,u(this,r.key)):p++;while(p<_)r=i[p++],r.key===o&&r.value===l||c(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},7566:function(t,e,n){"use strict";var i=n(6840),r=n(9504),s=n(655),a=n(2812),o=URLSearchParams,l=o.prototype,c=r(l.getAll),u=r(l.has),h=new o("a=1");!h.has("a",2)&&h.has("a",void 0)||i(l,"has",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var i=c(this,t);a(e,1);var r=s(n),o=0;while(o<i.length)if(i[o++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(t,e,n){"use strict";var i=n(3724),r=n(9504),s=n(2106),a=URLSearchParams.prototype,o=r(a.forEach);i&&!("size"in a)&&s(a,"size",{get:function(){var t=0;return o(this,(function(){t++})),t},configurable:!0,enumerable:!0})},7622:function(t,e,n){"use strict";n.d(e,{EX:function(){return Zn},x3:function(){return Gn}});n(4114),n(6573),n(8100),n(7936),n(9479),n(7467),n(4732),n(9577);var i={};function r(t){return new Int8Array(t)}function s(t){return new Int16Array(t)}function a(t){return new Int32Array(t)}function o(t){return new Float32Array(t)}function l(t){return new Float64Array(t)}function c(t){if(1==t.length)return o(t[0]);var e=t[0];t=t.slice(1);for(var n=[],i=0;i<e;i++)n.push(c(t));return n}function u(t){if(1==t.length)return a(t[0]);var e=t[0];t=t.slice(1);for(var n=[],i=0;i<e;i++)n.push(u(t));return n}function h(t){if(1==t.length)return s(t[0]);var e=t[0];t=t.slice(1);for(var n=[],i=0;i<e;i++)n.push(h(t));return n}function d(t){if(1==t.length)return new Array(t[0]);var e=t[0];t=t.slice(1);for(var n=[],i=0;i<e;i++)n.push(d(t));return n}var f={fill:function(t,e,n,i){if(2==arguments.length)for(var r=0;r<t.length;r++)t[r]=arguments[1];else for(r=e;r<n;r++)t[r]=i}},p={arraycopy:function(t,e,n,i,r){for(var s=e+r;e<s;)n[i++]=t[e++]},out:{}};p.out.println=function(t){console.log(t)},p.out.printf=function(){console.log.apply(console,arguments)};var m={};function _(t){this.ordinal=t}m.SQRT2=1.4142135623730951,m.FAST_LOG10=function(t){return Math.log10(t)},m.FAST_LOG10_X=function(t,e){return Math.log10(t)*e},_.short_block_allowed=new _(0),_.short_block_coupled=new _(1),_.short_block_dispensed=new _(2),_.short_block_forced=new _(3);var v={};function g(t){this.ordinal=t}v.MAX_VALUE=34028235e31,g.vbr_off=new g(0),g.vbr_mt=new g(1),g.vbr_rh=new g(2),g.vbr_abr=new g(3),g.vbr_mtrh=new g(4),g.vbr_default=g.vbr_mtrh;var y,b,w,x,k,S,C=function(t){},T={System:p,VbrMode:g,Float:v,ShortBlock:_,Util:m,Arrays:f,new_array_n:d,new_byte:r,new_double:l,new_float:o,new_float_n:c,new_int:a,new_int_n:u,new_short:s,new_short_n:h,assert:C};function A(){if(b)return y;b=1;var t=T,e=t.System,n=t.Util,i=t.Arrays,r=t.new_float,s=D();function a(){var t=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],a=12,o=36,l=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],c=l[s.SHORT_TYPE],u=l[s.SHORT_TYPE],h=l[s.SHORT_TYPE],d=l[s.SHORT_TYPE],f=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function p(e,i,r){for(var s=10,a=i+238-14-286,o=-15;o<0;o++){var l;l=t[s+-10],c=e[a+-224]*l,u=e[i+224]*l,l=t[s+-9],c+=e[a+-160]*l,u+=e[i+160]*l,l=t[s+-8],c+=e[a+-96]*l,u+=e[i+96]*l,l=t[s+-7],c+=e[a+-32]*l,u+=e[i+32]*l,l=t[s+-6],c+=e[a+32]*l,u+=e[i+-32]*l,l=t[s+-5],c+=e[a+96]*l,u+=e[i+-96]*l,l=t[s+-4],c+=e[a+160]*l,u+=e[i+-160]*l,l=t[s+-3],c+=e[a+224]*l,u+=e[i+-224]*l,l=t[s+-2],c+=e[i+-256]*l,u-=e[a+256]*l,l=t[s+-1],c+=e[i+-192]*l,u-=e[a+192]*l,l=t[s+0],c+=e[i+-128]*l,u-=e[a+128]*l,l=t[s+1],c+=e[i+-64]*l,u-=e[a+64]*l,l=t[s+2],c+=e[i+0]*l,u-=e[a+0]*l,l=t[s+3],c+=e[i+64]*l,u-=e[a+-64]*l,l=t[s+4],c+=e[i+128]*l,u-=e[a+-128]*l,l=t[s+5],c+=e[i+192]*l,u-=e[a+-192]*l,c*=t[s+6],l=u-c,r[30+2*o]=u+c,r[31+2*o]=t[s+7]*l,s+=18,i--,a++}var c,u,h,d,f;u=e[i+-16]*t[s+-10],c=e[i+-32]*t[s+-2],u+=(e[i+-48]-e[i+16])*t[s+-9],c+=e[i+-96]*t[s+-1],u+=(e[i+-80]+e[i+48])*t[s+-8],c+=e[i+-160]*t[s+0],u+=(e[i+-112]-e[i+80])*t[s+-7],c+=e[i+-224]*t[s+1],u+=(e[i+-144]+e[i+112])*t[s+-6],c-=e[i+32]*t[s+2],u+=(e[i+-176]-e[i+144])*t[s+-5],c-=e[i+96]*t[s+3],u+=(e[i+-208]+e[i+176])*t[s+-4],c-=e[i+160]*t[s+4],u+=(e[i+-240]-e[i+208])*t[s+-3],c-=e[i+224],h=c-u,d=c+u,u=r[14],c=r[15]-u,r[31]=d+u,r[30]=h+c,r[15]=h-c,r[14]=d-u,f=r[28]-r[0],r[0]+=r[28],r[28]=f*t[s+-36+7],f=r[29]-r[1],r[1]+=r[29],r[29]=f*t[s+-36+7],f=r[26]-r[2],r[2]+=r[26],r[26]=f*t[s+-72+7],f=r[27]-r[3],r[3]+=r[27],r[27]=f*t[s+-72+7],f=r[24]-r[4],r[4]+=r[24],r[24]=f*t[s+-108+7],f=r[25]-r[5],r[5]+=r[25],r[25]=f*t[s+-108+7],f=r[22]-r[6],r[6]+=r[22],r[22]=f*n.SQRT2,f=r[23]-r[7],r[7]+=r[23],r[23]=f*n.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],f=r[6],r[6]=r[31]-f,r[31]=r[31]+f,f=r[7],r[7]=r[30]-f,r[30]=r[30]+f,f=r[22],r[22]=r[15]-f,r[15]=r[15]+f,f=r[23],r[23]=r[14]-f,r[14]=r[14]+f,f=r[20]-r[8],r[8]+=r[20],r[20]=f*t[s+-180+7],f=r[21]-r[9],r[9]+=r[21],r[21]=f*t[s+-180+7],f=r[18]-r[10],r[10]+=r[18],r[18]=f*t[s+-216+7],f=r[19]-r[11],r[11]+=r[19],r[19]=f*t[s+-216+7],f=r[16]-r[12],r[12]+=r[16],r[16]=f*t[s+-252+7],f=r[17]-r[13],r[13]+=r[17],r[17]=f*t[s+-252+7],f=-r[20]+r[24],r[20]+=r[24],r[24]=f*t[s+-216+7],f=-r[21]+r[25],r[21]+=r[25],r[25]=f*t[s+-216+7],f=r[4]-r[8],r[4]+=r[8],r[8]=f*t[s+-216+7],f=r[5]-r[9],r[5]+=r[9],r[9]=f*t[s+-216+7],f=r[0]-r[12],r[0]+=r[12],r[12]=f*t[s+-72+7],f=r[1]-r[13],r[1]+=r[13],r[13]=f*t[s+-72+7],f=r[16]-r[28],r[16]+=r[28],r[28]=f*t[s+-72+7],f=-r[17]+r[29],r[17]+=r[29],r[29]=f*t[s+-72+7],f=n.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=f,f=n.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=f,f=n.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=f-r[18],f=n.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=f-r[19],f=r[2],r[19]-=r[3],r[3]-=f,r[2]=r[31]-f,r[31]+=f,f=r[3],r[11]-=r[19],r[18]-=f,r[3]=r[30]-f,r[30]+=f,f=r[18],r[27]-=r[11],r[19]-=f,r[18]=r[15]-f,r[15]+=f,f=r[19],r[10]-=f,r[19]=r[14]-f,r[14]+=f,f=r[10],r[11]-=f,r[10]=r[23]-f,r[23]+=f,f=r[11],r[26]-=f,r[11]=r[22]-f,r[22]+=f,f=r[26],r[27]-=f,r[26]=r[7]-f,r[7]+=f,f=r[27],r[27]=r[6]-f,r[6]+=f,f=n.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=f,f=n.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=f,f=n.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=f,f=n.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=f,f=-n.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=f-r[8],f=-n.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=f-r[9],f=-n.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=f-r[25],f=-n.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=f-r[24],f=r[24]-r[16],r[24]=f,f=r[20]-f,r[20]=f,f=r[28]-f,r[28]=f,f=r[25]-r[17],r[25]=f,f=r[21]-f,r[21]=f,f=r[29]-f,r[29]=f,f=r[17]-r[1],r[17]=f,f=r[9]-f,r[9]=f,f=r[25]-f,r[25]=f,f=r[5]-f,r[5]=f,f=r[21]-f,r[21]=f,f=r[13]-f,r[13]=f,f=r[29]-f,r[29]=f,f=r[1]-r[0],r[1]=f,f=r[16]-f,r[16]=f,f=r[17]-f,r[17]=f,f=r[8]-f,r[8]=f,f=r[9]-f,r[9]=f,f=r[24]-f,r[24]=f,f=r[25]-f,r[25]=f,f=r[4]-f,r[4]=f,f=r[5]-f,r[5]=f,f=r[20]-f,r[20]=f,f=r[21]-f,r[21]=f,f=r[12]-f,r[12]=f,f=r[13]-f,r[13]=f,f=r[28]-f,r[28]=f,f=r[29]-f,r[29]=f,f=r[0],r[0]+=r[31],r[31]-=f,f=r[1],r[1]+=r[30],r[30]-=f,f=r[16],r[16]+=r[15],r[15]-=f,f=r[17],r[17]+=r[14],r[14]-=f,f=r[8],r[8]+=r[23],r[23]-=f,f=r[9],r[9]+=r[22],r[22]-=f,f=r[24],r[24]+=r[7],r[7]-=f,f=r[25],r[25]+=r[6],r[6]-=f,f=r[4],r[4]+=r[27],r[27]-=f,f=r[5],r[5]+=r[26],r[26]-=f,f=r[20],r[20]+=r[11],r[11]-=f,f=r[21],r[21]+=r[10],r[10]-=f,f=r[12],r[12]+=r[19],r[19]-=f,f=r[13],r[13]+=r[18],r[18]-=f,f=r[28],r[28]+=r[3],r[3]-=f,f=r[29],r[29]+=r[2],r[2]-=f}function m(t,e){for(var n=0;n<3;n++){var i,r,a,o,c,u;o=t[e+6]*l[s.SHORT_TYPE][0]-t[e+15],i=t[e+0]*l[s.SHORT_TYPE][2]-t[e+9],r=o+i,a=o-i,o=t[e+15]*l[s.SHORT_TYPE][0]+t[e+6],i=t[e+9]*l[s.SHORT_TYPE][2]+t[e+0],c=o+i,u=-o+i,i=2069978111953089e-26*(t[e+3]*l[s.SHORT_TYPE][1]-t[e+12]),o=2069978111953089e-26*(t[e+12]*l[s.SHORT_TYPE][1]+t[e+3]),t[e+0]=190752519173728e-25*r+i,t[e+15]=190752519173728e-25*-c+o,a=.8660254037844387*a*1907525191737281e-26,c=.5*c*1907525191737281e-26+o,t[e+3]=a-c,t[e+6]=a+c,r=.5*r*1907525191737281e-26-i,u=.8660254037844387*u*1907525191737281e-26,t[e+9]=r+u,t[e+12]=r-u,e++}}function _(t,e,n){var i,r,s,a,o,l,c,h,d,f,p,m,_,v,g,y,b,w;s=n[17]-n[9],o=n[15]-n[11],l=n[14]-n[12],c=n[0]+n[8],h=n[1]+n[7],d=n[2]+n[6],f=n[3]+n[5],t[e+17]=c+d-f-(h-n[4]),r=(c+d-f)*u[19]+(h-n[4]),i=(s-o-l)*u[18],t[e+5]=i+r,t[e+6]=i-r,a=(n[16]-n[10])*u[18],h=h*u[19]+n[4],i=s*u[12]+a+o*u[13]+l*u[14],r=-c*u[16]+h-d*u[17]+f*u[15],t[e+1]=i+r,t[e+2]=i-r,i=s*u[13]-a-o*u[14]+l*u[12],r=-c*u[17]+h-d*u[15]+f*u[16],t[e+9]=i+r,t[e+10]=i-r,i=s*u[14]-a+o*u[12]-l*u[13],r=c*u[15]-h+d*u[16]-f*u[17],t[e+13]=i+r,t[e+14]=i-r,p=n[8]-n[0],_=n[6]-n[2],v=n[5]-n[3],g=n[17]+n[9],y=n[16]+n[10],b=n[15]+n[11],w=n[14]+n[12],t[e+0]=g+b+w+(y+n[13]),i=(g+b+w)*u[19]-(y+n[13]),r=(p-_+v)*u[18],t[e+11]=i+r,t[e+12]=i-r,m=(n[7]-n[1])*u[18],y=n[13]-y*u[19],i=g*u[15]-y+b*u[16]+w*u[17],r=p*u[14]+m+_*u[12]+v*u[13],t[e+3]=i+r,t[e+4]=i-r,i=-g*u[17]+y-b*u[15]-w*u[16],r=p*u[13]+m-_*u[14]-v*u[12],t[e+7]=i+r,t[e+8]=i-r,i=-g*u[16]+y-b*u[17]-w*u[15],r=p*u[12]-m+_*u[13]-v*u[14],t[e+15]=i+r,t[e+16]=i-r}this.mdct_sub48=function(t,n,u){for(var v=n,g=286,y=0;y<t.channels_out;y++){for(var b=0;b<t.mode_gr;b++){for(var w,x=t.l3_side.tt[b][y],k=x.xr,S=0,C=t.sb_sample[y][1-b],T=0,A=0;A<9;A++)for(p(v,g,C[T]),p(v,g+32,C[T+1]),T+=2,g+=64,w=1;w<32;w+=2)C[T-1][w]*=-1;for(w=0;w<32;w++,S+=18){var E=x.block_type,M=t.sb_sample[y][b],O=t.sb_sample[y][1-b];if(0!=x.mixed_block_flag&&w<2&&(E=0),t.amp_filter[w]<1e-12)i.fill(k,S+0,S+18,0);else{if(t.amp_filter[w]<1)for(A=0;A<18;A++)O[A][f[w]]*=t.amp_filter[w];if(E==s.SHORT_TYPE){for(A=-a/4;A<0;A++){var I=l[s.SHORT_TYPE][A+3];k[S+3*A+9]=M[9+A][f[w]]*I-M[8-A][f[w]],k[S+3*A+18]=M[14-A][f[w]]*I+M[15+A][f[w]],k[S+3*A+10]=M[15+A][f[w]]*I-M[14-A][f[w]],k[S+3*A+19]=O[2-A][f[w]]*I+O[3+A][f[w]],k[S+3*A+11]=O[3+A][f[w]]*I-O[2-A][f[w]],k[S+3*A+20]=O[8-A][f[w]]*I+O[9+A][f[w]]}m(k,S)}else{var P=r(18);for(A=-o/4;A<0;A++){var R,D;R=l[E][A+27]*O[A+9][f[w]]+l[E][A+36]*O[8-A][f[w]],D=l[E][A+9]*M[A+9][f[w]]-l[E][A+18]*M[8-A][f[w]],P[A+9]=R-D*c[3+A+9],P[A+18]=R*c[3+A+9]+D}_(k,S,P)}}if(E!=s.SHORT_TYPE&&0!=w)for(A=7;A>=0;--A){var N,L;N=k[S+A]*h[20+A]+k[S+-1-A]*d[28+A],L=k[S+A]*d[28+A]-k[S+-1-A]*h[20+A],k[S+-1-A]=N,k[S+A]=L}}}if(v=u,g=286,1==t.mode_gr)for(var B=0;B<18;B++)e.arraycopy(t.sb_sample[y][1][B],0,t.sb_sample[y][0][B],0,32)}}}return y=a,y}function E(){if(x)return w;x=1;var t=D(),e=T,n=e.System,i=e.new_float,r=e.new_float_n;function s(){this.l=i(t.SBMAX_l),this.s=r([t.SBMAX_s,3]);var e=this;this.assign=function(i){n.arraycopy(i.l,0,e.l,0,t.SBMAX_l);for(var r=0;r<t.SBMAX_s;r++)for(var s=0;s<3;s++)e.s[r][s]=i.s[r][s]}}return w=s,w}function M(){if(S)return k;S=1;var t=E();function e(){this.thm=new t,this.en=new t}return k=e,k}function O(t){var e=t;this.ordinal=function(){return e}}O.STEREO=new O(0),O.JOINT_STEREO=new O(1),O.DUAL_CHANNEL=new O(2),O.MONO=new O(3),O.NOT_SET=new O(4);var I,P,R=O;function D(){if(P)return I;P=1;var t=T,e=t.System,n=t.VbrMode,i=t.new_array_n,r=t.new_float,s=t.new_float_n,a=t.new_int,o=t.assert;function l(){var t=A(),c=M(),u=R,h=l.FFTOFFSET,d=l.MPG_MD_MS_LR,f=null;this.psy=null;var p=null,m=null,_=null;this.setModules=function(t,e,n,i){f=t,this.psy=e,p=e,m=i,_=n};var v=new t;function g(t){var e,n;if(0!=t.ATH.useAdjust)if(n=t.loudness_sq[0][0],e=t.loudness_sq[1][0],2==t.channels_out?(n+=t.loudness_sq[0][1],e+=t.loudness_sq[1][1]):(n+=n,e+=e),2==t.mode_gr&&(n=Math.max(n,e)),n*=.5,n*=t.ATH.aaSensitivityP,n>.03125)t.ATH.adjust>=1?t.ATH.adjust=1:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=1;else{var i=31.98*n+625e-6;t.ATH.adjust>=i?(t.ATH.adjust*=.075*i+.925,t.ATH.adjust<i&&(t.ATH.adjust=i)):t.ATH.adjustLimit>=i?t.ATH.adjust=i:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=i}else t.ATH.adjust=1}function y(t){var e,n;for(o(0<=t.bitrate_index&&t.bitrate_index<16),o(0<=t.mode_ext&&t.mode_ext<4),t.bitrate_stereoMode_Hist[t.bitrate_index][4]++,t.bitrate_stereoMode_Hist[15][4]++,2==t.channels_out&&(t.bitrate_stereoMode_Hist[t.bitrate_index][t.mode_ext]++,t.bitrate_stereoMode_Hist[15][t.mode_ext]++),e=0;e<t.mode_gr;++e)for(n=0;n<t.channels_out;++n){var i=0|t.l3_side.tt[e][n].block_type;0!=t.l3_side.tt[e][n].mixed_block_flag&&(i=4),t.bitrate_blockType_Hist[t.bitrate_index][i]++,t.bitrate_blockType_Hist[t.bitrate_index][5]++,t.bitrate_blockType_Hist[15][i]++,t.bitrate_blockType_Hist[15][5]++}}function b(t,e){var n,i,s=t.internal_flags;if(0==s.lame_encode_frame_init){var a,c,u=r(2014),h=r(2014);for(s.lame_encode_frame_init=1,a=0,c=0;a<286+576*(1+s.mode_gr);++a)a<576*s.mode_gr?(u[a]=0,2==s.channels_out&&(h[a]=0)):(u[a]=e[0][c],2==s.channels_out&&(h[a]=e[1][c]),++c);for(i=0;i<s.mode_gr;i++)for(n=0;n<s.channels_out;n++)s.l3_side.tt[i][n].block_type=l.SHORT_TYPE;v.mdct_sub48(s,u,h),o(576>=l.FFTOFFSET),o(s.mf_size>=l.BLKSIZE+t.framesize-l.FFTOFFSET),o(s.mf_size>=512+t.framesize-32)}}this.lame_encode_mp3_frame=function(t,r,o,w,x,k){var S,C=i([2,2]);C[0][0]=new c,C[0][1]=new c,C[1][0]=new c,C[1][1]=new c;var T=i([2,2]);T[0][0]=new c,T[0][1]=new c,T[1][0]=new c,T[1][1]=new c;var A,E,M,O,I=[null,null],P=t.internal_flags,R=s([2,4]),D=[.5,.5],N=[[0,0],[0,0]],L=[[0,0],[0,0]];if(I[0]=r,I[1]=o,0==P.lame_encode_frame_init&&b(t,I),P.padding=0,(P.slot_lag-=P.frac_SpF)<0&&(P.slot_lag+=t.out_samplerate,P.padding=1),0!=P.psymodel){var B,V=[null,null],z=0,j=a(2);for(O=0;O<P.mode_gr;O++){for(M=0;M<P.channels_out;M++)V[M]=I[M],z=576+576*O-l.FFTOFFSET;if(B=t.VBR==n.vbr_mtrh||t.VBR==n.vbr_mt?p.L3psycho_anal_vbr(t,V,z,O,C,T,N[O],L[O],R[O],j):p.L3psycho_anal_ns(t,V,z,O,C,T,N[O],L[O],R[O],j),0!=B)return-4;for(t.mode==u.JOINT_STEREO&&(D[O]=R[O][2]+R[O][3],D[O]>0&&(D[O]=R[O][3]/D[O])),M=0;M<P.channels_out;M++){var F=P.l3_side.tt[O][M];F.block_type=j[M],F.mixed_block_flag=0}}}else for(O=0;O<P.mode_gr;O++)for(M=0;M<P.channels_out;M++)P.l3_side.tt[O][M].block_type=l.NORM_TYPE,P.l3_side.tt[O][M].mixed_block_flag=0,L[O][M]=N[O][M]=700;if(g(P),v.mdct_sub48(P,I[0],I[1]),P.mode_ext=l.MPG_MD_LR_LR,t.force_ms)P.mode_ext=l.MPG_MD_MS_LR;else if(t.mode==u.JOINT_STEREO){var q=0,U=0;for(O=0;O<P.mode_gr;O++)for(M=0;M<P.channels_out;M++)q+=L[O][M],U+=N[O][M];if(q<=1*U){var H=P.l3_side.tt[0],W=P.l3_side.tt[P.mode_gr-1];H[0].block_type==H[1].block_type&&W[0].block_type==W[1].block_type&&(P.mode_ext=l.MPG_MD_MS_LR)}}if(P.mode_ext==d?(A=T,E=L):(A=C,E=N),t.analysis&&null!=P.pinfo)for(O=0;O<P.mode_gr;O++)for(M=0;M<P.channels_out;M++)P.pinfo.ms_ratio[O]=P.ms_ratio[O],P.pinfo.ms_ener_ratio[O]=D[O],P.pinfo.blocktype[O][M]=P.l3_side.tt[O][M].block_type,P.pinfo.pe[O][M]=E[O][M],e.arraycopy(P.l3_side.tt[O][M].xr,0,P.pinfo.xr[O][M],0,576),P.mode_ext==d&&(P.pinfo.ers[O][M]=P.pinfo.ers[O][M+2],e.arraycopy(P.pinfo.energy[O][M+2],0,P.pinfo.energy[O][M],0,P.pinfo.energy[O][M].length));if(t.VBR==n.vbr_off||t.VBR==n.vbr_abr){var X,$;for(X=0;X<18;X++)P.nsPsy.pefirbuf[X]=P.nsPsy.pefirbuf[X+1];for($=0,O=0;O<P.mode_gr;O++)for(M=0;M<P.channels_out;M++)$+=E[O][M];for(P.nsPsy.pefirbuf[18]=$,$=P.nsPsy.pefirbuf[9],X=0;X<9;X++)$+=(P.nsPsy.pefirbuf[X]+P.nsPsy.pefirbuf[18-X])*l.fircoef[X];for($=3350*P.mode_gr*P.channels_out/$,O=0;O<P.mode_gr;O++)for(M=0;M<P.channels_out;M++)E[O][M]*=$}if(P.iteration_loop.iteration_loop(t,E,D,A),f.format_bitstream(t),S=f.copy_buffer(P,w,x,k,1),t.bWriteVbrTag&&m.addVbrFrame(t),t.analysis&&null!=P.pinfo){for(M=0;M<P.channels_out;M++){var Y;for(Y=0;Y<h;Y++)P.pinfo.pcmdata[M][Y]=P.pinfo.pcmdata[M][Y+t.framesize];for(Y=h;Y<1600;Y++)P.pinfo.pcmdata[M][Y]=I[M][Y-h]}_.set_frame_pinfo(t,A)}return y(P),S}}return l.ENCDELAY=576,l.POSTDELAY=1152,l.MDCTDELAY=48,l.FFTOFFSET=224+l.MDCTDELAY,l.DECDELAY=528,l.SBLIMIT=32,l.CBANDS=64,l.SBPSY_l=21,l.SBPSY_s=12,l.SBMAX_l=22,l.SBMAX_s=13,l.PSFB21=6,l.PSFB12=6,l.BLKSIZE=1024,l.HBLKSIZE=l.BLKSIZE/2+1,l.BLKSIZE_s=256,l.HBLKSIZE_s=l.BLKSIZE_s/2+1,l.NORM_TYPE=0,l.START_TYPE=1,l.SHORT_TYPE=2,l.STOP_TYPE=3,l.MPG_MD_LR_LR=0,l.MPG_MD_LR_I=1,l.MPG_MD_MS_LR=2,l.MPG_MD_MS_I=3,l.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],I=l,I}var N=T,L=N.Util,B=N.new_float,V=D();function z(){var t=B(V.BLKSIZE),e=B(V.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function i(t,e,i){var r,s,a,o=0;i<<=1;var l=e+i;r=4;do{var c,u,h,d,f,p,m;m=r>>1,d=r,f=r<<1,p=f+d,r=f<<1,s=e,a=s+m;do{x=t[s+0]-t[s+d],w=t[s+0]+t[s+d],T=t[s+f]-t[s+p],S=t[s+f]+t[s+p],t[s+f]=w-S,t[s+0]=w+S,t[s+p]=x-T,t[s+d]=x+T,x=t[a+0]-t[a+d],w=t[a+0]+t[a+d],T=L.SQRT2*t[a+p],S=L.SQRT2*t[a+f],t[a+f]=w-S,t[a+0]=w+S,t[a+p]=x-T,t[a+d]=x+T,a+=r,s+=r}while(s<l);for(u=n[o+0],c=n[o+1],h=1;h<m;h++){var _,v;_=1-2*c*c,v=2*c*u,s=e+h,a=e+d-h;do{var g,y,b,w,x,k,S,C,T,A;y=v*t[s+d]-_*t[a+d],g=_*t[s+d]+v*t[a+d],x=t[s+0]-g,w=t[s+0]+g,k=t[a+0]-y,b=t[a+0]+y,y=v*t[s+p]-_*t[a+p],g=_*t[s+p]+v*t[a+p],T=t[s+f]-g,S=t[s+f]+g,A=t[a+f]-y,C=t[a+f]+y,y=c*S-u*A,g=u*S+c*A,t[s+f]=w-g,t[s+0]=w+g,t[a+p]=k-y,t[a+d]=k+y,y=u*C-c*T,g=c*C+u*T,t[a+f]=b-g,t[a+0]=b+g,t[s+p]=x-y,t[s+d]=x+y,a+=r,s+=r}while(s<l);_=u,u=_*n[o+0]-c*n[o+1],c=_*n[o+1]+c*n[o+0]}o+=2}while(r<i)}var r=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(t,n,s,a,o){for(var l=0;l<3;l++){var c=V.BLKSIZE_s/2,u=65535&192*(l+1),h=V.BLKSIZE_s/8-1;do{var d,f,p,m,_,v=255&r[h<<2];d=e[v]*a[s][o+v+u],_=e[127-v]*a[s][o+v+u+128],f=d-_,d+=_,p=e[v+64]*a[s][o+v+u+64],_=e[63-v]*a[s][o+v+u+192],m=p-_,p+=_,c-=4,n[l][c+0]=d+p,n[l][c+2]=d-p,n[l][c+1]=f+m,n[l][c+3]=f-m,d=e[v+1]*a[s][o+v+u+1],_=e[126-v]*a[s][o+v+u+129],f=d-_,d+=_,p=e[v+65]*a[s][o+v+u+65],_=e[62-v]*a[s][o+v+u+193],m=p-_,p+=_,n[l][c+V.BLKSIZE_s/2+0]=d+p,n[l][c+V.BLKSIZE_s/2+2]=d-p,n[l][c+V.BLKSIZE_s/2+1]=f+m,n[l][c+V.BLKSIZE_s/2+3]=f-m}while(--h>=0);i(n[l],c,V.BLKSIZE_s/2)}},this.fft_long=function(e,n,s,a,o){var l=V.BLKSIZE/8-1,c=V.BLKSIZE/2;do{var u,h,d,f,p,m=255&r[l];u=t[m]*a[s][o+m],p=t[m+512]*a[s][o+m+512],h=u-p,u+=p,d=t[m+256]*a[s][o+m+256],p=t[m+768]*a[s][o+m+768],f=d-p,d+=p,c-=4,n[c+0]=u+d,n[c+2]=u-d,n[c+1]=h+f,n[c+3]=h-f,u=t[m+1]*a[s][o+m+1],p=t[m+513]*a[s][o+m+513],h=u-p,u+=p,d=t[m+257]*a[s][o+m+257],p=t[m+769]*a[s][o+m+769],f=d-p,d+=p,n[c+V.BLKSIZE/2+0]=u+d,n[c+V.BLKSIZE/2+2]=u-d,n[c+V.BLKSIZE/2+1]=h+f,n[c+V.BLKSIZE/2+3]=h-f}while(--l>=0);i(n,c,V.BLKSIZE/2)},this.init_fft=function(n){for(var i=0;i<V.BLKSIZE;i++)t[i]=.42-.5*Math.cos(2*Math.PI*(i+.5)/V.BLKSIZE)+.08*Math.cos(4*Math.PI*(i+.5)/V.BLKSIZE);for(i=0;i<V.BLKSIZE_s/2;i++)e[i]=.5*(1-Math.cos(2*Math.PI*(i+.5)/V.BLKSIZE_s))}}var j=z,F=T,q=F.VbrMode,U=F.Float,H=F.ShortBlock,W=F.Util,X=F.Arrays,$=F.new_float,Y=F.new_float_n,G=F.new_int,Z=F.assert,K=j,Q=D();function J(){var t=R,e=new K,n=2.302585092994046,i=2,r=16,s=2,a=16,o=.34,l=1/217621504/(Q.BLKSIZE/2),c=.01,u=.8,h=.6,d=.3,f=3.5,p=21,m=.2302585093;function _(t,e){for(var n=0,i=0;i<Q.BLKSIZE/2;++i)n+=t[i]*e.ATH.eql_w[i];return n*=l,n}function v(t,n,i,r,s,a,o,l,c,u,h){var d=t.internal_flags;if(c<2)e.fft_long(d,r[s],c,u,h),e.fft_short(d,a[o],c,u,h);else if(2==c){for(var f=Q.BLKSIZE-1;f>=0;--f){var p=r[s+0][f],m=r[s+1][f];r[s+0][f]=(p+m)*W.SQRT2*.5,r[s+1][f]=(p-m)*W.SQRT2*.5}for(var v=2;v>=0;--v)for(f=Q.BLKSIZE_s-1;f>=0;--f){p=a[o+0][v][f],m=a[o+1][v][f];a[o+0][v][f]=(p+m)*W.SQRT2*.5,a[o+1][v][f]=(p-m)*W.SQRT2*.5}}n[0]=r[s+0][0],n[0]*=n[0];for(f=Q.BLKSIZE/2-1;f>=0;--f){var g=r[s+0][Q.BLKSIZE/2-f],y=r[s+0][Q.BLKSIZE/2+f];n[Q.BLKSIZE/2-f]=.5*(g*g+y*y)}for(v=2;v>=0;--v){i[v][0]=a[o+0][v][0],i[v][0]*=i[v][0];for(f=Q.BLKSIZE_s/2-1;f>=0;--f){g=a[o+0][v][Q.BLKSIZE_s/2-f],y=a[o+0][v][Q.BLKSIZE_s/2+f];i[v][Q.BLKSIZE_s/2-f]=.5*(g*g+y*y)}}var b=0;for(f=11;f<Q.HBLKSIZE;f++)b+=n[f];if(d.tot_ener[c]=b,t.analysis){for(f=0;f<Q.HBLKSIZE;f++)d.pinfo.energy[l][c][f]=d.pinfo.energy_save[c][f],d.pinfo.energy_save[c][f]=n[f];d.pinfo.pe[l][c]=d.pe[c]}2==t.athaa_loudapprox&&c<2&&(d.loudness_sq[l][c]=d.loudness_sq_save[c],d.loudness_sq_save[c]=_(n,d))}var g,y,b,w=8,x=23,k=15,S=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function C(){g=Math.pow(10,(w+1)/16),y=Math.pow(10,(x+1)/16),b=Math.pow(10,k/10)}var T=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],A=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],E=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function M(t,e,n,i,r,s){var a;if(e>t){if(!(e<t*y))return t+e;a=e/t}else{if(t>=e*y)return t+e;a=t/e}if(t+=e,i+3<=6){if(a>=g)return t;var o=0|W.FAST_LOG10_X(a,16);return t*A[o]}var l,c;o=0|W.FAST_LOG10_X(a,16);return e=0!=s?r.ATH.cb_s[n]*r.ATH.adjust:r.ATH.cb_l[n]*r.ATH.adjust,t<b*e?t>e?(l=1,o<=13&&(l=E[o]),c=W.FAST_LOG10_X(t/e,10/15),t*((T[o]-l)*c+l)):o>13?t:t*E[o]:t*T[o]}var O=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function I(t,e,n){var i;if(t<0&&(t=0),e<0&&(e=0),t<=0)return e;if(e<=0)return t;if(i=e>t?e/t:t/e,-2<=n&&n<=2){if(i>=g)return t+e;var r=0|W.FAST_LOG10_X(i,16);return(t+e)*O[r]}return i<y?t+e:(t<e&&(t=e),t)}function P(t,e){var n=t.internal_flags;if(n.channels_out>1){for(var i=0;i<Q.SBMAX_l;i++){var r=n.thm[0].l[i],s=n.thm[1].l[i];n.thm[0].l[i]+=s*e,n.thm[1].l[i]+=r*e}for(i=0;i<Q.SBMAX_s;i++)for(var a=0;a<3;a++){r=n.thm[0].s[i][a],s=n.thm[1].s[i][a];n.thm[0].s[i][a]+=s*e,n.thm[1].s[i][a]+=r*e}}}function D(t){for(var e=0;e<Q.SBMAX_l;e++)if(!(t.thm[0].l[e]>1.58*t.thm[1].l[e]||t.thm[1].l[e]>1.58*t.thm[0].l[e])){var n=t.mld_l[e]*t.en[3].l[e],i=Math.max(t.thm[2].l[e],Math.min(t.thm[3].l[e],n));n=t.mld_l[e]*t.en[2].l[e];var r=Math.max(t.thm[3].l[e],Math.min(t.thm[2].l[e],n));t.thm[2].l[e]=i,t.thm[3].l[e]=r}for(e=0;e<Q.SBMAX_s;e++)for(var s=0;s<3;s++)if(!(t.thm[0].s[e][s]>1.58*t.thm[1].s[e][s]||t.thm[1].s[e][s]>1.58*t.thm[0].s[e][s])){n=t.mld_s[e]*t.en[3].s[e][s],i=Math.max(t.thm[2].s[e][s],Math.min(t.thm[3].s[e][s],n));n=t.mld_s[e]*t.en[2].s[e][s];r=Math.max(t.thm[3].s[e][s],Math.min(t.thm[2].s[e][s],n));t.thm[2].s[e][s]=i,t.thm[3].s[e][s]=r}}function N(t,e,n){var i=e,r=Math.pow(10,n);e*=2,i*=2;for(var s=0;s<Q.SBMAX_l;s++){if(h=t.ATH.cb_l[t.bm_l[s]]*r,l=Math.min(Math.max(t.thm[0].l[s],h),Math.max(t.thm[1].l[s],h)),c=Math.max(t.thm[2].l[s],h),u=Math.max(t.thm[3].l[s],h),l*e<c+u){var a=l*i/(c+u);c*=a,u*=a}t.thm[2].l[s]=Math.min(c,t.thm[2].l[s]),t.thm[3].l[s]=Math.min(u,t.thm[3].l[s])}r*=Q.BLKSIZE_s/Q.BLKSIZE;for(s=0;s<Q.SBMAX_s;s++)for(var o=0;o<3;o++){var l,c,u,h;if(h=t.ATH.cb_s[t.bm_s[s]]*r,l=Math.min(Math.max(t.thm[0].s[s][o],h),Math.max(t.thm[1].s[s][o],h)),c=Math.max(t.thm[2].s[s][o],h),u=Math.max(t.thm[3].s[s][o],h),l*e<c+u){a=l*e/(c+u);c*=a,u*=a}t.thm[2].s[s][o]=Math.min(t.thm[2].s[s][o],c),t.thm[3].s[s][o]=Math.min(t.thm[3].s[s][o],u)}}function L(t,e,n,i,r){var s,a,o=0,l=0;for(s=a=0;s<Q.SBMAX_s;++a,++s){for(var c=t.bo_s[s],u=t.npart_s,h=c<u?c:u;a<h;)Z(e[a]>=0),Z(n[a]>=0),o+=e[a],l+=n[a],a++;if(t.en[i].s[s][r]=o,t.thm[i].s[s][r]=l,a>=u){++s;break}Z(e[a]>=0),Z(n[a]>=0);var d=t.PSY.bo_s_weight[s],f=1-d;o=d*e[a],l=d*n[a],t.en[i].s[s][r]+=o,t.thm[i].s[s][r]+=l,o=f*e[a],l=f*n[a]}for(;s<Q.SBMAX_s;++s)t.en[i].s[s][r]=0,t.thm[i].s[s][r]=0}function B(t,e,n,i){var r,s,a=0,o=0;for(r=s=0;r<Q.SBMAX_l;++s,++r){for(var l=t.bo_l[r],c=t.npart_l,u=l<c?l:c;s<u;)Z(e[s]>=0),Z(n[s]>=0),a+=e[s],o+=n[s],s++;if(t.en[i].l[r]=a,t.thm[i].l[r]=o,s>=c){++r;break}Z(e[s]>=0),Z(n[s]>=0);var h=t.PSY.bo_l_weight[r],d=1-h;a=h*e[s],o=h*n[s],t.en[i].l[r]+=a,t.thm[i].l[r]+=o,a=d*e[s],o=d*n[s]}for(;r<Q.SBMAX_l;++r)t.en[i].l[r]=0,t.thm[i].l[r]=0}function V(t,e,n,i,r,o){var l,c,u=t.internal_flags;for(c=l=0;c<u.npart_s;++c){for(var h=0,d=u.numlines_s[c],f=0;f<d;++f,++l){var p=e[o][l];h+=p}n[c]=h}for(Z(c==u.npart_s),l=c=0;c<u.npart_s;c++){var m=u.s3ind_s[c][0],_=u.s3_ss[l++]*n[m];for(++m;m<=u.s3ind_s[c][1];)_+=u.s3_ss[l]*n[m],++l,++m;var v=s*u.nb_s1[r][c];if(i[c]=Math.min(_,v),u.blocktype_old[1&r]==Q.SHORT_TYPE){v=a*u.nb_s2[r][c];var g=i[c];i[c]=Math.min(v,g)}u.nb_s2[r][c]=u.nb_s1[r][c],u.nb_s1[r][c]=_,Z(i[c]>=0)}for(;c<=Q.CBANDS;++c)n[c]=0,i[c]=0}function z(t,e,n,i){var r=t.internal_flags;t.short_blocks==H.short_block_coupled&&(0==e[0]||0==e[1])&&(e[0]=e[1]=0);for(var s=0;s<r.channels_out;s++)i[s]=Q.NORM_TYPE,t.short_blocks==H.short_block_dispensed&&(e[s]=1),t.short_blocks==H.short_block_forced&&(e[s]=0),0!=e[s]?(Z(r.blocktype_old[s]!=Q.START_TYPE),r.blocktype_old[s]==Q.SHORT_TYPE&&(i[s]=Q.STOP_TYPE)):(i[s]=Q.SHORT_TYPE,r.blocktype_old[s]==Q.NORM_TYPE&&(r.blocktype_old[s]=Q.START_TYPE),r.blocktype_old[s]==Q.STOP_TYPE&&(r.blocktype_old[s]=Q.SHORT_TYPE)),n[s]=r.blocktype_old[s],r.blocktype_old[s]=i[s]}function j(t,e,n){return n>=1?t:n<=0?e:e>0?Math.pow(t/e,n)*e:0}var F=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function J(t,e){for(var i=309.07,r=0;r<Q.SBMAX_s-1;r++)for(var s=0;s<3;s++){var a=t.thm.s[r][s];if(a>0){var o=a*e,l=t.en.s[r][s];l>o&&(i+=l>1e10*o?F[r]*(10*n):F[r]*W.FAST_LOG10(l/o))}}return i}var tt=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function et(t,e){for(var i=281.0575,r=0;r<Q.SBMAX_l-1;r++){var s=t.thm.l[r];if(s>0){var a=s*e,o=t.en.l[r];o>a&&(i+=o>1e10*a?tt[r]*(10*n):tt[r]*W.FAST_LOG10(o/a))}}return i}function nt(t,e,n,i,r){var s,a;for(s=a=0;s<t.npart_l;++s){var o,l=0,c=0;for(o=0;o<t.numlines_l[s];++o,++a){var u=e[a];l+=u,c<u&&(c=u)}n[s]=l,i[s]=c,r[s]=l*t.rnumlines_l[s],Z(t.rnumlines_l[s]>=0),Z(n[s]>=0),Z(i[s]>=0),Z(r[s]>=0)}}function it(t,e,n,i){var r=S.length-1,s=0,a=n[s]+n[s+1];if(a>0){var o=e[s];o<e[s+1]&&(o=e[s+1]),Z(t.numlines_l[s]+t.numlines_l[s+1]-1>0),a=20*(2*o-a)/(a*(t.numlines_l[s]+t.numlines_l[s+1]-1));var l=0|a;l>r&&(l=r),i[s]=l}else i[s]=0;for(s=1;s<t.npart_l-1;s++)if(a=n[s-1]+n[s]+n[s+1],a>0){o=e[s-1];o<e[s]&&(o=e[s]),o<e[s+1]&&(o=e[s+1]),Z(t.numlines_l[s-1]+t.numlines_l[s]+t.numlines_l[s+1]-1>0),a=20*(3*o-a)/(a*(t.numlines_l[s-1]+t.numlines_l[s]+t.numlines_l[s+1]-1));l=0|a;l>r&&(l=r),i[s]=l}else i[s]=0;if(Z(s==t.npart_l-1),a=n[s-1]+n[s],a>0){o=e[s-1];o<e[s]&&(o=e[s]),Z(t.numlines_l[s-1]+t.numlines_l[s]-1>0),a=20*(2*o-a)/(a*(t.numlines_l[s-1]+t.numlines_l[s]-1));l=0|a;l>r&&(l=r),i[s]=l}else i[s]=0;Z(s==t.npart_l-1)}var rt=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function st(t,n,i,r,s,a,o,l){var c=t.internal_flags;if(r<2)e.fft_long(c,o[l],r,n,i);else if(2==r)for(var u=Q.BLKSIZE-1;u>=0;--u){var h=o[l+0][u],d=o[l+1][u];o[l+0][u]=(h+d)*W.SQRT2*.5,o[l+1][u]=(h-d)*W.SQRT2*.5}a[0]=o[l+0][0],a[0]*=a[0];for(u=Q.BLKSIZE/2-1;u>=0;--u){var f=o[l+0][Q.BLKSIZE/2-u],p=o[l+0][Q.BLKSIZE/2+u];a[Q.BLKSIZE/2-u]=.5*(f*f+p*p)}var m=0;for(u=11;u<Q.HBLKSIZE;u++)m+=a[u];if(c.tot_ener[r]=m,t.analysis){for(u=0;u<Q.HBLKSIZE;u++)c.pinfo.energy[s][r][u]=c.pinfo.energy_save[r][u],c.pinfo.energy_save[r][u]=a[u];c.pinfo.pe[s][r]=c.pe[r]}}function at(t,n,i,r,s,a,o,l){var c=t.internal_flags;if(0==s&&r<2&&e.fft_short(c,o[l],r,n,i),2==r)for(var u=Q.BLKSIZE_s-1;u>=0;--u){var h=o[l+0][s][u],d=o[l+1][s][u];o[l+0][s][u]=(h+d)*W.SQRT2*.5,o[l+1][s][u]=(h-d)*W.SQRT2*.5}a[s][0]=o[l+0][s][0],a[s][0]*=a[s][0];for(u=Q.BLKSIZE_s/2-1;u>=0;--u){var f=o[l+0][s][Q.BLKSIZE_s/2-u],p=o[l+0][s][Q.BLKSIZE_s/2+u];a[s][Q.BLKSIZE_s/2-u]=.5*(f*f+p*p)}}function ot(t,e,n,i){var r=t.internal_flags;2==t.athaa_loudapprox&&n<2&&(r.loudness_sq[e][n]=r.loudness_sq_save[n],r.loudness_sq_save[n]=_(i,r))}this.L3psycho_anal_ns=function(e,n,s,a,o,l,c,f,m,_){var g,y,b,w,x,k,C,T,A,E,O=e.internal_flags,I=Y([2,Q.BLKSIZE]),R=Y([2,3,Q.BLKSIZE_s]),F=$(Q.CBANDS+1),U=$(Q.CBANDS+1),H=$(Q.CBANDS+2),W=G(2),K=G(2),tt=Y([2,576]),st=G(Q.CBANDS+2),at=G(Q.CBANDS+2);for(X.fill(at,0),g=O.channels_out,e.mode==t.JOINT_STEREO&&(g=4),A=e.VBR==q.vbr_off?0==O.ResvMax?0:O.ResvSize/O.ResvMax*.5:e.VBR==q.vbr_rh||e.VBR==q.vbr_mtrh||e.VBR==q.vbr_mt?.6:1,y=0;y<O.channels_out;y++){var ot=n[y],lt=s+576-350-p+192;for(w=0;w<576;w++){var ct,ut;for(ct=ot[lt+w+10],ut=0,x=0;x<(p-1)/2-1;x+=2)ct+=rt[x]*(ot[lt+w+x]+ot[lt+w+p-x]),ut+=rt[x+1]*(ot[lt+w+x+1]+ot[lt+w+p-x-1]);tt[y][w]=ct+ut}o[a][y].en.assign(O.en[y]),o[a][y].thm.assign(O.thm[y]),g>2&&(l[a][y].en.assign(O.en[y+2]),l[a][y].thm.assign(O.thm[y+2]))}for(y=0;y<g;y++){var ht,dt,ft,pt=$(12),mt=[0,0,0,0],_t=$(12),vt=1,gt=$(Q.CBANDS),yt=$(Q.CBANDS),bt=[0,0,0,0],wt=$(Q.HBLKSIZE),xt=Y([3,Q.HBLKSIZE_s]);for(Z(O.npart_s<=Q.CBANDS),Z(O.npart_l<=Q.CBANDS),w=0;w<3;w++)pt[w]=O.nsPsy.last_en_subshort[y][w+6],Z(O.nsPsy.last_en_subshort[y][w+4]>0),_t[w]=pt[w]/O.nsPsy.last_en_subshort[y][w+4],mt[0]+=pt[w];if(2==y)for(w=0;w<576;w++){var kt,St;kt=tt[0][w],St=tt[1][w],tt[0][w]=kt+St,tt[1][w]=kt-St}var Ct=tt[1&y],Tt=0;for(w=0;w<9;w++){for(var At=Tt+64,Et=1;Tt<At;Tt++)Et<Math.abs(Ct[Tt])&&(Et=Math.abs(Ct[Tt]));O.nsPsy.last_en_subshort[y][w]=pt[w+3]=Et,mt[1+w/3]+=Et,Et>pt[w+3-2]?(Z(pt[w+3-2]>0),Et/=pt[w+3-2]):Et=pt[w+3-2]>10*Et?pt[w+3-2]/(10*Et):0,_t[w+3]=Et}if(e.analysis){var Mt=_t[0];for(w=1;w<12;w++)Mt<_t[w]&&(Mt=_t[w]);O.pinfo.ers[a][y]=O.pinfo.ers_save[y],O.pinfo.ers_save[y]=Mt}for(ft=3==y?O.nsPsy.attackthre_s:O.nsPsy.attackthre,w=0;w<12;w++)0==bt[w/3]&&_t[w]>ft&&(bt[w/3]=w%3+1);for(w=1;w<4;w++){var Ot;mt[w-1]>mt[w]?(Z(mt[w]>0),Ot=mt[w-1]/mt[w]):(Z(mt[w-1]>0),Ot=mt[w]/mt[w-1]),Ot<1.7&&(bt[w]=0,1==w&&(bt[0]=0))}for(0!=bt[0]&&0!=O.nsPsy.lastAttacks[y]&&(bt[0]=0),(3==O.nsPsy.lastAttacks[y]||bt[0]+bt[1]+bt[2]+bt[3]!=0)&&(vt=0,0!=bt[1]&&0!=bt[0]&&(bt[1]=0),0!=bt[2]&&0!=bt[1]&&(bt[2]=0),0!=bt[3]&&0!=bt[2]&&(bt[3]=0)),y<2?K[y]=vt:0==vt&&(K[0]=K[1]=0),m[y]=O.tot_ener[y],dt=R,ht=I,v(e,wt,xt,ht,1&y,dt,1&y,a,y,n,s),nt(O,wt,F,gt,yt),it(O,gt,yt,st),T=0;T<3;T++){var It,Pt;for(V(e,xt,U,H,y,T),L(O,U,H,y,T),C=0;C<Q.SBMAX_s;C++){if(Pt=O.thm[y].s[C][T],Pt*=u,bt[T]>=2||1==bt[T+1]){var Rt=0!=T?T-1:2;Et=j(O.thm[y].s[C][Rt],Pt,h*A);Pt=Math.min(Pt,Et)}if(1==bt[T]){Rt=0!=T?T-1:2,Et=j(O.thm[y].s[C][Rt],Pt,d*A);Pt=Math.min(Pt,Et)}else if(0!=T&&3==bt[T-1]||0==T&&3==O.nsPsy.lastAttacks[y]){Rt=2!=T?T+1:0,Et=j(O.thm[y].s[C][Rt],Pt,d*A);Pt=Math.min(Pt,Et)}It=pt[3*T+3]+pt[3*T+4]+pt[3*T+5],6*pt[3*T+5]<It&&(Pt*=.5,6*pt[3*T+4]<It&&(Pt*=.5)),O.thm[y].s[C][T]=Pt}}for(O.nsPsy.lastAttacks[y]=bt[2],k=0,b=0;b<O.npart_l;b++){for(var Dt=O.s3ind[b][0],Nt=F[Dt]*S[st[Dt]],Lt=O.s3_ll[k++]*Nt;++Dt<=O.s3ind[b][1];)Nt=F[Dt]*S[st[Dt]],Lt=M(Lt,O.s3_ll[k++]*Nt,Dt,Dt-b,O,0);Lt*=.158489319246111,O.blocktype_old[1&y]==Q.SHORT_TYPE?H[b]=Lt:H[b]=j(Math.min(Lt,Math.min(i*O.nb_1[y][b],r*O.nb_2[y][b])),Lt,A),O.nb_2[y][b]=O.nb_1[y][b],O.nb_1[y][b]=Lt}for(;b<=Q.CBANDS;++b)F[b]=0,H[b]=0;B(O,F,H,y)}((e.mode==t.STEREO||e.mode==t.JOINT_STEREO)&&e.interChRatio>0&&P(e,e.interChRatio),e.mode==t.JOINT_STEREO)&&(D(O),E=e.msfix,Math.abs(E)>0&&N(O,E,e.ATHlower*O.ATH.adjust));for(z(e,K,_,W),y=0;y<g;y++){var Bt,Vt,zt,jt=0;y>1?(Bt=f,jt=-2,Vt=Q.NORM_TYPE,(_[0]==Q.SHORT_TYPE||_[1]==Q.SHORT_TYPE)&&(Vt=Q.SHORT_TYPE),zt=l[a][y-2]):(Bt=c,jt=0,Vt=_[y],zt=o[a][y]),Vt==Q.SHORT_TYPE?Bt[jt+y]=J(zt,O.masking_lower):Bt[jt+y]=et(zt,O.masking_lower),e.analysis&&(O.pinfo.pe[a][y]=Bt[jt+y])}return 0};var lt=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function ct(e,n,i,r,s,a,o,l,c,u){for(var h=Y([2,576]),d=e.internal_flags,f=d.channels_out,m=e.mode==t.JOINT_STEREO?4:f,_=0;_<f;_++){firbuf=n[_];for(var v=i+576-350-p+192,g=0;g<576;g++){var y,b;y=firbuf[v+g+10],b=0;for(var w=0;w<(p-1)/2-1;w+=2)y+=lt[w]*(firbuf[v+g+w]+firbuf[v+g+p-w]),b+=lt[w+1]*(firbuf[v+g+w+1]+firbuf[v+g+p-w-1]);h[_][g]=y+b}s[r][_].en.assign(d.en[_]),s[r][_].thm.assign(d.thm[_]),m>2&&(a[r][_].en.assign(d.en[_+2]),a[r][_].thm.assign(d.thm[_+2]))}for(_=0;_<m;_++){var x=$(12),k=$(12),S=[0,0,0,0],C=h[1&_],T=0,A=3==_?d.nsPsy.attackthre_s:d.nsPsy.attackthre,E=1;if(2==_)for(g=0,w=576;w>0;++g,--w){var M=h[0][g],O=h[1][g];h[0][g]=M+O,h[1][g]=M-O}for(g=0;g<3;g++)k[g]=d.nsPsy.last_en_subshort[_][g+6],Z(d.nsPsy.last_en_subshort[_][g+4]>0),x[g]=k[g]/d.nsPsy.last_en_subshort[_][g+4],S[0]+=k[g];for(g=0;g<9;g++){for(var I=T+64,P=1;T<I;T++)P<Math.abs(C[T])&&(P=Math.abs(C[T]));d.nsPsy.last_en_subshort[_][g]=k[g+3]=P,S[1+g/3]+=P,P>k[g+3-2]?(Z(k[g+3-2]>0),P/=k[g+3-2]):P=k[g+3-2]>10*P?k[g+3-2]/(10*P):0,x[g+3]=P}for(g=0;g<3;++g){var R=k[3*g+3]+k[3*g+4]+k[3*g+5],D=1;6*k[3*g+5]<R&&(D*=.5,6*k[3*g+4]<R&&(D*=.5)),l[_][g]=D}if(e.analysis){var N=x[0];for(g=1;g<12;g++)N<x[g]&&(N=x[g]);d.pinfo.ers[r][_]=d.pinfo.ers_save[_],d.pinfo.ers_save[_]=N}for(g=0;g<12;g++)0==c[_][g/3]&&x[g]>A&&(c[_][g/3]=g%3+1);for(g=1;g<4;g++){var L=S[g-1],B=S[g],V=Math.max(L,B);V<4e4&&L<1.7*B&&B<1.7*L&&(1==g&&c[_][0]<=c[_][g]&&(c[_][0]=0),c[_][g]=0)}c[_][0]<=d.nsPsy.lastAttacks[_]&&(c[_][0]=0),(3==d.nsPsy.lastAttacks[_]||c[_][0]+c[_][1]+c[_][2]+c[_][3]!=0)&&(E=0,0!=c[_][1]&&0!=c[_][0]&&(c[_][1]=0),0!=c[_][2]&&0!=c[_][1]&&(c[_][2]=0),0!=c[_][3]&&0!=c[_][2]&&(c[_][3]=0)),_<2?u[_]=E:0==E&&(u[0]=u[1]=0),o[_]=d.tot_ener[_]}}function ut(t,e,n){if(0==n)for(var i=0;i<t.npart_s;i++)t.nb_s2[e][i]=t.nb_s1[e][i],t.nb_s1[e][i]=0}function ht(t,e){for(var n=0;n<t.npart_l;n++)t.nb_2[e][n]=t.nb_1[e][n],t.nb_1[e][n]=0}function dt(t,e,n,i){var r=S.length-1,s=0,a=n[s]+n[s+1];if(a>0){var o=e[s];o<e[s+1]&&(o=e[s+1]),Z(t.numlines_s[s]+t.numlines_s[s+1]-1>0),a=20*(2*o-a)/(a*(t.numlines_s[s]+t.numlines_s[s+1]-1));var l=0|a;l>r&&(l=r),i[s]=l}else i[s]=0;for(s=1;s<t.npart_s-1;s++)if(a=n[s-1]+n[s]+n[s+1],Z(s+1<t.npart_s),a>0){o=e[s-1];o<e[s]&&(o=e[s]),o<e[s+1]&&(o=e[s+1]),Z(t.numlines_s[s-1]+t.numlines_s[s]+t.numlines_s[s+1]-1>0),a=20*(3*o-a)/(a*(t.numlines_s[s-1]+t.numlines_s[s]+t.numlines_s[s+1]-1));l=0|a;l>r&&(l=r),i[s]=l}else i[s]=0;if(Z(s==t.npart_s-1),a=n[s-1]+n[s],a>0){o=e[s-1];o<e[s]&&(o=e[s]),Z(t.numlines_s[s-1]+t.numlines_s[s]-1>0),a=20*(2*o-a)/(a*(t.numlines_s[s-1]+t.numlines_s[s]-1));l=0|a;l>r&&(l=r),i[s]=l}else i[s]=0;Z(s==t.npart_s-1)}function ft(t,e,n,i,r,s){var a,o,l,c=t.internal_flags,u=new float[Q.CBANDS],h=$(Q.CBANDS),d=new int[Q.CBANDS];for(l=o=0;l<c.npart_s;++l){var f=0,p=0,m=c.numlines_s[l];for(a=0;a<m;++a,++o){var _=e[s][o];f+=_,p<_&&(p=_)}n[l]=f,u[l]=p,h[l]=f/m,Z(h[l]>=0)}for(Z(l==c.npart_s);l<Q.CBANDS;++l)u[l]=0,h[l]=0;for(dt(c,u,h,d),o=l=0;l<c.npart_s;l++){var v,g,y,b,w,x=c.s3ind_s[l][0],k=c.s3ind_s[l][1];for(v=d[x],g=1,b=c.s3_ss[o]*n[x]*S[d[x]],++o,++x;x<=k;)v+=d[x],g+=1,y=c.s3_ss[o]*n[x]*S[d[x]],b=I(b,y,x-l),++o,++x;v=(1+2*v)/(2*g),w=.5*S[v],b*=w,i[l]=b,c.nb_s2[r][l]=c.nb_s1[r][l],c.nb_s1[r][l]=b,y=u[l],y*=c.minval_s[l],y*=w,i[l]>y&&(i[l]=y),c.masking_lower>1&&(i[l]*=c.masking_lower),i[l]>n[l]&&(i[l]=n[l]),c.masking_lower<1&&(i[l]*=c.masking_lower),Z(i[l]>=0)}for(;l<Q.CBANDS;++l)n[l]=0,i[l]=0}function pt(t,e,n,s,a){var o,l=$(Q.CBANDS),c=$(Q.CBANDS),u=G(Q.CBANDS+2);nt(t,e,n,l,c),it(t,l,c,u);var h=0;for(o=0;o<t.npart_l;o++){var f,p,m,_,v=t.s3ind[o][0],g=t.s3ind[o][1],y=0,b=0;for(y=u[v],b+=1,p=t.s3_ll[h]*n[v]*S[u[v]],++h,++v;v<=g;)y+=u[v],b+=1,f=t.s3_ll[h]*n[v]*S[u[v]],_=I(p,f,v-o),p=_,++h,++v;if(y=(1+2*y)/(2*b),m=.5*S[y],p*=m,t.blocktype_old[1&a]==Q.SHORT_TYPE){var w=i*t.nb_1[a][o];s[o]=w>0?Math.min(p,w):Math.min(p,n[o]*d)}else{var x=r*t.nb_2[a][o],k=i*t.nb_1[a][o];x<=0&&(x=p),k<=0&&(k=p),w=t.blocktype_old[1&a]==Q.NORM_TYPE?Math.min(k,x):k,s[o]=Math.min(p,w)}t.nb_2[a][o]=t.nb_1[a][o],t.nb_1[a][o]=p,f=l[o],f*=t.minval_l[o],f*=m,s[o]>f&&(s[o]=f),t.masking_lower>1&&(s[o]*=t.masking_lower),s[o]>n[o]&&(s[o]=n[o]),t.masking_lower<1&&(s[o]*=t.masking_lower),Z(s[o]>=0)}for(;o<Q.CBANDS;++o)n[o]=0,s[o]=0}function mt(t,e){var n=t.internal_flags;t.short_blocks==H.short_block_coupled&&(0==e[0]||0==e[1])&&(e[0]=e[1]=0);for(var i=0;i<n.channels_out;i++)t.short_blocks==H.short_block_dispensed&&(e[i]=1),t.short_blocks==H.short_block_forced&&(e[i]=0)}function _t(t,e,n){for(var i=t.internal_flags,r=0;r<i.channels_out;r++){var s=Q.NORM_TYPE;0!=e[r]?(Z(i.blocktype_old[r]!=Q.START_TYPE),i.blocktype_old[r]==Q.SHORT_TYPE&&(s=Q.STOP_TYPE)):(s=Q.SHORT_TYPE,i.blocktype_old[r]==Q.NORM_TYPE&&(i.blocktype_old[r]=Q.START_TYPE),i.blocktype_old[r]==Q.STOP_TYPE&&(i.blocktype_old[r]=Q.SHORT_TYPE)),n[r]=i.blocktype_old[r],i.blocktype_old[r]=s}}function vt(t,e,n,i,r,s,a){for(var o,l,c=2*s,u=s>0?Math.pow(10,r):1,h=0;h<a;++h){var d=t[2][h],f=t[3][h],p=e[0][h],m=e[1][h],_=e[2][h],v=e[3][h];if(p<=1.58*m&&m<=1.58*p){var g=n[h]*f,y=n[h]*d;l=Math.max(_,Math.min(v,g)),o=Math.max(v,Math.min(_,y))}else l=_,o=v;if(s>0){var b,w,x=i[h]*u;if(b=Math.min(Math.max(p,x),Math.max(m,x)),_=Math.max(l,x),v=Math.max(o,x),w=_+v,w>0&&b*c<w){var k=b*c/w;_*=k,v*=k}l=Math.min(_,l),o=Math.min(v,o)}l>d&&(l=d),o>f&&(o=f),e[2][h]=l,e[3][h]=o}}function gt(t,e){var n,i=t;return n=i>=0?27*-i:i*e,n<=-72?0:Math.exp(n*m)}function yt(t){var e=0,n=0,i=0;for(i=0;gt(i,t)>1e-20;i-=1);for(r=i,s=0;Math.abs(s-r)>1e-12;)i=(s+r)/2,gt(i,t)>0?s=i:r=i;e=r;var r,s;i=0;for(i=0;gt(i,t)>1e-20;i+=1);for(r=0,s=i;Math.abs(s-r)>1e-12;)i=(s+r)/2,gt(i,t)>0?r=i:s=i;n=s;var a,o=0,l=1e3;for(a=0;a<=l;++a){i=e+a*(n-e)/l;var c=gt(i,t);o+=c}var u=(l+1)/(o*(n-e));return u}function bt(t){var e,n,i,r;return e=t,e*=e>=0?3:1.5,e>=.5&&e<=2.5?(r=e-.5,n=8*(r*r-2*r)):n=0,e+=.474,i=15.811389+7.5*e-17.5*Math.sqrt(1+e*e),i<=-60?0:(e=Math.exp((n+i)*m),e/=.6609193,e)}function wt(t){return t<0&&(t=0),t*=.001,13*Math.atan(.76*t)+3.5*Math.atan(t*t/56.25)}function xt(t,e,n,i,r,s,a,l,c,u,h,d){var f,p=$(Q.CBANDS+1),m=l/(d>15?1152:384),_=G(Q.HBLKSIZE);l/=c;var v=0,g=0;for(f=0;f<Q.CBANDS;f++){var y;for(E=wt(l*v),p[f]=l*v,y=v;wt(l*y)-E<o&&y<=c/2;y++);for(t[f]=y-v,g=f+1;v<y;)Z(v<Q.HBLKSIZE),_[v++]=f;if(v>c/2){v=c/2,++f;break}}Z(f<Q.CBANDS),p[f]=l*v;for(var b=0;b<d;b++){var w,x,k,S,C;k=u[b],S=u[b+1],w=0|Math.floor(.5+h*(k-.5)),w<0&&(w=0),x=0|Math.floor(.5+h*(S-.5)),x>c/2&&(x=c/2),n[b]=(_[w]+_[x])/2,e[b]=_[x];var T=m*S;a[b]=(T-p[e[b]])/(p[e[b]+1]-p[e[b]]),a[b]<0?a[b]=0:a[b]>1&&(a[b]=1),C=wt(l*u[b]*h),C=Math.min(C,15.5)/15.5,s[b]=Math.pow(10,1.25*(1-Math.cos(Math.PI*C))-2.5)}v=0;for(var A=0;A<g;A++){var E,M,O=t[A];E=wt(l*v),M=wt(l*(v+O-1)),i[A]=.5*(E+M),E=wt(l*(v-.5)),M=wt(l*(v+O-.5)),r[A]=M-E,v+=O}return g}function kt(t,e,n,i,r,s){var a,o=Y([Q.CBANDS,Q.CBANDS]),l=0;if(s)for(var c=0;c<e;c++)for(a=0;a<e;a++){var u=bt(n[c]-n[a])*i[a];o[c][a]=u*r[c]}else for(a=0;a<e;a++){var h=15+Math.min(21/n[a],12),d=yt(h);for(c=0;c<e;c++){u=d*gt(n[c]-n[a],h)*i[a];o[c][a]=u*r[c]}}for(c=0;c<e;c++){for(a=0;a<e&&!(o[c][a]>0);a++);for(t[c][0]=a,a=e-1;a>0&&!(o[c][a]>0);a--);t[c][1]=a,l+=t[c][1]-t[c][0]+1}var f=$(l),p=0;for(c=0;c<e;c++)for(a=t[c][0];a<=t[c][1];a++)f[p++]=o[c][a];return f}function St(t){var e=wt(t);return e=Math.min(e,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*e))-2.5)}function Ct(t,e){t<-.3&&(t=3410),t/=1e3,t=Math.max(.1,t);var n=3.64*Math.pow(t,-.8)-6.8*Math.exp(-.6*Math.pow(t-3.4,2))+6*Math.exp(-.15*Math.pow(t-8.7,2))+.001*(.6+.04*e)*Math.pow(t,4);return n}this.L3psycho_anal_vbr=function(e,n,i,r,s,a,o,l,c,f){var p,m,_=e.internal_flags,v=$(Q.HBLKSIZE),g=Y([3,Q.HBLKSIZE_s]),y=Y([2,Q.BLKSIZE]),b=Y([2,3,Q.BLKSIZE_s]),w=Y([4,Q.CBANDS]),x=Y([4,Q.CBANDS]),k=Y([4,3]),S=.6,C=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],T=G(2),A=e.mode==t.JOINT_STEREO?4:_.channels_out;ct(e,n,i,r,s,a,c,k,C,T),mt(e,T);for(var E=0;E<A;E++){var M=1&E;p=y,st(e,n,i,E,r,v,p,M),ot(e,r,E,v),0!=T[M]?pt(_,v,w[E],x[E],E):ht(_,E)}T[0]+T[1]==2&&e.mode==t.JOINT_STEREO&&vt(w,x,_.mld_cb_l,_.ATH.cb_l,e.ATHlower*_.ATH.adjust,e.msfix,_.npart_l);for(E=0;E<A;E++){M=1&E;0!=T[M]&&B(_,w[E],x[E],E)}for(var O=0;O<3;O++){for(E=0;E<A;++E){M=1&E;0!=T[M]?ut(_,E,O):(m=b,at(e,n,i,E,O,g,m,M),ft(e,g,w[E],x[E],E,O))}T[0]+T[1]==0&&e.mode==t.JOINT_STEREO&&vt(w,x,_.mld_cb_s,_.ATH.cb_s,e.ATHlower*_.ATH.adjust,e.msfix,_.npart_s);for(E=0;E<A;++E){M=1&E;0==T[M]&&L(_,w[E],x[E],E,O)}}for(E=0;E<A;E++){M=1&E;if(0==T[M])for(var I=0;I<Q.SBMAX_s;I++){var P=$(3);for(O=0;O<3;O++){var R=_.thm[E].s[I][O];if(R*=u,C[E][O]>=2||1==C[E][O+1]){var D=0!=O?O-1:2,N=j(_.thm[E].s[I][D],R,h*S);R=Math.min(R,N)}else if(1==C[E][O]){D=0!=O?O-1:2,N=j(_.thm[E].s[I][D],R,d*S);R=Math.min(R,N)}else if(0!=O&&3==C[E][O-1]||0==O&&3==_.nsPsy.lastAttacks[E]){D=2!=O?O+1:0,N=j(_.thm[E].s[I][D],R,d*S);R=Math.min(R,N)}R*=k[E][O],P[O]=R}for(O=0;O<3;O++)_.thm[E].s[I][O]=P[O]}}for(E=0;E<A;E++)_.nsPsy.lastAttacks[E]=C[E][2];_t(e,T,f);for(E=0;E<A;E++){var V,z,F,q;E>1?(V=l,z=-2,F=Q.NORM_TYPE,(f[0]==Q.SHORT_TYPE||f[1]==Q.SHORT_TYPE)&&(F=Q.SHORT_TYPE),q=a[r][E-2]):(V=o,z=0,F=f[E],q=s[r][E]),F==Q.SHORT_TYPE?V[z+E]=J(q,_.masking_lower):V[z+E]=et(q,_.masking_lower),e.analysis&&(_.pinfo.pe[r][E]=V[z+E])}return 0},this.psymodel_init=function(t){var i,r=t.internal_flags,s=!0,a=13,o=24,l=0,u=0,h=-8.25,d=-4.5,p=$(Q.CBANDS),m=$(Q.CBANDS),_=$(Q.CBANDS),v=t.out_samplerate;switch(t.experimentalZ){default:case 0:s=!0;break;case 1:s=!(t.VBR==q.vbr_mtrh||t.VBR==q.vbr_mt);break;case 2:s=!1;break;case 3:a=8,l=-1.75,u=-.0125,h=-8.25,d=-2.25;break}for(r.ms_ener_ratio_old=.25,r.blocktype_old[0]=r.blocktype_old[1]=Q.NORM_TYPE,i=0;i<4;++i){for(var g=0;g<Q.CBANDS;++g)r.nb_1[i][g]=1e20,r.nb_2[i][g]=1e20,r.nb_s1[i][g]=r.nb_s2[i][g]=1;for(var y=0;y<Q.SBMAX_l;y++)r.en[i].l[y]=1e20,r.thm[i].l[y]=1e20;for(g=0;g<3;++g){for(y=0;y<Q.SBMAX_s;y++)r.en[i].s[y][g]=1e20,r.thm[i].s[y][g]=1e20;r.nsPsy.lastAttacks[i]=0}for(g=0;g<9;g++)r.nsPsy.last_en_subshort[i][g]=10}for(r.loudness_sq_save[0]=r.loudness_sq_save[1]=0,r.npart_l=xt(r.numlines_l,r.bo_l,r.bm_l,p,m,r.mld_l,r.PSY.bo_l_weight,v,Q.BLKSIZE,r.scalefac_band.l,Q.BLKSIZE/1152,Q.SBMAX_l),Z(r.npart_l<Q.CBANDS),i=0;i<r.npart_l;i++){var b=l;p[i]>=a&&(b=u*(p[i]-a)/(o-a)+l*(o-p[i])/(o-a)),_[i]=Math.pow(10,b/10),r.numlines_l[i]>0?r.rnumlines_l[i]=1/r.numlines_l[i]:r.rnumlines_l[i]=0}r.s3_ll=kt(r.s3ind,r.npart_l,p,m,_,s);var w;g=0;for(i=0;i<r.npart_l;i++){S=U.MAX_VALUE;for(var x=0;x<r.numlines_l[i];x++,g++){var k=v*g/(1e3*Q.BLKSIZE);T=this.ATHformula(1e3*k,t)-20,T=Math.pow(10,.1*T),T*=r.numlines_l[i],S>T&&(S=T)}r.ATH.cb_l[i]=S,S=20*p[i]/10-20,S>6&&(S=100),S<-15&&(S=-15),S-=8,r.minval_l[i]=Math.pow(10,S/10)*r.numlines_l[i]}for(r.npart_s=xt(r.numlines_s,r.bo_s,r.bm_s,p,m,r.mld_s,r.PSY.bo_s_weight,v,Q.BLKSIZE_s,r.scalefac_band.s,Q.BLKSIZE_s/384,Q.SBMAX_s),Z(r.npart_s<Q.CBANDS),g=0,i=0;i<r.npart_s;i++){var S;b=h;p[i]>=a&&(b=d*(p[i]-a)/(o-a)+h*(o-p[i])/(o-a)),_[i]=Math.pow(10,b/10),S=U.MAX_VALUE;for(x=0;x<r.numlines_s[i];x++,g++){var T;k=v*g/(1e3*Q.BLKSIZE_s);T=this.ATHformula(1e3*k,t)-20,T=Math.pow(10,.1*T),T*=r.numlines_s[i],S>T&&(S=T)}r.ATH.cb_s[i]=S,S=7*p[i]/12-7,p[i]>12&&(S*=1+3.1*Math.log(1+S)),p[i]<12&&(S*=1+2.3*Math.log(1-S)),S<-15&&(S=-15),S-=8,r.minval_s[i]=Math.pow(10,S/10)*r.numlines_s[i]}r.s3_ss=kt(r.s3ind_s,r.npart_s,p,m,_,s),C(),e.init_fft(r),r.decay=Math.exp(-1*n/(c*v/192)),w=f,2&t.exp_nspsytune&&(w=1),Math.abs(t.msfix)>0&&(w=t.msfix),t.msfix=w;for(var A=0;A<r.npart_l;A++)r.s3ind[A][1]>r.npart_l-1&&(r.s3ind[A][1]=r.npart_l-1);var E=576*r.mode_gr/v;if(r.ATH.decay=Math.pow(10,-1.2*E),r.ATH.adjust=.01,r.ATH.adjustLimit=1,Z(r.bo_l[Q.SBMAX_l-1]<=r.npart_l),Z(r.bo_s[Q.SBMAX_s-1]<=r.npart_s),-1!=t.ATHtype){var M=t.out_samplerate/Q.BLKSIZE,O=0;for(k=0,i=0;i<Q.BLKSIZE/2;++i)k+=M,r.ATH.eql_w[i]=1/Math.pow(10,this.ATHformula(k,t)/10),O+=r.ATH.eql_w[i];for(O=1/O,i=Q.BLKSIZE/2;--i>=0;)r.ATH.eql_w[i]*=O}for(A=g=0;A<r.npart_s;++A)for(i=0;i<r.numlines_s[A];++i)++g;for(A=g=0;A<r.npart_l;++A)for(i=0;i<r.numlines_l[A];++i)++g;for(g=0,i=0;i<r.npart_l;i++){k=v*(g+r.numlines_l[i]/2)/(1*Q.BLKSIZE);r.mld_cb_l[i]=St(k),g+=r.numlines_l[i]}for(;i<Q.CBANDS;++i)r.mld_cb_l[i]=1;for(g=0,i=0;i<r.npart_s;i++){k=v*(g+r.numlines_s[i]/2)/(1*Q.BLKSIZE_s);r.mld_cb_s[i]=St(k),g+=r.numlines_s[i]}for(;i<Q.CBANDS;++i)r.mld_cb_s[i]=1;return 0},this.ATHformula=function(t,e){var n;switch(e.ATHtype){case 0:n=Ct(t,9);break;case 1:n=Ct(t,-1);break;case 2:n=Ct(t,0);break;case 3:n=Ct(t,1)+6;break;case 4:n=Ct(t,e.ATHcurve);break;default:n=Ct(t,0);break}return n}}var tt=J,et=R;function nt(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=et.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var it=nt,rt=D(),st={};st.SFBMAX=3*rt.SBMAX_s;var at=st,ot=T,lt=ot.new_float,ct=ot.new_int,ut=at;function ht(){this.xr=lt(576),this.l3_enc=ct(576),this.scalefac=ct(ut.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=ct(3),this.subblock_gain=ct(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=ct(ut.SFBMAX),this.window=ct(ut.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=ct(4),this.max_nonzero_coeff=0;var t=this;function e(t){return new Int32Array(t)}function n(t){return new Float32Array(t)}this.assign=function(i){t.xr=n(i.xr),t.l3_enc=e(i.l3_enc),t.scalefac=e(i.scalefac),t.xrpow_max=i.xrpow_max,t.part2_3_length=i.part2_3_length,t.big_values=i.big_values,t.count1=i.count1,t.global_gain=i.global_gain,t.scalefac_compress=i.scalefac_compress,t.block_type=i.block_type,t.mixed_block_flag=i.mixed_block_flag,t.table_select=e(i.table_select),t.subblock_gain=e(i.subblock_gain),t.region0_count=i.region0_count,t.region1_count=i.region1_count,t.preflag=i.preflag,t.scalefac_scale=i.scalefac_scale,t.count1table_select=i.count1table_select,t.part2_length=i.part2_length,t.sfb_lmax=i.sfb_lmax,t.sfb_smin=i.sfb_smin,t.psy_lmax=i.psy_lmax,t.sfbmax=i.sfbmax,t.psymax=i.psymax,t.sfbdivide=i.sfbdivide,t.width=e(i.width),t.window=e(i.window),t.count1bits=i.count1bits,t.sfb_partition_table=i.sfb_partition_table.slice(0),t.slen=e(i.slen),t.max_nonzero_coeff=i.max_nonzero_coeff}}var dt=ht,ft=T,pt=ft.new_int,mt=dt;function _t(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[pt(4),pt(4)];for(var t=0;t<2;t++)for(var e=0;e<2;e++)this.tt[t][e]=new mt}var vt=_t,gt=T,yt=gt.System,bt=gt.new_int,wt=D();function xt(t,e,n,i){this.l=bt(1+wt.SBMAX_l),this.s=bt(1+wt.SBMAX_s),this.psfb21=bt(1+wt.PSFB21),this.psfb12=bt(1+wt.PSFB12);var r=this.l,s=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],yt.arraycopy(this.arrL,0,r,0,Math.min(this.arrL.length,this.l.length)),yt.arraycopy(this.arrS,0,s,0,Math.min(this.arrS.length,this.s.length)),yt.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),yt.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var kt=xt,St=T,Ct=St.new_float,Tt=St.new_float_n,At=St.new_int,Et=D();function Mt(){this.last_en_subshort=Tt([4,9]),this.lastAttacks=At(4),this.pefirbuf=Ct(19),this.longfact=Ct(Et.SBMAX_l),this.shortfact=Ct(Et.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var Ot=Mt;function It(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var Pt=It,Rt=T,Dt=Rt.new_byte,Nt=Rt.new_double,Lt=Rt.new_float,Bt=Rt.new_float_n,Vt=Rt.new_int,zt=Rt.new_int_n,jt=vt,Ft=kt,qt=Ot,Ut=Pt,Ht=E(),Wt=D(),Xt=at;function $t(){var t=40;function e(){this.write_timing=0,this.ptr=0,this.buf=Dt(t)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=Bt([2,$t.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new jt,this.ms_ratio=Lt(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=Vt(2),this.CurrentStep=Vt(2),this.masking_lower=0,this.bv_scf=Vt(576),this.pseudohalf=Vt(Xt.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*$t.BPC+1),this.itime=Nt(2),this.sideinfo_len=0,this.sb_sample=Bt([2,2,18,Wt.SBLIMIT]),this.amp_filter=Lt(32),this.header=new Array($t.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new Ft,this.minval_l=Lt(Wt.CBANDS),this.minval_s=Lt(Wt.CBANDS),this.nb_1=Bt([4,Wt.CBANDS]),this.nb_2=Bt([4,Wt.CBANDS]),this.nb_s1=Bt([4,Wt.CBANDS]),this.nb_s2=Bt([4,Wt.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Lt(4),this.loudness_sq=Bt([2,2]),this.loudness_sq_save=Lt(2),this.mld_l=Lt(Wt.SBMAX_l),this.mld_s=Lt(Wt.SBMAX_s),this.bm_l=Vt(Wt.SBMAX_l),this.bo_l=Vt(Wt.SBMAX_l),this.bm_s=Vt(Wt.SBMAX_s),this.bo_s=Vt(Wt.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=zt([Wt.CBANDS,2]),this.s3ind_s=zt([Wt.CBANDS,2]),this.numlines_s=Vt(Wt.CBANDS),this.numlines_l=Vt(Wt.CBANDS),this.rnumlines_l=Lt(Wt.CBANDS),this.mld_cb_l=Lt(Wt.CBANDS),this.mld_cb_s=Lt(Wt.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Lt(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=Vt(2),this.nsPsy=new qt,this.VBR_seek_table=new Ut,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=zt([16,5]),this.bitrate_blockType_Hist=zt([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new Ht;for(n=0;n<this.thm.length;n++)this.thm[n]=new Ht;for(n=0;n<this.header.length;n++)this.header[n]=new e}$t.MFSIZE=3456+Wt.ENCDELAY-Wt.MDCTDELAY,$t.MAX_HEADER_BUF=256,$t.MAX_BITS_PER_CHANNEL=4095,$t.MAX_BITS_PER_GRANULE=7680,$t.BPC=320;var Yt=$t,Gt=T,Zt=Gt.new_float,Kt=D();function Qt(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=Zt(Kt.SBMAX_l),this.s=Zt(Kt.SBMAX_s),this.psfb21=Zt(Kt.PSFB21),this.psfb12=Zt(Kt.PSFB12),this.cb_l=Zt(Kt.CBANDS),this.cb_s=Zt(Kt.CBANDS),this.eql_w=Zt(Kt.BLKSIZE/2)}var Jt=Qt,te=T,ee=te.System,ne=te.Arrays;function ie(){var t=64.82,e=.95,n=ie.RMS_WINDOW_TIME_NUMERATOR,i=ie.RMS_WINDOW_TIME_DENOMINATOR,r=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],s=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function a(t,e,n,i,r,s){for(;0!=r--;)n[i]=1e-10+t[e+0]*s[0]-n[i-1]*s[1]+t[e-1]*s[2]-n[i-2]*s[3]+t[e-2]*s[4]-n[i-3]*s[5]+t[e-3]*s[6]-n[i-4]*s[7]+t[e-4]*s[8]-n[i-5]*s[9]+t[e-5]*s[10]-n[i-6]*s[11]+t[e-6]*s[12]-n[i-7]*s[13]+t[e-7]*s[14]-n[i-8]*s[15]+t[e-8]*s[16]-n[i-9]*s[17]+t[e-9]*s[18]-n[i-10]*s[19]+t[e-10]*s[20],++i,++e}function o(t,e,n,i,r,s){for(;0!=r--;)n[i]=t[e+0]*s[0]-n[i-1]*s[1]+t[e-1]*s[2]-n[i-2]*s[3]+t[e-2]*s[4],++i,++e}function l(t,e){for(var r=0;r<MAX_ORDER;r++)t.linprebuf[r]=t.lstepbuf[r]=t.loutbuf[r]=t.rinprebuf[r]=t.rstepbuf[r]=t.routbuf[r]=0;switch(0|e){case 48e3:t.reqindex=0;break;case 44100:t.reqindex=1;break;case 32e3:t.reqindex=2;break;case 24e3:t.reqindex=3;break;case 22050:t.reqindex=4;break;case 16e3:t.reqindex=5;break;case 12e3:t.reqindex=6;break;case 11025:t.reqindex=7;break;case 8e3:t.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return t.sampleWindow=0|(e*n+i-1)/i,t.lsum=0,t.rsum=0,t.totsamp=0,ne.ill(t.A,0),INIT_GAIN_ANALYSIS_OK}function c(t){return t*t}function u(n,i){var r,s=0;for(r=0;r<i;r++)s+=n[r];if(0==s)return GAIN_NOT_ENOUGH_SAMPLES;var a=0|Math.ceil(s*(1-e));for(r=i;r-- >0&&!((a-=n[r])<=0););return t-r/ie.STEPS_per_dB}this.InitGainAnalysis=function(t,e){return l(t,e)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(t.linpre=MAX_ORDER,t.rinpre=MAX_ORDER,t.lstep=MAX_ORDER,t.rstep=MAX_ORDER,t.lout=MAX_ORDER,t.rout=MAX_ORDER,ne.fill(t.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(t,e,n,i,l,u,h){var d,f,p,m,_,v,g;if(0==u)return GAIN_ANALYSIS_OK;switch(g=0,_=u,h){case 1:i=e,l=n;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(u<MAX_ORDER?(ee.arraycopy(e,n,t.linprebuf,MAX_ORDER,u),ee.arraycopy(i,l,t.rinprebuf,MAX_ORDER,u)):(ee.arraycopy(e,n,t.linprebuf,MAX_ORDER,MAX_ORDER),ee.arraycopy(i,l,t.rinprebuf,MAX_ORDER,MAX_ORDER));_>0;){v=_>t.sampleWindow-t.totsamp?t.sampleWindow-t.totsamp:_,g<MAX_ORDER?(d=t.linpre+g,f=t.linprebuf,p=t.rinpre+g,m=t.rinprebuf,v>MAX_ORDER-g&&(v=MAX_ORDER-g)):(d=n+g,f=e,p=l+g,m=i),a(f,d,t.lstepbuf,t.lstep+t.totsamp,v,r[t.reqindex]),a(m,p,t.rstepbuf,t.rstep+t.totsamp,v,r[t.reqindex]),o(t.lstepbuf,t.lstep+t.totsamp,t.loutbuf,t.lout+t.totsamp,v,s[t.reqindex]),o(t.rstepbuf,t.rstep+t.totsamp,t.routbuf,t.rout+t.totsamp,v,s[t.reqindex]),d=t.lout+t.totsamp,f=t.loutbuf,p=t.rout+t.totsamp,m=t.routbuf;for(var y=v%8;0!=y--;)t.lsum+=c(f[d++]),t.rsum+=c(m[p++]);for(y=v/8;0!=y--;)t.lsum+=c(f[d+0])+c(f[d+1])+c(f[d+2])+c(f[d+3])+c(f[d+4])+c(f[d+5])+c(f[d+6])+c(f[d+7]),d+=8,t.rsum+=c(m[p+0])+c(m[p+1])+c(m[p+2])+c(m[p+3])+c(m[p+4])+c(m[p+5])+c(m[p+6])+c(m[p+7]),p+=8;if(_-=v,g+=v,t.totsamp+=v,t.totsamp==t.sampleWindow){var b=10*ie.STEPS_per_dB*Math.log10((t.lsum+t.rsum)/t.totsamp*.5+1e-37),w=b<=0?0:0|b;w>=t.A.length&&(w=t.A.length-1),t.A[w]++,t.lsum=t.rsum=0,ee.arraycopy(t.loutbuf,t.totsamp,t.loutbuf,0,MAX_ORDER),ee.arraycopy(t.routbuf,t.totsamp,t.routbuf,0,MAX_ORDER),ee.arraycopy(t.lstepbuf,t.totsamp,t.lstepbuf,0,MAX_ORDER),ee.arraycopy(t.rstepbuf,t.totsamp,t.rstepbuf,0,MAX_ORDER),t.totsamp=0}if(t.totsamp>t.sampleWindow)return GAIN_ANALYSIS_ERROR}return u<MAX_ORDER?(ee.arraycopy(t.linprebuf,u,t.linprebuf,0,MAX_ORDER-u),ee.arraycopy(t.rinprebuf,u,t.rinprebuf,0,MAX_ORDER-u),ee.arraycopy(e,n,t.linprebuf,MAX_ORDER-u,u),ee.arraycopy(i,l,t.rinprebuf,MAX_ORDER-u,u)):(ee.arraycopy(e,n+u-MAX_ORDER,t.linprebuf,0,MAX_ORDER),ee.arraycopy(i,l+u-MAX_ORDER,t.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(t){for(var e=u(t.A,t.A.length),n=0;n<t.A.length;n++)t.B[n]+=t.A[n],t.A[n]=0;for(n=0;n<MAX_ORDER;n++)t.linprebuf[n]=t.lstepbuf[n]=t.loutbuf[n]=t.rinprebuf[n]=t.rstepbuf[n]=t.routbuf[n]=0;return t.totsamp=0,t.lsum=t.rsum=0,e}}ie.STEPS_per_dB=100,ie.MAX_dB=120,ie.GAIN_NOT_ENOUGH_SAMPLES=-24601,ie.GAIN_ANALYSIS_ERROR=0,ie.GAIN_ANALYSIS_OK=1,ie.INIT_GAIN_ANALYSIS_ERROR=0,ie.INIT_GAIN_ANALYSIS_OK=1,ie.YULE_ORDER=10,ie.MAX_ORDER=ie.YULE_ORDER,ie.MAX_SAMP_FREQ=48e3,ie.RMS_WINDOW_TIME_NUMERATOR=1,ie.RMS_WINDOW_TIME_DENOMINATOR=20,ie.MAX_SAMPLES_PER_WINDOW=ie.MAX_SAMP_FREQ*ie.RMS_WINDOW_TIME_NUMERATOR/ie.RMS_WINDOW_TIME_DENOMINATOR+1;var re=ie,se=T,ae=se.new_float,oe=se.new_int,le=re;function ce(){this.linprebuf=ae(2*le.MAX_ORDER),this.linpre=0,this.lstepbuf=ae(le.MAX_SAMPLES_PER_WINDOW+le.MAX_ORDER),this.lstep=0,this.loutbuf=ae(le.MAX_SAMPLES_PER_WINDOW+le.MAX_ORDER),this.lout=0,this.rinprebuf=ae(2*le.MAX_ORDER),this.rinpre=0,this.rstepbuf=ae(le.MAX_SAMPLES_PER_WINDOW+le.MAX_ORDER),this.rstep=0,this.routbuf=ae(le.MAX_SAMPLES_PER_WINDOW+le.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=oe(0|le.STEPS_per_dB*le.MAX_dB),this.B=oe(0|le.STEPS_per_dB*le.MAX_dB)}var ue=ce;function he(t){this.bits=t}var de=he,fe=T,pe=fe.new_float,me=fe.new_int,_e=fe.assert,ve=de,ge=D(),ye=at,be=Yt;function we(t){var e=t;this.quantize=e,this.iteration_loop=function(t,e,n,i){var r,s=t.internal_flags,a=pe(ye.SFBMAX),o=pe(576),l=me(2),c=0,u=s.l3_side,h=new ve(c);this.quantize.rv.ResvFrameBegin(t,h),c=h.bits;for(var d=0;d<s.mode_gr;d++){r=this.quantize.qupvt.on_pe(t,e,l,c,d,d),s.mode_ext==ge.MPG_MD_MS_LR&&(this.quantize.ms_convert(s.l3_side,d),this.quantize.qupvt.reduce_side(l,n[d],c,r));for(var f=0;f<s.channels_out;f++){var p,m,_=u.tt[d][f];_.block_type!=ge.SHORT_TYPE?(p=0,m=s.PSY.mask_adjust-p):(p=0,m=s.PSY.mask_adjust_short-p),s.masking_lower=Math.pow(10,.1*m),this.quantize.init_outer_loop(s,_),this.quantize.init_xrpow(s,_,o)&&(this.quantize.qupvt.calc_xmin(t,i[d][f],_,a),this.quantize.outer_loop(t,_,a,o,f,l[f])),this.quantize.iteration_finish_one(s,d,f),_e(_.part2_3_length<=be.MAX_BITS_PER_CHANNEL),_e(_.part2_3_length<=l[f])}}this.quantize.rv.ResvFrameEnd(s,c)}}var xe=we;function ke(t,e,n,i){this.xlen=t,this.linmax=e,this.table=n,this.hlen=i}var Se={t1HB:[1,1,1,0],t2HB:[1,2,1,3,1,1,3,2,0],t3HB:[3,2,1,1,1,1,3,2,0],t5HB:[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t6HB:[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t7HB:[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t8HB:[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t9HB:[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t10HB:[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t11HB:[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t12HB:[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t13HB:[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t15HB:[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t16HB:[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t24HB:[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t32HB:[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t33HB:[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t1l:[1,4,3,5],t2l:[1,4,7,4,5,7,6,7,8],t3l:[2,3,7,4,4,7,6,7,8],t5l:[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t6l:[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t7l:[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t8l:[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t9l:[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t10l:[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t11l:[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t12l:[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t13l:[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t15l:[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t16_5l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t16l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t24l:[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t32l:[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t33l:[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]};Se.ht=[new ke(0,0,null,null),new ke(2,0,Se.t1HB,Se.t1l),new ke(3,0,Se.t2HB,Se.t2l),new ke(3,0,Se.t3HB,Se.t3l),new ke(0,0,null,null),new ke(4,0,Se.t5HB,Se.t5l),new ke(4,0,Se.t6HB,Se.t6l),new ke(6,0,Se.t7HB,Se.t7l),new ke(6,0,Se.t8HB,Se.t8l),new ke(6,0,Se.t9HB,Se.t9l),new ke(8,0,Se.t10HB,Se.t10l),new ke(8,0,Se.t11HB,Se.t11l),new ke(8,0,Se.t12HB,Se.t12l),new ke(16,0,Se.t13HB,Se.t13l),new ke(0,0,null,Se.t16_5l),new ke(16,0,Se.t15HB,Se.t15l),new ke(1,1,Se.t16HB,Se.t16l),new ke(2,3,Se.t16HB,Se.t16l),new ke(3,7,Se.t16HB,Se.t16l),new ke(4,15,Se.t16HB,Se.t16l),new ke(6,63,Se.t16HB,Se.t16l),new ke(8,255,Se.t16HB,Se.t16l),new ke(10,1023,Se.t16HB,Se.t16l),new ke(13,8191,Se.t16HB,Se.t16l),new ke(4,15,Se.t24HB,Se.t24l),new ke(5,31,Se.t24HB,Se.t24l),new ke(6,63,Se.t24HB,Se.t24l),new ke(7,127,Se.t24HB,Se.t24l),new ke(8,255,Se.t24HB,Se.t24l),new ke(9,511,Se.t24HB,Se.t24l),new ke(11,2047,Se.t24HB,Se.t24l),new ke(13,8191,Se.t24HB,Se.t24l),new ke(0,0,Se.t32HB,Se.t32l),new ke(0,0,Se.t33HB,Se.t33l)],Se.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],Se.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],Se.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],Se.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],Se.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],Se.scfsi_band=[0,6,11,16,21];var Ce,Te,Ae,Ee,Me,Oe,Ie,Pe,Re=Se;function De(){if(Te)return Ce;Te=1;var t=kt,e=T,n=e.VbrMode,i=e.Float,r=e.Util,s=e.new_float,a=e.new_int,o=e.assert,l=D(),c=de,u=Yt;function h(){var e=Le(),d=null,f=null,p=null;function m(t){return o(0<=t+h.Q_MAX2&&t<h.Q_MAX),k[t+h.Q_MAX2]}this.setModules=function(t,e,n){d=t,f=e,p=n},this.IPOW20=function(t){return o(0<=t&&t<h.Q_MAX),S[t]};var _=2220446049250313e-31,v=h.IXMAX_VAL,g=v+2,y=h.Q_MAX,b=h.Q_MAX2;h.LARGE_BITS;var w=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var x=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=x,this.sfBandIndex=[new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new t([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var k=s(y+b+1),S=s(y),C=s(g),T=s(g);function A(t,e){var n=p.ATHformula(e,t);return n-=w,n=Math.pow(10,n/10+t.ATHlower),n}function E(t){for(var e=t.internal_flags.ATH.l,n=t.internal_flags.ATH.psfb21,r=t.internal_flags.ATH.s,s=t.internal_flags.ATH.psfb12,a=t.internal_flags,o=t.out_samplerate,c=0;c<l.SBMAX_l;c++){var u=a.scalefac_band.l[c],h=a.scalefac_band.l[c+1];e[c]=i.MAX_VALUE;for(var d=u;d<h;d++){var f=d*o/1152,p=A(t,f);e[c]=Math.min(e[c],p)}}for(c=0;c<l.PSFB21;c++){u=a.scalefac_band.psfb21[c],h=a.scalefac_band.psfb21[c+1];n[c]=i.MAX_VALUE;for(d=u;d<h;d++){f=d*o/1152,p=A(t,f);n[c]=Math.min(n[c],p)}}for(c=0;c<l.SBMAX_s;c++){u=a.scalefac_band.s[c],h=a.scalefac_band.s[c+1];r[c]=i.MAX_VALUE;for(d=u;d<h;d++){f=d*o/384,p=A(t,f);r[c]=Math.min(r[c],p)}r[c]*=a.scalefac_band.s[c+1]-a.scalefac_band.s[c]}for(c=0;c<l.PSFB12;c++){u=a.scalefac_band.psfb12[c],h=a.scalefac_band.psfb12[c+1];s[c]=i.MAX_VALUE;for(d=u;d<h;d++){f=d*o/384,p=A(t,f);s[c]=Math.min(s[c],p)}s[c]*=a.scalefac_band.s[13]-a.scalefac_band.s[12]}if(t.noATH){for(c=0;c<l.SBMAX_l;c++)e[c]=1e-20;for(c=0;c<l.PSFB21;c++)n[c]=1e-20;for(c=0;c<l.SBMAX_s;c++)r[c]=1e-20;for(c=0;c<l.PSFB12;c++)s[c]=1e-20}a.ATH.floor=10*Math.log10(A(t,-1))}function M(t){this.s=t}this.adj43=T,this.iteration_init=function(t){var e,n=t.internal_flags,i=n.l3_side;if(0==n.iteration_init_init){for(n.iteration_init_init=1,i.main_data_begin=0,E(t),C[0]=0,e=1;e<g;e++)C[e]=Math.pow(e,4/3);for(e=0;e<g-1;e++)T[e]=e+1-Math.pow(.5*(C[e]+C[e+1]),.75);for(T[e]=.5,e=0;e<y;e++)S[e]=Math.pow(2,-.1875*(e-210));for(e=0;e<=y+b;e++)k[e]=Math.pow(2,.25*(e-210-b));var r,s,a,o;for(d.huffman_init(n),e=t.exp_nspsytune>>2&63,e>=32&&(e-=64),r=Math.pow(10,e/4/10),e=t.exp_nspsytune>>8&63,e>=32&&(e-=64),s=Math.pow(10,e/4/10),e=t.exp_nspsytune>>14&63,e>=32&&(e-=64),a=Math.pow(10,e/4/10),e=t.exp_nspsytune>>20&63,e>=32&&(e-=64),o=a*Math.pow(10,e/4/10),e=0;e<l.SBMAX_l;e++){c=e<=6?r:e<=13?s:e<=20?a:o,n.nsPsy.longfact[e]=c}for(e=0;e<l.SBMAX_s;e++){var c;c=e<=5?r:e<=10?s:e<=11?a:o,n.nsPsy.shortfact[e]=c}}},this.on_pe=function(t,e,n,i,r,s){var o,l,h=t.internal_flags,d=0,p=a(2),m=new c(d),_=f.ResvMaxBits(t,i,m,s);d=m.bits;var v=d+_;for(v>u.MAX_BITS_PER_GRANULE&&(v=u.MAX_BITS_PER_GRANULE),o=0,l=0;l<h.channels_out;++l)n[l]=Math.min(u.MAX_BITS_PER_CHANNEL,d/h.channels_out),p[l]=0|n[l]*e[r][l]/700-n[l],p[l]>3*i/4&&(p[l]=3*i/4),p[l]<0&&(p[l]=0),p[l]+n[l]>u.MAX_BITS_PER_CHANNEL&&(p[l]=Math.max(0,u.MAX_BITS_PER_CHANNEL-n[l])),o+=p[l];if(o>_)for(l=0;l<h.channels_out;++l)p[l]=_*p[l]/o;for(l=0;l<h.channels_out;++l)n[l]+=p[l],_-=p[l];for(o=0,l=0;l<h.channels_out;++l)o+=n[l];if(o>u.MAX_BITS_PER_GRANULE){for(l=0;l<h.channels_out;++l)n[l]*=u.MAX_BITS_PER_GRANULE,n[l]/=o,n[l]}return v},this.reduce_side=function(t,e,n,i){o(t[0]+t[1]<=u.MAX_BITS_PER_GRANULE);var r=.33*(.5-e)/.5;r<0&&(r=0),r>.5&&(r=.5);var s=0|.5*r*(t[0]+t[1]);s>u.MAX_BITS_PER_CHANNEL-t[0]&&(s=u.MAX_BITS_PER_CHANNEL-t[0]),s<0&&(s=0),t[1]>=125&&(t[1]-s>125?(t[0]<n&&(t[0]+=s),t[1]-=s):(t[0]+=t[1]-125,t[1]=125)),s=t[0]+t[1],s>i&&(t[0]=i*t[0]/s,t[1]=i*t[1]/s),o(t[0]<=u.MAX_BITS_PER_CHANNEL),o(t[1]<=u.MAX_BITS_PER_CHANNEL),o(t[0]+t[1]<=u.MAX_BITS_PER_GRANULE)},this.athAdjust=function(t,e,n){var i=90.30873362,s=94.82444863,a=r.FAST_LOG10_X(e,10),o=t*t,l=0;return a-=n,o>1e-20&&(l=1+r.FAST_LOG10_X(o,10/i)),l<0&&(l=0),a*=l,a+=n+i-s,Math.pow(10,.1*a)},this.calc_xmin=function(t,i,r,s){var a,o=0,c=t.internal_flags,u=0,h=0,d=c.ATH,f=r.xr,p=t.VBR==n.vbr_mtrh?1:0,m=c.masking_lower;for((t.VBR==n.vbr_mtrh||t.VBR==n.vbr_mt)&&(m=1),a=0;a<r.psy_lmax;a++){C=t.VBR==n.vbr_rh||t.VBR==n.vbr_mtrh?athAdjust(d.adjust,d.l[a],d.floor):d.adjust*d.l[a],x=r.width[a],T=C/x,A=_,M=x>>1,E=0;do{O=f[u]*f[u],E+=O,A+=O<T?O:T,u++,I=f[u]*f[u],E+=I,A+=I<T?I:T,u++}while(--M>0);if(E>C&&h++,a==l.SBPSY_l){var v=C*c.nsPsy.longfact[a];A<v&&(A=v)}if(0!=p&&(C=A),!t.ATHonly){var g=i.en.l[a];if(g>0)v=E*i.thm.l[a]*m/g,0!=p&&(v*=c.nsPsy.longfact[a]),C<v&&(C=v)}s[o++]=0!=p?C:C*c.nsPsy.longfact[a]}var y=575;if(r.block_type!=l.SHORT_TYPE)for(var b=576;0!=b--&&e.EQ(f[b],0);)y=b;r.max_nonzero_coeff=y;for(var w=r.sfb_smin;a<r.psymax;w++,a+=3){var x,k,S;for(S=t.VBR==n.vbr_rh||t.VBR==n.vbr_mtrh?athAdjust(d.adjust,d.s[w],d.floor):d.adjust*d.s[w],x=r.width[a],k=0;k<3;k++){var C,T,A,E=0,M=x>>1;T=S/x,A=_;do{var O,I;O=f[u]*f[u],E+=O,A+=O<T?O:T,u++,I=f[u]*f[u],E+=I,A+=I<T?I:T,u++}while(--M>0);if(E>S&&h++,w==l.SBPSY_s){v=S*c.nsPsy.shortfact[w];A<v&&(A=v)}if(C=0!=p?A:S,!t.ATHonly&&!t.ATHshort){g=i.en.s[w][k];if(g>0)v=E*i.thm.s[w][k]*m/g,0!=p&&(v*=c.nsPsy.shortfact[w]),C<v&&(C=v)}s[o++]=0!=p?C:C*c.nsPsy.shortfact[w]}t.useTemporal&&(s[o-3]>s[o-3+1]&&(s[o-3+1]+=(s[o-3]-s[o-3+1])*c.decay),s[o-3+1]>s[o-3+2]&&(s[o-3+2]+=(s[o-3+1]-s[o-3+2])*c.decay))}return h},this.calc_noise_core=function(t,e,n,i){var r=0,a=e.s,o=t.l3_enc;if(a>t.count1)for(;0!=n--;){c=t.xr[a],a++,r+=c*c,c=t.xr[a],a++,r+=c*c}else if(a>t.big_values){var l=s(2);for(l[0]=0,l[1]=i;0!=n--;){c=Math.abs(t.xr[a])-l[o[a]],a++,r+=c*c,c=Math.abs(t.xr[a])-l[o[a]],a++,r+=c*c}}else for(;0!=n--;){var c;c=Math.abs(t.xr[a])-C[o[a]]*i,a++,r+=c*c,c=Math.abs(t.xr[a])-C[o[a]]*i,a++,r+=c*c}return e.s=a,r},this.calc_noise=function(t,e,n,i,s){var a,o,l=0,c=0,u=0,h=0,d=0,f=-20,p=0,_=t.scalefac,v=0;for(i.over_SSD=0,a=0;a<t.psymax;a++){var g,y=t.global_gain-(_[v++]+(0!=t.preflag?x[a]:0)<<t.scalefac_scale+1)-8*t.subblock_gain[t.window[a]],b=0;if(null!=s&&s.step[a]==y)b=s.noise[a],p+=t.width[a],n[l++]=b/e[c++],b=s.noise_log[a];else{var w,k=m(y);if(o=t.width[a]>>1,p+t.width[a]>t.max_nonzero_coeff)w=t.max_nonzero_coeff-p+1,o=w>0?w>>1:0;var S=new M(p);b=this.calc_noise_core(t,S,o,k),p=S.s,null!=s&&(s.step[a]=y,s.noise[a]=b),b=n[l++]=b/e[c++],b=r.FAST_LOG10(Math.max(b,1e-20)),null!=s&&(s.noise_log[a]=b)}if(null!=s&&(s.global_gain=t.global_gain),d+=b,b>0)g=Math.max(0|10*b+.5,1),i.over_SSD+=g*g,u++,h+=b;f=Math.max(f,b)}return i.over_count=u,i.tot_noise=d,i.over_noise=h,i.max_noise=f,u},this.set_pinfo=function(t,e,n,i,r){var a,c,u,h,d,f=t.internal_flags,p=0==e.scalefac_scale?.5:1,m=e.scalefac,_=s(L3Side.SFBMAX),v=s(L3Side.SFBMAX),g=new CalcNoiseResult;calc_xmin(t,n,e,_),calc_noise(e,_,v,g,null);var y=0;for(c=e.sfb_lmax,e.block_type!=l.SHORT_TYPE&&0==e.mixed_block_flag&&(c=22),a=0;a<c;a++){var b=f.scalefac_band.l[a],w=f.scalefac_band.l[a+1],k=w-b;for(h=0;y<w;y++)h+=e.xr[y]*e.xr[y];h/=k,d=1e15,f.pinfo.en[i][r][a]=d*h,f.pinfo.xfsf[i][r][a]=d*_[a]*v[a]/k,n.en.l[a]>0&&!t.ATHonly?h/=n.en.l[a]:h=0,f.pinfo.thr[i][r][a]=d*Math.max(h*n.thm.l[a],f.ATH.l[a]),f.pinfo.LAMEsfb[i][r][a]=0,0!=e.preflag&&a>=11&&(f.pinfo.LAMEsfb[i][r][a]=-p*x[a]),a<l.SBPSY_l&&(o(m[a]>=0),f.pinfo.LAMEsfb[i][r][a]-=p*m[a])}if(e.block_type==l.SHORT_TYPE)for(c=a,a=e.sfb_smin;a<l.SBMAX_s;a++){b=f.scalefac_band.s[a],w=f.scalefac_band.s[a+1],k=w-b;for(var S=0;S<3;S++){for(h=0,u=b;u<w;u++)h+=e.xr[y]*e.xr[y],y++;h=Math.max(h/k,1e-20),d=1e15,f.pinfo.en_s[i][r][3*a+S]=d*h,f.pinfo.xfsf_s[i][r][3*a+S]=d*_[c]*v[c]/k,n.en.s[a][S]>0?h/=n.en.s[a][S]:h=0,(t.ATHonly||t.ATHshort)&&(h=0),f.pinfo.thr_s[i][r][3*a+S]=d*Math.max(h*n.thm.s[a][S],f.ATH.s[a]),f.pinfo.LAMEsfb_s[i][r][3*a+S]=-2*e.subblock_gain[S],a<l.SBPSY_s&&(f.pinfo.LAMEsfb_s[i][r][3*a+S]-=p*m[c]),c++}}f.pinfo.LAMEqss[i][r]=e.global_gain,f.pinfo.LAMEmainbits[i][r]=e.part2_3_length+e.part2_length,f.pinfo.LAMEsfbits[i][r]=e.part2_length,f.pinfo.over[i][r]=g.over_count,f.pinfo.max_noise[i][r]=10*g.max_noise,f.pinfo.over_noise[i][r]=10*g.over_noise,f.pinfo.tot_noise[i][r]=10*g.tot_noise,f.pinfo.over_SSD[i][r]=g.over_SSD}}return h.Q_MAX=257,h.Q_MAX2=116,h.LARGE_BITS=1e5,h.IXMAX_VAL=8206,Ce=h,Ce}function Ne(){if(Ee)return Ae;Ee=1;var t=T,e=t.System,n=t.Arrays,i=t.new_int,r=t.assert,s=D(),a=Re,o=dt,l=De();function c(){var t=null;function u(t){this.bits=0|t}this.qupvt=null,this.setModules=function(e){this.qupvt=e,t=e};var h=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function d(t,e,n,i,r,s){var a=.5946/e;for(t>>=1;0!=t--;)r[s++]=a>n[i++]?0:1,r[s++]=a>n[i++]?0:1}function f(e,n,i,r,s,a){e>>=1;var o=e%2;for(e>>=1;0!=e--;){var l,c,u,h,d,f,p,m;l=i[r++]*n,c=i[r++]*n,d=0|l,u=i[r++]*n,f=0|c,h=i[r++]*n,p=0|u,l+=t.adj43[d],m=0|h,c+=t.adj43[f],s[a++]=0|l,u+=t.adj43[p],s[a++]=0|c,h+=t.adj43[m],s[a++]=0|u,s[a++]=0|h}0!=o&&(l=i[r++]*n,c=i[r++]*n,d=0|l,f=0|c,l+=t.adj43[d],c+=t.adj43[f],s[a++]=0|l,s[a++]=0|c)}function p(e,i,a,o,l){var c,u,h,p=0,m=0,_=0,v=0,g=i,y=0,b=g,w=0,x=e,k=0;for(h=null!=l&&o.global_gain==l.global_gain,u=o.block_type==s.SHORT_TYPE?38:21,c=0;c<=u;c++){var S=-1;if((h||o.block_type==s.NORM_TYPE)&&(S=o.global_gain-(o.scalefac[c]+(0!=o.preflag?t.pretab[c]:0)<<o.scalefac_scale+1)-8*o.subblock_gain[o.window[c]]),r(o.width[c]>=0),h&&l.step[c]==S)0!=m&&(f(m,a,x,k,b,w),m=0),0!=_&&(d(_,a,x,k,b,w),_=0);else{var C,T=o.width[c];if(p+o.width[c]>o.max_nonzero_coeff)C=o.max_nonzero_coeff-p+1,n.fill(i,o.max_nonzero_coeff,576,0),T=C,T<0&&(T=0),c=u+1;if(0==m&&0==_&&(b=g,w=y,x=e,k=v),null!=l&&l.sfb_count1>0&&c>=l.sfb_count1&&l.step[c]>0&&S>=l.step[c]?(0!=m&&(f(m,a,x,k,b,w),m=0,b=g,w=y,x=e,k=v),_+=T):(0!=_&&(d(_,a,x,k,b,w),_=0,b=g,w=y,x=e,k=v),m+=T),T<=0){0!=_&&(d(_,a,x,k,b,w),_=0),0!=m&&(f(m,a,x,k,b,w),m=0);break}}c<=u&&(y+=o.width[c],v+=o.width[c],p+=o.width[c])}0!=m&&(f(m,a,x,k,b,w),m=0),0!=_&&(d(_,a,x,k,b,w),_=0)}function m(t,e,n){var i=0,r=0;do{var s=t[e++],a=t[e++];i<s&&(i=s),r<a&&(r=a)}while(e<n);return i<r&&(i=r),i}function _(t,e,n,i,r,s){var o,l=65536*a.ht[i].xlen+a.ht[r].xlen,c=0;do{var u=t[e++],h=t[e++];0!=u&&(u>14&&(u=15,c+=l),u*=16),0!=h&&(h>14&&(h=15,c+=l),u+=h),c+=a.largetbl[u]}while(e<n);return o=65535&c,c>>=16,c>o&&(c=o,i=r),s.bits+=c,i}function v(t,e,n,i){var r=0,s=a.ht[1].hlen;do{var o=2*t[e+0]+t[e+1];e+=2,r+=s[o]}while(e<n);return i.bits+=r,1}function g(t,e,n,i,r){var s,o,l=0,c=a.ht[i].xlen;o=2==i?a.table23:a.table56;do{var u=t[e+0]*c+t[e+1];e+=2,l+=o[u]}while(e<n);return s=65535&l,l>>=16,l>s&&(l=s,i++),r.bits+=l,i}function y(t,e,n,i,r){var s=0,o=0,l=0,c=a.ht[i].xlen,u=a.ht[i].hlen,h=a.ht[i+1].hlen,d=a.ht[i+2].hlen;do{var f=t[e+0]*c+t[e+1];e+=2,s+=u[f],o+=h[f],l+=d[f]}while(e<n);var p=i;return s>o&&(s=o,p++),s>l&&(s=l,p=i+2),r.bits+=s,p}var b=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function w(t,e,n,i){var r=m(t,e,n);switch(r){case 0:return r;case 1:return v(t,e,n,i);case 2:case 3:return g(t,e,n,b[r-1],i);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return y(t,e,n,b[r-1],i);default:if(r>l.IXMAX_VAL)return i.bits=l.LARGE_BITS,-1;var s,o;for(r-=15,s=24;s<32&&!(a.ht[s].linmax>=r);s++);for(o=s-8;o<24&&!(a.ht[o].linmax>=r);o++);return _(t,e,n,o,s,i)}}function x(t,e,n,i,r,s,a){for(var o=e.big_values,c=0;c<=22;c++)i[c]=l.LARGE_BITS;for(c=0;c<16;c++){var h=t.scalefac_band.l[c+1];if(h>=o)break;var d=0,f=new u(d),p=w(n,0,h,f);d=f.bits;for(var m=0;m<8;m++){var _=t.scalefac_band.l[c+m+2];if(_>=o)break;var v=d;f=new u(v);var g=w(n,h,_,f);v=f.bits,i[c+m]>v&&(i[c+m]=v,r[c+m]=c,s[c+m]=p,a[c+m]=g)}}}function k(t,e,n,i,r,a,o,l){for(var c=e.big_values,h=2;h<s.SBMAX_l+1;h++){var d=t.scalefac_band.l[h];if(d>=c)break;var f=r[h-2]+e.count1bits;if(n.part2_3_length<=f)break;var p=new u(f),m=w(i,d,c,p);f=p.bits,!(n.part2_3_length<=f)&&(n.assign(e),n.part2_3_length=f,n.region0_count=a[h-2],n.region1_count=h-2-a[h-2],n.table_select[0]=o[h-2],n.table_select[1]=l[h-2],n.table_select[2]=m)}}this.noquant_count_bits=function(t,e,n){var i=e.l3_enc,o=Math.min(576,e.max_nonzero_coeff+2>>1<<1);for(null!=n&&(n.sfb_count1=0);o>1&&!(i[o-1]|i[o-2]);o-=2);e.count1=o;for(var l=0,c=0;o>3;o-=4){var h;if((2147483647&(i[o-1]|i[o-2]|i[o-3]|i[o-4]))>1)break;h=2*(2*(2*i[o-4]+i[o-3])+i[o-2])+i[o-1],l+=a.t32l[h],c+=a.t33l[h]}var d=l;if(e.count1table_select=0,l>c&&(d=c,e.count1table_select=1),e.count1bits=d,e.big_values=o,0==o)return d;if(e.block_type==s.SHORT_TYPE)l=3*t.scalefac_band.s[3],l>e.big_values&&(l=e.big_values),c=e.big_values;else if(e.block_type==s.NORM_TYPE){if(l=e.region0_count=t.bv_scf[o-2],c=e.region1_count=t.bv_scf[o-1],r(l+c+2<s.SBPSY_l),c=t.scalefac_band.l[l+c+2],l=t.scalefac_band.l[l+1],c<o){var f=new u(d);e.table_select[2]=w(i,c,o,f),d=f.bits}}else e.region0_count=7,e.region1_count=s.SBMAX_l-1-7-1,l=t.scalefac_band.l[8],c=o,l>c&&(l=c);if(l=Math.min(l,o),c=Math.min(c,o),0<l){f=new u(d);e.table_select[0]=w(i,0,l,f),d=f.bits}if(l<c){f=new u(d);e.table_select[1]=w(i,l,c,f),d=f.bits}if(2==t.use_best_huffman&&(e.part2_3_length=d,best_huffman_divide(t,e),d=e.part2_3_length),null!=n&&e.block_type==s.NORM_TYPE){for(var p=0;t.scalefac_band.l[p]<e.big_values;)p++;n.sfb_count1=p}return d},this.count_bits=function(e,n,i,r){var s=i.l3_enc,a=l.IXMAX_VAL/t.IPOW20(i.global_gain);if(i.xrpow_max>a)return l.LARGE_BITS;if(p(n,s,t.IPOW20(i.global_gain),i,r),2&e.substep_shaping)for(var o=0,c=i.global_gain+i.scalefac_scale,u=.634521682242439/t.IPOW20(c),h=0;h<i.sfbmax;h++){var d,f=i.width[h];if(0==e.pseudohalf[h])o+=f;else for(d=o,o+=f;d<o;++d)s[d]=n[d]>=u?s[d]:0}return this.noquant_count_bits(e,i,r)},this.best_huffman_divide=function(t,e){var n=new o,r=e.l3_enc,l=i(23),c=i(23),h=i(23),d=i(23);if(e.block_type!=s.SHORT_TYPE||1!=t.mode_gr){n.assign(e),e.block_type==s.NORM_TYPE&&(x(t,e,r,l,c,h,d),k(t,n,e,r,l,c,h,d));var f=n.big_values;if(!(0==f||(r[f-2]|r[f-1])>1)&&(f=e.count1+2,!(f>576))){n.assign(e),n.count1=f;for(var p=0,m=0;f>n.big_values;f-=4){var _=2*(2*(2*r[f-4]+r[f-3])+r[f-2])+r[f-1];p+=a.t32l[_],m+=a.t33l[_]}if(n.big_values=f,n.count1table_select=0,p>m&&(p=m,n.count1table_select=1),n.count1bits=p,n.block_type==s.NORM_TYPE)k(t,n,e,r,l,c,h,d);else{if(n.part2_3_length=p,p=t.scalefac_band.l[8],p>f&&(p=f),p>0){var v=new u(n.part2_3_length);n.table_select[0]=w(r,0,p,v),n.part2_3_length=v.bits}if(f>p){v=new u(n.part2_3_length);n.table_select[1]=w(r,p,f,v),n.part2_3_length=v.bits}e.part2_3_length>n.part2_3_length&&e.assign(n)}}}};var S=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],C=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],T=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],A=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];function E(t,e){for(var n,i=e.tt[1][t],r=e.tt[0][t],o=0;o<a.scfsi_band.length-1;o++){for(n=a.scfsi_band[o];n<a.scfsi_band[o+1]&&!(r.scalefac[n]!=i.scalefac[n]&&i.scalefac[n]>=0);n++);if(n==a.scfsi_band[o+1]){for(n=a.scfsi_band[o];n<a.scfsi_band[o+1];n++)i.scalefac[n]=-1;e.scfsi[t][o]=1}}var l=0,c=0;for(n=0;n<11;n++)-1!=i.scalefac[n]&&(c++,l<i.scalefac[n]&&(l=i.scalefac[n]));for(var u=0,h=0;n<s.SBPSY_l;n++)-1!=i.scalefac[n]&&(h++,u<i.scalefac[n]&&(u=i.scalefac[n]));for(o=0;o<16;o++)if(l<S[o]&&u<C[o]){var d=T[o]*c+A[o]*h;i.part2_length>d&&(i.part2_length=d,i.scalefac_compress=o)}}function M(t,e){for(var n=0;n<e;++n)if(t[n]<0)return!1;return!0}c.slen1_tab=T,c.slen2_tab=A,this.best_scalefac_store=function(e,n,i,r){var a,o,l,c,u=r.tt[n][i],h=0;for(l=0,a=0;a<u.sfbmax;a++){var d=u.width[a];for(l+=d,c=-d;c<0&&0==u.l3_enc[c+l];c++);0==c&&(u.scalefac[a]=h=-2)}if(0==u.scalefac_scale&&0==u.preflag){var f=0;for(a=0;a<u.sfbmax;a++)u.scalefac[a]>0&&(f|=u.scalefac[a]);if(!(1&f)&&0!=f){for(a=0;a<u.sfbmax;a++)u.scalefac[a]>0&&(u.scalefac[a]>>=1);u.scalefac_scale=h=1}}if(0==u.preflag&&u.block_type!=s.SHORT_TYPE&&2==e.mode_gr){for(a=11;a<s.SBPSY_l&&!(u.scalefac[a]<t.pretab[a]&&-2!=u.scalefac[a]);a++);if(a==s.SBPSY_l){for(a=11;a<s.SBPSY_l;a++)u.scalefac[a]>0&&(u.scalefac[a]-=t.pretab[a]);u.preflag=h=1}}for(o=0;o<4;o++)r.scfsi[i][o]=0;for(2==e.mode_gr&&1==n&&r.tt[0][i].block_type!=s.SHORT_TYPE&&r.tt[1][i].block_type!=s.SHORT_TYPE&&(E(i,r),h=0),a=0;a<u.sfbmax;a++)-2==u.scalefac[a]&&(u.scalefac[a]=0);0!=h&&(2==e.mode_gr?this.scale_bitcount(u):this.scale_bitcount_lsf(e,u))};var O=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],I=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],P=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(e){var n,i,a,o=0,c=0,u=e.scalefac;if(r(M(u,e.sfbmax)),e.block_type==s.SHORT_TYPE)a=O,0!=e.mixed_block_flag&&(a=I);else if(a=P,0==e.preflag){for(i=11;i<s.SBPSY_l&&!(u[i]<t.pretab[i]);i++);if(i==s.SBPSY_l)for(e.preflag=1,i=11;i<s.SBPSY_l;i++)u[i]-=t.pretab[i]}for(i=0;i<e.sfbdivide;i++)o<u[i]&&(o=u[i]);for(;i<e.sfbmax;i++)c<u[i]&&(c=u[i]);for(e.part2_length=l.LARGE_BITS,n=0;n<16;n++)o<S[n]&&c<C[n]&&e.part2_length>a[n]&&(e.part2_length=a[n],e.scalefac_compress=n);return e.part2_length==l.LARGE_BITS};var R=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(n,a){var o,l,c,u,h,d,f,p,m=i(4),_=a.scalefac;for(o=0!=a.preflag?2:0,f=0;f<4;f++)m[f]=0;if(a.block_type==s.SHORT_TYPE){l=1;var v=t.nr_of_sfb_block[o][l];for(p=0,c=0;c<4;c++)for(u=v[c]/3,f=0;f<u;f++,p++)for(h=0;h<3;h++)_[3*p+h]>m[c]&&(m[c]=_[3*p+h])}else{l=0;v=t.nr_of_sfb_block[o][l];for(p=0,c=0;c<4;c++)for(u=v[c],f=0;f<u;f++,p++)_[p]>m[c]&&(m[c]=_[p])}for(d=!1,c=0;c<4;c++)m[c]>R[o][c]&&(d=!0);if(!d){var g,y,b,w;for(a.sfb_partition_table=t.nr_of_sfb_block[o][l],c=0;c<4;c++)a.slen[c]=D[m[c]];switch(g=a.slen[0],y=a.slen[1],b=a.slen[2],w=a.slen[3],o){case 0:a.scalefac_compress=(5*g+y<<4)+(b<<2)+w;break;case 1:a.scalefac_compress=400+(5*g+y<<2)+b;break;case 2:a.scalefac_compress=500+3*g+y;break;default:e.err.printf("intensity stereo not implemented yet\n");break}}if(!d)for(r(null!=a.sfb_partition_table),a.part2_length=0,c=0;c<4;c++)a.part2_length+=a.slen[c]*a.sfb_partition_table[c];return d};var D=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(t){for(var e=2;e<=576;e+=2){for(var n,i=0;t.scalefac_band.l[++i]<e;);for(n=h[i][0];t.scalefac_band.l[n+1]>e;)n--;for(n<0&&(n=h[i][0]),t.bv_scf[e-2]=n,n=h[i][1];t.scalefac_band.l[n+t.bv_scf[e-2]+2]>e;)n--;n<0&&(n=h[i][1]),t.bv_scf[e-1]=n}}}return Ae=c,Ae}function Le(){if(Oe)return Me;Oe=1;var t=T,e=t.System,n=t.Arrays,i=t.new_byte,r=t.new_float_n,s=t.new_int,a=t.assert,o=Ne(),l=Re,c=D(),u=Yt;function h(){var t=Be(),h=this,d=32773,f=null,p=null,m=null,_=null;this.setModules=function(t,e,n,i){f=t,p=e,m=n,_=i};var v=null,g=0,y=0,b=0;function w(t){e.arraycopy(t.header[t.w_ptr].buf,0,v,y,t.sideinfo_len),y+=t.sideinfo_len,g+=8*t.sideinfo_len,t.w_ptr=t.w_ptr+1&u.MAX_HEADER_BUF-1}function x(e,n,i){for(;i>0;){var r;0==b&&(b=8,y++,a(y<t.LAME_MAXMP3BUFFER),a(e.header[e.w_ptr].write_timing>=g),e.header[e.w_ptr].write_timing==g&&w(e),v[y]=0),r=Math.min(i,b),i-=r,b-=r,v[y]|=n>>i<<b,g+=r}}function k(e,n,i){for(;i>0;){var r;0==b&&(b=8,y++,a(y<t.LAME_MAXMP3BUFFER),v[y]=0),r=Math.min(i,b),i-=r,b-=r,v[y]|=n>>i<<b,g+=r}}function S(t,e){var n,i=t.internal_flags;if(e>=8&&(x(i,76,8),e-=8),e>=8&&(x(i,65,8),e-=8),e>=8&&(x(i,77,8),e-=8),e>=8&&(x(i,69,8),e-=8),e>=32){var r=m.getLameShortVersion();if(e>=32)for(n=0;n<r.length&&e>=8;++n)e-=8,x(i,r.charAt(n),8)}for(;e>=1;e-=1)x(i,i.ancillary_flag,1),i.ancillary_flag^=t.disable_reservoir?0:1}function C(t,e,n){for(var i=t.header[t.h_ptr].ptr;n>0;){var r=Math.min(n,8-(7&i));n-=r,t.header[t.h_ptr].buf[i>>3]|=e>>n<<8-(7&i)-r,i+=r}t.header[t.h_ptr].ptr=i}function T(t,e){t<<=8;for(var n=0;n<8;n++)t<<=1,e<<=1,65536&(e^t)&&(e^=d);return e}function A(t,i){var r,s,o,l=t.internal_flags;if(r=l.l3_side,l.header[l.h_ptr].ptr=0,n.fill(l.header[l.h_ptr].buf,0,l.sideinfo_len,0),t.out_samplerate<16e3?C(l,4094,12):C(l,4095,12),C(l,t.version,1),C(l,1,2),C(l,t.error_protection?0:1,1),C(l,l.bitrate_index,4),C(l,l.samplerate_index,2),C(l,l.padding,1),C(l,t.extension,1),C(l,t.mode.ordinal(),2),C(l,l.mode_ext,2),C(l,t.copyright,1),C(l,t.original,1),C(l,t.emphasis,2),t.error_protection&&C(l,0,16),1==t.version){for(a(r.main_data_begin>=0),C(l,r.main_data_begin,9),2==l.channels_out?C(l,r.private_bits,3):C(l,r.private_bits,5),o=0;o<l.channels_out;o++){var h;for(h=0;h<4;h++)C(l,r.scfsi[o][h],1)}for(s=0;s<2;s++)for(o=0;o<l.channels_out;o++){var d=r.tt[s][o];C(l,d.part2_3_length+d.part2_length,12),C(l,d.big_values/2,9),C(l,d.global_gain,8),C(l,d.scalefac_compress,4),d.block_type!=c.NORM_TYPE?(C(l,1,1),C(l,d.block_type,2),C(l,d.mixed_block_flag,1),14==d.table_select[0]&&(d.table_select[0]=16),C(l,d.table_select[0],5),14==d.table_select[1]&&(d.table_select[1]=16),C(l,d.table_select[1],5),C(l,d.subblock_gain[0],3),C(l,d.subblock_gain[1],3),C(l,d.subblock_gain[2],3)):(C(l,0,1),14==d.table_select[0]&&(d.table_select[0]=16),C(l,d.table_select[0],5),14==d.table_select[1]&&(d.table_select[1]=16),C(l,d.table_select[1],5),14==d.table_select[2]&&(d.table_select[2]=16),C(l,d.table_select[2],5),a(0<=d.region0_count&&d.region0_count<16),a(0<=d.region1_count&&d.region1_count<8),C(l,d.region0_count,4),C(l,d.region1_count,3)),C(l,d.preflag,1),C(l,d.scalefac_scale,1),C(l,d.count1table_select,1)}}else for(a(r.main_data_begin>=0),C(l,r.main_data_begin,8),C(l,r.private_bits,l.channels_out),s=0,o=0;o<l.channels_out;o++){d=r.tt[s][o];C(l,d.part2_3_length+d.part2_length,12),C(l,d.big_values/2,9),C(l,d.global_gain,8),C(l,d.scalefac_compress,9),d.block_type!=c.NORM_TYPE?(C(l,1,1),C(l,d.block_type,2),C(l,d.mixed_block_flag,1),14==d.table_select[0]&&(d.table_select[0]=16),C(l,d.table_select[0],5),14==d.table_select[1]&&(d.table_select[1]=16),C(l,d.table_select[1],5),C(l,d.subblock_gain[0],3),C(l,d.subblock_gain[1],3),C(l,d.subblock_gain[2],3)):(C(l,0,1),14==d.table_select[0]&&(d.table_select[0]=16),C(l,d.table_select[0],5),14==d.table_select[1]&&(d.table_select[1]=16),C(l,d.table_select[1],5),14==d.table_select[2]&&(d.table_select[2]=16),C(l,d.table_select[2],5),a(0<=d.region0_count&&d.region0_count<16),a(0<=d.region1_count&&d.region1_count<8),C(l,d.region0_count,4),C(l,d.region1_count,3)),C(l,d.scalefac_scale,1),C(l,d.count1table_select,1)}t.error_protection&&CRC_writeheader(l,l.header[l.h_ptr].buf);var f=l.h_ptr;a(l.header[f].ptr==8*l.sideinfo_len),l.h_ptr=f+1&u.MAX_HEADER_BUF-1,l.header[l.h_ptr].write_timing=l.header[f].write_timing+i,l.h_ptr==l.w_ptr&&e.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}function E(t,e){var n,i=l.ht[e.count1table_select+32],r=0,s=e.big_values,o=e.big_values;for(a(e.count1table_select<2),n=(e.count1-e.big_values)/4;n>0;--n){var c,u=0,h=0;c=e.l3_enc[s+0],0!=c&&(h+=8,e.xr[o+0]<0&&u++),c=e.l3_enc[s+1],0!=c&&(h+=4,u*=2,e.xr[o+1]<0&&u++),c=e.l3_enc[s+2],0!=c&&(h+=2,u*=2,e.xr[o+2]<0&&u++),c=e.l3_enc[s+3],0!=c&&(h++,u*=2,e.xr[o+3]<0&&u++),s+=4,o+=4,x(t,u+i.table[h],i.hlen[h]),r+=i.hlen[h]}return r}function M(t,e,n,i,r){var s=l.ht[e],o=0;if(0==e)return o;for(var c=n;c<i;c+=2){var u=0,h=0,d=s.xlen,f=s.xlen,p=0,m=r.l3_enc[c],_=r.l3_enc[c+1];if(0!=m&&(r.xr[c]<0&&p++,u--),e>15){if(m>14){var v=m-15;a(v<=s.linmax),p|=v<<1,h=d,m=15}if(_>14){var g=_-15;a(g<=s.linmax),p<<=d,p|=g,h+=d,_=15}f=16}0!=_&&(p<<=1,r.xr[c+1]<0&&p++,u--),m=m*f+_,h-=u,u+=s.hlen[m],x(t,s.table[m],u),x(t,p,h),o+=u+h}return o}function O(t,e){var n=3*t.scalefac_band.s[3];n>e.big_values&&(n=e.big_values);var i=M(t,e.table_select[0],0,n,e);return i+=M(t,e.table_select[1],n,e.big_values,e),i}function I(t,e){var n,i,r,s;n=e.big_values;var o=e.region0_count+1;return a(o<t.scalefac_band.l.length),r=t.scalefac_band.l[o],o+=e.region1_count+1,a(o<t.scalefac_band.l.length),s=t.scalefac_band.l[o],r>n&&(r=n),s>n&&(s=n),i=M(t,e.table_select[0],0,r,e),i+=M(t,e.table_select[1],r,s,e),i+=M(t,e.table_select[2],s,n,e),i}function P(t){var e,n,i,r,s=0,l=t.internal_flags,u=l.l3_side;if(1==t.version)for(e=0;e<2;e++)for(n=0;n<l.channels_out;n++){var h=u.tt[e][n],d=o.slen1_tab[h.scalefac_compress],f=o.slen2_tab[h.scalefac_compress];for(r=0,i=0;i<h.sfbdivide;i++)-1!=h.scalefac[i]&&(x(l,h.scalefac[i],d),r+=d);for(;i<h.sfbmax;i++)-1!=h.scalefac[i]&&(x(l,h.scalefac[i],f),r+=f);a(r==h.part2_length),h.block_type==c.SHORT_TYPE?r+=O(l,h):r+=I(l,h),r+=E(l,h),a(r==h.part2_3_length+h.part2_length),s+=r}else for(e=0,n=0;n<l.channels_out;n++){h=u.tt[e][n];var p,m,_=0;if(a(null!=h.sfb_partition_table),r=0,i=0,m=0,h.block_type==c.SHORT_TYPE){for(;m<4;m++){var v=h.sfb_partition_table[m]/3,g=h.slen[m];for(p=0;p<v;p++,i++)x(l,Math.max(h.scalefac[3*i+0],0),g),x(l,Math.max(h.scalefac[3*i+1],0),g),x(l,Math.max(h.scalefac[3*i+2],0),g),_+=3*g}r+=O(l,h)}else{for(;m<4;m++){v=h.sfb_partition_table[m],g=h.slen[m];for(p=0;p<v;p++,i++)x(l,Math.max(h.scalefac[i],0),g),_+=g}r+=I(l,h)}r+=E(l,h),a(r==h.part2_3_length),a(_==h.part2_length),s+=_+r}return s}function R(){this.total=0}function D(t,n){var i,r,s,a,o,l=t.internal_flags;return o=l.w_ptr,a=l.h_ptr-1,-1==a&&(a=u.MAX_HEADER_BUF-1),i=l.header[a].write_timing-g,n.total=i,i>=0&&(r=1+a-o,a<o&&(r=1+a-o+u.MAX_HEADER_BUF),i-=8*r*l.sideinfo_len),s=h.getframebits(t),i+=s,n.total+=s,n.total%8!=0?n.total=1+n.total/8:n.total=n.total/8,n.total+=y+1,i<0&&e.err.println("strange error flushing buffer ... \n"),i}this.getframebits=function(t){var e,n=t.internal_flags;e=0!=n.bitrate_index?l.bitrate_table[t.version][n.bitrate_index]:t.brate;var i=0|72e3*(t.version+1)*e/t.out_samplerate+n.padding;return 8*i},this.CRC_writeheader=function(t,e){var n=65535;n=T(255&e[2],n),n=T(255&e[3],n);for(var i=6;i<t.sideinfo_len;i++)n=T(255&e[i],n);e[4]=byte(n>>8),e[5]=byte(255&n)},this.flush_bitstream=function(t){var e,n,i=t.internal_flags,r=i.h_ptr-1;if(-1==r&&(r=u.MAX_HEADER_BUF-1),e=i.l3_side,!((n=D(t,new R))<0)){if(S(t,n),a(i.header[r].write_timing+this.getframebits(t)==g),i.ResvSize=0,e.main_data_begin=0,i.findReplayGain){var s=f.GetTitleGain(i.rgdata);a(NEQ(s,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),i.RadioGain=0|Math.floor(10*s+.5)}i.findPeakSample&&(i.noclipGainChange=0|Math.ceil(20*Math.log10(i.PeakSample/32767)*10),i.noclipGainChange>0&&(EQ(t.scale,1)||EQ(t.scale,0))?i.noclipScale=Math.floor(32767/i.PeakSample*100)/100:i.noclipScale=-1)}},this.add_dummy_byte=function(t,e,n){for(var i,r=t.internal_flags;n-- >0;)for(k(r,e,8),i=0;i<u.MAX_HEADER_BUF;++i)r.header[i].write_timing+=8},this.format_bitstream=function(t){var n,i=t.internal_flags;n=i.l3_side;var r=this.getframebits(t);S(t,n.resvDrain_pre),A(t,r);var s=8*i.sideinfo_len;if(s+=P(t),S(t,n.resvDrain_post),s+=n.resvDrain_post,n.main_data_begin+=(r-s)/8,D(t,new R)!=i.ResvSize&&e.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*n.main_data_begin!=i.ResvSize&&(e.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*n.main_data_begin,i.ResvSize,n.resvDrain_post,n.resvDrain_pre,8*i.sideinfo_len,s-n.resvDrain_post-8*i.sideinfo_len,s,s%8,r),e.err.println("This is a fatal error.  It has several possible causes:"),e.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),e.err.println(" 9%%  Your system is overclocked"),e.err.println(" 1%%  bug in LAME encoding library"),i.ResvSize=8*n.main_data_begin),g>1e9){var a;for(a=0;a<u.MAX_HEADER_BUF;++a)i.header[a].write_timing-=g;g=0}return 0},this.copy_buffer=function(t,n,i,a,o){var l=y+1;if(l<=0)return 0;if(0!=a&&l>a)return-1;if(e.arraycopy(v,0,n,i,l),y=-1,b=0,0!=o){var c=s(1);if(c[0]=t.nMusicCRC,_.updateMusicCRC(c,n,i,l),t.nMusicCRC=c[0],l>0&&(t.VBR_seek_table.nBytesWritten+=l),t.decode_on_the_fly)for(var u,h=r([2,1152]),d=l,m=-1;0!=m;)if(m=p.hip_decode1_unclipped(t.hip,n,i,d,h[0],h[1]),d=0,-1==m&&(m=0),m>0){if(t.findPeakSample){for(u=0;u<m;u++)h[0][u]>t.PeakSample?t.PeakSample=h[0][u]:-h[0][u]>t.PeakSample&&(t.PeakSample=-h[0][u]);if(t.channels_out>1)for(u=0;u<m;u++)h[1][u]>t.PeakSample?t.PeakSample=h[1][u]:-h[1][u]>t.PeakSample&&(t.PeakSample=-h[1][u])}if(t.findReplayGain&&f.AnalyzeSamples(t.rgdata,h[0],0,h[1],0,m,t.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}return l},this.init_bit_stream_w=function(e){v=i(t.LAME_MAXMP3BUFFER),e.h_ptr=e.w_ptr=0,e.header[e.h_ptr].write_timing=0,y=-1,b=0,g=0}}return h.EQ=function(t,e){return Math.abs(t)>Math.abs(e)?Math.abs(t-e)<=1e-6*Math.abs(t):Math.abs(t-e)<=1e-6*Math.abs(e)},h.NEQ=function(t,e){return!h.EQ(t,e)},Me=h,Me}function Be(){if(Pe)return Ie;Pe=1;var t=T,e=t.System,n=t.VbrMode,i=t.ShortBlock,r=t.new_float,s=t.new_int_n,a=t.new_short_n,o=t.assert,l=tt,c=it,u=Yt,h=Jt,d=ue,f=xe,p=Le(),m=Re,_=D();function v(){var t=R,g=this,y=131072;v.V9=410,v.V8=420,v.V7=430,v.V6=440,v.V5=450,v.V4=460,v.V3=470,v.V2=480,v.V1=490,v.V0=500,v.R3MIX=1e3,v.STANDARD=1001,v.EXTREME=1002,v.INSANE=1003,v.STANDARD_FAST=1004,v.EXTREME_FAST=1005,v.MEDIUM=1006,v.MEDIUM_FAST=1007;var b=16384+y;v.LAME_MAXMP3BUFFER=b;var w,x,k,S,C,T,A,E,M=new l;function O(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=r(_.SBMAX_l),this.bo_s_weight=r(_.SBMAX_s)}function I(){this.lowerlimit=0}function P(t,e){this.lowpass=e}this.enc=new _,this.setModules=function(t,e,n,i,r,s,a,o,l){w=t,x=e,k=n,S=i,C=r,T=s,A=o,E=l,this.enc.setModules(x,M,S,T)};var D=4294479419;function N(e){var i;return e.class_id=D,i=e.internal_flags=new u,e.mode=t.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,i.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=n.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,i.VBR_min_bitrate=1,i.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,i.resample_ratio=1,i.OldValue[0]=180,i.OldValue[1]=180,i.CurrentStep[0]=4,i.CurrentStep[1]=4,i.masking_lower=1,i.nsPsy.attackthre=-1,i.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,i.mf_samples_to_encode=_.ENCDELAY+_.POSTDELAY,e.encoder_padding=0,i.mf_size=_.ENCDELAY-_.MDCTDELAY,e.findReplayGain=!1,e.decode_on_the_fly=!1,i.decode_on_the_fly=!1,i.findReplayGain=!1,i.findPeakSample=!1,i.RadioGain=0,i.AudiophileGain=0,i.noclipGainChange=0,i.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0,0}function L(t){return t>1?0:t<=0?1:Math.cos(Math.PI/2*t)}function B(t,e){var n=44100;return e>=48e3?n=48e3:e>=44100?n=44100:e>=32e3?n=32e3:e>=24e3?n=24e3:e>=22050?n=22050:e>=16e3?n=16e3:e>=12e3?n=12e3:e>=11025?n=11025:e>=8e3&&(n=8e3),-1==t?n:(t<=15960&&(n=44100),t<=15250&&(n=32e3),t<=11220&&(n=24e3),t<=9970&&(n=22050),t<=7230&&(n=16e3),t<=5420&&(n=12e3),t<=4510&&(n=11025),t<=3970&&(n=8e3),e<n?e>44100?48e3:e>32e3?44100:e>24e3?32e3:e>22050?24e3:e>16e3?22050:e>12e3?16e3:e>11025?12e3:e>8e3?11025:8e3:n)}function V(t,e){switch(t){case 44100:return e.version=1,0;case 48e3:return e.version=1,1;case 32e3:return e.version=1,2;case 22050:return e.version=0,0;case 24e3:return e.version=0,1;case 16e3:return e.version=0,2;case 11025:return e.version=0,0;case 12e3:return e.version=0,1;case 8e3:return e.version=0,2;default:return e.version=0,-1}}function z(t,e,n){n<16e3&&(e=2);for(var i=m.bitrate_table[e][1],r=2;r<=14;r++)m.bitrate_table[e][r]>0&&Math.abs(m.bitrate_table[e][r]-t)<Math.abs(i-t)&&(i=m.bitrate_table[e][r]);return i}function j(t,e,n){n<16e3&&(e=2);for(var i=0;i<=14;i++)if(m.bitrate_table[e][i]>0&&m.bitrate_table[e][i]==t)return i;return-1}function F(t,e){var n=[new P(8,2e3),new P(16,3700),new P(24,3900),new P(32,5500),new P(40,7e3),new P(48,7500),new P(56,1e4),new P(64,11e3),new P(80,13500),new P(96,15100),new P(112,15600),new P(128,17e3),new P(160,17500),new P(192,18600),new P(224,19400),new P(256,19700),new P(320,20500)],i=g.nearestBitrateFullIndex(e);t.lowerlimit=n[i].lowpass}function q(t){var n=t.internal_flags,i=32,r=-1;if(n.lowpass1>0){for(var s=999,a=0;a<=31;a++){var o=a/31;o>=n.lowpass2&&(i=Math.min(i,a)),n.lowpass1<o&&o<n.lowpass2&&(s=Math.min(s,a))}n.lowpass1=999==s?(i-.75)/31:(s-.75)/31,n.lowpass2=i/31}if(n.highpass2>0&&n.highpass2<.75/31*.9&&(n.highpass1=0,n.highpass2=0,e.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),n.highpass2>0){var l=-1;for(a=0;a<=31;a++){o=a/31;o<=n.highpass1&&(r=Math.max(r,a)),n.highpass1<o&&o<n.highpass2&&(l=Math.max(l,a))}n.highpass1=r/31,n.highpass2=-1==l?(r+.75)/31:(l+.75)/31}for(a=0;a<32;a++){var c,u;o=a/31;c=n.highpass2>n.highpass1?L((n.highpass2-o)/(n.highpass2-n.highpass1+1e-20)):1,u=n.lowpass2>n.lowpass1?L((o-n.lowpass1)/(n.lowpass2-n.lowpass1+1e-20)):1,n.amp_filter[a]=c*u}}function U(t){var e=t.internal_flags;switch(t.quality){default:case 9:e.psymodel=0,e.noise_shaping=0,e.noise_shaping_amp=0,e.noise_shaping_stop=0,e.use_best_huffman=0,e.full_outer_loop=0;break;case 8:t.quality=7;case 7:e.psymodel=1,e.noise_shaping=0,e.noise_shaping_amp=0,e.noise_shaping_stop=0,e.use_best_huffman=0,e.full_outer_loop=0;break;case 6:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=0,e.full_outer_loop=0;break;case 5:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=0,e.full_outer_loop=0;break;case 4:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 3:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=1,e.noise_shaping_stop=1,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 2:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=1,e.noise_shaping_stop=1,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 1:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=2,e.noise_shaping_stop=1,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 0:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=2,e.noise_shaping_stop=1,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break}}function H(t){var e=t.internal_flags;t.frameNum=0,t.write_id3tag_automatic&&A.id3tag_write_v2(t),e.bitrate_stereoMode_Hist=s([16,5]),e.bitrate_blockType_Hist=s([16,6]),e.PeakSample=0,t.bWriteVbrTag&&T.InitVbrTag(t)}function W(t,e){(null==t.in_buffer_0||t.in_buffer_nsamples<e)&&(t.in_buffer_0=r(e),t.in_buffer_1=r(e),t.in_buffer_nsamples=e)}function X(t){var e=_.BLKSIZE+t.framesize-_.FFTOFFSET;return e=Math.max(e,512+t.framesize-32),e}function $(t,e,n,i,r,s,a){var l,c,h,d,f,m=t.internal_flags,v=0,g=[null,null],y=[null,null];if(m.Class_ID!=D)return-3;if(0==i)return 0;if(f=x.copy_buffer(m,r,s,a,0),f<0)return f;if(s+=f,v+=f,y[0]=e,y[1]=n,p.NEQ(t.scale,0)&&p.NEQ(t.scale,1))for(c=0;c<i;++c)y[0][c]*=t.scale,2==m.channels_out&&(y[1][c]*=t.scale);if(p.NEQ(t.scale_left,0)&&p.NEQ(t.scale_left,1))for(c=0;c<i;++c)y[0][c]*=t.scale_left;if(p.NEQ(t.scale_right,0)&&p.NEQ(t.scale_right,1))for(c=0;c<i;++c)y[1][c]*=t.scale_right;if(2==t.num_channels&&1==m.channels_out)for(c=0;c<i;++c)y[0][c]=.5*(y[0][c]+y[1][c]),y[1][c]=0;d=X(t),g[0]=m.mfbuf[0],g[1]=m.mfbuf[1];for(var b=0;i>0;){var k=[null,null],S=0,C=0;k[0]=y[0],k[1]=y[1];var T=new G;if(tt(t,g,k,b,i,T),S=T.n_in,C=T.n_out,m.findReplayGain&&!m.decode_on_the_fly&&w.AnalyzeSamples(m.rgdata,g[0],m.mf_size,g[1],m.mf_size,C,m.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(i-=S,b+=S,m.channels_out,m.mf_size+=C,o(m.mf_size<=u.MFSIZE),m.mf_samples_to_encode<1&&(m.mf_samples_to_encode=_.ENCDELAY+_.POSTDELAY),m.mf_samples_to_encode+=C,m.mf_size>=d){var A=a-v;if(0==a&&(A=0),l=Y(t,g[0],g[1],r,s,A),l<0)return l;for(s+=l,v+=l,m.mf_size-=t.framesize,m.mf_samples_to_encode-=t.framesize,h=0;h<m.channels_out;h++)for(c=0;c<m.mf_size;c++)g[h][c]=g[h][c+t.framesize]}}return v}function Y(t,e,n,i,r,s){var a=g.enc.lame_encode_mp3_frame(t,e,n,i,r,s);return t.frameNum++,a}function G(){this.n_in=0,this.n_out=0}function Z(){this.num_used=0}function K(t,e){return 0!=e?K(e,t%e):t}function Q(t,e,n){var i=Math.PI*e;t/=n,t<0&&(t=0),t>1&&(t=1);var r=t-.5,s=.42-.5*Math.cos(2*t*Math.PI)+.08*Math.cos(4*t*Math.PI);return Math.abs(r)<1e-9?i/Math.PI:s*Math.sin(n*i*r)/(Math.PI*n*r)}function J(t,e,n,i,s,a,l,c,h){var d,f,p=t.internal_flags,m=0,_=t.out_samplerate/K(t.out_samplerate,t.in_samplerate);_>u.BPC&&(_=u.BPC);var v=Math.abs(p.resample_ratio-Math.floor(.5+p.resample_ratio))<1e-4?1:0,g=1/p.resample_ratio;g>1&&(g=1);var y=31;y%2==0&&--y,y+=v;var b=y+1;if(0==p.fill_buffer_resample_init){for(p.inbuf_old[0]=r(b),p.inbuf_old[1]=r(b),d=0;d<=2*_;++d)p.blackfilt[d]=r(b);for(p.itime[0]=0,p.itime[1]=0,m=0;m<=2*_;m++){var w=0,x=(m-_)/(2*_);for(d=0;d<=y;d++)w+=p.blackfilt[m][d]=Q(d-x,g,y);for(d=0;d<=y;d++)p.blackfilt[m][d]/=w}p.fill_buffer_resample_init=1}var k=p.inbuf_old[h];for(f=0;f<i;f++){var S,C;if(S=f*p.resample_ratio,m=0|Math.floor(S-p.itime[h]),y+m-y/2>=l)break;x=S-p.itime[h]-(m+y%2*.5);C=0|Math.floor(2*x*_+_+.5);var T=0;for(d=0;d<=y;++d){var A,E=0|d+m-y/2;A=E<0?k[b+E]:s[a+E],T+=A*p.blackfilt[C][d]}e[n+f]=T}if(c.num_used=Math.min(l,y+m-y/2),p.itime[h]+=c.num_used-f*p.resample_ratio,c.num_used>=b)for(d=0;d<b;d++)k[d]=s[a+c.num_used+d-b];else{var M=b-c.num_used;for(d=0;d<M;++d)k[d]=k[d+c.num_used];for(m=0;d<b;++d,++m)k[d]=s[a+m];o(m==c.num_used)}return f}function tt(t,e,n,i,r,s){var a=t.internal_flags;if(a.resample_ratio<.9999||a.resample_ratio>1.0001)for(var o=0;o<a.channels_out;o++){var l=new Z;s.n_out=J(t,e[o],a.mf_size,t.framesize,n[o],i,r,l,o),s.n_in=l.num_used}else{s.n_out=Math.min(t.framesize,r),s.n_in=s.n_out;for(var c=0;c<s.n_out;++c)e[0][a.mf_size+c]=n[0][i+c],2==a.channels_out&&(e[1][a.mf_size+c]=n[1][i+c])}}this.lame_init=function(){var t=new c;return N(t),t.lame_allocated_gfp=1,t},this.nearestBitrateFullIndex=function(t){var e=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,i=0,r=0,s=0;s=e[16],r=16,i=e[16],n=16;for(var a=0;a<16;a++)if(Math.max(t,e[a+1])!=t){s=e[a+1],r=a+1,i=e[a],n=a;break}return s-t>t-i?n:r},this.lame_init_params=function(e){var r,s=e.internal_flags;if(s.Class_ID=0,null==s.ATH&&(s.ATH=new h),null==s.PSY&&(s.PSY=new O),null==s.rgdata&&(s.rgdata=new d),s.channels_in=e.num_channels,1==s.channels_in&&(e.mode=t.MONO),s.channels_out=e.mode==t.MONO?1:2,s.mode_ext=_.MPG_MD_MS_LR,e.mode==t.MONO&&(e.force_ms=!1),e.VBR==n.vbr_off&&128!=e.VBR_mean_bitrate_kbps&&0==e.brate&&(e.brate=e.VBR_mean_bitrate_kbps),e.VBR==n.vbr_off||e.VBR==n.vbr_mtrh||e.VBR==n.vbr_mt||(e.free_format=!1),e.VBR==n.vbr_off&&0==e.brate&&p.EQ(e.compression_ratio,0)&&(e.compression_ratio=11.025),e.VBR==n.vbr_off&&e.compression_ratio>0&&(0==e.out_samplerate&&(e.out_samplerate=map2MP3Frequency(int(.97*e.in_samplerate))),e.brate=0|16*e.out_samplerate*s.channels_out/(1e3*e.compression_ratio),s.samplerate_index=V(e.out_samplerate,e),e.free_format||(e.brate=z(e.brate,e.version,e.out_samplerate))),0!=e.out_samplerate&&(e.out_samplerate<16e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,64)):e.out_samplerate<32e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,160)):(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,32),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320))),0==e.lowpassfreq){var a=16e3;switch(e.VBR){case n.vbr_off:var c=new I;F(c,e.brate),a=c.lowerlimit;break;case n.vbr_abr:c=new I;F(c,e.VBR_mean_bitrate_kbps),a=c.lowerlimit;break;case n.vbr_rh:var u=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=e.VBR_q&&e.VBR_q<=9){var v=u[e.VBR_q],g=u[e.VBR_q+1],y=e.VBR_q_frac;a=linear_int(v,g,y)}else a=19500;break;default:u=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=e.VBR_q&&e.VBR_q<=9){v=u[e.VBR_q],g=u[e.VBR_q+1],y=e.VBR_q_frac;a=linear_int(v,g,y)}else a=19500}e.mode==t.MONO&&(e.VBR==n.vbr_off||e.VBR==n.vbr_abr)&&(a*=1.5),e.lowpassfreq=0|a}if(0==e.out_samplerate&&(2*e.lowpassfreq>e.in_samplerate&&(e.lowpassfreq=e.in_samplerate/2),e.out_samplerate=B(0|e.lowpassfreq,e.in_samplerate)),e.lowpassfreq=Math.min(20500,e.lowpassfreq),e.lowpassfreq=Math.min(e.out_samplerate/2,e.lowpassfreq),e.VBR==n.vbr_off&&(e.compression_ratio=16*e.out_samplerate*s.channels_out/(1e3*e.brate)),e.VBR==n.vbr_abr&&(e.compression_ratio=16*e.out_samplerate*s.channels_out/(1e3*e.VBR_mean_bitrate_kbps)),e.bWriteVbrTag||(e.findReplayGain=!1,e.decode_on_the_fly=!1,s.findPeakSample=!1),s.findReplayGain=e.findReplayGain,s.decode_on_the_fly=e.decode_on_the_fly,s.decode_on_the_fly&&(s.findPeakSample=!0),s.findReplayGain&&w.InitGainAnalysis(s.rgdata,e.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return e.internal_flags=null,-6;switch(s.decode_on_the_fly&&!e.decode_only&&(null!=s.hip&&E.hip_decode_exit(s.hip),s.hip=E.hip_decode_init()),s.mode_gr=e.out_samplerate<=24e3?1:2,e.framesize=576*s.mode_gr,e.encoder_delay=_.ENCDELAY,s.resample_ratio=e.in_samplerate/e.out_samplerate,e.VBR){case n.vbr_mt:case n.vbr_rh:case n.vbr_mtrh:var b=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];e.compression_ratio=b[e.VBR_q];break;case n.vbr_abr:e.compression_ratio=16*e.out_samplerate*s.channels_out/(1e3*e.VBR_mean_bitrate_kbps);break;default:e.compression_ratio=16*e.out_samplerate*s.channels_out/(1e3*e.brate);break}if(e.mode==t.NOT_SET&&(e.mode=t.JOINT_STEREO),e.highpassfreq>0?(s.highpass1=2*e.highpassfreq,e.highpasswidth>=0?s.highpass2=2*(e.highpassfreq+e.highpasswidth):s.highpass2=2*e.highpassfreq,s.highpass1/=e.out_samplerate,s.highpass2/=e.out_samplerate):(s.highpass1=0,s.highpass2=0),e.lowpassfreq>0?(s.lowpass2=2*e.lowpassfreq,e.lowpasswidth>=0?(s.lowpass1=2*(e.lowpassfreq-e.lowpasswidth),s.lowpass1<0&&(s.lowpass1=0)):s.lowpass1=2*e.lowpassfreq,s.lowpass1/=e.out_samplerate,s.lowpass2/=e.out_samplerate):(s.lowpass1=0,s.lowpass2=0),q(e),s.samplerate_index=V(e.out_samplerate,e),s.samplerate_index<0)return e.internal_flags=null,-1;if(e.VBR==n.vbr_off){if(e.free_format)s.bitrate_index=0;else if(e.brate=z(e.brate,e.version,e.out_samplerate),s.bitrate_index=j(e.brate,e.version,e.out_samplerate),s.bitrate_index<=0)return e.internal_flags=null,-1}else s.bitrate_index=1;e.analysis&&(e.bWriteVbrTag=!1),null!=s.pinfo&&(e.bWriteVbrTag=!1),x.init_bit_stream_w(s);for(var T=s.samplerate_index+3*e.version+6*(e.out_samplerate<16e3?1:0),A=0;A<_.SBMAX_l+1;A++)s.scalefac_band.l[A]=S.sfBandIndex[T].l[A];for(A=0;A<_.PSFB21+1;A++){var P=(s.scalefac_band.l[22]-s.scalefac_band.l[21])/_.PSFB21,R=s.scalefac_band.l[21]+A*P;s.scalefac_band.psfb21[A]=R}s.scalefac_band.psfb21[_.PSFB21]=576;for(A=0;A<_.SBMAX_s+1;A++)s.scalefac_band.s[A]=S.sfBandIndex[T].s[A];for(A=0;A<_.PSFB12+1;A++){P=(s.scalefac_band.s[13]-s.scalefac_band.s[12])/_.PSFB12,R=s.scalefac_band.s[12]+A*P;s.scalefac_band.psfb12[A]=R}for(s.scalefac_band.psfb12[_.PSFB12]=192,1==e.version?s.sideinfo_len=1==s.channels_out?21:36:s.sideinfo_len=1==s.channels_out?13:21,e.error_protection&&(s.sideinfo_len+=2),H(e),s.Class_ID=D,r=0;r<19;r++)s.nsPsy.pefirbuf[r]=700*s.mode_gr*s.channels_out;switch(-1==e.ATHtype&&(e.ATHtype=4),o(e.VBR_q<=9),o(e.VBR_q>=0),e.VBR){case n.vbr_mt:e.VBR=n.vbr_mtrh;case n.vbr_mtrh:null==e.useTemporal&&(e.useTemporal=!1),k.apply_preset(e,500-10*e.VBR_q,0),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),e.quality<5&&(e.quality=0),e.quality>5&&(e.quality=5),s.PSY.mask_adjust=e.maskingadjust,s.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?s.sfb21_extra=!1:s.sfb21_extra=e.out_samplerate>44e3,s.iteration_loop=new VBRNewIterationLoop(C);break;case n.vbr_rh:k.apply_preset(e,500-10*e.VBR_q,0),s.PSY.mask_adjust=e.maskingadjust,s.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?s.sfb21_extra=!1:s.sfb21_extra=e.out_samplerate>44e3,e.quality>6&&(e.quality=6),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),s.iteration_loop=new VBROldIterationLoop(C);break;default:var N;s.sfb21_extra=!1,e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),N=e.VBR,N==n.vbr_off&&(e.VBR_mean_bitrate_kbps=e.brate),k.apply_preset(e,e.VBR_mean_bitrate_kbps,0),e.VBR=N,s.PSY.mask_adjust=e.maskingadjust,s.PSY.mask_adjust_short=e.maskingadjust_short,N==n.vbr_off?s.iteration_loop=new f(C):s.iteration_loop=new ABRIterationLoop(C);break}if(o(e.scale>=0),e.VBR!=n.vbr_off){if(s.VBR_min_bitrate=1,s.VBR_max_bitrate=14,e.out_samplerate<16e3&&(s.VBR_max_bitrate=8),0!=e.VBR_min_bitrate_kbps&&(e.VBR_min_bitrate_kbps=z(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),s.VBR_min_bitrate=j(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),s.VBR_min_bitrate<0)||0!=e.VBR_max_bitrate_kbps&&(e.VBR_max_bitrate_kbps=z(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),s.VBR_max_bitrate=j(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),s.VBR_max_bitrate<0))return-1;e.VBR_min_bitrate_kbps=m.bitrate_table[e.version][s.VBR_min_bitrate],e.VBR_max_bitrate_kbps=m.bitrate_table[e.version][s.VBR_max_bitrate],e.VBR_mean_bitrate_kbps=Math.min(m.bitrate_table[e.version][s.VBR_max_bitrate],e.VBR_mean_bitrate_kbps),e.VBR_mean_bitrate_kbps=Math.max(m.bitrate_table[e.version][s.VBR_min_bitrate],e.VBR_mean_bitrate_kbps)}return e.tune&&(s.PSY.mask_adjust+=e.tune_value_a,s.PSY.mask_adjust_short+=e.tune_value_a),U(e),o(e.scale>=0),e.athaa_type<0?s.ATH.useAdjust=3:s.ATH.useAdjust=e.athaa_type,s.ATH.aaSensitivityP=Math.pow(10,e.athaa_sensitivity/-10),null==e.short_blocks&&(e.short_blocks=i.short_block_allowed),e.short_blocks==i.short_block_allowed&&(e.mode==t.JOINT_STEREO||e.mode==t.STEREO)&&(e.short_blocks=i.short_block_coupled),e.quant_comp<0&&(e.quant_comp=1),e.quant_comp_short<0&&(e.quant_comp_short=0),e.msfix<0&&(e.msfix=0),e.exp_nspsytune=1|e.exp_nspsytune,e.internal_flags.nsPsy.attackthre<0&&(e.internal_flags.nsPsy.attackthre=l.NSATTACKTHRE),e.internal_flags.nsPsy.attackthre_s<0&&(e.internal_flags.nsPsy.attackthre_s=l.NSATTACKTHRE_S),o(e.scale>=0),e.scale<0&&(e.scale=1),e.ATHtype<0&&(e.ATHtype=4),e.ATHcurve<0&&(e.ATHcurve=4),e.athaa_loudapprox<0&&(e.athaa_loudapprox=2),e.interChRatio<0&&(e.interChRatio=0),null==e.useTemporal&&(e.useTemporal=!0),s.slot_lag=s.frac_SpF=0,e.VBR==n.vbr_off&&(s.slot_lag=s.frac_SpF=72e3*(e.version+1)*e.brate%e.out_samplerate|0),S.iteration_init(e),M.psymodel_init(e),o(e.scale>=0),0},this.lame_encode_flush=function(t,e,n,i){var r,s,o,l,c=t.internal_flags,u=a([2,1152]),h=0,d=c.mf_samples_to_encode-_.POSTDELAY,f=X(t);if(c.mf_samples_to_encode<1)return 0;for(r=0,t.in_samplerate!=t.out_samplerate&&(d+=16*t.out_samplerate/t.in_samplerate),o=t.framesize-d%t.framesize,o<576&&(o+=t.framesize),t.encoder_padding=o,l=(d+o)/t.framesize;l>0&&h>=0;){var p=f-c.mf_size,m=t.frameNum;p*=t.in_samplerate,p/=t.out_samplerate,p>1152&&(p=1152),p<1&&(p=1),s=i-r,0==i&&(s=0),h=this.lame_encode_buffer(t,u[0],u[1],p,e,n,s),n+=h,r+=h,l-=m!=t.frameNum?1:0}if(c.mf_samples_to_encode=0,h<0||(s=i-r,0==i&&(s=0),x.flush_bitstream(t),h=x.copy_buffer(c,e,n,s,1),h<0))return h;if(n+=h,r+=h,s=i-r,0==i&&(s=0),t.write_id3tag_automatic){if(A.id3tag_write_v1(t),h=x.copy_buffer(c,e,n,s,0),h<0)return h;r+=h}return r},this.lame_encode_buffer=function(t,e,n,i,r,s,a){var o=t.internal_flags,l=[null,null];if(o.Class_ID!=D)return-3;if(0==i)return 0;W(o,i),l[0]=o.in_buffer_0,l[1]=o.in_buffer_1;for(var c=0;c<i;c++)l[0][c]=e[c],o.channels_in>1&&(l[1][c]=n[c]);return $(t,l[0],l[1],i,r,s,a)}}return Ie=v,Ie}var Ve=T,ze=Ve.VbrMode;function je(){var t,e=Be();function n(t,e,n,i,r,s,a,o,l,c,u,h,d,f,p){this.vbr_q=t,this.quant_comp=e,this.quant_comp_s=n,this.expY=i,this.st_lrm=r,this.st_s=s,this.masking_adj=a,this.masking_adj_short=o,this.ath_lower=l,this.ath_curve=c,this.ath_sensitivity=u,this.interch=h,this.safejoint=d,this.sfb21mod=f,this.msfix=p}function i(t,e,n,i,r,s,a,o,l,c,u,h,d,f){this.quant_comp=e,this.quant_comp_s=n,this.safejoint=i,this.nsmsfix=r,this.st_lrm=s,this.st_s=a,this.nsbass=o,this.scale=l,this.masking_adj=c,this.ath_lower=u,this.ath_curve=h,this.interch=d,this.sfscale=f}this.setModules=function(e){t=e};var r=[new n(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new n(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new n(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new n(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new n(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new n(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new n(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new n(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new n(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],s=[new n(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new n(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new n(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new n(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new n(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new n(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new n(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new n(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new n(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function a(t,e,n){var i=t.VBR==ze.vbr_rh?r:s,a=t.VBR_q_frac,o=i[e],l=i[e+1],u=o;o.st_lrm=o.st_lrm+a*(l.st_lrm-o.st_lrm),o.st_s=o.st_s+a*(l.st_s-o.st_s),o.masking_adj=o.masking_adj+a*(l.masking_adj-o.masking_adj),o.masking_adj_short=o.masking_adj_short+a*(l.masking_adj_short-o.masking_adj_short),o.ath_lower=o.ath_lower+a*(l.ath_lower-o.ath_lower),o.ath_curve=o.ath_curve+a*(l.ath_curve-o.ath_curve),o.ath_sensitivity=o.ath_sensitivity+a*(l.ath_sensitivity-o.ath_sensitivity),o.interch=o.interch+a*(l.interch-o.interch),o.msfix=o.msfix+a*(l.msfix-o.msfix),c(t,u.vbr_q),0!=n?t.quant_comp=u.quant_comp:Math.abs(t.quant_comp- -1)>0||(t.quant_comp=u.quant_comp),0!=n?t.quant_comp_short=u.quant_comp_s:Math.abs(t.quant_comp_short- -1)>0||(t.quant_comp_short=u.quant_comp_s),0!=u.expY&&(t.experimentalY=0!=u.expY),0!=n?t.internal_flags.nsPsy.attackthre=u.st_lrm:Math.abs(t.internal_flags.nsPsy.attackthre- -1)>0||(t.internal_flags.nsPsy.attackthre=u.st_lrm),0!=n?t.internal_flags.nsPsy.attackthre_s=u.st_s:Math.abs(t.internal_flags.nsPsy.attackthre_s- -1)>0||(t.internal_flags.nsPsy.attackthre_s=u.st_s),0!=n?t.maskingadjust=u.masking_adj:Math.abs(t.maskingadjust-0)>0||(t.maskingadjust=u.masking_adj),0!=n?t.maskingadjust_short=u.masking_adj_short:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=u.masking_adj_short),0!=n?t.ATHlower=-u.ath_lower/10:Math.abs(10*-t.ATHlower-0)>0||(t.ATHlower=-u.ath_lower/10),0!=n?t.ATHcurve=u.ath_curve:Math.abs(t.ATHcurve- -1)>0||(t.ATHcurve=u.ath_curve),0!=n?t.athaa_sensitivity=u.ath_sensitivity:Math.abs(t.athaa_sensitivity- -1)>0||(t.athaa_sensitivity=u.ath_sensitivity),u.interch>0&&(0!=n?t.interChRatio=u.interch:Math.abs(t.interChRatio- -1)>0||(t.interChRatio=u.interch)),u.safejoint>0&&(t.exp_nspsytune=t.exp_nspsytune|u.safejoint),u.sfb21mod>0&&(t.exp_nspsytune=t.exp_nspsytune|u.sfb21mod<<20),0!=n?t.msfix=u.msfix:Math.abs(t.msfix- -1)>0||(t.msfix=u.msfix),0==n&&(t.VBR_q=e,t.VBR_q_frac=a)}var o=[new i(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new i(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new i(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new i(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new i(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new i(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new i(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new i(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new i(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new i(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new i(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new i(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new i(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new i(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new i(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new i(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new i(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function l(e,n,i){var r=n,s=t.nearestBitrateFullIndex(n);if(e.VBR=ze.vbr_abr,e.VBR_mean_bitrate_kbps=r,e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320),e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.brate=e.VBR_mean_bitrate_kbps,e.VBR_mean_bitrate_kbps>320&&(e.disable_reservoir=!0),o[s].safejoint>0&&(e.exp_nspsytune=2|e.exp_nspsytune),o[s].sfscale>0&&(e.internal_flags.noise_shaping=2),Math.abs(o[s].nsbass)>0){var a=int(4*o[s].nsbass);a<0&&(a+=64),e.exp_nspsytune=e.exp_nspsytune|a<<2}return 0!=i?e.quant_comp=o[s].quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=o[s].quant_comp),0!=i?e.quant_comp_short=o[s].quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=o[s].quant_comp_s),0!=i?e.msfix=o[s].nsmsfix:Math.abs(e.msfix- -1)>0||(e.msfix=o[s].nsmsfix),0!=i?e.internal_flags.nsPsy.attackthre=o[s].st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=o[s].st_lrm),0!=i?e.internal_flags.nsPsy.attackthre_s=o[s].st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=o[s].st_s),0!=i?e.scale=o[s].scale:Math.abs(e.scale- -1)>0||(e.scale=o[s].scale),0!=i?e.maskingadjust=o[s].masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=o[s].masking_adj),o[s].masking_adj>0?0!=i?e.maskingadjust_short=.9*o[s].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=.9*o[s].masking_adj):0!=i?e.maskingadjust_short=1.1*o[s].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=1.1*o[s].masking_adj),0!=i?e.ATHlower=-o[s].ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-o[s].ath_lower/10),0!=i?e.ATHcurve=o[s].ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=o[s].ath_curve),0!=i?e.interChRatio=o[s].interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=o[s].interch),n}function c(t,e){var n=0;return 0>e&&(n=-1,e=0),9<e&&(n=-1,e=9),t.VBR_q=e,t.VBR_q_frac=0,n}this.apply_preset=function(t,n,i){switch(n){case e.R3MIX:n=e.V3,t.VBR=ze.vbr_mtrh;break;case e.MEDIUM:n=e.V4,t.VBR=ze.vbr_rh;break;case e.MEDIUM_FAST:n=e.V4,t.VBR=ze.vbr_mtrh;break;case e.STANDARD:n=e.V2,t.VBR=ze.vbr_rh;break;case e.STANDARD_FAST:n=e.V2,t.VBR=ze.vbr_mtrh;break;case e.EXTREME:n=e.V0,t.VBR=ze.vbr_rh;break;case e.EXTREME_FAST:n=e.V0,t.VBR=ze.vbr_mtrh;break;case e.INSANE:return n=320,t.preset=n,l(t,n,i),t.VBR=ze.vbr_off,n}switch(t.preset=n,n){case e.V9:return a(t,9,i),n;case e.V8:return a(t,8,i),n;case e.V7:return a(t,7,i),n;case e.V6:return a(t,6,i),n;case e.V5:return a(t,5,i),n;case e.V4:return a(t,4,i),n;case e.V3:return a(t,3,i),n;case e.V2:return a(t,2,i),n;case e.V1:return a(t,1,i),n;case e.V0:return a(t,0,i),n}return 8<=n&&n<=320?l(t,n,i):(t.preset=0,n)}}var Fe=je;function qe(){this.setModules=function(t,e){}}var Ue=qe;function He(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var We=He,Xe=T,$e=Xe.new_float,Ye=Xe.new_int;function Ge(){this.global_gain=0,this.sfb_count1=0,this.step=Ye(39),this.noise=$e(39),this.noise_log=$e(39)}var Ze=Ge,Ke=T,Qe=Ke.System,Je=Ke.VbrMode,tn=Ke.Util,en=Ke.Arrays,nn=Ke.new_float,rn=Ke.assert,sn=Ue,an=We,on=Ze,ln=D(),cn=dt,un=at;function hn(){var t,e;this.rv=null,this.qupvt=null;var n,i,r=new sn;function s(t,e,n,i){i=0;for(var r=0;r<=n;++r){var s=Math.abs(t.xr[r]);i+=s,e[r]=Math.sqrt(s*Math.sqrt(s)),e[r]>t.xrpow_max&&(t.xrpow_max=e[r])}return i}function a(t,e){var i=t.ATH,r=e.xr;if(e.block_type!=ln.SHORT_TYPE)for(var s=!1,a=ln.PSFB21-1;a>=0&&!s;a--){var o=t.scalefac_band.psfb21[a],l=t.scalefac_band.psfb21[a+1],c=n.athAdjust(i.adjust,i.psfb21[a],i.floor);t.nsPsy.longfact[21]>1e-12&&(c*=t.nsPsy.longfact[21]);for(var u=l-1;u>=o;u--){if(!(Math.abs(r[u])<c)){s=!0;break}r[u]=0}}else for(var h=0;h<3;h++)for(s=!1,a=ln.PSFB12-1;a>=0&&!s;a--){o=3*t.scalefac_band.s[12]+(t.scalefac_band.s[13]-t.scalefac_band.s[12])*h+(t.scalefac_band.psfb12[a]-t.scalefac_band.psfb12[0]),l=o+(t.scalefac_band.psfb12[a+1]-t.scalefac_band.psfb12[a]);var d=n.athAdjust(i.adjust,i.psfb12[a],i.floor);t.nsPsy.shortfact[12]>1e-12&&(d*=t.nsPsy.shortfact[12]);for(u=l-1;u>=o;u--){if(!(Math.abs(r[u])<d)){s=!0;break}r[u]=0}}}function o(t){this.ordinal=t}function l(t,e,n,r,s){var a,l=t.CurrentStep[r],c=!1,u=t.OldValue[r],h=o.BINSEARCH_NONE;for(e.global_gain=u,n-=e.part2_length;;){var d;if(a=i.count_bits(t,s,e,null),1==l||a==n)break;a>n?(h==o.BINSEARCH_DOWN&&(c=!0),c&&(l/=2),h=o.BINSEARCH_UP,d=l):(h==o.BINSEARCH_UP&&(c=!0),c&&(l/=2),h=o.BINSEARCH_DOWN,d=-l),e.global_gain+=d,e.global_gain<0&&(e.global_gain=0,c=!0),e.global_gain>255&&(e.global_gain=255,c=!0)}for(rn(e.global_gain>=0),rn(e.global_gain<256);a>n&&e.global_gain<255;)e.global_gain++,a=i.count_bits(t,s,e,null);return t.CurrentStep[r]=u-e.global_gain>=4?4:2,t.OldValue[r]=e.global_gain,e.part2_3_length=a,a}function c(t){for(var e=0;e<t.sfbmax;e++)if(t.scalefac[e]+t.subblock_gain[t.window[e]]==0)return!1;return!0}function u(t){return tn.FAST_LOG10(.368+.632*t*t*t)}function h(t,e){for(var n=1e-37,i=0;i<e.psymax;i++)n+=u(t[i]);return Math.max(1e-20,n)}function d(t,e,n,i,r){var s;switch(t){default:case 9:e.over_count>0?(s=n.over_SSD<=e.over_SSD,n.over_SSD==e.over_SSD&&(s=n.bits<e.bits)):s=n.max_noise<0&&10*n.max_noise+n.bits<=10*e.max_noise+e.bits;break;case 0:s=n.over_count<e.over_count||n.over_count==e.over_count&&n.over_noise<e.over_noise||n.over_count==e.over_count&&BitStream.EQ(n.over_noise,e.over_noise)&&n.tot_noise<e.tot_noise;break;case 8:n.max_noise=h(r,i);case 1:s=n.max_noise<e.max_noise;break;case 2:s=n.tot_noise<e.tot_noise;break;case 3:s=n.tot_noise<e.tot_noise&&n.max_noise<e.max_noise;break;case 4:s=n.max_noise<=0&&e.max_noise>.2||n.max_noise<=0&&e.max_noise<0&&e.max_noise>n.max_noise-.2&&n.tot_noise<e.tot_noise||n.max_noise<=0&&e.max_noise>0&&e.max_noise>n.max_noise-.2&&n.tot_noise<e.tot_noise+e.over_noise||n.max_noise>0&&e.max_noise>-.05&&e.max_noise>n.max_noise-.1&&n.tot_noise+n.over_noise<e.tot_noise+e.over_noise||n.max_noise>0&&e.max_noise>-.1&&e.max_noise>n.max_noise-.15&&n.tot_noise+n.over_noise+n.over_noise<e.tot_noise+e.over_noise+e.over_noise;break;case 5:s=n.over_noise<e.over_noise||BitStream.EQ(n.over_noise,e.over_noise)&&n.tot_noise<e.tot_noise;break;case 6:s=n.over_noise<e.over_noise||BitStream.EQ(n.over_noise,e.over_noise)&&(n.max_noise<e.max_noise||BitStream.EQ(n.max_noise,e.max_noise)&&n.tot_noise<=e.tot_noise);break;case 7:s=n.over_count<e.over_count||n.over_noise<e.over_noise;break}return 0==e.over_count&&(s=s&&n.bits<e.bits),s}function f(t,e,n,i,r){var s,a=t.internal_flags;s=0==e.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var o=0,l=0;l<e.sfbmax;l++)o<n[l]&&(o=n[l]);var c=a.noise_shaping_amp;switch(3==c&&(c=r?2:1),c){case 2:break;case 1:o>1?o=Math.pow(o,.5):o*=.95;break;case 0:default:o>1?o=1:o*=.95;break}var u=0;for(l=0;l<e.sfbmax;l++){var h,d=e.width[l];if(u+=d,!(n[l]<o)){if(2&a.substep_shaping&&(a.pseudohalf[l]=0==a.pseudohalf[l]?1:0,0==a.pseudohalf[l]&&2==a.noise_shaping_amp))return;for(e.scalefac[l]++,h=-d;h<0;h++)i[u+h]*=s,i[u+h]>e.xrpow_max&&(e.xrpow_max=i[u+h]);if(2==a.noise_shaping_amp)return}}}function p(t,e){for(var i=1.2968395546510096,r=0,s=0;s<t.sfbmax;s++){var a=t.width[s],o=t.scalefac[s];if(0!=t.preflag&&(o+=n.pretab[s]),r+=a,1&o){o++;for(var l=-a;l<0;l++)e[r+l]*=i,e[r+l]>t.xrpow_max&&(t.xrpow_max=e[r+l])}t.scalefac[s]=o>>1}t.preflag=0,t.scalefac_scale=1}function m(t,e,i){var r,s=e.scalefac;for(r=0;r<e.sfb_lmax;r++)if(s[r]>=16)return!0;for(var a=0;a<3;a++){var o=0,l=0;for(r=e.sfb_lmax+a;r<e.sfbdivide;r+=3)o<s[r]&&(o=s[r]);for(;r<e.sfbmax;r+=3)l<s[r]&&(l=s[r]);if(!(o<16&&l<8)){if(e.subblock_gain[a]>=7)return!0;e.subblock_gain[a]++;var c=t.scalefac_band.l[e.sfb_lmax];for(r=e.sfb_lmax+a;r<e.sfbmax;r+=3){var u=e.width[r],h=s[r];if(h-=4>>e.scalefac_scale,h>=0)s[r]=h,c+=3*u;else{s[r]=0;var d=210+(h<<e.scalefac_scale+1);p=n.IPOW20(d),c+=u*(a+1);for(var f=-u;f<0;f++)i[c+f]*=p,i[c+f]>e.xrpow_max&&(e.xrpow_max=i[c+f]);c+=u*(3-a-1)}}var p=n.IPOW20(202);c+=e.width[r]*(a+1);for(f=-e.width[r];f<0;f++)i[c+f]*=p,i[c+f]>e.xrpow_max&&(e.xrpow_max=i[c+f])}}return!1}function _(t,e,n,r,s){var a=t.internal_flags;f(t,e,n,r,s);var o=c(e);return!o&&(o=2==a.mode_gr?i.scale_bitcount(e):i.scale_bitcount_lsf(a,e),!o||(a.noise_shaping>1&&(en.fill(a.pseudohalf,0),0==e.scalefac_scale?(p(e,r),o=!1):e.block_type==ln.SHORT_TYPE&&a.subblock_gain>0&&(o=m(a,e,r)||c(e))),o||(o=2==a.mode_gr?i.scale_bitcount(e):i.scale_bitcount_lsf(a,e)),!o))}this.setModules=function(s,a,o,l){t=s,e=a,this.rv=a,n=o,this.qupvt=o,i=l,r.setModules(n,i)},this.ms_convert=function(t,e){for(var n=0;n<576;++n){var i=t.tt[e][0].xr[n],r=t.tt[e][1].xr[n];t.tt[e][0].xr[n]=(i+r)*(.5*tn.SQRT2),t.tt[e][1].xr[n]=(i-r)*(.5*tn.SQRT2)}},this.init_xrpow=function(t,e,n){var i=0,r=0|e.max_nonzero_coeff;if(e.xrpow_max=0,en.fill(n,r,576,0),i=s(e,n,r,i),i>1e-20){var a=0;2&t.substep_shaping&&(a=1);for(var o=0;o<e.psymax;o++)t.pseudohalf[o]=a;return!0}return en.fill(e.l3_enc,0,576,0),!1},this.init_outer_loop=function(t,e){e.part2_3_length=0,e.big_values=0,e.count1=0,e.global_gain=210,e.scalefac_compress=0,e.table_select[0]=0,e.table_select[1]=0,e.table_select[2]=0,e.subblock_gain[0]=0,e.subblock_gain[1]=0,e.subblock_gain[2]=0,e.subblock_gain[3]=0,e.region0_count=0,e.region1_count=0,e.preflag=0,e.scalefac_scale=0,e.count1table_select=0,e.part2_length=0,e.sfb_lmax=ln.SBPSY_l,e.sfb_smin=ln.SBPSY_s,e.psy_lmax=t.sfb21_extra?ln.SBMAX_l:ln.SBPSY_l,e.psymax=e.psy_lmax,e.sfbmax=e.sfb_lmax,e.sfbdivide=11;for(var i=0;i<ln.SBMAX_l;i++)e.width[i]=t.scalefac_band.l[i+1]-t.scalefac_band.l[i],e.window[i]=3;if(e.block_type==ln.SHORT_TYPE){var r=nn(576);e.sfb_smin=0,e.sfb_lmax=0,0!=e.mixed_block_flag&&(e.sfb_smin=3,e.sfb_lmax=2*t.mode_gr+4),e.psymax=e.sfb_lmax+3*((t.sfb21_extra?ln.SBMAX_s:ln.SBPSY_s)-e.sfb_smin),e.sfbmax=e.sfb_lmax+3*(ln.SBPSY_s-e.sfb_smin),e.sfbdivide=e.sfbmax-18,e.psy_lmax=e.sfb_lmax;var s=t.scalefac_band.l[e.sfb_lmax];Qe.arraycopy(e.xr,0,r,0,576);for(i=e.sfb_smin;i<ln.SBMAX_s;i++)for(var o=t.scalefac_band.s[i],l=t.scalefac_band.s[i+1],c=0;c<3;c++)for(var u=o;u<l;u++)e.xr[s++]=r[3*u+c];var h=e.sfb_lmax;for(i=e.sfb_smin;i<ln.SBMAX_s;i++)e.width[h]=e.width[h+1]=e.width[h+2]=t.scalefac_band.s[i+1]-t.scalefac_band.s[i],e.window[h]=0,e.window[h+1]=1,e.window[h+2]=2,h+=3}e.count1bits=0,e.sfb_partition_table=n.nr_of_sfb_block[0][0],e.slen[0]=0,e.slen[1]=0,e.slen[2]=0,e.slen[3]=0,e.max_nonzero_coeff=575,en.fill(e.scalefac,0),a(t,e)},o.BINSEARCH_NONE=new o(0),o.BINSEARCH_UP=new o(1),o.BINSEARCH_DOWN=new o(2),this.trancate_smallspectrums=function(t,e,r,s){var a=nn(un.SFBMAX);if((4&t.substep_shaping||e.block_type!=ln.SHORT_TYPE)&&!(128&t.substep_shaping)){n.calc_noise(e,r,a,new an,null);for(var o=0;o<576;o++){var l=0;0!=e.l3_enc[o]&&(l=Math.abs(e.xr[o])),s[o]=l}o=0;var c=8;e.block_type==ln.SHORT_TYPE&&(c=6);do{var u,h,d,f,p=e.width[c];if(o+=p,!(a[c]>=1)&&(en.sort(s,o-p,p),!BitStream.EQ(s[o-1],0))){u=(1-a[c])*r[c],h=0,f=0;do{var m;for(d=1;f+d<p&&!BitStream.NEQ(s[f+o-p],s[f+o+d-p]);d++);if(m=s[f+o-p]*s[f+o-p]*d,u<m){0!=f&&(h=s[f+o-p-1]);break}u-=m,f+=d}while(f<p);if(!BitStream.EQ(h,0))do{Math.abs(e.xr[o-p])<=h&&(e.l3_enc[o-p]=0)}while(--p>0)}}while(++c<e.psymax);e.part2_3_length=i.noquant_count_bits(t,e,null)}},this.outer_loop=function(t,e,r,s,a,o){var c,u=t.internal_flags,h=new cn,f=nn(576),p=nn(un.SFBMAX),m=new an,v=new on,g=9999999,y=!1,b=!1,w=0;if(l(u,e,o,a,s),0==u.noise_shaping)return 100;n.calc_noise(e,r,p,m,v),m.bits=e.part2_3_length,h.assign(e);var x=0;for(Qe.arraycopy(s,0,f,0,576);!y;){do{var k,S=new an,C=255;if(k=2&u.substep_shaping?20:3,u.sfb21_extra&&(p[h.sfbmax]>1||h.block_type==ln.SHORT_TYPE&&(p[h.sfbmax+1]>1||p[h.sfbmax+2]>1))||!_(t,h,p,s,b))break;0!=h.scalefac_scale&&(C=254);var T=o-h.part2_length;if(T<=0)break;for(;(h.part2_3_length=i.count_bits(u,s,h,v))>T&&h.global_gain<=C;)h.global_gain++;if(h.global_gain>C)break;if(0==m.over_count){for(;(h.part2_3_length=i.count_bits(u,s,h,v))>g&&h.global_gain<=C;)h.global_gain++;if(h.global_gain>C)break}if(n.calc_noise(h,r,p,S,v),S.bits=h.part2_3_length,c=e.block_type!=ln.SHORT_TYPE?t.quant_comp:t.quant_comp_short,c=d(c,m,S,h,p)?1:0,0!=c)g=e.part2_3_length,m=S,e.assign(h),x=0,Qe.arraycopy(s,0,f,0,576);else if(0==u.full_outer_loop&&(++x>k&&0==m.over_count||3==u.noise_shaping_amp&&b&&x>30||3==u.noise_shaping_amp&&b&&h.global_gain-w>15))break}while(h.global_gain+h.scalefac_scale<255);3==u.noise_shaping_amp?b?y=!0:(h.assign(e),Qe.arraycopy(f,0,s,0,576),x=0,w=h.global_gain,b=!0):y=!0}return rn(e.global_gain+e.scalefac_scale<=255),t.VBR==Je.vbr_rh||t.VBR==Je.vbr_mtrh?Qe.arraycopy(f,0,s,0,576):1&u.substep_shaping&&trancate_smallspectrums(u,e,r,s),m.over_count},this.iteration_finish_one=function(t,n,r){var s=t.l3_side,a=s.tt[n][r];i.best_scalefac_store(t,n,r,s),1==t.use_best_huffman&&i.best_huffman_divide(t,a),e.ResvAdjust(t,a)},this.VBR_encode_granule=function(t,e,n,i,r,s,a){var o,l,c=t.internal_flags,u=new cn,h=nn(576),d=a,f=a+1,p=(a+s)/2,m=0,_=c.sfb21_extra;rn(d<=LameInternalFlags.MAX_BITS_PER_CHANNEL),en.fill(u.l3_enc,0);do{c.sfb21_extra=!(p>d-42)&&_,l=outer_loop(t,e,n,i,r,p),l<=0?(m=1,f=e.part2_3_length,u.assign(e),Qe.arraycopy(i,0,h,0,576),a=f-32,o=a-s,p=(a+s)/2):(s=p+32,o=a-s,p=(a+s)/2,0!=m&&(m=2,e.assign(u),Qe.arraycopy(h,0,i,0,576)))}while(o>12);c.sfb21_extra=_,2==m&&Qe.arraycopy(u.l3_enc,0,e.l3_enc,0,576),rn(e.part2_3_length<=d)},this.get_framebits=function(n,i){var r=n.internal_flags;r.bitrate_index=r.VBR_min_bitrate;var s=t.getframebits(n);r.bitrate_index=1,s=t.getframebits(n);for(var a=1;a<=r.VBR_max_bitrate;a++){r.bitrate_index=a;var o=new MeanBits(s);i[a]=e.ResvFrameBegin(n,o),s=o.bits}},this.VBR_old_prepare=function(t,i,r,s,a,o,l,c,u){var h,d=t.internal_flags,f=0,p=1,m=0;d.bitrate_index=d.VBR_max_bitrate;var _=e.ResvFrameBegin(t,new MeanBits(0))/d.mode_gr;get_framebits(t,o);for(var v=0;v<d.mode_gr;v++){var g=n.on_pe(t,i,c[v],_,v,0);d.mode_ext==ln.MPG_MD_MS_LR&&(ms_convert(d.l3_side,v),n.reduce_side(c[v],r[v],_,g));for(var y=0;y<d.channels_out;++y){var b=d.l3_side.tt[v][y];b.block_type!=ln.SHORT_TYPE?(f=1.28/(1+Math.exp(3.5-i[v][y]/300))-.05,h=d.PSY.mask_adjust-f):(f=2.56/(1+Math.exp(3.5-i[v][y]/300))-.14,h=d.PSY.mask_adjust_short-f),d.masking_lower=Math.pow(10,.1*h),init_outer_loop(d,b),u[v][y]=n.calc_xmin(t,s[v][y],b,a[v][y]),0!=u[v][y]&&(p=0),l[v][y]=126,m+=c[v][y]}}for(v=0;v<d.mode_gr;v++)for(y=0;y<d.channels_out;y++)m>o[d.VBR_max_bitrate]&&(c[v][y]*=o[d.VBR_max_bitrate],c[v][y]/=m),l[v][y]>c[v][y]&&(l[v][y]=c[v][y]);return p},this.bitpressure_strategy=function(t,e,n,i){for(var r=0;r<t.mode_gr;r++)for(var s=0;s<t.channels_out;s++){for(var a=t.l3_side.tt[r][s],o=e[r][s],l=0,c=0;c<a.psy_lmax;c++)o[l++]*=1+.029*c*c/ln.SBMAX_l/ln.SBMAX_l;if(a.block_type==ln.SHORT_TYPE)for(c=a.sfb_smin;c<ln.SBMAX_s;c++)o[l++]*=1+.029*c*c/ln.SBMAX_s/ln.SBMAX_s,o[l++]*=1+.029*c*c/ln.SBMAX_s/ln.SBMAX_s,o[l++]*=1+.029*c*c/ln.SBMAX_s/ln.SBMAX_s;i[r][s]=0|Math.max(n[r][s],.9*i[r][s])}},this.VBR_new_prepare=function(t,i,r,s,a,o){var l,c=t.internal_flags,u=1,h=0,d=0;if(t.free_format){c.bitrate_index=0;var f=new MeanBits(h);l=e.ResvFrameBegin(t,f),h=f.bits,a[0]=l}else{c.bitrate_index=c.VBR_max_bitrate;f=new MeanBits(h);e.ResvFrameBegin(t,f),h=f.bits,get_framebits(t,a),l=a[c.VBR_max_bitrate]}for(var p=0;p<c.mode_gr;p++){n.on_pe(t,i,o[p],h,p,0),c.mode_ext==ln.MPG_MD_MS_LR&&ms_convert(c.l3_side,p);for(var m=0;m<c.channels_out;++m){var _=c.l3_side.tt[p][m];c.masking_lower=Math.pow(10,.1*c.PSY.mask_adjust),init_outer_loop(c,_),0!=n.calc_xmin(t,r[p][m],_,s[p][m])&&(u=0),d+=o[p][m]}}for(p=0;p<c.mode_gr;p++)for(m=0;m<c.channels_out;m++)d>l&&(o[p][m]*=l,o[p][m]/=d);return u},this.calc_target_bits=function(i,r,s,a,o,l){var c,u,h,d,f=i.internal_flags,p=f.l3_side,m=0;f.bitrate_index=f.VBR_max_bitrate;var _=new MeanBits(m);for(l[0]=e.ResvFrameBegin(i,_),m=_.bits,f.bitrate_index=1,m=t.getframebits(i)-8*f.sideinfo_len,o[0]=m/(f.mode_gr*f.channels_out),m=i.VBR_mean_bitrate_kbps*i.framesize*1e3,1&f.substep_shaping&&(m*=1.09),m/=i.out_samplerate,m-=8*f.sideinfo_len,m/=f.mode_gr*f.channels_out,c=.93+.07*(11-i.compression_ratio)/5.5,c<.9&&(c=.9),c>1&&(c=1),u=0;u<f.mode_gr;u++){var v=0;for(h=0;h<f.channels_out;h++){if(a[u][h]=int(c*m),r[u][h]>700){var g=int((r[u][h]-700)/1.4),y=p.tt[u][h];a[u][h]=int(c*m),y.block_type==ln.SHORT_TYPE&&g<m/2&&(g=m/2),g>3*m/2?g=3*m/2:g<0&&(g=0),a[u][h]+=g}a[u][h]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(a[u][h]=LameInternalFlags.MAX_BITS_PER_CHANNEL),v+=a[u][h]}if(v>LameInternalFlags.MAX_BITS_PER_GRANULE)for(h=0;h<f.channels_out;++h)a[u][h]*=LameInternalFlags.MAX_BITS_PER_GRANULE,a[u][h]/=v}if(f.mode_ext==ln.MPG_MD_MS_LR)for(u=0;u<f.mode_gr;u++)n.reduce_side(a[u],s[u],m*f.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(d=0,u=0;u<f.mode_gr;u++)for(h=0;h<f.channels_out;h++)a[u][h]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(a[u][h]=LameInternalFlags.MAX_BITS_PER_CHANNEL),d+=a[u][h];if(d>l[0])for(u=0;u<f.mode_gr;u++)for(h=0;h<f.channels_out;h++)a[u][h]*=l[0],a[u][h]/=d}}var dn=hn,fn=T,pn=fn.assert;function mn(){var t;this.setModules=function(e){t=e},this.ResvFrameBegin=function(e,n){var i,r=e.internal_flags,s=r.l3_side,a=t.getframebits(e);n.bits=(a-8*r.sideinfo_len)/r.mode_gr;var o=2048*r.mode_gr-8;e.brate>320?i=8*int(1e3*e.brate/(e.out_samplerate/1152)/8+.5):(i=11520,e.strict_ISO&&(i=8*int(32e4/(e.out_samplerate/1152)/8+.5))),r.ResvMax=i-a,r.ResvMax>o&&(r.ResvMax=o),(r.ResvMax<0||e.disable_reservoir)&&(r.ResvMax=0);var l=n.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return l>i&&(l=i),pn(r.ResvMax%8==0),pn(r.ResvMax>=0),s.resvDrain_pre=0,null!=r.pinfo&&(r.pinfo.mean_bits=n.bits/2,r.pinfo.resvsize=r.ResvSize),l},this.ResvMaxBits=function(t,e,n,i){var r,s=t.internal_flags,a=s.ResvSize,o=s.ResvMax;0!=i&&(a+=e),1&s.substep_shaping&&(o*=.9),n.bits=e,10*a>9*o?(r=a-9*o/10,n.bits+=r,s.substep_shaping|=128):(r=0,s.substep_shaping&=127,!t.disable_reservoir&&!(1&s.substep_shaping)&&(n.bits-=.1*e));var l=a<6*s.ResvMax/10?a:6*s.ResvMax/10;return l-=r,l<0&&(l=0),l},this.ResvAdjust=function(t,e){t.ResvSize-=e.part2_3_length+e.part2_length},this.ResvFrameEnd=function(t,e){var n,i=t.l3_side;t.ResvSize+=e*t.mode_gr;var r=0;i.resvDrain_post=0,i.resvDrain_pre=0,0!=(n=t.ResvSize%8)&&(r+=n),n=t.ResvSize-r-t.ResvMax,n>0&&(r+=n);var s=Math.min(8*i.main_data_begin,r)/8;i.resvDrain_pre+=8*s,r-=8*s,t.ResvSize-=8*s,i.main_data_begin-=s,i.resvDrain_post+=r,t.ResvSize-=r}}var _n=mn;function vn(){var t="http://www.mp3dev.org/",e=3,n=98,i=4,r=0,s=93;this.getLameVersion=function(){return e+"."+n+"."+i},this.getLameShortVersion=function(){return e+"."+n+"."+i},this.getLameVeryShortVersion=function(){return"LAME"+e+"."+n+"r"},this.getPsyVersion=function(){return r+"."+s},this.getLameUrl=function(){return t},this.getLameOsBitness=function(){return"32bits"}}var gn=vn,yn=T,bn=yn.System,wn=yn.VbrMode,xn=yn.ShortBlock,kn=yn.Arrays,Sn=yn.new_byte,Cn=yn.assert;function Tn(){var t,e,n;this.setModules=function(i,r,s){t=i,e=r,n=s};var i=1,r=2,s=4,a=8,o=Tn.NUMTOCENTRIES,l=Tn.MAXFRAMESIZE,c=o+4+4+4+4+4,u=c+9+1+1+8+1+1+3+1+1+2+4+2+2,h=128,d=64,f=32,p=null,m="Xing",_="Info",v=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function g(t,e){if(t.nVbrNumFrames++,t.sum+=e,t.seen++,!(t.seen<t.want)&&(t.pos<t.size&&(t.bag[t.pos]=t.sum,t.pos++,t.seen=0),t.pos==t.size)){for(var n=1;n<t.size;n+=2)t.bag[n/2]=t.bag[n];t.want*=2,t.pos/=2}}function y(t,e){if(!(t.pos<=0))for(var n=1;n<o;++n){var i,r,s=n/o,a=0|Math.floor(s*t.pos);a>t.pos-1&&(a=t.pos-1),i=t.bag[a],r=t.sum;var l=0|256*i/r;l>255&&(l=255),e[n]=255&l}}function b(t,e){var n=255&t[e+0];return n<<=8,n|=255&t[e+1],n<<=8,n|=255&t[e+2],n<<=8,n|=255&t[e+3],n}function w(t,e,n){t[e+0]=255&n>>24,t[e+1]=255&n>>16,t[e+2]=255&n>>8,t[e+3]=255&n}function x(t,e,n){t[e+0]=255&n>>8,t[e+1]=255&n}function k(t,e){return new String(t,e,m.length(),p).equals(m)||new String(t,e,_.length(),p).equals(_)}function S(t,e,n){return 255&(t<<e|n&~(-1<<e))}function C(e,n){var i=e.internal_flags;n[0]=S(n[0],8,255),n[1]=S(n[1],3,7),n[1]=S(n[1],1,e.out_samplerate<16e3?0:1),n[1]=S(n[1],1,e.version),n[1]=S(n[1],2,1),n[1]=S(n[1],1,e.error_protection?0:1),n[2]=S(n[2],4,i.bitrate_index),n[2]=S(n[2],2,i.samplerate_index),n[2]=S(n[2],1,0),n[2]=S(n[2],1,e.extension),n[3]=S(n[3],2,e.mode.ordinal()),n[3]=S(n[3],2,i.mode_ext),n[3]=S(n[3],1,e.copyright),n[3]=S(n[3],1,e.original),n[3]=S(n[3],2,e.emphasis),n[0]=255;var r,s,a=241&n[1];r=1==e.version?h:e.out_samplerate<16e3?f:d,e.VBR==wn.vbr_off&&(r=e.brate),s=e.free_format?0:255&16*t.BitrateIndex(r,e.version,e.out_samplerate),1==e.version?(n[1]=255&a|10,a=13&n[2],n[2]=255&(s|a)):(n[1]=255&a|2,a=13&n[2],n[2]=255&(s|a))}function T(t,e){var n=e^t;return e=e>>8^v[255&n],e}function A(t,e,i,r,s){var a,o,l,c=t.internal_flags,u=0,h=t.encoder_delay,d=t.encoder_padding,f=100-10*t.VBR_q-t.quality,p=n.getLameVeryShortVersion(),m=0,_=[1,5,3,2,4,0,3],v=0|(t.lowpassfreq/100+.5>255?255:t.lowpassfreq/100+.5),g=0,y=0,b=0,k=t.internal_flags.noise_shaping,S=0,C=0,A=0,E=0,M=0,O=0!=(1&t.exp_nspsytune),I=0!=(2&t.exp_nspsytune),P=!1,R=!1,D=t.internal_flags.nogap_total,N=t.internal_flags.nogap_current,L=t.ATHtype,B=0;switch(t.VBR){case vbr_abr:l=t.VBR_mean_bitrate_kbps;break;case vbr_off:l=t.brate;break;default:l=t.VBR_min_bitrate_kbps}switch(a=t.VBR.ordinal()<_.length?_[t.VBR.ordinal()]:0,o=16*m+a,c.findReplayGain&&(c.RadioGain>510&&(c.RadioGain=510),c.RadioGain<-510&&(c.RadioGain=-510),y=8192,y|=3072,c.RadioGain>=0?y|=c.RadioGain:(y|=512,y|=-c.RadioGain)),c.findPeakSample&&(g=Math.abs(0|c.PeakSample/32767*Math.pow(2,23)+.5)),-1!=D&&(N>0&&(R=!0),N<D-1&&(P=!0)),B=L+((O?1:0)<<4)+((I?1:0)<<5)+((P?1:0)<<6)+((R?1:0)<<7),f<0&&(f=0),t.mode){case MONO:S=0;break;case STEREO:S=1;break;case DUAL_CHANNEL:S=2;break;case JOINT_STEREO:S=t.force_ms?4:3;break;case NOT_SET:default:S=7;break}A=t.in_samplerate<=32e3?0:48e3==t.in_samplerate?2:t.in_samplerate>48e3?3:1,(t.short_blocks==xn.short_block_forced||t.short_blocks==xn.short_block_dispensed||-1==t.lowpassfreq&&-1==t.highpassfreq||t.scale_left<t.scale_right||t.scale_left>t.scale_right||t.disable_reservoir&&t.brate<320||t.noATH||t.ATHonly||0==L||t.in_samplerate<=32e3)&&(C=1),E=k+(S<<2)+(C<<5)+(A<<6),M=c.nMusicCRC,w(i,r+u,f),u+=4;for(var V=0;V<9;V++)i[r+u+V]=255&p.charAt(V);u+=9,i[r+u]=255&o,u++,i[r+u]=255&v,u++,w(i,r+u,g),u+=4,x(i,r+u,y),u+=2,x(i,r+u,b),u+=2,i[r+u]=255&B,u++,i[r+u]=l>=255?255:255&l,u++,i[r+u]=255&h>>4,i[r+u+1]=255&(h<<4)+(d>>8),i[r+u+2]=255&d,u+=3,i[r+u]=255&E,u++,i[r+u++]=0,x(i,r+u,t.preset),u+=2,w(i,r+u,e),u+=4,x(i,r+u,M),u+=2;for(var z=0;z<u;z++)s=T(i[r+z],s);return x(i,r+u,s),u+=2,u}function E(t){t.seek(0);var e,n=Sn(10);return t.readFully(n),e=new String(n,"ISO-8859-1").startsWith("ID3")?0:((127&n[6])<<21|(127&n[7])<<14|(127&n[8])<<7|127&n[9])+n.length,e}this.addVbrFrame=function(t){var e=t.internal_flags,n=Tables.bitrate_table[t.version][e.bitrate_index];Cn(null!=e.VBR_seek_table.bag),g(e.VBR_seek_table,n)},this.getVbrTag=function(t){var e=new VBRTagData,n=0;e.flags=0;var l=t[n+1]>>3&1,c=t[n+2]>>2&3,u=t[n+3]>>6&3,h=t[n+2]>>4&15;if(h=Tables.bitrate_table[l][h],t[n+1]>>4==14?e.samprate=Tables.samplerate_table[2][c]:e.samprate=Tables.samplerate_table[l][c],n+=0!=l?3!=u?36:21:3!=u?21:13,!k(t,n))return null;n+=4,e.hId=l;var d=e.flags=b(t,n);if(n+=4,d&i&&(e.frames=b(t,n),n+=4),d&r&&(e.bytes=b(t,n),n+=4),d&s){if(null!=e.toc)for(var f=0;f<o;f++)e.toc[f]=t[n+f];n+=o}e.vbrScale=-1,d&a&&(e.vbrScale=b(t,n),n+=4),e.headersize=72e3*(l+1)*h/e.samprate,n+=21;var p=t[n+0]<<4;p+=t[n+1]>>4;var m=(15&t[n+1])<<8;return m+=255&t[n+2],(p<0||p>3e3)&&(p=-1),(m<0||m>3e3)&&(m=-1),e.encDelay=p,e.encPadding=m,e},this.InitVbrTag=function(t){var n,i=t.internal_flags;n=1==t.version?h:t.out_samplerate<16e3?f:d,t.VBR==wn.vbr_off&&(n=t.brate);var r=72e3*(t.version+1)*n/t.out_samplerate,s=i.sideinfo_len+u;if(i.VBR_seek_table.TotalFrameSize=r,r<s||r>l)t.bWriteVbrTag=!1;else{i.VBR_seek_table.nVbrNumFrames=0,i.VBR_seek_table.nBytesWritten=0,i.VBR_seek_table.sum=0,i.VBR_seek_table.seen=0,i.VBR_seek_table.want=1,i.VBR_seek_table.pos=0,null==i.VBR_seek_table.bag&&(i.VBR_seek_table.bag=new int[400],i.VBR_seek_table.size=400);var a=Sn(l);C(t,a);for(var o=i.VBR_seek_table.TotalFrameSize,c=0;c<o;++c)e.add_dummy_byte(t,255&a[c],1)}},this.updateMusicCRC=function(t,e,n,i){for(var r=0;r<i;++r)t[0]=T(e[n+r],t[0])},this.getLameTagFrame=function(t,n){var l=t.internal_flags;if(!t.bWriteVbrTag||l.Class_ID!=Lame.LAME_ID||l.VBR_seek_table.pos<=0)return 0;if(n.length<l.VBR_seek_table.TotalFrameSize)return l.VBR_seek_table.TotalFrameSize;kn.fill(n,0,l.VBR_seek_table.TotalFrameSize,0),C(t,n);var c=Sn(o);if(t.free_format)for(var u=1;u<o;++u)c[u]=255&255*u/100;else y(l.VBR_seek_table,c);var h=l.sideinfo_len;t.error_protection&&(h-=2),t.VBR==wn.vbr_off?(n[h++]=255&_.charAt(0),n[h++]=255&_.charAt(1),n[h++]=255&_.charAt(2),n[h++]=255&_.charAt(3)):(n[h++]=255&m.charAt(0),n[h++]=255&m.charAt(1),n[h++]=255&m.charAt(2),n[h++]=255&m.charAt(3)),w(n,h,i+r+s+a),h+=4,w(n,h,l.VBR_seek_table.nVbrNumFrames),h+=4;var d=l.VBR_seek_table.nBytesWritten+l.VBR_seek_table.TotalFrameSize;w(n,h,0|d),h+=4,bn.arraycopy(c,0,n,h,c.length),h+=c.length,t.error_protection&&e.CRC_writeheader(l,n);var f=0;for(u=0;u<h;u++)f=T(n[u],f);return h+=A(t,d,n,h,f),l.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(t,e){var n=t.internal_flags;if(n.VBR_seek_table.pos<=0||(e.seek(e.length()),0==e.length()))return-1;var i=E(e);e.seek(i);var r=Sn(l),s=getLameTagFrame(t,r);return s>r.length?-1:(s<1||e.write(r,0,s),0)}}Tn.NUMTOCENTRIES=100,Tn.MAXFRAMESIZE=2880;var An=Tn,En=T,Mn=En.new_byte,On=En.assert,In=Be(),Pn=Fe,Rn=re,Dn=De(),Nn=dn,Ln=Ne(),Bn=_n,Vn=R,zn=Le();D();var jn=gn,Fn=An;function qn(){this.setModules=function(t,e){}}function Un(){this.setModules=function(t,e,n){}}function Hn(){}function Wn(){this.setModules=function(t,e){}}function Xn(t,e,n){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),t=1,e=44100,n=128);var i=new In,r=new qn,s=new Rn,a=new zn,o=new Pn,l=new Dn,c=new Nn,u=new Fn,h=new jn,d=new Wn,f=new Bn,p=new Ln,m=new Un,_=new Hn;i.setModules(s,a,o,l,c,u,h,d,_),a.setModules(s,_,h,u),d.setModules(a,h),o.setModules(i),c.setModules(a,f,l,p),l.setModules(p,f,i.enc.psy),f.setModules(a),p.setModules(l),u.setModules(i,a,h),r.setModules(m,_),m.setModules(h,d,o);var v=i.lame_init();v.num_channels=t,v.in_samplerate=e,v.brate=n,v.mode=Vn.STEREO,v.quality=3,v.bWriteVbrTag=!1,v.disable_reservoir=!0,v.write_id3tag_automatic=!1,i.lame_init_params(v);var g=1152,y=0|1.25*g+7200,b=Mn(y);this.encodeBuffer=function(e,n){1==t&&(n=e),On(e.length==n.length),e.length>g&&(g=e.length,y=0|1.25*g+7200,b=Mn(y));var r=i.lame_encode_buffer(v,e,n,e.length,b,0,y);return new Int8Array(b.subarray(0,r))},this.flush=function(){var t=i.lame_encode_flush(v,b,0,y);return new Int8Array(b.subarray(0,t))}}function $n(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function Yn(t){return t.charCodeAt(0)<<24|t.charCodeAt(1)<<16|t.charCodeAt(2)<<8|t.charCodeAt(3)}$n.RIFF=Yn("RIFF"),$n.WAVE=Yn("WAVE"),$n.fmt_=Yn("fmt "),$n.data=Yn("data"),$n.readHeader=function(t){var e=new $n,n=t.getUint32(0,!1);if($n.RIFF==n&&(t.getUint32(4,!0),$n.WAVE==t.getUint32(8,!1)&&$n.fmt_==t.getUint32(12,!1))){var i=t.getUint32(16,!0),r=20;switch(i){case 16:case 18:e.channels=t.getUint16(r+2,!0),e.sampleRate=t.getUint32(r+4,!0);break;default:throw"extended fmt chunk not implemented"}r+=i;for(var s=$n.data,a=0;s!=n&&(n=t.getUint32(r,!1),a=t.getUint32(r+4,!0),s!=n);)r+=a+8;return e.dataLen=a,e.dataOffset=r+8,e}};var Gn=i.Mp3Encoder=Xn,Zn=i.WavHeader=$n},2120:function(t,e,n){"use strict";n.d(e,{nZ:function(){return fr},D7:function(){return pr},TX:function(){return mr},rd:function(){return _r},zg:function(){return hs},Vx:function(){return Us}});n(4114),n(6573),n(8100),n(7936),n(7467),n(4732),n(9577);const i=15,r=30,s=19,a=29,o=256,l=o+1+a,c=2*l+1,u=256,h=7,d=16,f=17,p=18,m=16,_=-1,v=1,g=2,y=0,b=0,w=1,x=3,k=4,S=0,C=1,T=2,A=-2,E=-3,M=-5;function O(t){return I(t.map((([t,e])=>new Array(t).fill(e,0,t))))}function I(t){return t.reduce(((t,e)=>t.concat(Array.isArray(e)?I(e):e)),[])}const P=[0,1,2,3].concat(...O([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function R(){const t=this;function e(e){const n=t.dyn_tree,r=t.stat_desc.static_tree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,o=t.stat_desc.max_length;let l,u,h,d,f,p,m=0;for(d=0;d<=i;d++)e.bl_count[d]=0;for(n[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<c;l++)u=e.heap[l],d=n[2*n[2*u+1]+1]+1,d>o&&(d=o,m++),n[2*u+1]=d,u>t.max_code||(e.bl_count[d]++,f=0,u>=a&&(f=s[u-a]),p=n[2*u],e.opt_len+=p*(d+f),r&&(e.static_len+=p*(r[2*u+1]+f)));if(0!==m){do{d=o-1;while(0===e.bl_count[d])d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[o]--,m-=2}while(m>0);for(d=o;0!==d;d--){u=e.bl_count[d];while(0!==u)h=e.heap[--l],h>t.max_code||(n[2*h+1]!=d&&(e.opt_len+=(d-n[2*h+1])*n[2*h],n[2*h+1]=d),u--)}}}function n(t,e){let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function r(t,e,r){const s=[];let a,o,l,c=0;for(a=1;a<=i;a++)s[a]=c=c+r[a-1]<<1;for(o=0;o<=e;o++)l=t[2*o+1],0!==l&&(t[2*o]=n(s[l]++,l))}t.build_tree=function(n){const i=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.elems;let o,l,u,h=-1;for(n.heap_len=0,n.heap_max=c,o=0;o<a;o++)0!==i[2*o]?(n.heap[++n.heap_len]=h=o,n.depth[o]=0):i[2*o+1]=0;while(n.heap_len<2)u=n.heap[++n.heap_len]=h<2?++h:0,i[2*u]=1,n.depth[u]=0,n.opt_len--,s&&(n.static_len-=s[2*u+1]);for(t.max_code=h,o=Math.floor(n.heap_len/2);o>=1;o--)n.pqdownheap(i,o);u=a;do{o=n.heap[1],n.heap[1]=n.heap[n.heap_len--],n.pqdownheap(i,1),l=n.heap[1],n.heap[--n.heap_max]=o,n.heap[--n.heap_max]=l,i[2*u]=i[2*o]+i[2*l],n.depth[u]=Math.max(n.depth[o],n.depth[l])+1,i[2*o+1]=i[2*l+1]=u,n.heap[1]=u++,n.pqdownheap(i,1)}while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],e(n),r(i,t.max_code,n.bl_count)}}function D(t,e,n,i,r){const s=this;s.static_tree=t,s.extra_bits=e,s.extra_base=n,s.elems=i,s.max_length=r}R._length_code=[0,1,2,3,4,5,6,7].concat(...O([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),R.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],R.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],R.d_code=function(t){return t<256?P[t]:P[256+(t>>>7)]},R.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const N=[12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227],L=O([[144,8],[112,9],[24,7],[8,8]]);D.static_ltree=I(N.map(((t,e)=>[t,L[e]])));const B=[0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23],V=O([[30,5]]);D.static_dtree=I(B.map(((t,e)=>[t,V[e]]))),D.static_l_desc=new D(D.static_ltree,R.extra_lbits,o+1,l,i),D.static_d_desc=new D(D.static_dtree,R.extra_dbits,0,r,i),D.static_bl_desc=new D(null,R.extra_blbits,0,s,h);const z=9,j=8;function F(t,e,n,i,r){const s=this;s.good_length=t,s.max_lazy=e,s.nice_length=n,s.max_chain=i,s.func=r}const q=0,U=1,H=2,W=[new F(0,0,0,0,q),new F(4,4,8,4,U),new F(4,5,16,8,U),new F(4,6,32,32,U),new F(4,4,16,16,H),new F(8,16,32,32,H),new F(8,16,128,128,H),new F(8,32,128,256,H),new F(32,128,258,1024,H),new F(32,258,258,4096,H)],X=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],$=0,Y=1,G=2,Z=3,K=32,Q=42,J=113,tt=666,et=8,nt=0,it=1,rt=2,st=3,at=258,ot=at+st+1;function lt(t,e,n,i){const r=t[2*e],s=t[2*n];return r<s||r==s&&i[e]<=i[n]}function ct(){const t=this;let e,n,i,a,c,h,O,I,P,N,L,B,V,F,ct,ut,ht,dt,ft,pt,mt,_t,vt,gt,yt,bt,wt,xt,kt,St,Ct,Tt,At;const Et=new R,Mt=new R,Ot=new R;let It,Pt,Rt,Dt,Nt,Lt;function Bt(){P=2*c,L[V-1]=0;for(let t=0;t<V-1;t++)L[t]=0;bt=W[wt].max_lazy,kt=W[wt].good_length,St=W[wt].nice_length,yt=W[wt].max_chain,mt=0,ht=0,vt=0,dt=gt=st-1,pt=0,B=0}function Vt(){let e;for(e=0;e<l;e++)Ct[2*e]=0;for(e=0;e<r;e++)Tt[2*e]=0;for(e=0;e<s;e++)At[2*e]=0;Ct[2*u]=1,t.opt_len=t.static_len=0,Pt=Rt=0}function zt(){Et.dyn_tree=Ct,Et.stat_desc=D.static_l_desc,Mt.dyn_tree=Tt,Mt.stat_desc=D.static_d_desc,Ot.dyn_tree=At,Ot.stat_desc=D.static_bl_desc,Nt=0,Lt=0,Dt=8,Vt()}function jt(t,e){let n,i=-1,r=t[1],s=0,a=7,o=4;0===r&&(a=138,o=3),t[2*(e+1)+1]=65535;for(let l=0;l<=e;l++)n=r,r=t[2*(l+1)+1],++s<a&&n==r||(s<o?At[2*n]+=s:0!==n?(n!=i&&At[2*n]++,At[2*d]++):s<=10?At[2*f]++:At[2*p]++,s=0,i=n,0===r?(a=138,o=3):n==r?(a=6,o=3):(a=7,o=4))}function Ft(){let e;for(jt(Ct,Et.max_code),jt(Tt,Mt.max_code),Ot.build_tree(t),e=s-1;e>=3;e--)if(0!==At[2*R.bl_order[e]+1])break;return t.opt_len+=3*(e+1)+5+5+4,e}function qt(e){t.pending_buf[t.pending++]=e}function Ut(t){qt(255&t),qt(t>>>8&255)}function Ht(t){qt(t>>8&255),qt(255&t)}function Wt(t,e){let n;const i=e;Lt>m-i?(n=t,Nt|=n<<Lt&65535,Ut(Nt),Nt=n>>>m-Lt,Lt+=i-m):(Nt|=t<<Lt&65535,Lt+=i)}function Xt(t,e){const n=2*t;Wt(65535&e[n],65535&e[n+1])}function $t(t,e){let n,i,r=-1,s=t[1],a=0,o=7,l=4;for(0===s&&(o=138,l=3),n=0;n<=e;n++)if(i=s,s=t[2*(n+1)+1],!(++a<o&&i==s)){if(a<l)do{Xt(i,At)}while(0!==--a);else 0!==i?(i!=r&&(Xt(i,At),a--),Xt(d,At),Wt(a-3,2)):a<=10?(Xt(f,At),Wt(a-3,3)):(Xt(p,At),Wt(a-11,7));a=0,r=i,0===s?(o=138,l=3):i==s?(o=6,l=3):(o=7,l=4)}}function Yt(t,e,n){let i;for(Wt(t-257,5),Wt(e-1,5),Wt(n-4,4),i=0;i<n;i++)Wt(At[2*R.bl_order[i]+1],3);$t(Ct,t-1),$t(Tt,e-1)}function Gt(){16==Lt?(Ut(Nt),Nt=0,Lt=0):Lt>=8&&(qt(255&Nt),Nt>>>=8,Lt-=8)}function Zt(){Wt(it<<1,3),Xt(u,D.static_ltree),Gt(),1+Dt+10-Lt<9&&(Wt(it<<1,3),Xt(u,D.static_ltree),Gt()),Dt=7}function Kt(e,n){let i,s,a;if(t.dist_buf[Pt]=e,t.lc_buf[Pt]=255&n,Pt++,0===e?Ct[2*n]++:(Rt++,e--,Ct[2*(R._length_code[n]+o+1)]++,Tt[2*R.d_code(e)]++),0===(8191&Pt)&&wt>2){for(i=8*Pt,s=mt-ht,a=0;a<r;a++)i+=Tt[2*a]*(5+R.extra_dbits[a]);if(i>>>=3,Rt<Math.floor(Pt/2)&&i<Math.floor(s/2))return!0}return Pt==It-1}function Qt(e,n){let i,r,s,a,l=0;if(0!==Pt)do{i=t.dist_buf[l],r=t.lc_buf[l],l++,0===i?Xt(r,e):(s=R._length_code[r],Xt(s+o+1,e),a=R.extra_lbits[s],0!==a&&(r-=R.base_length[s],Wt(r,a)),i--,s=R.d_code(i),Xt(s,n),a=R.extra_dbits[s],0!==a&&(i-=R.base_dist[s],Wt(i,a)))}while(l<Pt);Xt(u,e),Dt=e[2*u+1]}function Jt(){Lt>8?Ut(Nt):Lt>0&&qt(255&Nt),Nt=0,Lt=0}function te(e,n,i){Jt(),Dt=8,i&&(Ut(n),Ut(~n)),t.pending_buf.set(I.subarray(e,e+n),t.pending),t.pending+=n}function ee(t,e,n){Wt((nt<<1)+(n?1:0),3),te(t,e,!0)}function ne(e,n,i){let r,s,a=0;wt>0?(Et.build_tree(t),Mt.build_tree(t),a=Ft(),r=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=r&&(r=s)):r=s=n+5,n+4<=r&&-1!=e?ee(e,n,i):s==r?(Wt((it<<1)+(i?1:0),3),Qt(D.static_ltree,D.static_dtree)):(Wt((rt<<1)+(i?1:0),3),Yt(Et.max_code+1,Mt.max_code+1,a+1),Qt(Ct,Tt)),Vt(),i&&Jt()}function ie(t){ne(ht>=0?ht:-1,mt-ht,t),ht=mt,e.flush_pending()}function re(){let t,n,i,r;do{if(r=P-vt-mt,0===r&&0===mt&&0===vt)r=c;else if(-1==r)r--;else if(mt>=c+c-ot){I.set(I.subarray(c,c+c),0),_t-=c,mt-=c,ht-=c,t=V,i=t;do{n=65535&L[--i],L[i]=n>=c?n-c:0}while(0!==--t);t=c,i=t;do{n=65535&N[--i],N[i]=n>=c?n-c:0}while(0!==--t);r+=c}if(0===e.avail_in)return;t=e.read_buf(I,mt+vt,r),vt+=t,vt>=st&&(B=255&I[mt],B=(B<<ut^255&I[mt+1])&ct)}while(vt<ot&&0!==e.avail_in)}function se(t){let n,r=65535;r>i-5&&(r=i-5);while(1){if(vt<=1){if(re(),0===vt&&t==b)return $;if(0===vt)break}if(mt+=vt,vt=0,n=ht+r,(0===mt||mt>=n)&&(vt=mt-n,mt=n,ie(!1),0===e.avail_out))return $;if(mt-ht>=c-ot&&(ie(!1),0===e.avail_out))return $}return ie(t==k),0===e.avail_out?t==k?G:$:t==k?Z:Y}function ae(t){let e,n,i=yt,r=mt,s=gt;const a=mt>c-ot?mt-(c-ot):0;let o=St;const l=O,u=mt+at;let h=I[r+s-1],d=I[r+s];gt>=kt&&(i>>=2),o>vt&&(o=vt);do{if(e=t,I[e+s]==d&&I[e+s-1]==h&&I[e]==I[r]&&I[++e]==I[r+1]){r+=2,e++;do{}while(I[++r]==I[++e]&&I[++r]==I[++e]&&I[++r]==I[++e]&&I[++r]==I[++e]&&I[++r]==I[++e]&&I[++r]==I[++e]&&I[++r]==I[++e]&&I[++r]==I[++e]&&r<u);if(n=at-(u-r),r=u-at,n>s){if(_t=t,s=n,n>=o)break;h=I[r+s-1],d=I[r+s]}}}while((t=65535&N[t&l])>a&&0!==--i);return s<=vt?s:vt}function oe(t){let n,i=0;while(1){if(vt<ot){if(re(),vt<ot&&t==b)return $;if(0===vt)break}if(vt>=st&&(B=(B<<ut^255&I[mt+(st-1)])&ct,i=65535&L[B],N[mt&O]=L[B],L[B]=mt),0!==i&&(mt-i&65535)<=c-ot&&xt!=g&&(dt=ae(i)),dt>=st)if(n=Kt(mt-_t,dt-st),vt-=dt,dt<=bt&&vt>=st){dt--;do{mt++,B=(B<<ut^255&I[mt+(st-1)])&ct,i=65535&L[B],N[mt&O]=L[B],L[B]=mt}while(0!==--dt);mt++}else mt+=dt,dt=0,B=255&I[mt],B=(B<<ut^255&I[mt+1])&ct;else n=Kt(0,255&I[mt]),vt--,mt++;if(n&&(ie(!1),0===e.avail_out))return $}return ie(t==k),0===e.avail_out?t==k?G:$:t==k?Z:Y}function le(t){let n,i,r=0;while(1){if(vt<ot){if(re(),vt<ot&&t==b)return $;if(0===vt)break}if(vt>=st&&(B=(B<<ut^255&I[mt+(st-1)])&ct,r=65535&L[B],N[mt&O]=L[B],L[B]=mt),gt=dt,ft=_t,dt=st-1,0!==r&&gt<bt&&(mt-r&65535)<=c-ot&&(xt!=g&&(dt=ae(r)),dt<=5&&(xt==v||dt==st&&mt-_t>4096)&&(dt=st-1)),gt>=st&&dt<=gt){i=mt+vt-st,n=Kt(mt-1-ft,gt-st),vt-=gt-1,gt-=2;do{++mt<=i&&(B=(B<<ut^255&I[mt+(st-1)])&ct,r=65535&L[B],N[mt&O]=L[B],L[B]=mt)}while(0!==--gt);if(pt=0,dt=st-1,mt++,n&&(ie(!1),0===e.avail_out))return $}else if(0!==pt){if(n=Kt(0,255&I[mt-1]),n&&ie(!1),mt++,vt--,0===e.avail_out)return $}else pt=1,mt++,vt--}return 0!==pt&&(n=Kt(0,255&I[mt-1]),pt=0),ie(t==k),0===e.avail_out?t==k?G:$:t==k?Z:Y}function ce(e){return e.total_in=e.total_out=0,e.msg=null,t.pending=0,t.pending_out=0,n=J,a=b,zt(),Bt(),S}t.depth=[],t.bl_count=[],t.heap=[],Ct=[],Tt=[],At=[],t.pqdownheap=function(e,n){const i=t.heap,r=i[n];let s=n<<1;while(s<=t.heap_len){if(s<t.heap_len&&lt(e,i[s+1],i[s],t.depth)&&s++,lt(e,r,i[s],t.depth))break;i[n]=i[s],n=s,s<<=1}i[n]=r},t.deflateInit=function(e,n,r,s,a,o){return s||(s=et),a||(a=j),o||(o=y),e.msg=null,n==_&&(n=6),a<1||a>z||s!=et||r<9||r>15||n<0||n>9||o<0||o>g?A:(e.dstate=t,h=r,c=1<<h,O=c-1,F=a+7,V=1<<F,ct=V-1,ut=Math.floor((F+st-1)/st),I=new Uint8Array(2*c),N=[],L=[],It=1<<a+6,t.pending_buf=new Uint8Array(4*It),i=4*It,t.dist_buf=new Uint16Array(It),t.lc_buf=new Uint8Array(It),wt=n,xt=o,ce(e))},t.deflateEnd=function(){return n!=Q&&n!=J&&n!=tt?A:(t.lc_buf=null,t.dist_buf=null,t.pending_buf=null,L=null,N=null,I=null,t.dstate=null,n==J?E:S)},t.deflateParams=function(t,e,n){let i=S;return e==_&&(e=6),e<0||e>9||n<0||n>g?A:(W[wt].func!=W[e].func&&0!==t.total_in&&(i=t.deflate(w)),wt!=e&&(wt=e,bt=W[wt].max_lazy,kt=W[wt].good_length,St=W[wt].nice_length,yt=W[wt].max_chain),xt=n,i)},t.deflateSetDictionary=function(t,e,i){let r,s=i,a=0;if(!e||n!=Q)return A;if(s<st)return S;for(s>c-ot&&(s=c-ot,a=i-s),I.set(e.subarray(a,a+s),0),mt=s,ht=s,B=255&I[0],B=(B<<ut^255&I[1])&ct,r=0;r<=s-st;r++)B=(B<<ut^255&I[r+(st-1)])&ct,N[r&O]=L[B],L[B]=r;return S},t.deflate=function(i,r){let s,o,l,c,u;if(r>k||r<0)return A;if(!i.next_out||!i.next_in&&0!==i.avail_in||n==tt&&r!=k)return i.msg=X[T-A],A;if(0===i.avail_out)return i.msg=X[T-M],M;if(e=i,c=a,a=r,n==Q&&(o=et+(h-8<<4)<<8,l=(wt-1&255)>>1,l>3&&(l=3),o|=l<<6,0!==mt&&(o|=K),o+=31-o%31,n=J,Ht(o)),0!==t.pending){if(e.flush_pending(),0===e.avail_out)return a=-1,S}else if(0===e.avail_in&&r<=c&&r!=k)return e.msg=X[T-M],M;if(n==tt&&0!==e.avail_in)return i.msg=X[T-M],M;if(0!==e.avail_in||0!==vt||r!=b&&n!=tt){switch(u=-1,W[wt].func){case q:u=se(r);break;case U:u=oe(r);break;case H:u=le(r);break;default:}if(u!=G&&u!=Z||(n=tt),u==$||u==G)return 0===e.avail_out&&(a=-1),S;if(u==Y){if(r==w)Zt();else if(ee(0,0,!1),r==x)for(s=0;s<V;s++)L[s]=0;if(e.flush_pending(),0===e.avail_out)return a=-1,S}}return r!=k?S:C}}function ut(){const t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}function ht(t){const e=this,n=new ut,i=dt(t&&t.chunkSize?t.chunkSize:65536),r=b,s=new Uint8Array(i);let a=t?t.level:_;"undefined"==typeof a&&(a=_),n.deflateInit(a),n.next_out=s,e.append=function(t,e){let a,o,l=0,c=0,u=0;const h=[];if(t.length){n.next_in_index=0,n.next_in=t,n.avail_in=t.length;do{if(n.next_out_index=0,n.avail_out=i,a=n.deflate(r),a!=S)throw new Error("deflating: "+n.msg);n.next_out_index&&(n.next_out_index==i?h.push(new Uint8Array(s)):h.push(s.subarray(0,n.next_out_index))),u+=n.next_out_index,e&&n.next_in_index>0&&n.next_in_index!=l&&(e(n.next_in_index),l=n.next_in_index)}while(n.avail_in>0||0===n.avail_out);return h.length>1?(o=new Uint8Array(u),h.forEach((function(t){o.set(t,c),c+=t.length}))):o=h[0]?new Uint8Array(h[0]):new Uint8Array,o}},e.flush=function(){let t,e,r=0,a=0;const o=[];do{if(n.next_out_index=0,n.avail_out=i,t=n.deflate(k),t!=C&&t!=S)throw new Error("deflating: "+n.msg);i-n.avail_out>0&&o.push(s.slice(0,n.next_out_index)),a+=n.next_out_index}while(n.avail_in>0||0===n.avail_out);return n.deflateEnd(),e=new Uint8Array(a),o.forEach((function(t){e.set(t,r),r+=t.length})),e}}function dt(t){return t+5*(Math.floor(t/16383)+1)}ut.prototype={deflateInit(t,e){const n=this;return n.dstate=new ct,e||(e=i),n.dstate.deflateInit(n,t,e)},deflate(t){const e=this;return e.dstate?e.dstate.deflate(e,t):A},deflateEnd(){const t=this;if(!t.dstate)return A;const e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams(t,e){const n=this;return n.dstate?n.dstate.deflateParams(n,t,e):A},deflateSetDictionary(t,e){const n=this;return n.dstate?n.dstate.deflateSetDictionary(n,t,e):A},read_buf(t,e,n){const i=this;let r=i.avail_in;return r>n&&(r=n),0===r?0:(i.avail_in-=r,t.set(i.next_in.subarray(i.next_in_index,i.next_in_index+r),e),i.next_in_index+=r,i.total_in+=r,r)},flush_pending(){const t=this;let e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}};const ft=15,pt=0,mt=1,_t=2,vt=-2,gt=-3,yt=-4,bt=-5,wt=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],xt=1440,kt=0,St=4,Ct=9,Tt=5,At=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],Et=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],Mt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Ot=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],It=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Pt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Rt=15;function Dt(){const t=this;let e,n,i,r,s,a;function o(t,e,n,o,l,c,u,h,d,f,p){let m,_,v,g,y,b,w,x,k,S,C,T,A,E,M;S=0,y=n;do{i[t[e+S]]++,S++,y--}while(0!==y);if(i[0]==n)return u[0]=-1,h[0]=0,pt;for(x=h[0],b=1;b<=Rt;b++)if(0!==i[b])break;for(w=b,x<b&&(x=b),y=Rt;0!==y;y--)if(0!==i[y])break;for(v=y,x>y&&(x=y),h[0]=x,E=1<<b;b<y;b++,E<<=1)if((E-=i[b])<0)return gt;if((E-=i[y])<0)return gt;i[y]+=E,a[1]=b=0,S=1,A=2;while(0!==--y)a[A]=b+=i[S],A++,S++;y=0,S=0;do{0!==(b=t[e+S])&&(p[a[b]++]=y),S++}while(++y<n);for(n=a[v],a[0]=y=0,S=0,g=-1,T=-x,s[0]=0,C=0,M=0;w<=v;w++){m=i[w];while(0!==m--){while(w>T+x){if(g++,T+=x,M=v-T,M=M>x?x:M,(_=1<<(b=w-T))>m+1&&(_-=m+1,A=w,b<M))while(++b<M){if((_<<=1)<=i[++A])break;_-=i[A]}if(M=1<<b,f[0]+M>xt)return gt;s[g]=C=f[0],f[0]+=M,0!==g?(a[g]=y,r[0]=b,r[1]=x,b=y>>>T-x,r[2]=C-s[g-1]-b,d.set(r,3*(s[g-1]+b))):u[0]=C}for(r[1]=w-T,S>=n?r[0]=192:p[S]<o?(r[0]=p[S]<256?0:96,r[2]=p[S++]):(r[0]=c[p[S]-o]+16+64,r[2]=l[p[S++]-o]),_=1<<w-T,b=y>>>T;b<M;b+=_)d.set(r,3*(C+b));for(b=1<<w-1;0!==(y&b);b>>>=1)y^=b;y^=b,k=(1<<T)-1;while((y&k)!=a[g])g--,T-=x,k=(1<<T)-1}}return 0!==E&&1!=v?bt:pt}function l(t){let o;for(e||(e=[],n=[],i=new Int32Array(Rt+1),r=[],s=new Int32Array(Rt),a=new Int32Array(Rt+1)),n.length<t&&(n=[]),o=0;o<t;o++)n[o]=0;for(o=0;o<Rt+1;o++)i[o]=0;for(o=0;o<3;o++)r[o]=0;s.set(i.subarray(0,Rt),0),a.set(i.subarray(0,Rt+1),0)}t.inflate_trees_bits=function(t,i,r,s,a){let c;return l(19),e[0]=0,c=o(t,0,19,19,null,null,r,i,s,e,n),c==gt?a.msg="oversubscribed dynamic bit lengths tree":c!=bt&&0!==i[0]||(a.msg="incomplete dynamic bit lengths tree",c=gt),c},t.inflate_trees_dynamic=function(t,i,r,s,a,c,u,h,d){let f;return l(288),e[0]=0,f=o(r,0,t,257,Mt,Ot,c,s,h,e,n),f!=pt||0===s[0]?(f==gt?d.msg="oversubscribed literal/length tree":f!=yt&&(d.msg="incomplete literal/length tree",f=gt),f):(l(288),f=o(r,t,i,0,It,Pt,u,a,h,e,n),f!=pt||0===a[0]&&t>257?(f==gt?d.msg="oversubscribed distance tree":f==bt?(d.msg="incomplete distance tree",f=gt):f!=yt&&(d.msg="empty distance tree with lengths",f=gt),f):pt)}}Dt.inflate_trees_fixed=function(t,e,n,i){return t[0]=Ct,e[0]=Tt,n[0]=At,i[0]=Et,pt};const Nt=0,Lt=1,Bt=2,Vt=3,zt=4,jt=5,Ft=6,qt=7,Ut=8,Ht=9;function Wt(){const t=this;let e,n,i,r,s=0,a=0,o=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0;function m(t,e,n,i,r,s,a,o){let l,c,u,h,d,f,p,m,_,v,g,y,b,w,x,k;p=o.next_in_index,m=o.avail_in,d=a.bitb,f=a.bitk,_=a.write,v=_<a.read?a.read-_-1:a.end-_,g=wt[t],y=wt[e];do{while(f<20)m--,d|=(255&o.read_byte(p++))<<f,f+=8;if(l=d&g,c=n,u=i,k=3*(u+l),0!==(h=c[k]))do{if(d>>=c[k+1],f-=c[k+1],0!==(16&h)){h&=15,b=c[k+2]+(d&wt[h]),d>>=h,f-=h;while(f<15)m--,d|=(255&o.read_byte(p++))<<f,f+=8;l=d&y,c=r,u=s,k=3*(u+l),h=c[k];do{if(d>>=c[k+1],f-=c[k+1],0!==(16&h)){h&=15;while(f<h)m--,d|=(255&o.read_byte(p++))<<f,f+=8;if(w=c[k+2]+(d&wt[h]),d>>=h,f-=h,v-=b,_>=w)x=_-w,_-x>0&&2>_-x?(a.win[_++]=a.win[x++],a.win[_++]=a.win[x++],b-=2):(a.win.set(a.win.subarray(x,x+2),_),_+=2,x+=2,b-=2);else{x=_-w;do{x+=a.end}while(x<0);if(h=a.end-x,b>h){if(b-=h,_-x>0&&h>_-x)do{a.win[_++]=a.win[x++]}while(0!==--h);else a.win.set(a.win.subarray(x,x+h),_),_+=h,x+=h,h=0;x=0}}if(_-x>0&&b>_-x)do{a.win[_++]=a.win[x++]}while(0!==--b);else a.win.set(a.win.subarray(x,x+b),_),_+=b,x+=b,b=0;break}if(0!==(64&h))return o.msg="invalid distance code",b=o.avail_in-m,b=f>>3<b?f>>3:b,m+=b,p-=b,f-=b<<3,a.bitb=d,a.bitk=f,o.avail_in=m,o.total_in+=p-o.next_in_index,o.next_in_index=p,a.write=_,gt;l+=c[k+2],l+=d&wt[h],k=3*(u+l),h=c[k]}while(1);break}if(0!==(64&h))return 0!==(32&h)?(b=o.avail_in-m,b=f>>3<b?f>>3:b,m+=b,p-=b,f-=b<<3,a.bitb=d,a.bitk=f,o.avail_in=m,o.total_in+=p-o.next_in_index,o.next_in_index=p,a.write=_,mt):(o.msg="invalid literal/length code",b=o.avail_in-m,b=f>>3<b?f>>3:b,m+=b,p-=b,f-=b<<3,a.bitb=d,a.bitk=f,o.avail_in=m,o.total_in+=p-o.next_in_index,o.next_in_index=p,a.write=_,gt);if(l+=c[k+2],l+=d&wt[h],k=3*(u+l),0===(h=c[k])){d>>=c[k+1],f-=c[k+1],a.win[_++]=c[k+2],v--;break}}while(1);else d>>=c[k+1],f-=c[k+1],a.win[_++]=c[k+2],v--}while(v>=258&&m>=10);return b=o.avail_in-m,b=f>>3<b?f>>3:b,m+=b,p-=b,f-=b<<3,a.bitb=d,a.bitk=f,o.avail_in=m,o.total_in+=p-o.next_in_index,o.next_in_index=p,a.write=_,pt}t.init=function(t,s,a,o,l,c){e=Nt,h=t,d=s,i=a,f=o,r=l,p=c,n=null},t.proc=function(t,_,v){let g,y,b,w,x,k,S,C=0,T=0,A=0;A=_.next_in_index,w=_.avail_in,C=t.bitb,T=t.bitk,x=t.write,k=x<t.read?t.read-x-1:t.end-x;while(1)switch(e){case Nt:if(k>=258&&w>=10&&(t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,v=m(h,d,i,f,r,p,t,_),A=_.next_in_index,w=_.avail_in,C=t.bitb,T=t.bitk,x=t.write,k=x<t.read?t.read-x-1:t.end-x,v!=pt)){e=v==mt?qt:Ht;break}o=h,n=i,a=f,e=Lt;case Lt:g=o;while(T<g){if(0===w)return t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v);v=pt,w--,C|=(255&_.read_byte(A++))<<T,T+=8}if(y=3*(a+(C&wt[g])),C>>>=n[y+1],T-=n[y+1],b=n[y],0===b){l=n[y+2],e=Ft;break}if(0!==(16&b)){c=15&b,s=n[y+2],e=Bt;break}if(0===(64&b)){o=b,a=y/3+n[y+2];break}if(0!==(32&b)){e=qt;break}return e=Ht,_.msg="invalid literal/length code",v=gt,t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v);case Bt:g=c;while(T<g){if(0===w)return t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v);v=pt,w--,C|=(255&_.read_byte(A++))<<T,T+=8}s+=C&wt[g],C>>=g,T-=g,o=d,n=r,a=p,e=Vt;case Vt:g=o;while(T<g){if(0===w)return t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v);v=pt,w--,C|=(255&_.read_byte(A++))<<T,T+=8}if(y=3*(a+(C&wt[g])),C>>=n[y+1],T-=n[y+1],b=n[y],0!==(16&b)){c=15&b,u=n[y+2],e=zt;break}if(0===(64&b)){o=b,a=y/3+n[y+2];break}return e=Ht,_.msg="invalid distance code",v=gt,t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v);case zt:g=c;while(T<g){if(0===w)return t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v);v=pt,w--,C|=(255&_.read_byte(A++))<<T,T+=8}u+=C&wt[g],C>>=g,T-=g,e=jt;case jt:S=x-u;while(S<0)S+=t.end;while(0!==s){if(0===k&&(x==t.end&&0!==t.read&&(x=0,k=x<t.read?t.read-x-1:t.end-x),0===k&&(t.write=x,v=t.inflate_flush(_,v),x=t.write,k=x<t.read?t.read-x-1:t.end-x,x==t.end&&0!==t.read&&(x=0,k=x<t.read?t.read-x-1:t.end-x),0===k)))return t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v);t.win[x++]=t.win[S++],k--,S==t.end&&(S=0),s--}e=Nt;break;case Ft:if(0===k&&(x==t.end&&0!==t.read&&(x=0,k=x<t.read?t.read-x-1:t.end-x),0===k&&(t.write=x,v=t.inflate_flush(_,v),x=t.write,k=x<t.read?t.read-x-1:t.end-x,x==t.end&&0!==t.read&&(x=0,k=x<t.read?t.read-x-1:t.end-x),0===k)))return t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v);v=pt,t.win[x++]=l,k--,e=Nt;break;case qt:if(T>7&&(T-=8,w++,A--),t.write=x,v=t.inflate_flush(_,v),x=t.write,k=x<t.read?t.read-x-1:t.end-x,t.read!=t.write)return t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v);e=Ut;case Ut:return v=mt,t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v);case Ht:return v=gt,t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v);default:return v=vt,t.bitb=C,t.bitk=T,_.avail_in=w,_.total_in+=A-_.next_in_index,_.next_in_index=A,t.write=x,t.inflate_flush(_,v)}},t.free=function(){}}const Xt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$t=0,Yt=1,Gt=2,Zt=3,Kt=4,Qt=5,Jt=6,te=7,ee=8,ne=9;function ie(t,e){const n=this;let i,r=$t,s=0,a=0,o=0;const l=[0],c=[0],u=new Wt;let h=0,d=new Int32Array(3*xt);const f=0,p=new Dt;n.bitk=0,n.bitb=0,n.win=new Uint8Array(e),n.end=e,n.read=0,n.write=0,n.reset=function(t,e){e&&(e[0]=f),r==Jt&&u.free(t),r=$t,n.bitk=0,n.bitb=0,n.read=n.write=0},n.reset(t,null),n.inflate_flush=function(t,e){let i,r,s;return r=t.next_out_index,s=n.read,i=(s<=n.write?n.write:n.end)-s,i>t.avail_out&&(i=t.avail_out),0!==i&&e==bt&&(e=pt),t.avail_out-=i,t.total_out+=i,t.next_out.set(n.win.subarray(s,s+i),r),r+=i,s+=i,s==n.end&&(s=0,n.write==n.end&&(n.write=0),i=n.write-s,i>t.avail_out&&(i=t.avail_out),0!==i&&e==bt&&(e=pt),t.avail_out-=i,t.total_out+=i,t.next_out.set(n.win.subarray(s,s+i),r),r+=i,s+=i),t.next_out_index=r,n.read=s,e},n.proc=function(t,e){let f,m,_,v,g,y,b,w;v=t.next_in_index,g=t.avail_in,m=n.bitb,_=n.bitk,y=n.write,b=y<n.read?n.read-y-1:n.end-y;while(1){let x,k,S,C,T,A,E,M;switch(r){case $t:while(_<3){if(0===g)return n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);e=pt,g--,m|=(255&t.read_byte(v++))<<_,_+=8}switch(f=7&m,h=1&f,f>>>1){case 0:m>>>=3,_-=3,f=7&_,m>>>=f,_-=f,r=Yt;break;case 1:x=[],k=[],S=[[]],C=[[]],Dt.inflate_trees_fixed(x,k,S,C),u.init(x[0],k[0],S[0],0,C[0],0),m>>>=3,_-=3,r=Jt;break;case 2:m>>>=3,_-=3,r=Zt;break;case 3:return m>>>=3,_-=3,r=ne,t.msg="invalid block type",e=gt,n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e)}break;case Yt:while(_<32){if(0===g)return n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);e=pt,g--,m|=(255&t.read_byte(v++))<<_,_+=8}if((~m>>>16&65535)!=(65535&m))return r=ne,t.msg="invalid stored block lengths",e=gt,n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);s=65535&m,m=_=0,r=0!==s?Gt:0!==h?te:$t;break;case Gt:if(0===g)return n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);if(0===b&&(y==n.end&&0!==n.read&&(y=0,b=y<n.read?n.read-y-1:n.end-y),0===b&&(n.write=y,e=n.inflate_flush(t,e),y=n.write,b=y<n.read?n.read-y-1:n.end-y,y==n.end&&0!==n.read&&(y=0,b=y<n.read?n.read-y-1:n.end-y),0===b)))return n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);if(e=pt,f=s,f>g&&(f=g),f>b&&(f=b),n.win.set(t.read_buf(v,f),y),v+=f,g-=f,y+=f,b-=f,0!==(s-=f))break;r=0!==h?te:$t;break;case Zt:while(_<14){if(0===g)return n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);e=pt,g--,m|=(255&t.read_byte(v++))<<_,_+=8}if(a=f=16383&m,(31&f)>29||(f>>5&31)>29)return r=ne,t.msg="too many length or distance symbols",e=gt,n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);if(f=258+(31&f)+(f>>5&31),!i||i.length<f)i=[];else for(w=0;w<f;w++)i[w]=0;m>>>=14,_-=14,o=0,r=Kt;case Kt:while(o<4+(a>>>10)){while(_<3){if(0===g)return n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);e=pt,g--,m|=(255&t.read_byte(v++))<<_,_+=8}i[Xt[o++]]=7&m,m>>>=3,_-=3}while(o<19)i[Xt[o++]]=0;if(l[0]=7,f=p.inflate_trees_bits(i,l,c,d,t),f!=pt)return e=f,e==gt&&(i=null,r=ne),n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);o=0,r=Qt;case Qt:while(1){if(f=a,o>=258+(31&f)+(f>>5&31))break;let s,u;f=l[0];while(_<f){if(0===g)return n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);e=pt,g--,m|=(255&t.read_byte(v++))<<_,_+=8}if(f=d[3*(c[0]+(m&wt[f]))+1],u=d[3*(c[0]+(m&wt[f]))+2],u<16)m>>>=f,_-=f,i[o++]=u;else{w=18==u?7:u-14,s=18==u?11:3;while(_<f+w){if(0===g)return n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);e=pt,g--,m|=(255&t.read_byte(v++))<<_,_+=8}if(m>>>=f,_-=f,s+=m&wt[w],m>>>=w,_-=w,w=o,f=a,w+s>258+(31&f)+(f>>5&31)||16==u&&w<1)return i=null,r=ne,t.msg="invalid bit length repeat",e=gt,n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);u=16==u?i[w-1]:0;do{i[w++]=u}while(0!==--s);o=w}}if(c[0]=-1,T=[],A=[],E=[],M=[],T[0]=9,A[0]=6,f=a,f=p.inflate_trees_dynamic(257+(31&f),1+(f>>5&31),i,T,A,E,M,d,t),f!=pt)return f==gt&&(i=null,r=ne),e=f,n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);u.init(T[0],A[0],d,E[0],d,M[0]),r=Jt;case Jt:if(n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,(e=u.proc(n,t,e))!=mt)return n.inflate_flush(t,e);if(e=pt,u.free(t),v=t.next_in_index,g=t.avail_in,m=n.bitb,_=n.bitk,y=n.write,b=y<n.read?n.read-y-1:n.end-y,0===h){r=$t;break}r=te;case te:if(n.write=y,e=n.inflate_flush(t,e),y=n.write,b=y<n.read?n.read-y-1:n.end-y,n.read!=n.write)return n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);r=ee;case ee:return e=mt,n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);case ne:return e=gt,n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e);default:return e=vt,n.bitb=m,n.bitk=_,t.avail_in=g,t.total_in+=v-t.next_in_index,t.next_in_index=v,n.write=y,n.inflate_flush(t,e)}}},n.free=function(t){n.reset(t,null),n.win=null,d=null},n.set_dictionary=function(t,e,i){n.win.set(t.subarray(e,e+i),0),n.read=n.write=i},n.sync_point=function(){return r==Yt?1:0}}const re=32,se=8,ae=0,oe=1,le=2,ce=3,ue=4,he=5,de=6,fe=7,pe=12,me=13,_e=[0,0,255,255];function ve(){const t=this;function e(t){return t&&t.istate?(t.total_in=t.total_out=0,t.msg=null,t.istate.mode=fe,t.istate.blocks.reset(t,null),pt):vt}t.mode=0,t.method=0,t.was=[0],t.need=0,t.marker=0,t.wbits=0,t.inflateEnd=function(e){return t.blocks&&t.blocks.free(e),t.blocks=null,pt},t.inflateInit=function(n,i){return n.msg=null,t.blocks=null,i<8||i>15?(t.inflateEnd(n),vt):(t.wbits=i,n.istate.blocks=new ie(n,1<<i),e(n),pt)},t.inflate=function(t,e){let n,i;if(!t||!t.istate||!t.next_in)return vt;const r=t.istate;e=e==St?bt:pt,n=bt;while(1)switch(r.mode){case ae:if(0===t.avail_in)return n;if(n=e,t.avail_in--,t.total_in++,(15&(r.method=t.read_byte(t.next_in_index++)))!=se){r.mode=me,t.msg="unknown compression method",r.marker=5;break}if(8+(r.method>>4)>r.wbits){r.mode=me,t.msg="invalid win size",r.marker=5;break}r.mode=oe;case oe:if(0===t.avail_in)return n;if(n=e,t.avail_in--,t.total_in++,i=255&t.read_byte(t.next_in_index++),((r.method<<8)+i)%31!==0){r.mode=me,t.msg="incorrect header check",r.marker=5;break}if(0===(i&re)){r.mode=fe;break}r.mode=le;case le:if(0===t.avail_in)return n;n=e,t.avail_in--,t.total_in++,r.need=(255&t.read_byte(t.next_in_index++))<<24&4278190080,r.mode=ce;case ce:if(0===t.avail_in)return n;n=e,t.avail_in--,t.total_in++,r.need+=(255&t.read_byte(t.next_in_index++))<<16&16711680,r.mode=ue;case ue:if(0===t.avail_in)return n;n=e,t.avail_in--,t.total_in++,r.need+=(255&t.read_byte(t.next_in_index++))<<8&65280,r.mode=he;case he:return 0===t.avail_in?n:(n=e,t.avail_in--,t.total_in++,r.need+=255&t.read_byte(t.next_in_index++),r.mode=de,_t);case de:return r.mode=me,t.msg="need dictionary",r.marker=0,vt;case fe:if(n=r.blocks.proc(t,n),n==gt){r.mode=me,r.marker=0;break}if(n==pt&&(n=e),n!=mt)return n;n=e,r.blocks.reset(t,r.was),r.mode=pe;case pe:return t.avail_in=0,mt;case me:return gt;default:return vt}},t.inflateSetDictionary=function(t,e,n){let i=0,r=n;if(!t||!t.istate||t.istate.mode!=de)return vt;const s=t.istate;return r>=1<<s.wbits&&(r=(1<<s.wbits)-1,i=n-r),s.blocks.set_dictionary(e,i,r),s.mode=fe,pt},t.inflateSync=function(t){let n,i,r,s,a;if(!t||!t.istate)return vt;const o=t.istate;if(o.mode!=me&&(o.mode=me,o.marker=0),0===(n=t.avail_in))return bt;i=t.next_in_index,r=o.marker;while(0!==n&&r<4)t.read_byte(i)==_e[r]?r++:r=0!==t.read_byte(i)?0:4-r,i++,n--;return t.total_in+=i-t.next_in_index,t.next_in_index=i,t.avail_in=n,o.marker=r,4!=r?gt:(s=t.total_in,a=t.total_out,e(t),t.total_in=s,t.total_out=a,o.mode=fe,pt)},t.inflateSyncPoint=function(t){return t&&t.istate&&t.istate.blocks?t.istate.blocks.sync_point():vt}}function ge(){}function ye(t){const e=this,n=new ge,i=t&&t.chunkSize?Math.floor(2*t.chunkSize):131072,r=kt,s=new Uint8Array(i);let a=!1;n.inflateInit(),n.next_out=s,e.append=function(t,e){const o=[];let l,c,u=0,h=0,d=0;if(0!==t.length){n.next_in_index=0,n.next_in=t,n.avail_in=t.length;do{if(n.next_out_index=0,n.avail_out=i,0!==n.avail_in||a||(n.next_in_index=0,a=!0),l=n.inflate(r),a&&l===bt){if(0!==n.avail_in)throw new Error("inflating: bad input")}else if(l!==pt&&l!==mt)throw new Error("inflating: "+n.msg);if((a||l===mt)&&n.avail_in===t.length)throw new Error("inflating: bad input");n.next_out_index&&(n.next_out_index===i?o.push(new Uint8Array(s)):o.push(s.subarray(0,n.next_out_index))),d+=n.next_out_index,e&&n.next_in_index>0&&n.next_in_index!=u&&(e(n.next_in_index),u=n.next_in_index)}while(n.avail_in>0||0===n.avail_out);return o.length>1?(c=new Uint8Array(d),o.forEach((function(t){c.set(t,h),h+=t.length}))):c=o[0]?new Uint8Array(o[0]):new Uint8Array,c}},e.flush=function(){n.inflateEnd()}}ge.prototype={inflateInit(t){const e=this;return e.istate=new ve,t||(t=ft),e.istate.inflateInit(e,t)},inflate(t){const e=this;return e.istate?e.istate.inflate(e,t):vt},inflateEnd(){const t=this;if(!t.istate)return vt;const e=t.istate.inflateEnd(t);return t.istate=null,e},inflateSync(){const t=this;return t.istate?t.istate.inflateSync(t):vt},inflateSetDictionary(t,e){const n=this;return n.istate?n.istate.inflateSetDictionary(n,t,e):vt},read_byte(t){const e=this;return e.next_in[t]},read_buf(t,e){const n=this;return n.next_in.subarray(t,t+e)}};const be=4294967295,we=65535,xe=8,ke=0,Se=99,Ce=67324752,Te=134695760,Ae=Te,Ee=33639248,Me=101010256,Oe=101075792,Ie=117853008,Pe=22,Re=20,De=56,Ne=Pe+Re+De,Le=1,Be=39169,Ve=10,ze=1,je=21589,Fe=28789,qe=25461,Ue=6534,He=1,We=6,Xe=8,$e=2048,Ye=16,Ge=20,Ze=45,Ke=51,Qe="/",Je=new Date(2107,11,31),tn=new Date(1980,0,1),en=void 0,nn="undefined",rn="function";class sn{constructor(t){return class extends TransformStream{constructor(e,n){const i=new t(n);super({transform(t,e){e.enqueue(i.append(t))},flush(t){const e=i.flush();e&&t.enqueue(e)}})}}}}const an=64;let on=2;try{typeof navigator!=nn&&navigator.hardwareConcurrency&&(on=navigator.hardwareConcurrency)}catch(da){}const ln={chunkSize:524288,maxWorkers:on,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:en,CompressionStreamNative:typeof CompressionStream!=nn&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=nn&&DecompressionStream},cn=Object.assign({},ln);function un(){return cn}function hn(t){return Math.max(t.chunkSize,an)}function dn(t){const{baseURL:e,chunkSize:n,maxWorkers:i,terminateWorkerTimeout:r,useCompressionStream:s,useWebWorkers:a,Deflate:o,Inflate:l,CompressionStream:c,DecompressionStream:u,workerScripts:h}=t;if(fn("baseURL",e),fn("chunkSize",n),fn("maxWorkers",i),fn("terminateWorkerTimeout",r),fn("useCompressionStream",s),fn("useWebWorkers",a),o&&(cn.CompressionStream=new sn(o)),l&&(cn.DecompressionStream=new sn(l)),fn("CompressionStream",c),fn("DecompressionStream",u),h!==en){const{deflate:t,inflate:e}=h;if((t||e)&&(cn.workerScripts||(cn.workerScripts={})),t){if(!Array.isArray(t))throw new Error("workerScripts.deflate must be an array");cn.workerScripts.deflate=t}if(e){if(!Array.isArray(e))throw new Error("workerScripts.inflate must be an array");cn.workerScripts.inflate=e}}}function fn(t,e){e!==en&&(cn[t]=e)}const pn={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin","cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot","wiz"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf","xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","xpdl"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot","ppa","pwz"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":["odm","otm"],"vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw","vsdx","vssx","vstx","vssm","vstm"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-director":["dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-latex":"latex","x-lyx":"lyx","x-lzx":"lzx","x-maker":["frm","fb","fbdoc"],"x-ms-wmd":"wmd","x-msdos-program":["com","exe","bat","dll"],"x-netcdf":["nc"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":["rpm","rpa"],"x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":["mathml","mml"],mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","application/x-ms-installer":"msi","x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-perfmon":["pma","pmc","pmr","pmw"],"ynd.ms-pkipko":"pko",gzip:["gz","tgz"],"smil+xml":["smi","smil"],"vnd.debian.binary-package":["deb","udeb"],"vnd.hzn-3d-crossword":"x3d","vnd.sqlite3":["db","sqlite","sqlite3","db-wal","sqlite-wal","db-shm","sqlite-shm"],"vnd.wap.sic":"sic","vnd.wap.slc":"slc","x-krita":["kra","krz"],"x-perl":["pm","pl"],yaml:["yaml","yml"]},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":"aifc","x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",aac:"aac",aiff:["aiff","aif","aff"],opus:"opus",wav:"wav"},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":"mmod","x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":"sd","x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":"val","x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},font:{otf:"otf",woff:"woff",woff2:"woff2"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe","jfif","jfif-tbnl","jif"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",avif:"avifs",heic:["heif","heic"],pjpeg:["pjpg"],"vnd.adobe.photoshop":"psd","x-adobe-dng":"dng","x-fuji-raf":"raf","x-icns":"icns","x-kodak-dcr":"dcr","x-kodak-k25":"k25","x-kodak-kdc":"kdc","x-minolta-mrw":"mrw","x-panasonic-raw":["raw","rw2","rwl"],"x-pentax-pef":["pef","ptx"],"x-sigma-x3f":"x3f","x-sony-arw":"arw","x-sony-sr2":"sr2","x-sony-srf":"srf"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":"x3dz","x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.usdz+zip":"usdz","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",plain:["txt","text","brf","conf","def","list","log","in","bas","diff","ksh"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:"tm","tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":"patch","x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas","pp","inc"],"x-pcs-gcd":"gcd","x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","h","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt",javascript:"js",json:"json",markdown:["md","markdown","mdown","markdn"],"vnd.wap.si":"si","vnd.wap.sl":"sl"},video:{avif:"avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv",mp2t:"ts"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","flr","wrz","xaf","xof"]}};(()=>{const t={};for(const e of Object.keys(pn))for(const n of Object.keys(pn[e])){const i=pn[e][n];if("string"==typeof i)t[i]=e+"/"+n;else for(let r=0;r<i.length;r++)t[i[r]]=e+"/"+n}})();const mn=[];for(let fa=0;fa<256;fa++){let t=fa;for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;mn[fa]=t}class _n{constructor(t){this.crc=t||-1}append(t){let e=0|this.crc;for(let n=0,i=0|t.length;n<i;n++)e=e>>>8^mn[255&(e^t[n])];this.crc=e}get(){return~this.crc}}class vn extends TransformStream{constructor(){let t;const e=new _n;super({transform(t,n){e.append(t),n.enqueue(t)},flush(){const n=new Uint8Array(4),i=new DataView(n.buffer);i.setUint32(0,e.get()),t.value=n}}),t=this}}function gn(t){if(typeof TextEncoder==nn){t=unescape(encodeURIComponent(t));const e=new Uint8Array(t.length);for(let n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e}return(new TextEncoder).encode(t)}const yn={concat(t,e){if(0===t.length||0===e.length)return t.concat(e);const n=t[t.length-1],i=yn.getPartial(n);return 32===i?t.concat(e):yn._shiftRight(e,i,0|n,t.slice(0,t.length-1))},bitLength(t){const e=t.length;if(0===e)return 0;const n=t[e-1];return 32*(e-1)+yn.getPartial(n)},clamp(t,e){if(32*t.length<e)return t;t=t.slice(0,Math.ceil(e/32));const n=t.length;return e&=31,n>0&&e&&(t[n-1]=yn.partial(e,t[n-1]&2147483648>>e-1,1)),t},partial(t,e,n){return 32===t?e:(n?0|e:e<<32-t)+1099511627776*t},getPartial(t){return Math.round(t/1099511627776)||32},_shiftRight(t,e,n,i){for(void 0===i&&(i=[]);e>=32;e-=32)i.push(n),n=0;if(0===e)return i.concat(t);for(let a=0;a<t.length;a++)i.push(n|t[a]>>>e),n=t[a]<<32-e;const r=t.length?t[t.length-1]:0,s=yn.getPartial(r);return i.push(yn.partial(e+s&31,e+s>32?n:i.pop(),1)),i}},bn={bytes:{fromBits(t){const e=yn.bitLength(t),n=e/8,i=new Uint8Array(n);let r;for(let s=0;s<n;s++)0===(3&s)&&(r=t[s/4]),i[s]=r>>>24,r<<=8;return i},toBits(t){const e=[];let n,i=0;for(n=0;n<t.length;n++)i=i<<8|t[n],3===(3&n)&&(e.push(i),i=0);return 3&n&&e.push(yn.partial(8*(3&n),i)),e}}},wn={sha1:class{constructor(t){const e=this;e.blockSize=512,e._init=[1732584193,4023233417,2562383102,271733878,3285377520],e._key=[1518500249,1859775393,2400959708,3395469782],t?(e._h=t._h.slice(0),e._buffer=t._buffer.slice(0),e._length=t._length):e.reset()}reset(){const t=this;return t._h=t._init.slice(0),t._buffer=[],t._length=0,t}update(t){const e=this;"string"===typeof t&&(t=bn.utf8String.toBits(t));const n=e._buffer=yn.concat(e._buffer,t),i=e._length,r=e._length=i+yn.bitLength(t);if(r>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const s=new Uint32Array(n);let a=0;for(let o=e.blockSize+i-(e.blockSize+i&e.blockSize-1);o<=r;o+=e.blockSize)e._block(s.subarray(16*a,16*(a+1))),a+=1;return n.splice(0,16*a),e}finalize(){const t=this;let e=t._buffer;const n=t._h;e=yn.concat(e,[yn.partial(1,1)]);for(let i=e.length+2;15&i;i++)e.push(0);e.push(Math.floor(t._length/4294967296)),e.push(0|t._length);while(e.length)t._block(e.splice(0,16));return t.reset(),n}_f(t,e,n,i){return t<=19?e&n|~e&i:t<=39?e^n^i:t<=59?e&n|e&i|n&i:t<=79?e^n^i:void 0}_S(t,e){return e<<t|e>>>32-t}_block(t){const e=this,n=e._h,i=Array(80);for(let c=0;c<16;c++)i[c]=t[c];let r=n[0],s=n[1],a=n[2],o=n[3],l=n[4];for(let c=0;c<=79;c++){c>=16&&(i[c]=e._S(1,i[c-3]^i[c-8]^i[c-14]^i[c-16]));const t=e._S(5,r)+e._f(c,s,a,o)+l+i[c]+e._key[Math.floor(c/20)]|0;l=o,o=a,a=e._S(30,s),s=r,r=t}n[0]=n[0]+r|0,n[1]=n[1]+s|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+l|0}}},xn={aes:class{constructor(t){const e=this;e._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],e._tables[0][0][0]||e._precompute();const n=e._tables[0][4],i=e._tables[1],r=t.length;let s,a,o,l=1;if(4!==r&&6!==r&&8!==r)throw new Error("invalid aes key size");for(e._key=[a=t.slice(0),o=[]],s=r;s<4*r+28;s++){let t=a[s-1];(s%r===0||8===r&&s%r===4)&&(t=n[t>>>24]<<24^n[t>>16&255]<<16^n[t>>8&255]<<8^n[255&t],s%r===0&&(t=t<<8^t>>>24^l<<24,l=l<<1^283*(l>>7))),a[s]=a[s-r]^t}for(let c=0;s;c++,s--){const t=a[3&c?s:s-4];o[c]=s<=4||c<4?t:i[0][n[t>>>24]]^i[1][n[t>>16&255]]^i[2][n[t>>8&255]]^i[3][n[255&t]]}}encrypt(t){return this._crypt(t,0)}decrypt(t){return this._crypt(t,1)}_precompute(){const t=this._tables[0],e=this._tables[1],n=t[4],i=e[4],r=[],s=[];let a,o,l,c;for(let u=0;u<256;u++)s[(r[u]=u<<1^283*(u>>7))^u]=u;for(let u=a=0;!n[u];u^=o||1,a=s[a]||1){let s=a^a<<1^a<<2^a<<3^a<<4;s=s>>8^255&s^99,n[u]=s,i[s]=u,c=r[l=r[o=r[u]]];let h=16843009*c^65537*l^257*o^16843008*u,d=257*r[s]^16843008*s;for(let n=0;n<4;n++)t[n][u]=d=d<<24^d>>>8,e[n][s]=h=h<<24^h>>>8}for(let u=0;u<5;u++)t[u]=t[u].slice(0),e[u]=e[u].slice(0)}_crypt(t,e){if(4!==t.length)throw new Error("invalid aes block size");const n=this._key[e],i=n.length/4-2,r=[0,0,0,0],s=this._tables[e],a=s[0],o=s[1],l=s[2],c=s[3],u=s[4];let h,d,f,p=t[0]^n[0],m=t[e?3:1]^n[1],_=t[2]^n[2],v=t[e?1:3]^n[3],g=4;for(let y=0;y<i;y++)h=a[p>>>24]^o[m>>16&255]^l[_>>8&255]^c[255&v]^n[g],d=a[m>>>24]^o[_>>16&255]^l[v>>8&255]^c[255&p]^n[g+1],f=a[_>>>24]^o[v>>16&255]^l[p>>8&255]^c[255&m]^n[g+2],v=a[v>>>24]^o[p>>16&255]^l[m>>8&255]^c[255&_]^n[g+3],g+=4,p=h,m=d,_=f;for(let y=0;y<4;y++)r[e?3&-y:y]=u[p>>>24]<<24^u[m>>16&255]<<16^u[_>>8&255]<<8^u[255&v]^n[g++],h=p,p=m,m=_,_=v,v=h;return r}}},kn={getRandomValues(t){const e=new Uint32Array(t.buffer),n=t=>{let e=987654321;const n=4294967295;return function(){e=36969*(65535&e)+(e>>16)&n,t=18e3*(65535&t)+(t>>16)&n;const i=((e<<16)+t&n)/4294967296+.5;return i*(Math.random()>.5?1:-1)}};for(let i,r=0;r<t.length;r+=4){const t=n(4294967296*(i||Math.random()));i=987654071*t(),e[r/4]=4294967296*t()|0}return t}},Sn={ctrGladman:class{constructor(t,e){this._prf=t,this._initIv=e,this._iv=e}reset(){this._iv=this._initIv}update(t){return this.calculate(this._prf,t,this._iv)}incWord(t){if(255===(t>>24&255)){let e=t>>16&255,n=t>>8&255,i=255&t;255===e?(e=0,255===n?(n=0,255===i?i=0:++i):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=i}else t+=1<<24;return t}incCounter(t){0===(t[0]=this.incWord(t[0]))&&(t[1]=this.incWord(t[1]))}calculate(t,e,n){let i;if(!(i=e.length))return[];const r=yn.bitLength(e);for(let s=0;s<i;s+=4){this.incCounter(n);const i=t.encrypt(n);e[s]^=i[0],e[s+1]^=i[1],e[s+2]^=i[2],e[s+3]^=i[3]}return yn.clamp(e,r)}}},Cn={importKey(t){return new Cn.hmacSha1(bn.bytes.toBits(t))},pbkdf2(t,e,n,i){if(n=n||1e4,i<0||n<0)throw new Error("invalid params to pbkdf2");const r=1+(i>>5)<<2;let s,a,o,l,c;const u=new ArrayBuffer(r),h=new DataView(u);let d=0;const f=yn;for(e=bn.bytes.toBits(e),c=1;d<(r||1);c++){for(s=a=t.encrypt(f.concat(e,[c])),o=1;o<n;o++)for(a=t.encrypt(a),l=0;l<a.length;l++)s[l]^=a[l];for(o=0;d<(r||1)&&o<s.length;o++)h.setInt32(d,s[o]),d+=4}return u.slice(0,i/8)},hmacSha1:class{constructor(t){const e=this,n=e._hash=wn.sha1,i=[[],[]];e._baseHash=[new n,new n];const r=e._baseHash[0].blockSize/32;t.length>r&&(t=(new n).update(t).finalize());for(let s=0;s<r;s++)i[0][s]=909522486^t[s],i[1][s]=1549556828^t[s];e._baseHash[0].update(i[0]),e._baseHash[1].update(i[1]),e._resultHash=new n(e._baseHash[0])}reset(){const t=this;t._resultHash=new t._hash(t._baseHash[0]),t._updated=!1}update(t){const e=this;e._updated=!0,e._resultHash.update(t)}digest(){const t=this,e=t._resultHash.finalize(),n=new t._hash(t._baseHash[1]).update(e).finalize();return t.reset(),n}encrypt(t){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(t),this.digest(t)}}},Tn=typeof crypto!=nn&&typeof crypto.getRandomValues==rn,An="Invalid password",En="Invalid signature",Mn="zipjs-abort-check-password";function On(t){return Tn?crypto.getRandomValues(t):kn.getRandomValues(t)}const In=16,Pn="raw",Rn={name:"PBKDF2"},Dn={name:"HMAC"},Nn="SHA-1",Ln=Object.assign({hash:Dn},Rn),Bn=Object.assign({iterations:1e3,hash:{name:Nn}},Rn),Vn=["deriveBits"],zn=[8,12,16],jn=[16,24,32],Fn=10,qn=[0,0,0,0],Un=typeof crypto!=nn,Hn=Un&&crypto.subtle,Wn=Un&&typeof Hn!=nn,Xn=bn.bytes,$n=xn.aes,Yn=Sn.ctrGladman,Gn=Cn.hmacSha1;let Zn=Un&&Wn&&typeof Hn.importKey==rn,Kn=Un&&Wn&&typeof Hn.deriveBits==rn;class Qn extends TransformStream{constructor({password:t,rawPassword:e,signed:n,encryptionStrength:i,checkPasswordOnly:r}){super({start(){Object.assign(this,{ready:new Promise((t=>this.resolveReady=t)),password:ai(t,e),signed:n,strength:i-1,pending:new Uint8Array})},async transform(t,e){const n=this,{password:i,strength:s,resolveReady:a,ready:o}=n;i?(await ei(n,s,i,ci(t,0,zn[s]+2)),t=ci(t,zn[s]+2),r?e.error(new Error(Mn)):a()):await o;const l=new Uint8Array(t.length-Fn-(t.length-Fn)%In);e.enqueue(ti(n,t,l,0,Fn,!0))},async flush(t){const{signed:e,ctr:n,hmac:i,pending:r,ready:s}=this;if(i&&n){await s;const a=ci(r,0,r.length-Fn),o=ci(r,r.length-Fn);let l=new Uint8Array;if(a.length){const t=hi(Xn,a);i.update(t);const e=n.update(t);l=ui(Xn,e)}if(e){const t=ci(ui(Xn,i.digest()),0,Fn);for(let e=0;e<Fn;e++)if(t[e]!=o[e])throw new Error(En)}t.enqueue(l)}}})}}class Jn extends TransformStream{constructor({password:t,rawPassword:e,encryptionStrength:n}){let i;super({start(){Object.assign(this,{ready:new Promise((t=>this.resolveReady=t)),password:ai(t,e),strength:n-1,pending:new Uint8Array})},async transform(t,e){const n=this,{password:i,strength:r,resolveReady:s,ready:a}=n;let o=new Uint8Array;i?(o=await ni(n,r,i),s()):await a;const l=new Uint8Array(o.length+t.length-t.length%In);l.set(o,0),e.enqueue(ti(n,t,l,o.length,0))},async flush(t){const{ctr:e,hmac:n,pending:r,ready:s}=this;if(n&&e){await s;let a=new Uint8Array;if(r.length){const t=e.update(hi(Xn,r));n.update(t),a=ui(Xn,t)}i.signature=ui(Xn,n.digest()).slice(0,Fn),t.enqueue(oi(a,i.signature))}}}),i=this}}function ti(t,e,n,i,r,s){const{ctr:a,hmac:o,pending:l}=t,c=e.length-r;let u;for(l.length&&(e=oi(l,e),n=li(n,c-c%In)),u=0;u<=c-In;u+=In){const t=hi(Xn,ci(e,u,u+In));s&&o.update(t);const r=a.update(t);s||o.update(r),n.set(ui(Xn,r),u+i)}return t.pending=ci(e,u),n}async function ei(t,e,n,i){const r=await ii(t,e,n,ci(i,0,zn[e])),s=ci(i,zn[e]);if(r[0]!=s[0]||r[1]!=s[1])throw new Error(An)}async function ni(t,e,n){const i=On(new Uint8Array(zn[e])),r=await ii(t,e,n,i);return oi(i,r)}async function ii(t,e,n,i){t.password=null;const r=await ri(Pn,n,Ln,!1,Vn),s=await si(Object.assign({salt:i},Bn),r,8*(2*jn[e]+2)),a=new Uint8Array(s),o=hi(Xn,ci(a,0,jn[e])),l=hi(Xn,ci(a,jn[e],2*jn[e])),c=ci(a,2*jn[e]);return Object.assign(t,{keys:{key:o,authentication:l,passwordVerification:c},ctr:new Yn(new $n(o),Array.from(qn)),hmac:new Gn(l)}),c}async function ri(t,e,n,i,r){if(!Zn)return Cn.importKey(e);try{return await Hn.importKey(t,e,n,i,r)}catch(da){return Zn=!1,Cn.importKey(e)}}async function si(t,e,n){if(!Kn)return Cn.pbkdf2(e,t.salt,Bn.iterations,n);try{return await Hn.deriveBits(t,e,n)}catch(da){return Kn=!1,Cn.pbkdf2(e,t.salt,Bn.iterations,n)}}function ai(t,e){return e===en?gn(t):e}function oi(t,e){let n=t;return t.length+e.length&&(n=new Uint8Array(t.length+e.length),n.set(t,0),n.set(e,t.length)),n}function li(t,e){if(e&&e>t.length){const n=t;t=new Uint8Array(e),t.set(n,0)}return t}function ci(t,e,n){return t.subarray(e,n)}function ui(t,e){return t.fromBits(e)}function hi(t,e){return t.toBits(e)}const di=12;class fi extends TransformStream{constructor({password:t,passwordVerification:e,checkPasswordOnly:n}){super({start(){Object.assign(this,{password:t,passwordVerification:e}),vi(this,t)},transform(t,e){const i=this;if(i.password){const e=mi(i,t.subarray(0,di));if(i.password=null,e[di-1]!=i.passwordVerification)throw new Error(An);t=t.subarray(di)}n?e.error(new Error(Mn)):e.enqueue(mi(i,t))}})}}class pi extends TransformStream{constructor({password:t,passwordVerification:e}){super({start(){Object.assign(this,{password:t,passwordVerification:e}),vi(this,t)},transform(t,e){const n=this;let i,r;if(n.password){n.password=null;const e=On(new Uint8Array(di));e[di-1]=n.passwordVerification,i=new Uint8Array(t.length+e.length),i.set(_i(n,e),0),r=di}else i=new Uint8Array(t.length),r=0;i.set(_i(n,t),r),e.enqueue(i)}})}}function mi(t,e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=yi(t)^e[i],gi(t,n[i]);return n}function _i(t,e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=yi(t)^e[i],gi(t,e[i]);return n}function vi(t,e){const n=[305419896,591751049,878082192];Object.assign(t,{keys:n,crcKey0:new _n(n[0]),crcKey2:new _n(n[2])});for(let i=0;i<e.length;i++)gi(t,e.charCodeAt(i))}function gi(t,e){let[n,i,r]=t.keys;t.crcKey0.append([e]),n=~t.crcKey0.get(),i=wi(Math.imul(wi(i+bi(n)),134775813)+1),t.crcKey2.append([i>>>24]),r=~t.crcKey2.get(),t.keys=[n,i,r]}function yi(t){const e=2|t.keys[2];return bi(Math.imul(e,1^e)>>>8)}function bi(t){return 255&t}function wi(t){return 4294967295&t}const xi="deflate-raw";class ki extends TransformStream{constructor(t,{chunkSize:e,CompressionStream:n,CompressionStreamNative:i}){super({});const{compressed:r,encrypted:s,useCompressionStream:a,zipCrypto:o,signed:l,level:c}=t,u=this;let h,d,f=Ci(super.readable);s&&!o||!l||(h=new vn,f=Ei(f,h)),r&&(f=Ai(f,a,{level:c,chunkSize:e},i,n)),s&&(o?f=Ei(f,new pi(t)):(d=new Jn(t),f=Ei(f,d))),Ti(u,f,(()=>{let t;s&&!o&&(t=d.signature),s&&!o||!l||(t=new DataView(h.value.buffer).getUint32(0)),u.signature=t}))}}class Si extends TransformStream{constructor(t,{chunkSize:e,DecompressionStream:n,DecompressionStreamNative:i}){super({});const{zipCrypto:r,encrypted:s,signed:a,signature:o,compressed:l,useCompressionStream:c}=t;let u,h,d=Ci(super.readable);s&&(r?d=Ei(d,new fi(t)):(h=new Qn(t),d=Ei(d,h))),l&&(d=Ai(d,c,{chunkSize:e},i,n)),s&&!r||!a||(u=new vn,d=Ei(d,u)),Ti(this,d,(()=>{if((!s||r)&&a){const t=new DataView(u.value.buffer);if(o!=t.getUint32(0,!1))throw new Error(En)}}))}}function Ci(t){return Ei(t,new TransformStream({transform(t,e){t&&t.length&&e.enqueue(t)}}))}function Ti(t,e,n){e=Ei(e,new TransformStream({flush:n})),Object.defineProperty(t,"readable",{get(){return e}})}function Ai(t,e,n,i,r){try{const s=e&&i?i:r;t=Ei(t,new s(xi,n))}catch(s){if(!e)return t;try{t=Ei(t,new r(xi,n))}catch(s){return t}}return t}function Ei(t,e){return t.pipeThrough(e)}const Mi="message",Oi="start",Ii="pull",Pi="data",Ri="ack",Di="close",Ni="deflate",Li="inflate";class Bi extends TransformStream{constructor(t,e){super({});const n=this,{codecType:i}=t;let r;i.startsWith(Ni)?r=ki:i.startsWith(Li)&&(r=Si);let s=0,a=0;const o=new r(t,e),l=super.readable,c=new TransformStream({transform(t,e){t&&t.length&&(a+=t.length,e.enqueue(t))},flush(){Object.assign(n,{inputSize:a})}}),u=new TransformStream({transform(t,e){t&&t.length&&(s+=t.length,e.enqueue(t))},flush(){const{signature:t}=o;Object.assign(n,{signature:t,outputSize:s,inputSize:a})}});Object.defineProperty(n,"readable",{get(){return l.pipeThrough(c).pipeThrough(o).pipeThrough(u)}})}}class Vi extends TransformStream{constructor(t){let e;function n(i,r){if(e){const t=new Uint8Array(e.length+i.length);t.set(e),t.set(i,e.length),i=t,e=null}i.length>t?(r.enqueue(i.slice(0,t)),n(i.slice(t),r)):e=i}super({transform:n,flush(t){e&&e.length&&t.enqueue(e)}})}}n(4603),n(7566),n(8721);let zi=typeof Worker!=nn;class ji{constructor(t,{readable:e,writable:n},{options:i,config:r,streamOptions:s,useWebWorkers:a,transferStreams:o,scripts:l},c){const{signal:u}=s;return Object.assign(t,{busy:!0,readable:e.pipeThrough(new Vi(r.chunkSize)).pipeThrough(new Fi(e,s),{signal:u}),writable:n,options:Object.assign({},i),scripts:l,transferStreams:o,terminate(){return new Promise((e=>{const{worker:n,busy:i}=t;n?(i?t.resolveTerminated=e:(n.terminate(),e()),t.interface=null):e()}))},onTaskFinished(){const{resolveTerminated:e}=t;e&&(t.resolveTerminated=null,t.terminated=!0,t.worker.terminate(),e()),t.busy=!1,c(t)}}),(a&&zi?Hi:Ui)(t,r)}}class Fi extends TransformStream{constructor(t,{onstart:e,onprogress:n,size:i,onend:r}){let s=0;super({async start(){e&&await qi(e,i)},async transform(t,e){s+=t.length,n&&await qi(n,s,i),e.enqueue(t)},async flush(){t.size=s,r&&await qi(r,s)}})}}async function qi(t,...e){try{await t(...e)}catch(da){}}function Ui(t,e){return{run:()=>Wi(t,e)}}function Hi(t,e){const{baseURL:n,chunkSize:i}=e;if(!t.interface){let s;try{s=Zi(t.scripts[0],n,t)}catch(r){return zi=!1,Ui(t,e)}Object.assign(t,{worker:s,interface:{run:()=>Xi(t,{chunkSize:i})}})}return t.interface}async function Wi({options:t,readable:e,writable:n,onTaskFinished:i},r){try{const i=new Bi(t,r);await e.pipeThrough(i).pipeTo(n,{preventClose:!0,preventAbort:!0});const{signature:s,inputSize:a,outputSize:o}=i;return{signature:s,inputSize:a,outputSize:o}}finally{i()}}async function Xi(t,e){let n,i;const r=new Promise(((t,e)=>{n=t,i=e}));Object.assign(t,{reader:null,writer:null,resolveResult:n,rejectResult:i,result:r});const{readable:s,options:a,scripts:o}=t,{writable:l,closed:c}=$i(t.writable),u=Ki({type:Oi,scripts:o.slice(1),options:a,config:e,readable:s,writable:l},t);u||Object.assign(t,{reader:s.getReader(),writer:l.getWriter()});const h=await r;return u||await l.getWriter().close(),await c,h}function $i(t){let e;const n=new Promise((t=>e=t)),i=new WritableStream({async write(e){const n=t.getWriter();await n.ready,await n.write(e),n.releaseLock()},close(){e()},abort(e){const n=t.getWriter();return n.abort(e)}});return{writable:i,closed:n}}let Yi=!0,Gi=!0;function Zi(t,e,n){const i={type:"module"};let r,s;typeof t==rn&&(t=t());try{r=new URL(t,e)}catch(da){r=t}if(Yi)try{s=new Worker(r)}catch(da){Yi=!1,s=new Worker(r,i)}else s=new Worker(r,i);return s.addEventListener(Mi,(t=>Qi(t,n))),s}function Ki(t,{worker:e,writer:n,onTaskFinished:i,transferStreams:r}){try{let{value:n,readable:i,writable:s}=t;const a=[];if(n&&(n.byteLength<n.buffer.byteLength?t.value=n.buffer.slice(0,n.byteLength):t.value=n.buffer,a.push(t.value)),r&&Gi?(i&&a.push(i),s&&a.push(s)):t.readable=t.writable=null,a.length)try{return e.postMessage(t,a),!0}catch(da){Gi=!1,t.readable=t.writable=null,e.postMessage(t)}else e.postMessage(t)}catch(s){throw n&&n.releaseLock(),i(),s}}async function Qi({data:t},e){const{type:n,value:i,messageId:r,result:s,error:a}=t,{reader:o,writer:l,resolveResult:c,rejectResult:u,onTaskFinished:h}=e;try{if(a){const{message:t,stack:e,code:n,name:i}=a,r=new Error(t);Object.assign(r,{stack:e,code:n,name:i}),d(r)}else{if(n==Ii){const{value:t,done:n}=await o.read();Ki({type:Pi,value:t,done:n,messageId:r},e)}n==Pi&&(await l.ready,await l.write(new Uint8Array(i)),Ki({type:Ri,messageId:r},e)),n==Di&&d(null,s)}}catch(a){Ki({type:Di,messageId:r},e),d(a)}function d(t,e){t?u(t):c(e),l&&l.releaseLock(),h()}}let Ji=[];const tr=[];let er=0;async function nr(t,e){const{options:n,config:i}=e,{transferStreams:r,useWebWorkers:s,useCompressionStream:a,codecType:o,compressed:l,signed:c,encrypted:u}=n,{workerScripts:h,maxWorkers:d}=i;e.transferStreams=r||r===en;const f=!l&&!c&&!u&&!e.transferStreams;return e.useWebWorkers=!f&&(s||s===en&&i.useWebWorkers),e.scripts=e.useWebWorkers&&h?h[o]:[],n.useCompressionStream=a||a===en&&i.useCompressionStream,(await p()).run();async function p(){const n=Ji.find((t=>!t.busy));if(n)return rr(n),new ji(n,t,e,m);if(Ji.length<d){const n={indexWorker:er};return er++,Ji.push(n),new ji(n,t,e,m)}return new Promise((n=>tr.push({resolve:n,stream:t,workerOptions:e})))}function m(t){if(tr.length){const[{resolve:e,stream:n,workerOptions:i}]=tr.splice(0,1);e(new ji(t,n,i,m))}else t.worker?(rr(t),ir(t,e)):Ji=Ji.filter((e=>e!=t))}}function ir(t,e){const{config:n}=e,{terminateWorkerTimeout:i}=n;Number.isFinite(i)&&i>=0&&(t.terminated?t.terminated=!1:t.terminateTimeout=setTimeout((async()=>{Ji=Ji.filter((e=>e!=t));try{await t.terminate()}catch(da){}}),i))}function rr(t){const{terminateTimeout:e}=t;e&&(clearTimeout(e),t.terminateTimeout=null)}function sr(t,e={}){const n='const{Array:e,Object:t,Number:n,Math:r,Error:s,Uint8Array:i,Uint16Array:o,Uint32Array:c,Int32Array:f,Map:a,DataView:l,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:y,WritableStream:m,CompressionStream:b,DecompressionStream:g}=self,k=void 0,v="undefined",S="function";class z{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const C=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;C[e]=t}class x{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^C[255&(t^e[n])];this.t=t}get(){return~this.t}}class A extends p{constructor(){let e;const t=new x;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new i(4);new l(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const _={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=_.i(n);return 32===r?e.concat(t):_.o(t,r,0|n,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+_.i(n)},u(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,r.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=_.h(t,e[n-1]&2147483648>>t-1,1)),e},h:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,i:e=>r.round(e/1099511627776)||32,o(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,i=_.i(s);return r.push(_.h(t+i&31,t+i>32?n:r.pop(),1)),r}},I={p:{m(e){const t=_.l(e)/8,n=new i(t);let r;for(let s=0;t>s;s++)3&s||(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},k(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3&~n||(t.push(r),r=0);return 3&n&&t.push(_.h(8*(3&n),r)),t}}},P=class{constructor(e){const t=this;t.blockSize=512,t.v=[1732584193,4023233417,2562383102,271733878,3285377520],t.S=[1518500249,1859775393,2400959708,3395469782],e?(t.C=e.C.slice(0),t.A=e.A.slice(0),t._=e._):t.reset()}reset(){const e=this;return e.C=e.v.slice(0),e.A=[],e._=0,e}update(e){const t=this;"string"==typeof e&&(e=I.I.k(e));const n=t.A=_.concat(t.A,e),r=t._,i=t._=r+_.l(e);if(i>9007199254740991)throw new s("Cannot hash more than 2^53 - 1 bits");const o=new c(n);let f=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t.P(o.subarray(16*f,16*(f+1))),f+=1;return n.splice(0,16*f),t}D(){const e=this;let t=e.A;const n=e.C;t=_.concat(t,[_.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(r.floor(e._/4294967296)),t.push(0|e._);t.length;)e.P(t.splice(0,16));return e.reset(),n}V(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}R(e,t){return t<<e|t>>>32-e}P(t){const n=this,s=n.C,i=e(80);for(let e=0;16>e;e++)i[e]=t[e];let o=s[0],c=s[1],f=s[2],a=s[3],l=s[4];for(let e=0;79>=e;e++){16>e||(i[e]=n.R(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=n.R(5,o)+n.V(e,c,f,a)+l+i[e]+n.S[r.floor(e/20)]|0;l=a,a=f,f=n.R(30,c),c=o,o=t}s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+f|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0}},D={getRandomValues(e){const t=new c(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(r.random()>.5?1:-1))};for(let s,i=0;i<e.length;i+=4){const e=n(4294967296*(s||r.random()));s=987654071*e(),t[i/4]=4294967296*e()|0}return e}},V={importKey:e=>new V.B(I.p.k(e)),M(e,t,n,r){if(n=n||1e4,0>r||0>n)throw new s("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,c,f,a,u;const w=new ArrayBuffer(i),h=new l(w);let d=0;const p=_;for(t=I.p.k(t),u=1;(i||1)>d;u++){for(o=c=e.encrypt(p.concat(t,[u])),f=1;n>f;f++)for(c=e.encrypt(c),a=0;a<c.length;a++)o[a]^=c[a];for(f=0;(i||1)>d&&f<o.length;f++)h.setInt32(d,o[f]),d+=4}return w.slice(0,r/8)},B:class{constructor(e){const t=this,n=t.U=P,r=[[],[]];t.K=[new n,new n];const s=t.K[0].blockSize/32;e.length>s&&(e=(new n).update(e).D());for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t.K[0].update(r[0]),t.K[1].update(r[1]),t.N=new n(t.K[0])}reset(){const e=this;e.N=new e.U(e.K[0]),e.O=!1}update(e){this.O=!0,this.N.update(e)}digest(){const e=this,t=e.N.D(),n=new e.U(e.K[1]).update(t).D();return e.reset(),n}encrypt(e){if(this.O)throw new s("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},R=typeof h!=v&&typeof h.getRandomValues==S,B="Invalid password",E="Invalid signature",M="zipjs-abort-check-password";function U(e){return R?h.getRandomValues(e):D.getRandomValues(e)}const K=16,N={name:"PBKDF2"},O=t.assign({hash:{name:"HMAC"}},N),T=t.assign({iterations:1e3,hash:{name:"SHA-1"}},N),W=["deriveBits"],j=[8,12,16],H=[16,24,32],L=10,F=[0,0,0,0],q=typeof h!=v,G=q&&h.subtle,J=q&&typeof G!=v,Q=I.p,X=class{constructor(e){const t=this;t.T=[[[],[],[],[],[]],[[],[],[],[],[]]],t.T[0][0][0]||t.W();const n=t.T[0][4],r=t.T[1],i=e.length;let o,c,f,a=1;if(4!==i&&6!==i&&8!==i)throw new s("invalid aes key size");for(t.S=[c=e.slice(0),f=[]],o=i;4*i+28>o;o++){let e=c[o-1];(o%i==0||8===i&&o%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i==0&&(e=e<<8^e>>>24^a<<24,a=a<<1^283*(a>>7))),c[o]=c[o-i]^e}for(let e=0;o;e++,o--){const t=c[3&e?o:o-4];f[e]=4>=o||4>e?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this.j(e,0)}decrypt(e){return this.j(e,1)}W(){const e=this.T[0],t=this.T[1],n=e[4],r=t[4],s=[],i=[];let o,c,f,a;for(let e=0;256>e;e++)i[(s[e]=e<<1^283*(e>>7))^e]=e;for(let l=o=0;!n[l];l^=c||1,o=i[o]||1){let i=o^o<<1^o<<2^o<<3^o<<4;i=i>>8^255&i^99,n[l]=i,r[i]=l,a=s[f=s[c=s[l]]];let u=16843009*a^65537*f^257*c^16843008*l,w=257*s[i]^16843008*i;for(let n=0;4>n;n++)e[n][l]=w=w<<24^w>>>8,t[n][i]=u=u<<24^u>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}j(e,t){if(4!==e.length)throw new s("invalid aes block size");const n=this.S[t],r=n.length/4-2,i=[0,0,0,0],o=this.T[t],c=o[0],f=o[1],a=o[2],l=o[3],u=o[4];let w,h,d,p=e[0]^n[0],y=e[t?3:1]^n[1],m=e[2]^n[2],b=e[t?1:3]^n[3],g=4;for(let e=0;r>e;e++)w=c[p>>>24]^f[y>>16&255]^a[m>>8&255]^l[255&b]^n[g],h=c[y>>>24]^f[m>>16&255]^a[b>>8&255]^l[255&p]^n[g+1],d=c[m>>>24]^f[b>>16&255]^a[p>>8&255]^l[255&y]^n[g+2],b=c[b>>>24]^f[p>>16&255]^a[y>>8&255]^l[255&m]^n[g+3],g+=4,p=w,y=h,m=d;for(let e=0;4>e;e++)i[t?3&-e:e]=u[p>>>24]<<24^u[y>>16&255]<<16^u[m>>8&255]<<8^u[255&b]^n[g++],w=p,p=y,y=m,m=b,b=w;return i}},Y=class{constructor(e,t){this.H=e,this.L=t,this.F=t}reset(){this.F=this.L}update(e){return this.q(this.H,e,this.F)}G(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}J(e){0===(e[0]=this.G(e[0]))&&(e[1]=this.G(e[1]))}q(e,t,n){let r;if(!(r=t.length))return[];const s=_.l(t);for(let s=0;r>s;s+=4){this.J(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return _.u(t,s)}},Z=V.B;let $=q&&J&&typeof G.importKey==S,ee=q&&J&&typeof G.deriveBits==S;class te extends p{constructor({password:e,rawPassword:n,signed:r,encryptionStrength:o,checkPasswordOnly:c}){super({start(){t.assign(this,{ready:new u((e=>this.X=e)),password:ie(e,n),signed:r,Y:o-1,pending:new i})},async transform(e,t){const n=this,{password:r,Y:o,X:f,ready:a}=n;r?(await(async(e,t,n,r)=>{const i=await se(e,t,n,ce(r,0,j[t])),o=ce(r,j[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new s(B)})(n,o,r,ce(e,0,j[o]+2)),e=ce(e,j[o]+2),c?t.error(new s(M)):f()):await a;const l=new i(e.length-L-(e.length-L)%K);t.enqueue(re(n,e,l,0,L,!0))},async flush(e){const{signed:t,Z:n,$:r,pending:o,ready:c}=this;if(r&&n){await c;const f=ce(o,0,o.length-L),a=ce(o,o.length-L);let l=new i;if(f.length){const e=ae(Q,f);r.update(e);const t=n.update(e);l=fe(Q,t)}if(t){const e=ce(fe(Q,r.digest()),0,L);for(let t=0;L>t;t++)if(e[t]!=a[t])throw new s(E)}e.enqueue(l)}}})}}class ne extends p{constructor({password:e,rawPassword:n,encryptionStrength:r}){let s;super({start(){t.assign(this,{ready:new u((e=>this.X=e)),password:ie(e,n),Y:r-1,pending:new i})},async transform(e,t){const n=this,{password:r,Y:s,X:o,ready:c}=n;let f=new i;r?(f=await(async(e,t,n)=>{const r=U(new i(j[t]));return oe(r,await se(e,t,n,r))})(n,s,r),o()):await c;const a=new i(f.length+e.length-e.length%K);a.set(f,0),t.enqueue(re(n,e,a,f.length,0))},async flush(e){const{Z:t,$:n,pending:r,ready:o}=this;if(n&&t){await o;let c=new i;if(r.length){const e=t.update(ae(Q,r));n.update(e),c=fe(Q,e)}s.signature=fe(Q,n.digest()).slice(0,L),e.enqueue(oe(c,s.signature))}}}),s=this}}function re(e,t,n,r,s,o){const{Z:c,$:f,pending:a}=e,l=t.length-s;let u;for(a.length&&(t=oe(a,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new i(t)).set(n,0)}return e})(n,l-l%K)),u=0;l-K>=u;u+=K){const e=ae(Q,ce(t,u,u+K));o&&f.update(e);const s=c.update(e);o||f.update(s),n.set(fe(Q,s),u+r)}return e.pending=ce(t,u),n}async function se(n,r,s,o){n.password=null;const c=await(async(e,t,n,r,s)=>{if(!$)return V.importKey(t);try{return await G.importKey("raw",t,n,!1,s)}catch(e){return $=!1,V.importKey(t)}})(0,s,O,0,W),f=await(async(e,t,n)=>{if(!ee)return V.M(t,e.salt,T.iterations,n);try{return await G.deriveBits(e,t,n)}catch(r){return ee=!1,V.M(t,e.salt,T.iterations,n)}})(t.assign({salt:o},T),c,8*(2*H[r]+2)),a=new i(f),l=ae(Q,ce(a,0,H[r])),u=ae(Q,ce(a,H[r],2*H[r])),w=ce(a,2*H[r]);return t.assign(n,{keys:{key:l,ee:u,passwordVerification:w},Z:new Y(new X(l),e.from(F)),$:new Z(u)}),w}function ie(e,t){return t===k?(e=>{if(typeof w==v){const t=new i((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)})(e):t}function oe(e,t){let n=e;return e.length+t.length&&(n=new i(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function ce(e,t,n){return e.subarray(t,n)}function fe(e,t){return e.m(t)}function ae(e,t){return e.k(t)}class le extends p{constructor({password:e,passwordVerification:n,checkPasswordOnly:r}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;if(n.password){const t=we(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new s(B);e=e.subarray(12)}r?t.error(new s(M)):t.enqueue(we(n,e))}})}}class ue extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=U(new i(12));t[11]=n.passwordVerification,r=new i(e.length+t.length),r.set(he(n,t),0),s=12}else r=new i(e.length),s=0;r.set(he(n,e),s),t.enqueue(r)}})}}function we(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,n[r]);return n}function he(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,t[r]);return n}function de(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,te:new x(r[0]),ne:new x(r[2])});for(let t=0;t<n.length;t++)pe(e,n.charCodeAt(t))}function pe(e,t){let[n,s,i]=e.keys;e.te.append([t]),n=~e.te.get(),s=be(r.imul(be(s+me(n)),134775813)+1),e.ne.append([s>>>24]),i=~e.ne.get(),e.keys=[n,s,i]}function ye(e){const t=2|e.keys[2];return me(r.imul(t,1^t)>>>8)}function me(e){return 255&e}function be(e){return 4294967295&e}const ge="deflate-raw";class ke extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:i,useCompressionStream:o,zipCrypto:c,signed:f,level:a}=e,u=this;let w,h,d=Se(super.readable);i&&!c||!f||(w=new A,d=xe(d,w)),s&&(d=Ce(d,o,{level:a,chunkSize:t},r,n)),i&&(c?d=xe(d,new ue(e)):(h=new ne(e),d=xe(d,h))),ze(u,d,(()=>{let e;i&&!c&&(e=h.signature),i&&!c||!f||(e=new l(w.value.buffer).getUint32(0)),u.signature=e}))}}class ve extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:c,signature:f,compressed:a,useCompressionStream:u}=e;let w,h,d=Se(super.readable);o&&(i?d=xe(d,new le(e)):(h=new te(e),d=xe(d,h))),a&&(d=Ce(d,u,{chunkSize:t},r,n)),o&&!i||!c||(w=new A,d=xe(d,w)),ze(this,d,(()=>{if((!o||i)&&c){const e=new l(w.value.buffer);if(f!=e.getUint32(0,!1))throw new s(E)}}))}}function Se(e){return xe(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function ze(e,n,r){n=xe(n,new p({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function Ce(e,t,n,r,s){try{e=xe(e,new(t&&r?r:s)(ge,n))}catch(r){if(!t)return e;try{e=xe(e,new s(ge,n))}catch(t){return e}}return e}function xe(e,t){return e.pipeThrough(t)}const Ae="data",_e="close";class Ie extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let i;s.startsWith("deflate")?i=ke:s.startsWith("inflate")&&(i=ve);let o=0,c=0;const f=new i(e,n),a=super.readable,l=new p({transform(e,t){e&&e.length&&(c+=e.length,t.enqueue(e))},flush(){t.assign(r,{inputSize:c})}}),u=new p({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){const{signature:e}=f;t.assign(r,{signature:e,outputSize:o,inputSize:c})}});t.defineProperty(r,"readable",{get:()=>a.pipeThrough(l).pipeThrough(f).pipeThrough(u)})}}class Pe extends p{constructor(e){let t;super({transform:function n(r,s){if(t){const e=new i(t.length+r.length);e.set(t),e.set(r,t.length),r=e,t=null}r.length>e?(s.enqueue(r.slice(0,e)),n(r.slice(e),s)):t=r},flush(e){t&&t.length&&e.enqueue(t)}})}}const De=new a,Ve=new a;let Re,Be=0,Ee=!0;async function Me(e){try{const{options:t,scripts:r,config:s}=e;if(r&&r.length)try{Ee?importScripts.apply(k,r):await Ue(r)}catch(e){Ee=!1,await Ue(r)}self.initCodec&&self.initCodec(),s.CompressionStreamNative=self.CompressionStream,s.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(s.CompressionStream=new z(self.Deflate)),self.Inflate&&(s.DecompressionStream=new z(self.Inflate));const i={highWaterMark:1},o=e.readable||new y({async pull(e){const t=new u((e=>De.set(Be,e)));Ke({type:"pull",messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER;const{value:r,done:s}=await t;e.enqueue(r),s&&e.close()}},i),c=e.writable||new m({async write(e){let t;const r=new u((e=>t=e));Ve.set(Be,t),Ke({type:Ae,value:e,messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER,await r}},i),f=new Ie(t,s);Re=new AbortController;const{signal:a}=Re;await o.pipeThrough(f).pipeThrough(new Pe(s.chunkSize)).pipeTo(c,{signal:a,preventClose:!0,preventAbort:!0}),await c.getWriter().close();const{signature:l,inputSize:w,outputSize:h}=f;Ke({type:_e,result:{signature:l,inputSize:w,outputSize:h}})}catch(e){Ne(e)}}async function Ue(e){for(const t of e)await import(t)}function Ke(e){let{value:t}=e;if(t)if(t.length)try{t=new i(t),e.value=t.buffer,d(e,[e.value])}catch(t){d(e)}else d(e);else d(e)}function Ne(e=new s("Unknown error")){const{message:t,stack:n,code:r,name:i}=e;d({error:{message:t,stack:n,code:r,name:i}})}addEventListener("message",(({data:e})=>{const{type:t,messageId:n,value:r,done:s}=e;try{if("start"==t&&Me(e),t==Ae){const e=De.get(n);De.delete(n),e({value:new i(r),done:s})}if("ack"==t){const e=Ve.get(n);Ve.delete(n),e()}t==_e&&Re.abort()}catch(e){Ne(e)}}));const Oe=15,Te=573,We=-2;function je(t){return He(t.map((([t,n])=>new e(t).fill(n,0,t))))}function He(t){return t.reduce(((t,n)=>t.concat(e.isArray(n)?He(n):n)),[])}const Le=[0,1,2,3].concat(...je([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Fe(){const e=this;function t(e,t){let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.re=n=>{const s=e.se,i=e.oe.ie,o=e.oe.ce;let c,f,a,l=-1;for(n.fe=0,n.ae=Te,c=0;o>c;c++)0!==s[2*c]?(n.le[++n.fe]=l=c,n.ue[c]=0):s[2*c+1]=0;for(;2>n.fe;)a=n.le[++n.fe]=2>l?++l:0,s[2*a]=1,n.ue[a]=0,n.we--,i&&(n.he-=i[2*a+1]);for(e.de=l,c=r.floor(n.fe/2);c>=1;c--)n.pe(s,c);a=o;do{c=n.le[1],n.le[1]=n.le[n.fe--],n.pe(s,1),f=n.le[1],n.le[--n.ae]=c,n.le[--n.ae]=f,s[2*a]=s[2*c]+s[2*f],n.ue[a]=r.max(n.ue[c],n.ue[f])+1,s[2*c+1]=s[2*f+1]=a,n.le[1]=a++,n.pe(s,1)}while(n.fe>=2);n.le[--n.ae]=n.le[1],(t=>{const n=e.se,r=e.oe.ie,s=e.oe.ye,i=e.oe.me,o=e.oe.be;let c,f,a,l,u,w,h=0;for(l=0;Oe>=l;l++)t.ge[l]=0;for(n[2*t.le[t.ae]+1]=0,c=t.ae+1;Te>c;c++)f=t.le[c],l=n[2*n[2*f+1]+1]+1,l>o&&(l=o,h++),n[2*f+1]=l,f>e.de||(t.ge[l]++,u=0,i>f||(u=s[f-i]),w=n[2*f],t.we+=w*(l+u),r&&(t.he+=w*(r[2*f+1]+u)));if(0!==h){do{for(l=o-1;0===t.ge[l];)l--;t.ge[l]--,t.ge[l+1]+=2,t.ge[o]--,h-=2}while(h>0);for(l=o;0!==l;l--)for(f=t.ge[l];0!==f;)a=t.le[--c],a>e.de||(n[2*a+1]!=l&&(t.we+=(l-n[2*a+1])*n[2*a],n[2*a+1]=l),f--)}})(n),((e,n,r)=>{const s=[];let i,o,c,f=0;for(i=1;Oe>=i;i++)s[i]=f=f+r[i-1]<<1;for(o=0;n>=o;o++)c=e[2*o+1],0!==c&&(e[2*o]=t(s[c]++,c))})(s,e.de,n.ge)}}function qe(e,t,n,r,s){const i=this;i.ie=e,i.ye=t,i.me=n,i.ce=r,i.be=s}Fe.ke=[0,1,2,3,4,5,6,7].concat(...je([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),Fe.ve=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],Fe.Se=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],Fe.ze=e=>256>e?Le[e]:Le[256+(e>>>7)],Fe.Ce=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Fe.xe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Fe.Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Fe._e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Ge=je([[144,8],[112,9],[24,7],[8,8]]);qe.Ie=He([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,Ge[t]])));const Je=je([[30,5]]);function Qe(e,t,n,r,s){const i=this;i.Pe=e,i.De=t,i.Ve=n,i.Re=r,i.Be=s}qe.Ee=He([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,Je[t]]))),qe.Me=new qe(qe.Ie,Fe.Ce,257,286,Oe),qe.Ue=new qe(qe.Ee,Fe.xe,0,30,Oe),qe.Ke=new qe(null,Fe.Ae,0,19,7);const Xe=[new Qe(0,0,0,0,0),new Qe(4,4,8,4,1),new Qe(4,5,16,8,1),new Qe(4,6,32,32,1),new Qe(4,4,16,16,2),new Qe(8,16,32,32,2),new Qe(8,16,128,128,2),new Qe(8,32,128,256,2),new Qe(32,128,258,1024,2),new Qe(32,258,258,4096,2)],Ye=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Ze=113,$e=666,et=262;function tt(e,t,n,r){const s=e[2*t],i=e[2*n];return i>s||s==i&&r[t]<=r[n]}function nt(){const e=this;let t,n,s,c,f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z,C,x,A,_,I,P,D,V,R,B,E,M,U;const K=new Fe,N=new Fe,O=new Fe;let T,W,j,H,L,F;function q(){let t;for(t=0;286>t;t++)E[2*t]=0;for(t=0;30>t;t++)M[2*t]=0;for(t=0;19>t;t++)U[2*t]=0;E[512]=1,e.we=e.he=0,W=j=0}function G(e,t){let n,r=-1,s=e[1],i=0,o=7,c=4;0===s&&(o=138,c=3),e[2*(t+1)+1]=65535;for(let f=0;t>=f;f++)n=s,s=e[2*(f+1)+1],++i<o&&n==s||(c>i?U[2*n]+=i:0!==n?(n!=r&&U[2*n]++,U[32]++):i>10?U[36]++:U[34]++,i=0,r=n,0===s?(o=138,c=3):n==s?(o=6,c=3):(o=7,c=4))}function J(t){e.Ne[e.pending++]=t}function Q(e){J(255&e),J(e>>>8&255)}function X(e,t){let n;const r=t;F>16-r?(n=e,L|=n<<F&65535,Q(L),L=n>>>16-F,F+=r-16):(L|=e<<F&65535,F+=r)}function Y(e,t){const n=2*e;X(65535&t[n],65535&t[n+1])}function Z(e,t){let n,r,s=-1,i=e[1],o=0,c=7,f=4;for(0===i&&(c=138,f=3),n=0;t>=n;n++)if(r=i,i=e[2*(n+1)+1],++o>=c||r!=i){if(f>o)do{Y(r,U)}while(0!=--o);else 0!==r?(r!=s&&(Y(r,U),o--),Y(16,U),X(o-3,2)):o>10?(Y(18,U),X(o-11,7)):(Y(17,U),X(o-3,3));o=0,s=r,0===i?(c=138,f=3):r==i?(c=6,f=3):(c=7,f=4)}}function $(){16==F?(Q(L),L=0,F=0):8>F||(J(255&L),L>>>=8,F-=8)}function ee(t,n){let s,i,o;if(e.Oe[W]=t,e.Te[W]=255&n,W++,0===t?E[2*n]++:(j++,t--,E[2*(Fe.ke[n]+256+1)]++,M[2*Fe.ze(t)]++),!(8191&W)&&D>2){for(s=8*W,i=C-k,o=0;30>o;o++)s+=M[2*o]*(5+Fe.xe[o]);if(s>>>=3,j<r.floor(W/2)&&s<r.floor(i/2))return!0}return W==T-1}function te(t,n){let r,s,i,o,c=0;if(0!==W)do{r=e.Oe[c],s=e.Te[c],c++,0===r?Y(s,t):(i=Fe.ke[s],Y(i+256+1,t),o=Fe.Ce[i],0!==o&&(s-=Fe.ve[i],X(s,o)),r--,i=Fe.ze(r),Y(i,n),o=Fe.xe[i],0!==o&&(r-=Fe.Se[i],X(r,o)))}while(W>c);Y(256,t),H=t[513]}function ne(){F>8?Q(L):F>0&&J(255&L),L=0,F=0}function re(t,n,r){X(0+(r?1:0),3),((t,n)=>{ne(),H=8,Q(n),Q(~n),e.Ne.set(u.subarray(t,t+n),e.pending),e.pending+=n})(t,n)}function se(n){((t,n,r)=>{let s,i,o=0;D>0?(K.re(e),N.re(e),o=(()=>{let t;for(G(E,K.de),G(M,N.de),O.re(e),t=18;t>=3&&0===U[2*Fe._e[t]+1];t--);return e.we+=14+3*(t+1),t})(),s=e.we+3+7>>>3,i=e.he+3+7>>>3,i>s||(s=i)):s=i=n+5,n+4>s||-1==t?i==s?(X(2+(r?1:0),3),te(qe.Ie,qe.Ee)):(X(4+(r?1:0),3),((e,t,n)=>{let r;for(X(e-257,5),X(t-1,5),X(n-4,4),r=0;n>r;r++)X(U[2*Fe._e[r]+1],3);Z(E,e-1),Z(M,t-1)})(K.de+1,N.de+1,o+1),te(E,M)):re(t,n,r),q(),r&&ne()})(0>k?-1:k,C-k,n),k=C,t.We()}function ie(){let e,n,r,s;do{if(s=w-A-C,0===s&&0===C&&0===A)s=f;else if(-1==s)s--;else if(C>=f+f-et){u.set(u.subarray(f,f+f),0),x-=f,C-=f,k-=f,e=y,r=e;do{n=65535&d[--r],d[r]=f>n?0:n-f}while(0!=--e);e=f,r=e;do{n=65535&h[--r],h[r]=f>n?0:n-f}while(0!=--e);s+=f}if(0===t.je)return;e=t.He(u,C+A,s),A+=e,3>A||(p=255&u[C],p=(p<<g^255&u[C+1])&b)}while(et>A&&0!==t.je)}function oe(e){let t,n,r=I,s=C,i=_;const o=C>f-et?C-(f-et):0;let c=B;const a=l,w=C+258;let d=u[s+i-1],p=u[s+i];R>_||(r>>=2),c>A&&(c=A);do{if(t=e,u[t+i]==p&&u[t+i-1]==d&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&w>s);if(n=258-(w-s),s=w-258,n>i){if(x=e,i=n,n>=c)break;d=u[s+i-1],p=u[s+i]}}}while((e=65535&h[e&a])>o&&0!=--r);return i>A?A:i}e.ue=[],e.ge=[],e.le=[],E=[],M=[],U=[],e.pe=(t,n)=>{const r=e.le,s=r[n];let i=n<<1;for(;i<=e.fe&&(i<e.fe&&tt(t,r[i+1],r[i],e.ue)&&i++,!tt(t,s,r[i],e.ue));)r[n]=r[i],n=i,i<<=1;r[n]=s},e.Le=(t,S,x,W,j,G)=>(W||(W=8),j||(j=8),G||(G=0),t.Fe=null,-1==S&&(S=6),1>j||j>9||8!=W||9>x||x>15||0>S||S>9||0>G||G>2?We:(t.qe=e,a=x,f=1<<a,l=f-1,m=j+7,y=1<<m,b=y-1,g=r.floor((m+3-1)/3),u=new i(2*f),h=[],d=[],T=1<<j+6,e.Ne=new i(4*T),s=4*T,e.Oe=new o(T),e.Te=new i(T),D=S,V=G,(t=>(t.Ge=t.Je=0,t.Fe=null,e.pending=0,e.Qe=0,n=Ze,c=0,K.se=E,K.oe=qe.Me,N.se=M,N.oe=qe.Ue,O.se=U,O.oe=qe.Ke,L=0,F=0,H=8,q(),(()=>{w=2*f,d[y-1]=0;for(let e=0;y-1>e;e++)d[e]=0;P=Xe[D].De,R=Xe[D].Pe,B=Xe[D].Ve,I=Xe[D].Re,C=0,k=0,A=0,v=_=2,z=0,p=0})(),0))(t))),e.Xe=()=>42!=n&&n!=Ze&&n!=$e?We:(e.Te=null,e.Oe=null,e.Ne=null,d=null,h=null,u=null,e.qe=null,n==Ze?-3:0),e.Ye=(e,t,n)=>{let r=0;return-1==t&&(t=6),0>t||t>9||0>n||n>2?We:(Xe[D].Be!=Xe[t].Be&&0!==e.Ge&&(r=e.Ze(1)),D!=t&&(D=t,P=Xe[D].De,R=Xe[D].Pe,B=Xe[D].Ve,I=Xe[D].Re),V=n,r)},e.$e=(e,t,r)=>{let s,i=r,o=0;if(!t||42!=n)return We;if(3>i)return 0;for(i>f-et&&(i=f-et,o=r-i),u.set(t.subarray(o,o+i),0),C=i,k=i,p=255&u[0],p=(p<<g^255&u[1])&b,s=0;i-3>=s;s++)p=(p<<g^255&u[s+2])&b,h[s&l]=d[p],d[p]=s;return 0},e.Ze=(r,i)=>{let o,w,m,I,R;if(i>4||0>i)return We;if(!r.et||!r.tt&&0!==r.je||n==$e&&4!=i)return r.Fe=Ye[4],We;if(0===r.nt)return r.Fe=Ye[7],-5;var B;if(t=r,I=c,c=i,42==n&&(w=8+(a-8<<4)<<8,m=(D-1&255)>>1,m>3&&(m=3),w|=m<<6,0!==C&&(w|=32),w+=31-w%31,n=Ze,J((B=w)>>8&255),J(255&B)),0!==e.pending){if(t.We(),0===t.nt)return c=-1,0}else if(0===t.je&&I>=i&&4!=i)return t.Fe=Ye[7],-5;if(n==$e&&0!==t.je)return r.Fe=Ye[7],-5;if(0!==t.je||0!==A||0!=i&&n!=$e){switch(R=-1,Xe[D].Be){case 0:R=(e=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=A){if(ie(),0===A&&0==e)return 0;if(0===A)break}if(C+=A,A=0,n=k+r,(0===C||C>=n)&&(A=C-n,C=n,se(!1),0===t.nt))return 0;if(C-k>=f-et&&(se(!1),0===t.nt))return 0}return se(4==e),0===t.nt?4==e?2:0:4==e?3:1})(i);break;case 1:R=(e=>{let n,r=0;for(;;){if(et>A){if(ie(),et>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C),0===r||(C-r&65535)>f-et||2!=V&&(v=oe(r)),3>v)n=ee(0,255&u[C]),A--,C++;else if(n=ee(C-x,v-3),A-=v,v>P||3>A)C+=v,v=0,p=255&u[C],p=(p<<g^255&u[C+1])&b;else{v--;do{C++,p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C}while(0!=--v);C++}if(n&&(se(!1),0===t.nt))return 0}return se(4==e),0===t.nt?4==e?2:0:4==e?3:1})(i);break;case 2:R=(e=>{let n,r,s=0;for(;;){if(et>A){if(ie(),et>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C),_=v,S=x,v=2,0!==s&&P>_&&f-et>=(C-s&65535)&&(2!=V&&(v=oe(s)),5>=v&&(1==V||3==v&&C-x>4096)&&(v=2)),3>_||v>_)if(0!==z){if(n=ee(0,255&u[C-1]),n&&se(!1),C++,A--,0===t.nt)return 0}else z=1,C++,A--;else{r=C+A-3,n=ee(C-1-S,_-3),A-=_-1,_-=2;do{++C>r||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C)}while(0!=--_);if(z=0,v=2,C++,n&&(se(!1),0===t.nt))return 0}}return 0!==z&&(n=ee(0,255&u[C-1]),z=0),se(4==e),0===t.nt?4==e?2:0:4==e?3:1})(i)}if(2!=R&&3!=R||(n=$e),0==R||2==R)return 0===t.nt&&(c=-1),0;if(1==R){if(1==i)X(2,3),Y(256,qe.Ie),$(),9>1+H+10-F&&(X(2,3),Y(256,qe.Ie),$()),H=7;else if(re(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(t.We(),0===t.nt)return c=-1,0}}return 4!=i?0:1}}function rt(){const e=this;e.rt=0,e.st=0,e.je=0,e.Ge=0,e.nt=0,e.Je=0}function st(e){const t=new rt,n=(o=e&&e.chunkSize?e.chunkSize:65536)+5*(r.floor(o/16383)+1);var o;const c=new i(n);let f=e?e.level:-1;void 0===f&&(f=-1),t.Le(f),t.et=c,this.append=(e,r)=>{let o,f,a=0,l=0,u=0;const w=[];if(e.length){t.rt=0,t.tt=e,t.je=e.length;do{if(t.st=0,t.nt=n,o=t.Ze(0),0!=o)throw new s("deflating: "+t.Fe);t.st&&(t.st==n?w.push(new i(c)):w.push(c.subarray(0,t.st))),u+=t.st,r&&t.rt>0&&t.rt!=a&&(r(t.rt),a=t.rt)}while(t.je>0||0===t.nt);return w.length>1?(f=new i(u),w.forEach((e=>{f.set(e,l),l+=e.length}))):f=w[0]?new i(w[0]):new i,f}},this.flush=()=>{let e,r,o=0,f=0;const a=[];do{if(t.st=0,t.nt=n,e=t.Ze(4),1!=e&&0!=e)throw new s("deflating: "+t.Fe);n-t.nt>0&&a.push(c.slice(0,t.st)),f+=t.st}while(t.je>0||0===t.nt);return t.Xe(),r=new i(f),a.forEach((e=>{r.set(e,o),o+=e.length})),r}}rt.prototype={Le(e,t){const n=this;return n.qe=new nt,t||(t=Oe),n.qe.Le(n,e,t)},Ze(e){const t=this;return t.qe?t.qe.Ze(t,e):We},Xe(){const e=this;if(!e.qe)return We;const t=e.qe.Xe();return e.qe=null,t},Ye(e,t){const n=this;return n.qe?n.qe.Ye(n,e,t):We},$e(e,t){const n=this;return n.qe?n.qe.$e(n,e,t):We},He(e,t,n){const r=this;let s=r.je;return s>n&&(s=n),0===s?0:(r.je-=s,e.set(r.tt.subarray(r.rt,r.rt+s),t),r.rt+=s,r.Ge+=s,s)},We(){const e=this;let t=e.qe.pending;t>e.nt&&(t=e.nt),0!==t&&(e.et.set(e.qe.Ne.subarray(e.qe.Qe,e.qe.Qe+t),e.st),e.st+=t,e.qe.Qe+=t,e.Je+=t,e.nt-=t,e.qe.pending-=t,0===e.qe.pending&&(e.qe.Qe=0))}};const it=0,ot=1,ct=-2,ft=-3,at=-4,lt=-5,ut=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],wt=1440,ht=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],dt=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],pt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],yt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],mt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],bt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],gt=15;function kt(){let e,t,n,r,s,i;function o(e,t,o,c,f,a,l,u,w,h,d){let p,y,m,b,g,k,v,S,z,C,x,A,_,I,P;C=0,g=o;do{n[e[t+C]]++,C++,g--}while(0!==g);if(n[0]==o)return l[0]=-1,u[0]=0,it;for(S=u[0],k=1;gt>=k&&0===n[k];k++);for(v=k,k>S&&(S=k),g=gt;0!==g&&0===n[g];g--);for(m=g,S>g&&(S=g),u[0]=S,I=1<<k;g>k;k++,I<<=1)if(0>(I-=n[k]))return ft;if(0>(I-=n[g]))return ft;for(n[g]+=I,i[1]=k=0,C=1,_=2;0!=--g;)i[_]=k+=n[C],_++,C++;g=0,C=0;do{0!==(k=e[t+C])&&(d[i[k]++]=g),C++}while(++g<o);for(o=i[m],i[0]=g=0,C=0,b=-1,A=-S,s[0]=0,x=0,P=0;m>=v;v++)for(p=n[v];0!=p--;){for(;v>A+S;){if(b++,A+=S,P=m-A,P=P>S?S:P,(y=1<<(k=v-A))>p+1&&(y-=p+1,_=v,P>k))for(;++k<P&&(y<<=1)>n[++_];)y-=n[_];if(P=1<<k,h[0]+P>wt)return ft;s[b]=x=h[0],h[0]+=P,0!==b?(i[b]=g,r[0]=k,r[1]=S,k=g>>>A-S,r[2]=x-s[b-1]-k,w.set(r,3*(s[b-1]+k))):l[0]=x}for(r[1]=v-A,o>C?d[C]<c?(r[0]=256>d[C]?0:96,r[2]=d[C++]):(r[0]=a[d[C]-c]+16+64,r[2]=f[d[C++]-c]):r[0]=192,y=1<<v-A,k=g>>>A;P>k;k+=y)w.set(r,3*(x+k));for(k=1<<v-1;g&k;k>>>=1)g^=k;for(g^=k,z=(1<<A)-1;(g&z)!=i[b];)b--,A-=S,z=(1<<A)-1}return 0!==I&&1!=m?lt:it}function c(o){let c;for(e||(e=[],t=[],n=new f(gt+1),r=[],s=new f(gt),i=new f(gt+1)),t.length<o&&(t=[]),c=0;o>c;c++)t[c]=0;for(c=0;gt+1>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;s.set(n.subarray(0,gt),0),i.set(n.subarray(0,gt+1),0)}this.it=(n,r,s,i,f)=>{let a;return c(19),e[0]=0,a=o(n,0,19,19,null,null,s,r,i,e,t),a==ft?f.Fe="oversubscribed dynamic bit lengths tree":a!=lt&&0!==r[0]||(f.Fe="incomplete dynamic bit lengths tree",a=ft),a},this.ot=(n,r,s,i,f,a,l,u,w)=>{let h;return c(288),e[0]=0,h=o(s,0,n,257,pt,yt,a,i,u,e,t),h!=it||0===i[0]?(h==ft?w.Fe="oversubscribed literal/length tree":h!=at&&(w.Fe="incomplete literal/length tree",h=ft),h):(c(288),h=o(s,n,r,0,mt,bt,l,f,u,e,t),h!=it||0===f[0]&&n>257?(h==ft?w.Fe="oversubscribed distance tree":h==lt?(w.Fe="incomplete distance tree",h=ft):h!=at&&(w.Fe="empty distance tree with lengths",h=ft),h):it)}}kt.ct=(e,t,n,r)=>(e[0]=9,t[0]=5,n[0]=ht,r[0]=dt,it);const vt=0,St=1,zt=2,Ct=3,xt=4,At=5,_t=6,It=7,Pt=8,Dt=9;function Vt(){const e=this;let t,n,r,s,i=0,o=0,c=0,f=0,a=0,l=0,u=0,w=0,h=0,d=0;function p(e,t,n,r,s,i,o,c){let f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z;d=c.rt,p=c.je,w=o.ft,h=o.lt,y=o.write,m=y<o.read?o.read-y-1:o.end-y,b=ut[e],g=ut[t];do{for(;20>h;)p--,w|=(255&c.ut(d++))<<h,h+=8;if(f=w&b,a=n,l=r,z=3*(l+f),0!==(u=a[z]))for(;;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15,k=a[z+2]+(w&ut[u]),w>>=u,h-=u;15>h;)p--,w|=(255&c.ut(d++))<<h,h+=8;for(f=w&g,a=s,l=i,z=3*(l+f),u=a[z];;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15;u>h;)p--,w|=(255&c.ut(d++))<<h,h+=8;if(v=a[z+2]+(w&ut[u]),w>>=u,h-=u,m-=k,v>y){S=y-v;do{S+=o.end}while(0>S);if(u=o.end-S,k>u){if(k-=u,y-S>0&&u>y-S)do{o.wt[y++]=o.wt[S++]}while(0!=--u);else o.wt.set(o.wt.subarray(S,S+u),y),y+=u,S+=u,u=0;S=0}}else S=y-v,y-S>0&&2>y-S?(o.wt[y++]=o.wt[S++],o.wt[y++]=o.wt[S++],k-=2):(o.wt.set(o.wt.subarray(S,S+2),y),y+=2,S+=2,k-=2);if(y-S>0&&k>y-S)do{o.wt[y++]=o.wt[S++]}while(0!=--k);else o.wt.set(o.wt.subarray(S,S+k),y),y+=k,S+=k,k=0;break}if(64&u)return c.Fe="invalid distance code",k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,ft;f+=a[z+2],f+=w&ut[u],z=3*(l+f),u=a[z]}break}if(64&u)return 32&u?(k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,ot):(c.Fe="invalid literal/length code",k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,ft);if(f+=a[z+2],f+=w&ut[u],z=3*(l+f),0===(u=a[z])){w>>=a[z+1],h-=a[z+1],o.wt[y++]=a[z+2],m--;break}}else w>>=a[z+1],h-=a[z+1],o.wt[y++]=a[z+2],m--}while(m>=258&&p>=10);return k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,it}e.init=(e,i,o,c,f,a)=>{t=vt,u=e,w=i,r=o,h=c,s=f,d=a,n=null},e.ht=(e,y,m)=>{let b,g,k,v,S,z,C,x=0,A=0,_=0;for(_=y.rt,v=y.je,x=e.ft,A=e.lt,S=e.write,z=S<e.read?e.read-S-1:e.end-S;;)switch(t){case vt:if(z>=258&&v>=10&&(e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,m=p(u,w,r,h,s,d,e,y),_=y.rt,v=y.je,x=e.ft,A=e.lt,S=e.write,z=S<e.read?e.read-S-1:e.end-S,m!=it)){t=m==ot?It:Dt;break}c=u,n=r,o=h,t=St;case St:for(b=c;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}if(g=3*(o+(x&ut[b])),x>>>=n[g+1],A-=n[g+1],k=n[g],0===k){f=n[g+2],t=_t;break}if(16&k){a=15&k,i=n[g+2],t=zt;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}if(32&k){t=It;break}return t=Dt,y.Fe="invalid literal/length code",m=ft,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);case zt:for(b=a;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}i+=x&ut[b],x>>=b,A-=b,c=w,n=s,o=d,t=Ct;case Ct:for(b=c;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}if(g=3*(o+(x&ut[b])),x>>=n[g+1],A-=n[g+1],k=n[g],16&k){a=15&k,l=n[g+2],t=xt;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}return t=Dt,y.Fe="invalid distance code",m=ft,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);case xt:for(b=a;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}l+=x&ut[b],x>>=b,A-=b,t=At;case At:for(C=S-l;0>C;)C+=e.end;for(;0!==i;){if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.dt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);e.wt[S++]=e.wt[C++],z--,C==e.end&&(C=0),i--}t=vt;break;case _t:if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.dt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,e.wt[S++]=f,z--,t=vt;break;case It:if(A>7&&(A-=8,v++,_--),e.write=S,m=e.dt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,e.read!=e.write)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);t=Pt;case Pt:return m=ot,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);case Dt:return m=ft,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);default:return m=ct,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m)}},e.yt=()=>{}}const Rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Bt=0,Et=1,Mt=2,Ut=3,Kt=4,Nt=5,Ot=6,Tt=7,Wt=8,jt=9;function Ht(e,t){const n=this;let r,s=Bt,o=0,c=0,a=0;const l=[0],u=[0],w=new Vt;let h=0,d=new f(3*wt);const p=new kt;n.lt=0,n.ft=0,n.wt=new i(t),n.end=t,n.read=0,n.write=0,n.reset=(e,t)=>{t&&(t[0]=0),s==Ot&&w.yt(e),s=Bt,n.lt=0,n.ft=0,n.read=n.write=0},n.reset(e,null),n.dt=(e,t)=>{let r,s,i;return s=e.st,i=n.read,r=(i>n.write?n.end:n.write)-i,r>e.nt&&(r=e.nt),0!==r&&t==lt&&(t=it),e.nt-=r,e.Je+=r,e.et.set(n.wt.subarray(i,i+r),s),s+=r,i+=r,i==n.end&&(i=0,n.write==n.end&&(n.write=0),r=n.write-i,r>e.nt&&(r=e.nt),0!==r&&t==lt&&(t=it),e.nt-=r,e.Je+=r,e.et.set(n.wt.subarray(i,i+r),s),s+=r,i+=r),e.st=s,n.read=i,t},n.ht=(e,t)=>{let i,f,y,m,b,g,k,v;for(m=e.rt,b=e.je,f=n.ft,y=n.lt,g=n.write,k=g<n.read?n.read-g-1:n.end-g;;){let S,z,C,x,A,_,I,P;switch(s){case Bt:for(;3>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,s=Et;break;case 1:S=[],z=[],C=[[]],x=[[]],kt.ct(S,z,C,x),w.init(S[0],z[0],C[0],0,x[0],0),f>>>=3,y-=3,s=Ot;break;case 2:f>>>=3,y-=3,s=Ut;break;case 3:return f>>>=3,y-=3,s=jt,e.Fe="invalid block type",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t)}break;case Et:for(;32>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return s=jt,e.Fe="invalid stored block lengths",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);o=65535&f,f=y=0,s=0!==o?Mt:0!==h?Tt:Bt;break;case Mt:if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);if(0===k&&(g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k&&(n.write=g,t=n.dt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k)))return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);if(t=it,i=o,i>b&&(i=b),i>k&&(i=k),n.wt.set(e.He(m,i),g),m+=i,b-=i,g+=i,k-=i,0!=(o-=i))break;s=0!==h?Tt:Bt;break;case Ut:for(;14>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return s=jt,e.Fe="too many length or distance symbols",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(v=0;i>v;v++)r[v]=0;f>>>=14,y-=14,a=0,s=Kt;case Kt:for(;4+(c>>>10)>a;){for(;3>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}r[Rt[a++]]=7&f,f>>>=3,y-=3}for(;19>a;)r[Rt[a++]]=0;if(l[0]=7,i=p.it(r,l,u,d,e),i!=it)return(t=i)==ft&&(r=null,s=jt),n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);a=0,s=Nt;case Nt:for(;i=c,258+(31&i)+(i>>5&31)>a;){let o,w;for(i=l[0];i>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if(i=d[3*(u[0]+(f&ut[i]))+1],w=d[3*(u[0]+(f&ut[i]))+2],16>w)f>>>=i,y-=i,r[a++]=w;else{for(v=18==w?7:w-14,o=18==w?11:3;i+v>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if(f>>>=i,y-=i,o+=f&ut[v],f>>>=v,y-=v,v=a,i=c,v+o>258+(31&i)+(i>>5&31)||16==w&&1>v)return r=null,s=jt,e.Fe="invalid bit length repeat",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);w=16==w?r[v-1]:0;do{r[v++]=w}while(0!=--o);a=v}}if(u[0]=-1,A=[],_=[],I=[],P=[],A[0]=9,_[0]=6,i=c,i=p.ot(257+(31&i),1+(i>>5&31),r,A,_,I,P,d,e),i!=it)return i==ft&&(r=null,s=jt),t=i,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);w.init(A[0],_[0],d,I[0],d,P[0]),s=Ot;case Ot:if(n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,(t=w.ht(n,e,t))!=ot)return n.dt(e,t);if(t=it,w.yt(e),m=e.rt,b=e.je,f=n.ft,y=n.lt,g=n.write,k=g<n.read?n.read-g-1:n.end-g,0===h){s=Bt;break}s=Tt;case Tt:if(n.write=g,t=n.dt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);s=Wt;case Wt:return t=ot,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);case jt:return t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);default:return t=ct,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t)}}},n.yt=e=>{n.reset(e,null),n.wt=null,d=null},n.bt=(e,t,r)=>{n.wt.set(e.subarray(t,t+r),0),n.read=n.write=r},n.gt=()=>s==Et?1:0}const Lt=13,Ft=[0,0,255,255];function qt(){const e=this;function t(e){return e&&e.kt?(e.Ge=e.Je=0,e.Fe=null,e.kt.mode=7,e.kt.vt.reset(e,null),it):ct}e.mode=0,e.method=0,e.St=[0],e.zt=0,e.marker=0,e.Ct=0,e.xt=t=>(e.vt&&e.vt.yt(t),e.vt=null,it),e.At=(n,r)=>(n.Fe=null,e.vt=null,8>r||r>15?(e.xt(n),ct):(e.Ct=r,n.kt.vt=new Ht(n,1<<r),t(n),it)),e._t=(e,t)=>{let n,r;if(!e||!e.kt||!e.tt)return ct;const s=e.kt;for(t=4==t?lt:it,n=lt;;)switch(s.mode){case 0:if(0===e.je)return n;if(n=t,e.je--,e.Ge++,8!=(15&(s.method=e.ut(e.rt++)))){s.mode=Lt,e.Fe="unknown compression method",s.marker=5;break}if(8+(s.method>>4)>s.Ct){s.mode=Lt,e.Fe="invalid win size",s.marker=5;break}s.mode=1;case 1:if(0===e.je)return n;if(n=t,e.je--,e.Ge++,r=255&e.ut(e.rt++),((s.method<<8)+r)%31!=0){s.mode=Lt,e.Fe="incorrect header check",s.marker=5;break}if(!(32&r)){s.mode=7;break}s.mode=2;case 2:if(0===e.je)return n;n=t,e.je--,e.Ge++,s.zt=(255&e.ut(e.rt++))<<24&4278190080,s.mode=3;case 3:if(0===e.je)return n;n=t,e.je--,e.Ge++,s.zt+=(255&e.ut(e.rt++))<<16&16711680,s.mode=4;case 4:if(0===e.je)return n;n=t,e.je--,e.Ge++,s.zt+=(255&e.ut(e.rt++))<<8&65280,s.mode=5;case 5:return 0===e.je?n:(n=t,e.je--,e.Ge++,s.zt+=255&e.ut(e.rt++),s.mode=6,2);case 6:return s.mode=Lt,e.Fe="need dictionary",s.marker=0,ct;case 7:if(n=s.vt.ht(e,n),n==ft){s.mode=Lt,s.marker=0;break}if(n==it&&(n=t),n!=ot)return n;n=t,s.vt.reset(e,s.St),s.mode=12;case 12:return e.je=0,ot;case Lt:return ft;default:return ct}},e.It=(e,t,n)=>{let r=0,s=n;if(!e||!e.kt||6!=e.kt.mode)return ct;const i=e.kt;return s<1<<i.Ct||(s=(1<<i.Ct)-1,r=n-s),i.vt.bt(t,r,s),i.mode=7,it},e.Pt=e=>{let n,r,s,i,o;if(!e||!e.kt)return ct;const c=e.kt;if(c.mode!=Lt&&(c.mode=Lt,c.marker=0),0===(n=e.je))return lt;for(r=e.rt,s=c.marker;0!==n&&4>s;)e.ut(r)==Ft[s]?s++:s=0!==e.ut(r)?0:4-s,r++,n--;return e.Ge+=r-e.rt,e.rt=r,e.je=n,c.marker=s,4!=s?ft:(i=e.Ge,o=e.Je,t(e),e.Ge=i,e.Je=o,c.mode=7,it)},e.Dt=e=>e&&e.kt&&e.kt.vt?e.kt.vt.gt():ct}function Gt(){}function Jt(e){const t=new Gt,n=e&&e.chunkSize?r.floor(2*e.chunkSize):131072,o=new i(n);let c=!1;t.At(),t.et=o,this.append=(e,r)=>{const f=[];let a,l,u=0,w=0,h=0;if(0!==e.length){t.rt=0,t.tt=e,t.je=e.length;do{if(t.st=0,t.nt=n,0!==t.je||c||(t.rt=0,c=!0),a=t._t(0),c&&a===lt){if(0!==t.je)throw new s("inflating: bad input")}else if(a!==it&&a!==ot)throw new s("inflating: "+t.Fe);if((c||a===ot)&&t.je===e.length)throw new s("inflating: bad input");t.st&&(t.st===n?f.push(new i(o)):f.push(o.subarray(0,t.st))),h+=t.st,r&&t.rt>0&&t.rt!=u&&(r(t.rt),u=t.rt)}while(t.je>0||0===t.nt);return f.length>1?(l=new i(h),f.forEach((e=>{l.set(e,w),w+=e.length}))):l=f[0]?new i(f[0]):new i,l}},this.flush=()=>{t.xt()}}Gt.prototype={At(e){const t=this;return t.kt=new qt,e||(e=15),t.kt.At(t,e)},_t(e){const t=this;return t.kt?t.kt._t(t,e):ct},xt(){const e=this;if(!e.kt)return ct;const t=e.kt.xt(e);return e.kt=null,t},Pt(){const e=this;return e.kt?e.kt.Pt(e):ct},It(e,t){const n=this;return n.kt?n.kt.It(n,e,t):ct},ut(e){return this.tt[e]},He(e,t){return this.tt.subarray(e,e+t)}},self.initCodec=()=>{self.Deflate=st,self.Inflate=Jt};\n',i=()=>e.useDataURI?"data:text/javascript,"+encodeURIComponent(n):URL.createObjectURL(new Blob([n],{type:"text/javascript"}));t({workerScripts:{inflate:[i],deflate:[i]}})}n(4979);const ar="Writer iterator completed too soon",or="text/plain",lr="Content-Type",cr=65536,ur="writable";class hr{constructor(){this.size=0}init(){this.initialized=!0}}class dr extends hr{get readable(){const t=this,{chunkSize:e=cr}=t,n=new ReadableStream({start(){this.chunkOffset=0},async pull(i){const{offset:r=0,size:s,diskNumberStart:a}=n,{chunkOffset:o}=this;i.enqueue(await xr(t,r+o,Math.min(e,s-o),a)),o+e>s?i.close():this.chunkOffset+=e}});return n}}class fr extends dr{constructor(t){super(),Object.assign(this,{blob:t,size:t.size})}async readUint8Array(t,e){const n=this,i=t+e,r=t||i<n.size?n.blob.slice(t,i):n.blob;let s=await r.arrayBuffer();return s.byteLength>e&&(s=s.slice(t,i)),new Uint8Array(s)}}class pr extends hr{constructor(t){super();const e=this,n=new TransformStream,i=[];t&&i.push([lr,t]),Object.defineProperty(e,ur,{get(){return n.writable}}),e.blob=new Response(n.readable,{headers:i}).blob()}getData(){return this.blob}}class mr extends fr{constructor(t){super(new Blob([t],{type:or}))}}class _r extends pr{constructor(t){super(t),Object.assign(this,{encoding:t,utf8:!t||"utf-8"==t.toLowerCase()})}async getData(){const{encoding:t,utf8:e}=this,n=await super.getData();if(n.text&&e)return n.text();{const e=new FileReader;return new Promise(((i,r)=>{Object.assign(e,{onload:({target:t})=>i(t.result),onerror:()=>r(e.error)}),e.readAsText(n,t)}))}}}class vr extends dr{constructor(t){super(),this.readers=t}async init(){const t=this,{readers:e}=t;t.lastDiskNumber=0,t.lastDiskOffset=0,await Promise.all(e.map((async(n,i)=>{await n.init(),i!=e.length-1&&(t.lastDiskOffset+=n.size),t.size+=n.size}))),super.init()}async readUint8Array(t,e,n=0){const i=this,{readers:r}=this;let s,a=n;-1==a&&(a=r.length-1);let o=t;while(o>=r[a].size)o-=r[a].size,a++;const l=r[a],c=l.size;if(o+e<=c)s=await xr(l,o,e);else{const r=c-o;s=new Uint8Array(e),s.set(await xr(l,o,r)),s.set(await i.readUint8Array(t+r,e-r,n),r)}return i.lastDiskNumber=Math.max(a,i.lastDiskNumber),s}}class gr extends hr{constructor(t,e=4294967295){super();const n=this;let i,r,s;Object.assign(n,{diskNumber:0,diskOffset:0,size:0,maxSize:e,availableSize:e});const a=new WritableStream({async write(e){const{availableSize:a}=n;if(s)e.length>=a?(await o(e.slice(0,a)),await l(),n.diskOffset+=i.size,n.diskNumber++,s=null,await this.write(e.slice(a))):await o(e);else{const{value:a,done:o}=await t.next();if(o&&!a)throw new Error(ar);i=a,i.size=0,i.maxSize&&(n.maxSize=i.maxSize),n.availableSize=n.maxSize,await yr(i),r=a.writable,s=r.getWriter(),await this.write(e)}},async close(){await s.ready,await l()}});async function o(t){const e=t.length;e&&(await s.ready,await s.write(t),i.size+=e,n.size+=e,n.availableSize-=e)}async function l(){r.size=i.size,await s.close()}Object.defineProperty(n,ur,{get(){return a}})}}async function yr(t,e){if(!t.init||t.initialized)return Promise.resolve();await t.init(e)}function br(t){return Array.isArray(t)&&(t=new vr(t)),t instanceof ReadableStream&&(t={readable:t}),t}function wr(t){t.writable===en&&typeof t.next==rn&&(t=new gr(t)),t instanceof WritableStream&&(t={writable:t});const{writable:e}=t;return e.size===en&&(e.size=0),t instanceof gr||Object.assign(t,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),t}function xr(t,e,n,i){return t.readUint8Array(e,n,i)}const kr="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split(""),Sr=256==kr.length;function Cr(t){if(Sr){let e="";for(let n=0;n<t.length;n++)e+=kr[t[n]];return e}return(new TextDecoder).decode(t)}function Tr(t,e){return e&&"cp437"==e.trim().toLowerCase()?Cr(t):new TextDecoder(e).decode(t)}const Ar="filename",Er="rawFilename",Mr="comment",Or="rawComment",Ir="uncompressedSize",Pr="compressedSize",Rr="offset",Dr="diskNumberStart",Nr="lastModDate",Lr="rawLastModDate",Br="lastAccessDate",Vr="rawLastAccessDate",zr="creationDate",jr="rawCreationDate",Fr="internalFileAttribute",qr="externalFileAttribute",Ur="msDosCompatible",Hr="zip64",Wr="encrypted",Xr="version",$r="versionMadeBy",Yr="zipCrypto",Gr=[Ar,Er,Pr,Ir,Nr,Lr,Mr,Or,Br,zr,Rr,Dr,Dr,Fr,qr,Ur,Hr,Wr,Xr,$r,Yr,"directory","bitFlag","signature","filenameUTF8","commentUTF8","compressionMethod","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class Zr{constructor(t){Gr.forEach((e=>this[e]=t[e]))}}const Kr="File format is not recognized",Qr="End of central directory not found",Jr="End of Zip64 central directory locator not found",ts="Central directory header not found",es="Local file header not found",ns="Zip64 extra field not found",is="File contains encrypted entry",rs="Encryption method not supported",ss="Compression method not supported",as="Split zip file",os="utf-8",ls="cp437",cs=[[Ir,be],[Pr,be],[Rr,be],[Dr,we]],us={[we]:{getValue:Ts,bytes:4},[be]:{getValue:As,bytes:8}};class hs{constructor(t,e={}){Object.assign(this,{reader:br(t),options:e,config:un()})}async*getEntriesGenerator(t={}){const e=this;let{reader:n}=e;const{config:i}=e;if(await yr(n),n.size!==en&&n.readUint8Array||(n=new fr(await new Response(n.readable).blob()),await yr(n)),n.size<Pe)throw new Error(Kr);n.chunkSize=hn(i);const r=await bs(n,Me,n.size,Pe,16*we);if(!r){const t=await xr(n,0,4),e=Ms(t);throw Ts(e)==Te?new Error(as):new Error(Qr)}const s=Ms(r);let a=Ts(s,12),o=Ts(s,16);const l=r.offset,c=Cs(s,20),u=l+Pe+c;let h=Cs(s,4);const d=n.lastDiskNumber||0;let f=Cs(s,6),p=Cs(s,8),m=0,_=0;if(o==be||a==be||p==we||f==we){const t=await xr(n,r.offset-Re,Re),e=Ms(t);if(Ts(e,0)==Ie){o=As(e,8);let t=await xr(n,o,De,-1),i=Ms(t);const s=r.offset-Re-De;if(Ts(i,0)!=Oe&&o!=s){const e=o;o=s,m=o-e,t=await xr(n,o,De,-1),i=Ms(t)}if(Ts(i,0)!=Oe)throw new Error(Jr);h==we&&(h=Ts(i,16)),f==we&&(f=Ts(i,20)),p==we&&(p=As(i,32)),a==be&&(a=As(i,40)),o-=a}}if(o>=n.size&&(m=n.size-o-a-Pe,o=n.size-a-Pe),d!=h)throw new Error(as);if(o<0)throw new Error(Kr);let v=0,g=await xr(n,o,a,f),y=Ms(g);if(a){const t=r.offset-a;if(Ts(y,v)!=Ee&&o!=t){const e=o;o=t,m+=o-e,g=await xr(n,o,a,f),y=Ms(g)}}const b=r.offset-o-(n.lastDiskOffset||0);if(a!=b&&b>=0&&(a=b,g=await xr(n,o,a,f),y=Ms(g)),o<0||o>=n.size)throw new Error(Kr);const w=ws(e,t,"filenameEncoding"),x=ws(e,t,"commentEncoding");for(let C=0;C<p;C++){const r=new ds(n,i,e.options);if(Ts(y,v)!=Ee)throw new Error(ts);fs(r,y,v+6);const s=Boolean(r.bitFlag.languageEncodingFlag),a=v+46,o=a+r.filenameLength,l=o+r.extraFieldLength,c=Cs(y,v+4),u=!0,h=g.subarray(a,o),d=Cs(y,v+32),f=l+d,b=g.subarray(l,f),k=s,S=s,T=u&&(Ss(y,v+38)&Ye)==Ye,A=Ts(y,v+42)+m;Object.assign(r,{versionMadeBy:c,msDosCompatible:u,compressedSize:0,uncompressedSize:0,commentLength:d,directory:T,offset:A,diskNumberStart:Cs(y,v+34),internalFileAttribute:Cs(y,v+36),externalFileAttribute:Ts(y,v+38),rawFilename:h,filenameUTF8:k,commentUTF8:S,rawExtraField:g.subarray(o,l)});const E=ws(e,t,"decodeText")||Tr,M=k?os:w||ls,O=S?os:x||ls;let I=E(h,M);I===en&&(I=Tr(h,M));let P=E(b,O);P===en&&(P=Tr(b,O)),Object.assign(r,{rawComment:b,filename:I,comment:P,directory:T||I.endsWith(Qe)}),_=Math.max(A,_),await ps(r,r,y,v+6),r.zipCrypto=r.encrypted&&!r.extraFieldAES;const R=new Zr(r);R.getData=(t,e)=>r.getData(t,R,e),v=f;const{onprogress:D}=t;if(D)try{await D(C+1,p,new Zr(r))}catch(da){}yield R}const k=ws(e,t,"extractPrependedData"),S=ws(e,t,"extractAppendedData");return k&&(e.prependedData=_>0?await xr(n,0,_):new Uint8Array),e.comment=c?await xr(n,l+Pe,c):new Uint8Array,S&&(e.appendedData=u<n.size?await xr(n,u,n.size-u):new Uint8Array),!0}async getEntries(t={}){const e=[];for await(const n of this.getEntriesGenerator(t))e.push(n);return e}async close(){}}class ds{constructor(t,e,n){Object.assign(this,{reader:t,config:e,options:n})}async getData(t,e,n={}){const i=this,{reader:r,offset:s,diskNumberStart:a,extraFieldAES:o,compressionMethod:l,config:c,bitFlag:u,signature:h,rawLastModDate:d,uncompressedSize:f,compressedSize:p}=i,m=e.localDirectory={},_=await xr(r,s,30,a),v=Ms(_);let g=ws(i,n,"password"),y=ws(i,n,"rawPassword");const b=ws(i,n,"passThrough");if(g=g&&g.length&&g,y=y&&y.length&&y,o&&o.originalCompressionMethod!=Se)throw new Error(ss);if(l!=ke&&l!=xe&&!b)throw new Error(ss);if(Ts(v,0)!=Ce)throw new Error(es);fs(m,v,4),m.rawExtraField=m.extraFieldLength?await xr(r,s+30+m.filenameLength,m.extraFieldLength,a):new Uint8Array,await ps(i,m,v,4,!0),Object.assign(e,{lastAccessDate:m.lastAccessDate,creationDate:m.creationDate});const w=i.encrypted&&m.encrypted&&!b,x=w&&!o;if(b||(e.zipCrypto=x),w){if(!x&&o.strength===en)throw new Error(rs);if(!g&&!y)throw new Error(is)}const k=s+30+m.filenameLength+m.extraFieldLength,S=p,C=r.readable;Object.assign(C,{diskNumberStart:a,offset:k,size:S});const T=ws(i,n,"signal"),A=ws(i,n,"checkPasswordOnly");A&&(t=new WritableStream),t=wr(t),await yr(t,b?p:f);const{writable:E}=t,{onstart:M,onprogress:O,onend:I}=n,P={options:{codecType:Li,password:g,rawPassword:y,zipCrypto:x,encryptionStrength:o&&o.strength,signed:ws(i,n,"checkSignature")&&!b,passwordVerification:x&&(u.dataDescriptor?d>>>8&255:h>>>24&255),signature:h,compressed:0!=l&&!b,encrypted:i.encrypted&&!b,useWebWorkers:ws(i,n,"useWebWorkers"),useCompressionStream:ws(i,n,"useCompressionStream"),transferStreams:ws(i,n,"transferStreams"),checkPasswordOnly:A},config:c,streamOptions:{signal:T,size:S,onstart:M,onprogress:O,onend:I}};let R=0;try{({outputSize:R}=await nr({readable:C,writable:E},P))}catch(D){if(!A||D.message!=Mn)throw D}finally{const t=ws(i,n,"preventClose");E.size+=R,t||E.locked||await E.getWriter().close()}return A?en:t.getData?t.getData():E}}function fs(t,e,n){const i=t.rawBitFlag=Cs(e,n+2),r=(i&He)==He,s=Ts(e,n+6);Object.assign(t,{encrypted:r,version:Cs(e,n),bitFlag:{level:(i&We)>>1,dataDescriptor:(i&Xe)==Xe,languageEncodingFlag:(i&$e)==$e},rawLastModDate:s,lastModDate:xs(s),filenameLength:Cs(e,n+22),extraFieldLength:Cs(e,n+24)})}async function ps(t,e,n,i,r){const{rawExtraField:s}=e,a=e.extraField=new Map,o=Ms(new Uint8Array(s));let l=0;try{while(l<s.length){const t=Cs(o,l),e=Cs(o,l+2);a.set(t,{type:t,data:s.slice(l+4,l+4+e)}),l+=4+e}}catch(da){}const c=Cs(n,i+4);Object.assign(e,{signature:Ts(n,i+10),uncompressedSize:Ts(n,i+18),compressedSize:Ts(n,i+14)});const u=a.get(Le);u&&(ms(u,e),e.extraFieldZip64=u);const h=a.get(Fe);h&&(await _s(h,Ar,Er,e,t),e.extraFieldUnicodePath=h);const d=a.get(qe);d&&(await _s(d,Mr,Or,e,t),e.extraFieldUnicodeComment=d);const f=a.get(Be);f?(vs(f,e,c),e.extraFieldAES=f):e.compressionMethod=c;const p=a.get(Ve);p&&(gs(p,e),e.extraFieldNTFS=p);const m=a.get(je);m&&(ys(m,e,r),e.extraFieldExtendedTimestamp=m);const _=a.get(Ue);_&&(e.extraFieldUSDZ=_)}function ms(t,e){e.zip64=!0;const n=Ms(t.data),i=cs.filter((([t,n])=>e[t]==n));for(let r=0,s=0;r<i.length;r++){const[a,o]=i[r];if(e[a]==o){const i=us[o];e[a]=t[a]=i.getValue(n,s),s+=i.bytes}else if(t[a])throw new Error(ns)}}async function _s(t,e,n,i,r){const s=Ms(t.data),a=new _n;a.append(r[n]);const o=Ms(new Uint8Array(4));o.setUint32(0,a.get(),!0);const l=Ts(s,1);Object.assign(t,{version:Ss(s,0),[e]:Tr(t.data.subarray(5)),valid:!r.bitFlag.languageEncodingFlag&&l==Ts(o,0)}),t.valid&&(i[e]=t[e],i[e+"UTF8"]=!0)}function vs(t,e,n){const i=Ms(t.data),r=Ss(i,4);Object.assign(t,{vendorVersion:Ss(i,0),vendorId:Ss(i,2),strength:r,originalCompressionMethod:n,compressionMethod:Cs(i,5)}),e.compressionMethod=t.compressionMethod}function gs(t,e){const n=Ms(t.data);let i,r=4;try{while(r<t.data.length&&!i){const e=Cs(n,r),s=Cs(n,r+2);e==ze&&(i=t.data.slice(r+4,r+4+s)),r+=4+s}}catch(da){}try{if(i&&24==i.length){const n=Ms(i),r=n.getBigUint64(0,!0),s=n.getBigUint64(8,!0),a=n.getBigUint64(16,!0);Object.assign(t,{rawLastModDate:r,rawLastAccessDate:s,rawCreationDate:a});const o=ks(r),l=ks(s),c=ks(a),u={lastModDate:o,lastAccessDate:l,creationDate:c};Object.assign(t,u),Object.assign(e,u)}}catch(da){}}function ys(t,e,n){const i=Ms(t.data),r=Ss(i,0),s=[],a=[];n?(1==(1&r)&&(s.push(Nr),a.push(Lr)),2==(2&r)&&(s.push(Br),a.push(Vr)),4==(4&r)&&(s.push(zr),a.push(jr))):t.data.length>=5&&(s.push(Nr),a.push(Lr));let o=1;s.forEach(((n,r)=>{if(t.data.length>=o+4){const s=Ts(i,o);e[n]=t[n]=new Date(1e3*s);const l=a[r];t[l]=s}o+=4}))}async function bs(t,e,n,i,r){const s=new Uint8Array(4),a=Ms(s);Es(a,0,e);const o=i+r;return await l(i)||await l(Math.min(o,n));async function l(e){const r=n-e,a=await xr(t,r,e);for(let t=a.length-i;t>=0;t--)if(a[t]==s[0]&&a[t+1]==s[1]&&a[t+2]==s[2]&&a[t+3]==s[3])return{offset:r+t,buffer:a.slice(t,t+i).buffer}}}function ws(t,e,n){return e[n]===en?t.options[n]:e[n]}function xs(t){const e=(4294901760&t)>>16,n=65535&t;try{return new Date(1980+((65024&e)>>9),((480&e)>>5)-1,31&e,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(da){}}function ks(t){return new Date(Number(t/BigInt(1e4)-BigInt(116444736e5)))}function Ss(t,e){return t.getUint8(e)}function Cs(t,e){return t.getUint16(e,!0)}function Ts(t,e){return t.getUint32(e,!0)}function As(t,e){return Number(t.getBigUint64(e,!0))}function Es(t,e,n){t.setUint32(e,n,!0)}function Ms(t){return new DataView(t.buffer)}n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);const Os="File already exists",Is="Zip file comment exceeds 64KB",Ps="File entry comment exceeds 64KB",Rs="File entry name exceeds 64KB",Ds="Version exceeds 65535",Ns="The strength must equal 1, 2, or 3",Ls="Extra field type exceeds 65535",Bs="Extra field data exceeds 64KB",Vs="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",zs="Undefined uncompressed size",js=new Uint8Array([7,0,2,0,65,69,3,0,0]);let Fs=0;const qs=[];class Us{constructor(t,e={}){t=wr(t);const n=t.availableSize!==en&&t.availableSize>0&&t.availableSize!==1/0&&t.maxSize!==en&&t.maxSize>0&&t.maxSize!==1/0;Object.assign(this,{writer:t,addSplitZipSignature:n,options:e,config:un(),files:new Map,filenames:new Set,offset:e.offset===en?t.writable.size:e.offset,pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async add(t="",e,n={}){const i=this,{pendingAddFileCalls:r,config:s}=i;let a;Fs<s.maxWorkers?Fs++:await new Promise((t=>qs.push(t)));try{if(t=t.trim(),i.filenames.has(t))throw new Error(Os);return i.filenames.add(t),a=Hs(i,t,e,n),r.add(a),await a}catch(o){throw i.filenames.delete(t),o}finally{r.delete(a);const t=qs.shift();t?t():Fs--}}async close(t=new Uint8Array,e={}){const n=this,{pendingAddFileCalls:i,writer:r}=this,{writable:s}=r;while(i.size)await Promise.allSettled(Array.from(i));await Js(this,t,e);const a=na(n,e,"preventClose");return a||await s.getWriter().close(),r.getData?r.getData():s}}async function Hs(t,e,n,i){e=e.trim(),i.directory&&!e.endsWith(Qe)?e+=Qe:i.directory=e.endsWith(Qe);const r=na(t,i,"encodeText",gn);let s=r(e);if(s===en&&(s=gn(e)),ua(s)>we)throw new Error(Rs);const a=i.comment||"";let o=r(a);if(o===en&&(o=gn(a)),ua(o)>we)throw new Error(Ps);const l=na(t,i,Xr,Ge);if(l>we)throw new Error(Ds);const c=na(t,i,$r,20);if(c>we)throw new Error(Ds);const u=na(t,i,Nr,new Date),h=na(t,i,Br),d=na(t,i,zr),f=na(t,i,Ur,!0),p=na(t,i,Fr,0),m=na(t,i,qr,0),_=na(t,i,"passThrough");let v,g;_||(v=na(t,i,"password"),g=na(t,i,"rawPassword"));const y=na(t,i,"encryptionStrength",3),b=na(t,i,Yr),w=na(t,i,"extendedTimestamp",!0),x=na(t,i,"keepOrder",!0),k=na(t,i,"level"),S=na(t,i,"useWebWorkers"),C=na(t,i,"bufferedWrite"),T=na(t,i,"dataDescriptorSignature",!1),A=na(t,i,"signal"),E=na(t,i,"useUnicodeFileNames",!0),M=na(t,i,"useCompressionStream"),O=na(t,i,"compressionMethod");let I=na(t,i,"dataDescriptor",!0),P=na(t,i,Hr);if(!b&&(v!==en||g!==en)&&!(y>=1&&y<=3))throw new Error(Ns);let R=new Uint8Array;const{extraField:D}=i;if(D){let t=0,e=0;D.forEach((e=>t+=4+ua(e))),R=new Uint8Array(t),D.forEach(((t,n)=>{if(n>we)throw new Error(Ls);if(ua(t)>we)throw new Error(Bs);la(R,new Uint16Array([n]),e),la(R,new Uint16Array([ua(t)]),e+2),la(R,t,e+4),e+=4+ua(t)}))}let N=0,L=0,B=0;if(_&&(({uncompressedSize:B}=i),B===en))throw new Error(zs);const V=!0===P;n&&(n=br(n),await yr(n),_?N=ia(B):n.size===en?(I=!0,(P||P===en)&&(P=!0,B=N=be+1)):(B=n.size,N=ia(B)));const{diskOffset:z,diskNumber:j,maxSize:F}=t.writer,q=V||B>be,U=V||N>be,H=V||t.offset+t.pendingEntriesSize-z>be,W=na(t,i,"supportZip64SplitFile",!0),X=W&&V||j+Math.ceil(t.pendingEntriesSize/F)>we;if(H||q||U||X){if(!1===P||!x)throw new Error(Vs);P=!0}P=P||!1;const $=na(t,i,Wr),{signature:Y}=i;i=Object.assign({},i,{rawFilename:s,rawComment:o,version:l,versionMadeBy:c,lastModDate:u,lastAccessDate:h,creationDate:d,rawExtraField:R,zip64:P,zip64UncompressedSize:q,zip64CompressedSize:U,zip64Offset:H,zip64DiskNumberStart:X,password:v,rawPassword:g,level:M||t.config.CompressionStream!==en||t.config.CompressionStreamNative!==en?k:0,useWebWorkers:S,encryptionStrength:y,extendedTimestamp:w,zipCrypto:b,bufferedWrite:C,keepOrder:x,useUnicodeFileNames:E,dataDescriptor:I,dataDescriptorSignature:T,signal:A,msDosCompatible:f,internalFileAttribute:p,externalFileAttribute:m,useCompressionStream:M,passThrough:_,encrypted:Boolean(v&&ua(v)||g&&ua(g))||_&&$,signature:Y,compressionMethod:O});const G=$s(i),Z=Gs(i),K=ua(G.localHeaderArray,Z.dataDescriptorArray);let Q;L=K+N,t.options.usdz&&(L+=L+64),t.pendingEntriesSize+=L;try{Q=await Ws(t,e,n,{headerInfo:G,dataDescriptorInfo:Z,metadataSize:K},i)}finally{t.pendingEntriesSize-=L}return Object.assign(Q,{name:e,comment:a,extraField:D}),new Zr(Q)}async function Ws(t,e,n,i,r){const{files:s,writer:a}=t,{keepOrder:o,dataDescriptor:l,signal:c}=r,{headerInfo:u}=i,{usdz:h}=t.options,d=Array.from(s.values()).pop();let f,p,m,_,v,g,y,b={};s.set(e,b);try{let u;o&&(u=d&&d.lock,w()),!(r.bufferedWrite||t.writerLocked||t.bufferedWrites&&o)&&l||h?(g=a,await x()):(g=new TransformStream,y=new Response(g.readable).blob(),g.writable.size=0,f=!0,t.bufferedWrites++,await yr(a)),await yr(g);const{writable:p}=a;let{diskOffset:m}=a;if(t.addSplitZipSignature){delete t.addSplitZipSignature;const e=new Uint8Array(4),n=ca(e);aa(n,0,Te),await ta(p,e),t.offset+=4}h&&Ys(i,t.offset-m),f||(await u,await k(p));const{diskNumber:S}=a;if(v=!0,b.diskNumberStart=S,b=await Xs(n,g,b,i,t.config,r),v=!1,s.set(e,b),b.filename=e,f){await g.writable.getWriter().close();let t=await y;await u,await x(),_=!0,l||(t=await Ks(b,t,p,r)),await k(p),b.diskNumberStart=a.diskNumber,m=a.diskOffset,await t.stream().pipeTo(p,{preventClose:!0,preventAbort:!0,signal:c}),p.size+=t.size,_=!1}if(b.offset=t.offset-m,b.zip64)Qs(b,r);else if(b.offset>be)throw new Error(Vs);return t.offset+=b.size,b}catch(S){if(f&&_||!f&&v){if(t.hasCorruptedEntries=!0,S)try{S.corruptedEntry=!0}catch(da){}f?t.offset+=g.writable.size:t.offset=g.writable.size}throw s.delete(e),S}finally{f&&t.bufferedWrites--,m&&m(),p&&p()}function w(){b.lock=new Promise((t=>m=t))}async function x(){t.writerLocked=!0;const{lockWriter:e}=t;t.lockWriter=new Promise((e=>p=()=>{t.writerLocked=!1,e()})),await e}async function k(t){ua(u.localHeaderArray)>a.availableSize&&(a.availableSize=0,await ta(t,new Uint8Array))}}async function Xs(t,e,{diskNumberStart:n,lock:i},r,s,a){const{headerInfo:o,dataDescriptorInfo:l,metadataSize:c}=r,{localHeaderArray:u,headerArray:h,lastModDate:d,rawLastModDate:f,encrypted:p,compressed:m,version:_,compressionMethod:v,rawExtraFieldExtendedTimestamp:g,extraFieldExtendedTimestampFlag:y,rawExtraFieldNTFS:b,rawExtraFieldAES:w}=o,{dataDescriptorArray:x}=l,{rawFilename:k,lastAccessDate:S,creationDate:C,password:T,rawPassword:A,level:E,zip64:M,zip64UncompressedSize:O,zip64CompressedSize:I,zip64Offset:P,zip64DiskNumberStart:R,zipCrypto:D,dataDescriptor:N,directory:L,versionMadeBy:B,rawComment:V,rawExtraField:z,useWebWorkers:j,onstart:F,onprogress:q,onend:U,signal:H,encryptionStrength:W,extendedTimestamp:X,msDosCompatible:$,internalFileAttribute:Y,externalFileAttribute:G,useCompressionStream:Z,passThrough:K}=a,Q={lock:i,versionMadeBy:B,zip64:M,directory:Boolean(L),filenameUTF8:!0,rawFilename:k,commentUTF8:!0,rawComment:V,rawExtraFieldExtendedTimestamp:g,rawExtraFieldNTFS:b,rawExtraFieldAES:w,rawExtraField:z,extendedTimestamp:X,msDosCompatible:$,internalFileAttribute:Y,externalFileAttribute:G,diskNumberStart:n};let{signature:J,uncompressedSize:tt}=a,et=0;K||(tt=0);const{writable:nt}=e;if(t){t.chunkSize=hn(s),await ta(nt,u);const e=t.readable,n=e.size=t.size,i={options:{codecType:Ni,level:E,rawPassword:A,password:T,encryptionStrength:W,zipCrypto:p&&D,passwordVerification:p&&D&&f>>8&255,signed:!K,compressed:m&&!K,encrypted:p&&!K,useWebWorkers:j,useCompressionStream:Z,transferStreams:!1},config:s,streamOptions:{signal:H,size:n,onstart:F,onprogress:q,onend:U}},r=await nr({readable:e,writable:nt},i);et=r.outputSize,K||(tt=r.inputSize,J=r.signature),nt.size+=tt}else await ta(nt,u);let it;if(M){let t=4;O&&(t+=8),I&&(t+=8),P&&(t+=8),R&&(t+=4),it=new Uint8Array(t)}else it=new Uint8Array;return Zs({signature:J,rawExtraFieldZip64:it,compressedSize:et,uncompressedSize:tt,headerInfo:o,dataDescriptorInfo:l},a),N&&await ta(nt,x),Object.assign(Q,{uncompressedSize:tt,compressedSize:et,lastModDate:d,rawLastModDate:f,creationDate:C,lastAccessDate:S,encrypted:p,zipCrypto:D,size:c+et,compressionMethod:v,version:_,headerArray:h,signature:J,rawExtraFieldZip64:it,extraFieldExtendedTimestampFlag:y,zip64UncompressedSize:O,zip64CompressedSize:I,zip64Offset:P,zip64DiskNumberStart:R}),Q}function $s(t){const{rawFilename:e,lastModDate:n,lastAccessDate:i,creationDate:r,level:s,zip64:a,zipCrypto:o,useUnicodeFileNames:l,dataDescriptor:c,directory:u,rawExtraField:h,encryptionStrength:d,extendedTimestamp:f,encrypted:p}=t,m=0!==s&&!u;let _,v,g,y,{version:b,compressionMethod:w}=t;if(p&&!o){_=new Uint8Array(ua(js)+2);const t=ca(_);sa(t,0,Be),la(_,js,2),ra(t,8,d)}else _=new Uint8Array;if(f){g=new Uint8Array(9+(i?4:0)+(r?4:0));const t=ca(g);sa(t,0,je),sa(t,2,ua(g)-4),y=1+(i?2:0)+(r?4:0),ra(t,4,y);let e=5;aa(t,e,Math.floor(n.getTime()/1e3)),e+=4,i&&(aa(t,e,Math.floor(i.getTime()/1e3)),e+=4),r&&aa(t,e,Math.floor(r.getTime()/1e3));try{v=new Uint8Array(36);const t=ca(v),e=ea(n);sa(t,0,Ve),sa(t,2,32),sa(t,8,ze),sa(t,10,24),oa(t,12,e),oa(t,20,ea(i)||e),oa(t,28,ea(r)||e)}catch(da){v=new Uint8Array}}else v=g=new Uint8Array;let x=0;l&&(x|=$e),c&&(x|=Xe),w===en&&(w=m?xe:ke),m&&(s>=1&&s<3&&(x|=6),s>=3&&s<5&&(x|=1),9===s&&(x|=2)),a&&(b=b>Ze?b:Ze),p&&(x|=He,o||(b=b>Ke?b:Ke,_[9]=w,w=Se));const k=new Uint8Array(26),S=ca(k);sa(S,0,b),sa(S,2,x),sa(S,4,w);const C=new Uint32Array(1),T=ca(C);let A;A=n<tn?tn:n>Je?Je:n,sa(T,0,(A.getHours()<<6|A.getMinutes())<<5|A.getSeconds()/2),sa(T,2,(A.getFullYear()-1980<<4|A.getMonth()+1)<<5|A.getDate());const E=C[0];aa(S,6,E),sa(S,22,ua(e));const M=ua(_,g,v,h);sa(S,24,M);const O=new Uint8Array(30+ua(e)+M),I=ca(O);return aa(I,0,Ce),la(O,k,4),la(O,e,30),la(O,_,30+ua(e)),la(O,g,30+ua(e,_)),la(O,v,30+ua(e,_,g)),la(O,h,30+ua(e,_,g,v)),{localHeaderArray:O,headerArray:k,headerView:S,lastModDate:n,rawLastModDate:E,encrypted:p,compressed:m,version:b,compressionMethod:w,extraFieldExtendedTimestampFlag:y,rawExtraFieldExtendedTimestamp:g,rawExtraFieldNTFS:v,rawExtraFieldAES:_,extraFieldLength:M}}function Ys(t,e){const{headerInfo:n}=t;let{localHeaderArray:i,extraFieldLength:r}=n,s=ca(i),a=64-(e+ua(i))%64;a<4&&(a+=64);const o=new Uint8Array(a),l=ca(o);sa(l,0,Ue),sa(l,2,a-2);const c=i;n.localHeaderArray=i=new Uint8Array(ua(c)+a),la(i,c),la(i,o,ua(c)),s=ca(i),sa(s,28,r+a),t.metadataSize+=a}function Gs(t){const{zip64:e,dataDescriptor:n,dataDescriptorSignature:i}=t;let r,s=new Uint8Array,a=0;return n&&(s=new Uint8Array(e?i?24:20:i?16:12),r=ca(s),i&&(a=4,aa(r,0,Ae))),{dataDescriptorArray:s,dataDescriptorView:r,dataDescriptorOffset:a}}function Zs(t,e){const{signature:n,rawExtraFieldZip64:i,compressedSize:r,uncompressedSize:s,headerInfo:a,dataDescriptorInfo:o}=t,{headerView:l,encrypted:c}=a,{dataDescriptorView:u,dataDescriptorOffset:h}=o,{zip64:d,zip64UncompressedSize:f,zip64CompressedSize:p,zipCrypto:m,dataDescriptor:_}=e;if(c&&!m||n===en||(aa(l,10,n),_&&aa(u,h,n)),d){const t=ca(i);sa(t,0,Le),sa(t,2,ua(i)-4);let e=4;f&&(aa(l,18,be),oa(t,e,BigInt(s)),e+=8),p&&(aa(l,14,be),oa(t,e,BigInt(r))),_&&(oa(u,h+4,BigInt(r)),oa(u,h+12,BigInt(s)))}else aa(l,14,r),aa(l,18,s),_&&(aa(u,h+4,r),aa(u,h+8,s))}async function Ks(t,e,n,{zipCrypto:i}){let r;r=await e.slice(0,26).arrayBuffer(),26!=r.byteLength&&(r=r.slice(0,26));const s=new DataView(r);return t.encrypted&&!i||aa(s,14,t.signature),t.zip64?(aa(s,18,be),aa(s,22,be)):(aa(s,18,t.compressedSize),aa(s,22,t.uncompressedSize)),await ta(n,new Uint8Array(r)),e.slice(r.byteLength)}function Qs(t,e){const{rawExtraFieldZip64:n,offset:i,diskNumberStart:r}=t,{zip64UncompressedSize:s,zip64CompressedSize:a,zip64Offset:o,zip64DiskNumberStart:l}=e,c=ca(n);let u=4;s&&(u+=8),a&&(u+=8),o&&(oa(c,u,BigInt(i)),u+=8),l&&aa(c,u,r)}async function Js(t,e,n){const{files:i,writer:r}=t,{diskOffset:s,writable:a}=r;let{diskNumber:o}=r,l=0,c=0,u=t.offset-s,h=i.size;for(const[,w]of i){const{rawFilename:t,rawExtraFieldZip64:e,rawExtraFieldAES:n,rawComment:i,rawExtraFieldNTFS:r,rawExtraField:s,extendedTimestamp:a,extraFieldExtendedTimestampFlag:o,lastModDate:l}=w;let u;if(a){u=new Uint8Array(9);const t=ca(u);sa(t,0,je),sa(t,2,5),ra(t,4,o),aa(t,5,Math.floor(l.getTime()/1e3))}else u=new Uint8Array;w.rawExtraFieldCDExtendedTimestamp=u,c+=46+ua(t,i,e,n,r,u,s)}const d=new Uint8Array(c),f=ca(d);await yr(r);let p=0;for(const[w,x]of Array.from(i.values()).entries()){const{offset:t,rawFilename:e,rawExtraFieldZip64:s,rawExtraFieldAES:o,rawExtraFieldCDExtendedTimestamp:c,rawExtraFieldNTFS:u,rawExtraField:h,rawComment:m,versionMadeBy:_,headerArray:v,directory:g,zip64:y,zip64UncompressedSize:b,zip64CompressedSize:k,zip64DiskNumberStart:S,zip64Offset:C,msDosCompatible:T,internalFileAttribute:A,externalFileAttribute:E,diskNumberStart:M,uncompressedSize:O,compressedSize:I}=x,P=ua(s,o,c,u,h);aa(f,l,Ee),sa(f,l+4,_);const R=ca(v);b||aa(R,18,O),k||aa(R,14,I),la(d,v,l+6),sa(f,l+30,P),sa(f,l+32,ua(m)),sa(f,l+34,y&&S?we:M),sa(f,l+36,A),E?aa(f,l+38,E):g&&T&&ra(f,l+38,Ye),aa(f,l+42,y&&C?be:t),la(d,e,l+46),la(d,s,l+46+ua(e)),la(d,o,l+46+ua(e,s)),la(d,c,l+46+ua(e,s,o)),la(d,u,l+46+ua(e,s,o,c)),la(d,h,l+46+ua(e,s,o,c,u)),la(d,m,l+46+ua(e)+P);const D=46+ua(e,m)+P;if(l-p>r.availableSize&&(r.availableSize=0,await ta(a,d.slice(p,l)),p=l),l+=D,n.onprogress)try{await n.onprogress(w+1,i.size,new Zr(x))}catch(da){}}await ta(a,p?d.slice(p):d);let m=r.diskNumber;const{availableSize:_}=r;_<Pe&&m++;let v=na(t,n,Hr);if(u>be||c>be||h>we||m>we){if(!1===v)throw new Error(Vs);v=!0}const g=new Uint8Array(v?Ne:Pe),y=ca(g);if(l=0,v){aa(y,0,Oe),oa(y,4,BigInt(44)),sa(y,12,45),sa(y,14,45),aa(y,16,m),aa(y,20,o),oa(y,24,BigInt(h)),oa(y,32,BigInt(h)),oa(y,40,BigInt(c)),oa(y,48,BigInt(u)),aa(y,56,Ie),oa(y,64,BigInt(u)+BigInt(c)),aa(y,72,m+1);const e=na(t,n,"supportZip64SplitFile",!0);e&&(m=we,o=we),h=we,u=be,c=be,l+=De+Re}aa(y,l,Me),sa(y,l+4,m),sa(y,l+6,o),sa(y,l+8,h),sa(y,l+10,h),aa(y,l+12,c),aa(y,l+16,u);const b=ua(e);if(b){if(!(b<=we))throw new Error(Is);sa(y,l+20,b)}await ta(a,g),b&&await ta(a,e)}async function ta(t,e){const n=t.getWriter();try{await n.ready,t.size+=ua(e),await n.write(e)}finally{n.releaseLock()}}function ea(t){if(t)return(BigInt(t.getTime())+BigInt(116444736e5))*BigInt(1e4)}function na(t,e,n,i){const r=e[n]===en?t.options[n]:e[n];return r===en?i:r}function ia(t){return t+5*(Math.floor(t/16383)+1)}function ra(t,e,n){t.setUint8(e,n)}function sa(t,e,n){t.setUint16(e,n,!0)}function aa(t,e,n){t.setUint32(e,n,!0)}function oa(t,e,n){t.setBigUint64(e,n,!0)}function la(t,e,n){t.set(e,n)}function ca(t){return new DataView(t.buffer)}function ua(...t){let e=0;return t.forEach((t=>t&&(e+=t.length))),e}let ha;try{ha="file:///Users/nuno/Code/digitopia/DigiCanvas/node_modules/@zip.js/zip.js/lib/zip-fs.js"}catch(da){}dn({baseURL:ha}),sr(dn),dn({Deflate:ht,Inflate:ye})},2557:function(t,e,n){"use strict";n.d(e,{wf:function(){return dn},F:function(){return an},dJ:function(){return Fe},OZ:function(){return zt},rS:function(){return fn},ai:function(){return Pe},vk:function(){return hn},zb:function(){return on},mh:function(){return ve},Ng:function(){return Bt},_O:function(){return pn},SD:function(){return mt}});const i="15.0.4";var r=n(5048);function s(t){return void 0===t}function a(t){return void 0!==t}function o(t){return"function"===typeof t}function l(t){return"number"===typeof t}function c(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function u(t){return"boolean"===typeof t}function h(t){return Array.isArray(t)}function d(t){return"string"===typeof t}function f(t){return d(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function p(t,e){if(!t)throw new Error(e)}function m(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function _(t){t.isOffline||"running"===t.state||k('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let v=!1,g=!1;function y(t){v=t}function b(t){s(t)&&v&&!g&&(g=!0,k("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let w=console;function x(...t){w.log(...t)}function k(...t){w.warn(...t)}function S(t){return new r.Ut(t)}function C(t,e,n){return new r.jL(t,e,n)}const T="object"===typeof self?self:null,A=T&&(T.hasOwnProperty("AudioContext")||T.hasOwnProperty("webkitAudioContext"));function E(t,e,n){return p(a(r.Ph),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(null===T||void 0===T?void 0:T.BaseAudioContext)?null===T||void 0===T?void 0:T.AudioWorkletNode:r.Ph)(t,e,n)}n(4114);function M(t,e,n,i){var r,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(a=(s<3?r(a):s>3?r(e,n,a):r(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function O(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,s){function a(t){try{l(i.next(t))}catch(e){s(e)}}function o(t){try{l(i["throw"](t))}catch(e){s(e)}}function l(t){t.done?n(t.value):r(t.value).then(a,o)}l((i=i.apply(t,e||[])).next())}))}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;n(4603),n(7566),n(8721);class I{constructor(t,e,n,i){this._callback=t,this._type=e,this._minimumUpdateInterval=Math.max(128/(i||44100),.001),this.updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var e;this._updateInterval=Math.max(t,this._minimumUpdateInterval),"worker"===this._type&&(null===(e=this._worker)||void 0===e||e.postMessage(1e3*this._updateInterval))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function P(t){return(0,r.se)(t)}function R(t){return(0,r.x2)(t)}function D(t){return(0,r.V4)(t)}function N(t){return(0,r._E)(t)}function L(t){return t instanceof r.HI}function B(t,e){return"value"===t||P(e)||R(e)||L(e)}function V(t,...e){if(!e.length)return t;const n=e.shift();if(c(t)&&c(n))for(const i in n)B(i,n[i])?t[i]=n[i]:c(n[i])?(t[i]||Object.assign(t,{[i]:{}}),V(t[i],n[i])):Object.assign(t,{[i]:n[i]});return V(t,...e)}function z(t,e){return t.length===e.length&&t.every(((t,n)=>e[n]===t))}function j(t,e,n=[],i){const r={},s=Array.from(e);if(c(s[0])&&i&&!Reflect.has(s[0],i)){const e=Object.keys(s[0]).some((e=>Reflect.has(t,e)));e||(V(r,{[i]:s[0]}),n.splice(n.indexOf(i),1),s.shift())}if(1===s.length&&c(s[0]))V(r,s[0]);else for(let o=0;o<n.length;o++)a(s[o])&&(r[n[o]]=s[o]);return V(t,r)}function F(t){return t.constructor.getDefaults()}function q(t,e){return s(t)?e:t}function U(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}
/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */
class H{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||T&&this.toString()===T.TONE_DEBUG_CLASS)&&x(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}H.version=i;const W=1e-6;function X(t,e){return t>e+W}function $(t,e){return X(t,e)||G(t,e)}function Y(t,e){return t+W<e}function G(t,e){return Math.abs(t-e)<W}function Z(t,e,n){return Math.max(Math.min(t,n),e)}class K extends H{constructor(){super(),this.name="Timeline",this._timeline=[];const t=j(K.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(p(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];p($(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(G(this._timeline[e].time,t)){for(let n=e;n>=0;n--){if(!G(this._timeline[n].time,t))break;e=n}this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&$(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const i=this._timeline.length;let r=i;if(i>0&&this._timeline[i-1][e]<=t)return i-1;while(n<r){let i=Math.floor(n+(r-n)/2);const s=this._timeline[i],a=this._timeline[i+1];if(G(s[e],t)){for(let n=i;n<this._timeline.length;n++){const r=this._timeline[n];if(!G(r[e],t))break;i=n}return i}if(Y(s[e],t)&&X(a[e],t))return i;X(s[e],t)?r=i:n=i+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let i=this._search(t),r=this._search(e);return-1!==i&&-1!==r?(this._timeline[i].time!==t&&(i+=1),this._timeline[r].time===e&&(r-=1),this._iterate(n,i,r)):-1===i&&this._iterate(n,0,r),this}forEachFrom(t,e){let n=this._search(t);while(n>=0&&this._timeline[n].time>=t)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&G(this._timeline[n].time,t)){let i=n;for(let e=n;e>=0;e--){if(!G(this._timeline[e].time,t))break;i=e}this._iterate((t=>{e(t)}),i,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Q=[];function J(t){Q.push(t)}function tt(t){Q.forEach((e=>e(t)))}const et=[];function nt(t){et.push(t)}function it(t){et.forEach((e=>e(t)))}class rt extends H{constructor(){super(...arguments),this.name="Emitter"}on(t,e){const n=t.split(/\W+/);return n.forEach((t=>{s(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const n=(...i)=>{e(...i),this.off(t,n)};return this.on(t,n),this}off(t,e){const n=t.split(/\W+/);return n.forEach((t=>{if(s(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(s(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,i=n.length;t<i;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(rt.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class st extends rt{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class at extends st{constructor(){var t,e;super(),this.name="Context",this._constants=new Map,this._timeouts=new K,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const n=j(at.getDefaults(),arguments,["context"]);n.context?(this._context=n.context,this._latencyHint=(null===(t=arguments[0])||void 0===t?void 0:t.latencyHint)||""):(this._context=S({latencyHint:n.latencyHint}),this._latencyHint=n.latencyHint),this._ticker=new I(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[(null===(e=arguments[0])||void 0===e?void 0:e.hasOwnProperty("updateInterval"))?"_lookAhead":"lookAhead"]=n.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(tt(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){p(N(this._context),"Not available if OfflineAudioContext");const e=this._context;return e.createMediaStreamSource(t)}createMediaElementSource(t){p(N(this._context),"Not available if OfflineAudioContext");const e=this._context;return e.createMediaElementSource(t)}createMediaStreamDestination(){p(N(this._context),"Not available if OfflineAudioContext");const t=this._context;return t.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){p(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){p(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){p(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){p(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return E(this.rawContext,t,e)}addAudioWorkletModule(t){return O(this,void 0,void 0,(function*(){p(a(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise}))}workletsAreReady(){return O(this,void 0,void 0,(function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return N(this._context)?this._context.resume():Promise.resolve()}close(){return O(this,void 0,void 0,(function*(){N(this._context)&&"closed"!==this.state&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&it(this)}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let r=0;r<n.length;r++)n[r]=t;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=e,i.loop=!0,i.start(0),this._constants.set(t,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this.close(),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();while(this._timeouts.length&&e&&e.time<=t)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,i=()=>{const r=this.now();this._timeouts.add({callback:()=>{t(),i()},id:n,time:r+e})};return i(),n}}class ot extends st{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return O(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}n(6573),n(8100),n(7936),n(7467),n(4732),n(9577);function lt(t,e){h(e)?e.forEach((e=>lt(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function ct(t,e){h(e)?e.forEach((e=>ct(t,e))):Object.defineProperty(t,e,{writable:!0})}const ut=()=>{};class ht extends H{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ut;const t=j(ht.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,d(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:ut,onload:ut,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:mt().sampleRate}set(t){return t instanceof ht?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return O(this,void 0,void 0,(function*(){const e=ht.load(t).then((t=>{this.set(t),this.onload(this)}));ht.downloads.push(e);try{yield e}finally{const t=ht.downloads.indexOf(e);ht.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=h(t)&&t[0].length>0,n=e?t.length:1,i=e?t[0].length:t.length,r=mt(),s=r.createBuffer(n,i,r.sampleRate),a=e||1!==n?t:[t];for(let o=0;o<n;o++)s.copyToChannel(a[o],o);return this._buffer=s,this}toMono(t){if(l(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(l(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){p(this.loaded,"Buffer is not loaded");const n=Math.floor(t*this.sampleRate),i=Math.floor(e*this.sampleRate);p(n<i,"The start time must be less than the end time");const r=i-n,s=mt().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)s.copyToChannel(this.getChannelData(a).subarray(n,i),a);return new ht(s)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new ht).fromArray(t)}static fromUrl(t){return O(this,void 0,void 0,(function*(){const e=new ht;return yield e.load(t)}))}static load(t){return O(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let i=n[0];for(const t of n)if(ht.supportsType(t)){i=t;break}t=t.replace(e[0],i)}const n=""===ht.baseUrl||ht.baseUrl.endsWith("/")?ht.baseUrl:ht.baseUrl+"/",i=document.createElement("a");i.href=n+t,i.pathname=(i.pathname+i.hash).split("/").map(encodeURIComponent).join("/");const r=yield fetch(i.href);if(!r.ok)throw new Error(`could not load url: ${t}`);const s=yield r.arrayBuffer(),a=yield mt().decodeAudioData(s);return a}))}static supportsType(t){const e=t.split("."),n=e[e.length-1],i=document.createElement("audio").canPlayType("audio/"+n);return""!==i}static loaded(){return O(this,void 0,void 0,(function*(){yield Promise.resolve();while(ht.downloads.length)yield ht.downloads[0]}))}}ht.baseUrl="",ht.downloads=[];class dt extends at{constructor(){super({clockSource:"offline",context:D(arguments[0])?arguments[0]:C(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:D(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=D(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return O(this,void 0,void 0,(function*(){let e=0;while(this._duration-this._currentTime>=0){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n===0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(){return O(this,arguments,void 0,(function*(t=!0){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new ht(e)}))}close(){return Promise.resolve()}}const ft=new ot;let pt=ft;function mt(){return pt===ft&&A&&_t(new at),pt}function _t(t,e=!1){e&&pt.dispose(),pt=N(t)?new at(t):D(t)?new dt(t):t}if(T&&!T.TONE_SILENCE_LOGGING){let t="v";"dev"===i&&(t="");const e=` * Tone.js ${t}${i} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function vt(t){return Math.pow(10,t/20)}function gt(t){return Math.log(t)/Math.LN10*20}function yt(t){return Math.pow(2,t/12)}let bt=440;function wt(){return bt}function xt(t){bt=t}function kt(t){return Math.round(St(t))}function St(t){return 69+12*Math.log2(t/bt)}function Ct(t){return bt*Math.pow(2,(t-69)/12)}class Tt extends H{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),i="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/n)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let i=0;return t&&"0"!==t&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Tt&&this.fromType(this._val),s(this._val))return this._noArg();if(d(this._val)&&s(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(c(this._val)){let t=0;for(const e in this._val)if(a(this._val[e])){const n=this._val[e],i=new this.constructor(this.context,e).valueOf()*n;t+=i}return t}if(a(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return d(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class At extends Tt{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new At(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),i=this.valueOf(),r=Math.round(i/n),s=r*n,a=s-i;return i+a*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let r=1;r<9;r++){const t=Math.pow(2,r);e.push(t+"n."),e.push(t+"n"),e.push(t+"t")}e.push("0");let n=e[0],i=new At(this.context,e[0]).toSeconds();return e.forEach((e=>{const r=new At(this.context,e).toSeconds();Math.abs(r-t)<Math.abs(i-t)&&(n=e,i=r)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let i=e%1*4;e=Math.floor(e)%this._getTimeSignature();const r=i.toString();r.length>3&&(i=parseFloat(parseFloat(r).toFixed(3)));const s=[n,e,i];return s.join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return kt(this.toFrequency())}_now(){return this.context.now()}}class Et extends At{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return wt()}static set A4(t){xt(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:Et.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,e){const n=Mt[t.toLowerCase()],i=n+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?i:Et.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let i=1;return t&&"0"!==t&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}}})}transpose(t){return new Et(this.context,this.valueOf()*yt(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return kt(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/Et.A4);let n=Math.round(12*e)+57;const i=Math.floor(n/12);i<0&&(n+=-12*i);const r=Ot[n%12];return r+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return Ct(t)}static ftom(t){return kt(t)}}const Mt={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Ot=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class It extends At{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Pt extends H{constructor(){super();const t=j(Pt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:mt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return b(t),new At(this.context,t).toSeconds()}toFrequency(t){return new Et(this.context,t).toFrequency()}toTicks(t){return new It(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{s(t[n])&&delete e[n]})),e}get(){const t=F(this);return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];a(n)&&a(n.value)&&a(n.setValueAtTime)?t[e]=n.value:n instanceof Pt?t[e]=n._getPartialProperties(t[e]):h(n)||l(n)||d(n)||u(n)?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&a(this[e])&&(this[e]&&a(this[e].value)&&a(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof Pt?this[e].set(t[e]):this[e]=t[e])})),this}}class Rt extends K{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return m(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){const n=this._search(e);for(let i=n;i>=0;i--){const e=this._timeline[i];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let i=n;i<this._timeline.length;i++){const e=this._timeline[i];if(e.state===t)return e}}}class Dt extends Pt{constructor(){const t=j(Dt.getDefaults(),arguments,["param","units","convert"]);super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,p(a(t.param)&&(P(t.param)||t.param instanceof Dt),"param must be an AudioParam");while(!P(t.param))t.param=t.param._param;this._swappable=!!a(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new K(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,a(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Pt.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return a(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return a(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return a(this.maxValue)&&a(this.minValue)&&m(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?vt(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?gt(t):t}setValueAtTime(t,e){const n=this.toSeconds(e),i=this._fromType(t);return p(isFinite(i)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),i=this._events.get(e);let r=this._initialValue;if(null===i)r=this._initialValue;else if("setTargetAtTime"!==i.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)r=i.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=i.value;if("setTargetAtTime"===i.type){const e=this._events.getBefore(i.time);t=null===e?this._initialValue:e.value}r="linearRampToValueAtTime"===n.type?this._linearInterpolate(i.time,t,n.time,n.value,e):this._exponentialInterpolate(i.time,t,n.time,n.value,e)}else r=i.value;else{const t=this._events.getBefore(i.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===i.type&&(r=this._exponentialApproach(i.time,n,i.value,i.constant,e))}return this._toType(r)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),i=this.toSeconds(e);return p(isFinite(n)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:i,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,i),this._param.linearRampToValueAtTime(n,i),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=G(n,0)?this._minOutput:n,this._assertRange(n);const i=this.toSeconds(e);return p(isFinite(n)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,i),this._param.exponentialRampToValueAtTime(n,i),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const i=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,i),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const i=this._fromType(t);p(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(e);return this._assertRange(i),p(isFinite(i)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:r,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",t,r,n),this._param.setTargetAtTime(i,r,n),this}setValueCurveAtTime(t,e,n,i=1){n=this.toSeconds(n),e=this.toSeconds(e);const r=this._fromType(t[0])*i;this.setValueAtTime(this._toType(r),e);const s=n/(t.length-1);for(let a=1;a<t.length;a++){const n=this._fromType(t[a])*i;this.linearRampToValueAtTime(this._toType(n),e+a*s)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return p(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));p(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const i=this._events.get(e),r=this._events.getAfter(e);return i&&G(i.time,e)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),"linearRampToValueAtTime"===r.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===r.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const i=this._events.getAfter(n.time),r=i?i.time:e+2,s=(r-e)/10;for(let n=e;n<r;n+=s)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){p(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,i,r){return n+(e-n)*Math.exp(-(r-t)/i)}_linearInterpolate(t,e,n,i,r){return e+(r-t)/(n-t)*(i-e)}_exponentialInterpolate(t,e,n,i,r){return e*Math.pow(i/e,(r-t)/(n-t))}}class Nt extends Pt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return a(this.input)?P(this.input)||this.input instanceof Dt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return a(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return a(t)&&(t instanceof Nt||R(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){const e=this._getInternalNodes();e.forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();p(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return Bt(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return k("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return Vt(this,t,e,n),this}chain(...t){return Lt(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),a(this.input)&&(this.input instanceof Nt?this.input.dispose():R(this.input)&&this.input.disconnect()),a(this.output)&&(this.output instanceof Nt?this.output.dispose():R(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Lt(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof Nt?t.connect(e):R(t)&&Bt(t,e),e)),e)}function Bt(t,e,n=0,i=0){p(a(t),"Cannot connect from undefined node"),p(a(e),"Cannot connect to undefined node"),(e instanceof Nt||R(e))&&p(e.numberOfInputs>0,"Cannot connect to node with no inputs"),p(t.numberOfOutputs>0,"Cannot connect from node with no outputs");while(e instanceof Nt||e instanceof Dt)a(e.input)&&(e=e.input);while(t instanceof Nt)a(t.output)&&(t=t.output);P(e)?t.connect(e,n):t.connect(e,n,i)}function Vt(t,e,n=0,i=0){if(a(e))while(e instanceof Nt)e=e.input;while(!R(t))a(t.output)&&(t=t.output);P(e)?t.disconnect(e,n):R(e)?t.disconnect(e,n,i):t.disconnect()}class zt extends Nt{constructor(){const t=j(zt.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Dt({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),lt(this,"gain")}static getDefaults(){return Object.assign(Nt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class jt extends Nt{constructor(t){super(t),this.onended=ut,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new zt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(Nt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ut})}_startGain(t,e=1){p(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){p(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.now()),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ut&&(this.onended(this),this.onended=ut,!this.context.isOffline)){const t=()=>this.dispose();"undefined"!==typeof window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),p(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ut,this}}class Ft extends jt{constructor(){const t=j(Ft.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Bt(this._source,this._gainNode),this.offset=new Dt({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(jt.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class qt extends Nt{constructor(){const t=j(qt.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new Ft({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Nt.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return Ut(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,i){return this._param.setValueCurveAtTime(t,e,n,i),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Ut(t,e,n,i){(e instanceof Dt||P(e)||e instanceof qt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof qt&&(e.overridden=!0)),Bt(t,e,n,i)}class Ht extends Dt{constructor(){const t=j(Ht.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new K(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Dt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const i=this._fromType(t),r=this._events.get(e),s=Math.round(Math.max(1/n,1));for(let a=0;a<=s;a++){const t=n*a+e,s=this._exponentialApproach(r.time,r.value,i,n,t);this.linearRampToValueAtTime(this._toType(s),t)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const i=this._events.get(n),r=this._events.previousEvent(i),s=this._getTicksUntilEvent(r,n);return i.ticks=Math.max(s,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const i=this._events.get(n),r=this._events.previousEvent(i),s=this._getTicksUntilEvent(r,n);return i.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),i=this._events.get(e),r=Math.round(Math.max(10*(e-i.time),1)),s=(e-i.time)/r;for(let a=0;a<=r;a++){const t=s*a+i.time,r=this._exponentialInterpolate(i.time,i.value,e,n,t);this.linearRampToValueAtTime(this._toType(r),t)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(s(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let i=this._fromType(this.getValueAtTime(e));const r=this._events.get(e);return r&&r.time===e&&"setValueAtTime"===r.type&&(i=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+i)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(e);return this.getTimeOfTick(i+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const i=this._fromType(this.getValueAtTime(e.time)),r=this._fromType(this.getValueAtTime(n.time)),s=(r-i)/(n.time-e.time),a=Math.sqrt(Math.pow(i,2)-2*s*(e.ticks-t)),o=(-i+a)/s,l=(-i-a)/s;return(o>0?o:l)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),i=this.toSeconds(t),r=this.getTicksAtTime(n),s=this.getTicksAtTime(n+i);return s-r}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Wt extends qt{constructor(){const t=j(Wt.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new Ht({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(qt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Xt extends Pt{constructor(){const t=j(Xt.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new Rt,this._tickOffset=new K,this._ticksAtTime=new K,this._secondsAtTime=new K,this.frequency=new Wt({context:this.context,units:t.units,value:t.frequency}),lt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Pt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),a(e)&&this.setTicksAtTime(e,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),i=this._ticksAtTime.get(e),r={state:"paused",time:e};this._state.add(r);let s=i||n,a=i?i.ticks:0,o=null;return this._state.forEachBetween(s.time,e+this.sampleTime,(t=>{let e=s.time;const n=this._tickOffset.get(t.time);n&&n.time>=s.time&&(a=n.ticks,e=n.time),"started"===s.state&&"started"!==t.state&&(a+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e),t.time!==r.time&&(o={state:t.state,time:t.time,ticks:a})),s=t})),this._state.remove(r),o&&this._ticksAtTime.add(o),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);const i=this._secondsAtTime.get(t);let r=i||e,s=i?i.seconds:0,a=null;return this._state.forEachBetween(r.time,t+this.sampleTime,(t=>{let e=r.time;const i=this._tickOffset.get(t.time);i&&i.time>=r.time&&(s=i.seconds,e=i.time),"started"===r.state&&"started"!==t.state&&(s+=t.time-e,t.time!==n.time&&(a={state:t.state,time:t.time,seconds:s})),r=t})),this._state.remove(n),a&&this._secondsAtTime.add(a),s}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),i=this._state.get(e),r=Math.max(n.time,i.time),s=this.frequency.getTicksAtTime(r)+t-n.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(t,e,n){let i=this._state.get(t);this._state.forEachBetween(t,e,(e=>{i&&"started"===i.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(i.time,t),e.time-this.sampleTime,n),i=e}));let r=null;if(i&&"started"===i.state){const a=Math.max(i.time,t),o=this.frequency.getTicksAtTime(a),l=this.frequency.getTicksAtTime(i.time),c=o-l;let u=Math.ceil(c)-c;u=G(u,1)?0:u;let h=this.frequency.getTimeOfTick(o+u);while(h<e){try{n(h,Math.round(this.getTicksAtTime(h)))}catch(s){r=s;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class $t extends Pt{constructor(){const t=j($t.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=ut,this._lastUpdate=0,this._state=new Rt("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new Xt({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,lt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Pt.getDefaults(),{callback:ut,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){_(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(i+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time);break}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}rt.mixin($t);class Yt extends Nt{constructor(){const t=j(Yt.getDefaults(),arguments,["delayTime","maxDelay"]);super(t),this.name="Delay";const e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new Dt({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),lt(this,"delayTime")}static getDefaults(){return Object.assign(Nt.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Gt extends Nt{constructor(){const t=j(Gt.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new zt({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,lt(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(Nt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Zt extends Nt{constructor(){const t=j(Zt.getDefaults(),arguments);super(t),this.name="Destination",this.input=new Gt({context:this.context}),this.output=new zt({context:this.context}),this.volume=this.input.volume,Lt(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Nt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Lt(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}J((t=>{t.destination=new Zt({context:t})})),nt((t=>{t.destination.dispose()}));class Kt extends Nt{constructor(){super(...arguments),this.name="Listener",this.positionX=new Dt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Dt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Dt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Dt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Dt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Dt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Dt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Dt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Dt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Nt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}J((t=>{t.listener=new Kt({context:t})})),nt((t=>{t.listener.dispose()}));class Qt extends H{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=j(Qt.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:ut,onload:ut,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return p(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,n=ut,i=ut){return d(e)?(this.baseUrl&&"data:audio/"===e.trim().substring(0,11).toLowerCase()&&(this.baseUrl=""),this._buffers.set(t.toString(),new ht(this.baseUrl+e,n,i))):this._buffers.set(t.toString(),new ht(e,n,i)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class Jt extends It{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class te extends Pt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new K,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;while(this._events.length&&this._events.peek().time-this.anticipation<=t){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}J((t=>{t.draw=new te({context:t})})),nt((t=>{t.draw.dispose()}));class ee extends H{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){p(a(t.time),"Events must have a time property"),p(a(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new ne(t.time,t.time+t.duration,t);null===this._root?this._root=e:this._root.insert(e),this._length++;while(null!==e)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{const e=t.getBalance();let n,i=null;if(e>0)if(null===t.left.right)n=t.left,n.right=t.right,i=n;else{n=t.left.right;while(null!==n.right)n=n.right;n.parent&&(n.parent.right=n.left,i=n.parent,n.left=t.left,n.right=t.right)}else if(null===t.right.left)n=t.right,n.left=t.left,i=n;else{n=t.right.left;while(null!==n.left)n=n.left;n.parent&&(n.parent.left=n.right,i=n.parent,n.left=t.left,n.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=n:t.parent.right=n:this._setRoot(n),i&&this._rebalance(i)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),i=t.right;i&&(t.right=i.left,i.left=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),i=t.left;i&&(t.left=i.right,i.right=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class ne{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class ie extends H{constructor(t){super(),this.name="TimelineValue",this._timeline=new K({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class re extends Nt{constructor(){super(j(re.getDefaults(),arguments,["context"]))}connect(t,e=0,n=0){return Ut(this,t,e,n),this}}class se extends re{constructor(){const t=j(se.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,h(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):o(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(qt.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let i=0,r=e;i<r;i++){const e=i/(r-1)*2-1;n[i]=t(e,i)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const e=["none","2x","4x"].some((e=>e.includes(t)));p(e,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class ae extends re{constructor(){const t=j(ae.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new se({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(re.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class oe{constructor(t,e){this.id=oe._eventId++,this._remainderTime=0;const n=Object.assign(oe.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:ut,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const e=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*e),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}oe._eventId=0;class le extends oe{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(le.getDefaults(),e);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},oe.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return Y(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Jt(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){Y(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Jt(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const e=this.transport.getTicksAtTime(t);X(e,this.time)&&(this._nextTick=this.floatTime+Math.ceil((e-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class ce extends Pt{constructor(){const t=j(ce.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new ie(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new K,this._repeatedEvents=new ee,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new $t({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),lt(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(Pt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!==0&&e%(2*this._swingTicks)!==0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),i=Math.sin(n*Math.PI)*this._swingAmount;t+=new Jt(this.context,2*this._swingTicks/3).toSeconds()*i}y(!0),this._timeline.forEachAtTime(e,(e=>e.invoke(t))),y(!1)}schedule(t,e){const n=new oe(this,{callback:t,time:new It(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,i=1/0){const r=new le(this,{callback:t,duration:new At(this.context,i).toTicks(),interval:new At(this.context,e).toTicks(),time:new It(this.context,n).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(t,e){const n=new oe(this,{callback:t,once:!0,time:new It(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new Jt(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return this.context.resume(),a(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){h(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new At(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new At(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Jt(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new Jt(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now(),e=this._clock.getTicksAtTime(t);return(e-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),i=this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e),r=e+i;this.emit("stop",r),this._clock.setTicksAtTime(t,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this.emit("ticks",e),this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=this.getTicksAtTime(e),i=t-n%t;return this._clock.nextTickTime(i,e)}}syncSignal(t,e){const n=this.now();let i=this.bpm,r=1/(60/i.getValueAtTime(n)/this.PPQ),s=[];if("time"===t.units){const t=1/64/r,e=new zt(t),n=new ae(-1),a=new zt(t);i.chain(e,n,a),i=a,r=1/r,s=[e,n,a]}e||(e=0!==t.getValueAtTime(n)?t.getValueAtTime(n)/r:0);const a=new zt(e);return i.connect(a),a.connect(t._param),s.push(a),this._syncedSignals.push({initial:t.value,nodes:s,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.nodes.forEach((t=>t.dispose())),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),ct(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}rt.mixin(ce),J((t=>{t.transport=new ce({context:t})})),nt((t=>{t.transport.dispose()}));class ue extends Nt{constructor(t){super(t),this.input=void 0,this._state=new Rt("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ut,this._syncedStop=ut,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Gt({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,lt(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(Nt.getDefaults(),{mute:!1,onstop:ut,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let i=s(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(i=this._clampToCurrentTime(i),this._synced||"started"!==this._state.getValueAtTime(i))if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const t=this._state.get(i);t&&(t.offset=this.toSeconds(q(e,0)),t.duration=n?this.toSeconds(n):void 0);const r=this.context.transport.schedule((t=>{this._start(t,e,n)}),i);this._scheduled.push(r),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else _(this.context),this._start(i,e,n);else p(X(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,e,n);return this}stop(t){let e=s(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||a(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(X(e,0)){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const i=e-this.toSeconds(n.time);let r;n.duration&&(r=this.toSeconds(n.duration)-i),this._start(t,this.toSeconds(n.offset)+i,r)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ut,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class he extends jt{constructor(){const t=j(he.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Bt(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Dt({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new ht(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(jt.getDefaults(),{url:new ht,loop:!1,loopEnd:0,loopStart:0,onload:ut,onerror:ut,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,i=1){p(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(t);this._startGain(r,i),e=this.loop?q(e,this.loopStart):q(e,0);let s=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;$(s,t)&&(s=(s-e)%n+e),G(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Y(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,s)),a(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(r+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class de extends ue{constructor(){const t=j(de.getDefaults(),arguments,["type"]);super(t),this.name="Noise",this._source=null,this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(ue.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(p(t in _e,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=_e[this._type];this._source=new he({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const fe=220500,pe=2,me={brown:null,pink:null,white:null},_e={get brown(){if(!me.brown){const t=[];for(let e=0;e<pe;e++){const n=new Float32Array(fe);t[e]=n;let i=0;for(let t=0;t<fe;t++){const e=2*Math.random()-1;n[t]=(i+.02*e)/1.02,i=n[t],n[t]*=3.5}}me.brown=(new ht).fromArray(t)}return me.brown},get pink(){if(!me.pink){const t=[];for(let e=0;e<pe;e++){const n=new Float32Array(fe);let i,r,s,a,o,l,c;t[e]=n,i=r=s=a=o=l=c=0;for(let t=0;t<fe;t++){const e=2*Math.random()-1;i=.99886*i+.0555179*e,r=.99332*r+.0750759*e,s=.969*s+.153852*e,a=.8665*a+.3104856*e,o=.55*o+.5329522*e,l=-.7616*l-.016898*e,n[t]=i+r+s+a+o+l+c+.5362*e,n[t]*=.11,c=.115926*e}}me.pink=(new ht).fromArray(t)}return me.pink},get white(){if(!me.white){const t=[];for(let e=0;e<pe;e++){const n=new Float32Array(fe);t[e]=n;for(let t=0;t<fe;t++)n[t]=2*Math.random()-1}me.white=(new ht).fromArray(t)}return me.white}};class ve extends Nt{constructor(){const t=j(ve.getDefaults(),arguments,["volume"]);super(t),this.name="UserMedia",this._volume=this.output=new Gt({context:this.context,volume:t.volume}),this.volume=this._volume.volume,lt(this,"volume"),this.mute=t.mute}static getDefaults(){return Object.assign(Nt.getDefaults(),{mute:!1,volume:0})}open(t){return O(this,void 0,void 0,(function*(){p(ve.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const e=yield ve.enumerateDevices();l(t)?this._device=e[t]:(this._device=e.find((e=>e.label===t||e.deviceId===t)),!this._device&&e.length>0&&(this._device=e[0]),p(a(this._device),`No matching device ${t}`));const n={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(n.audio.deviceId=this._device.deviceId);const i=yield navigator.mediaDevices.getUserMedia(n);if(!this._stream){this._stream=i;const t=this.context.createMediaStreamSource(i);Bt(t,this.output),this._mediaStream=t}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach((t=>{t.stop()})),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return O(this,void 0,void 0,(function*(){const t=yield navigator.mediaDevices.enumerateDevices();return t.filter((t=>"audioinput"===t.kind))}))}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return a(navigator.mediaDevices)&&a(navigator.mediaDevices.getUserMedia)}}function ge(t,e){return O(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,i=new dt(1,n,t.context.sampleRate),r=new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:i})).toDestination();r.start(0);const s=yield i.render();return s.getChannelData(0)}))}class ye extends jt{constructor(){const t=j(ye.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Bt(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Dt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Dt({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),lt(this,["frequency","detune"])}static getDefaults(){return Object.assign(jt.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class be extends ue{constructor(){const t=j(be.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new qt({context:this.context,units:"frequency",value:t.frequency}),lt(this,"frequency"),this.detune=new qt({context:this.context,units:"cents",value:t.detune}),lt(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(ue.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new ye({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){const t=be._periodicWaveCache.find((t=>t.phase===this._phase&&z(t.partials,this._partials)));return t}{const t=be._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(a(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),i=this.context.createPeriodicWave(e,n);this._wave=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),be._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),be._periodicWaveCache.length>100&&be._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){m(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){const n=4096;let i=n/2;const r=new Float32Array(i),s=new Float32Array(i);let a=1;if("custom"===t){if(a=this._partials.length+1,this._partialCount=this._partials.length,i=a,0===this._partials.length)return[r,s]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(a=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],a=Math.max(a,2),i=a):this._partialCount=0,this._partials=[]}for(let o=1;o<i;++o){const n=2/(o*Math.PI);let i;switch(t){case"sine":i=o<=a?1:0,this._partials[o-1]=i;break;case"square":i=1&o?2*n:0,this._partials[o-1]=i;break;case"sawtooth":i=n*(1&o?1:-1),this._partials[o-1]=i;break;case"triangle":i=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=i;break;case"custom":i=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==i?(r[o]=-i*Math.sin(e*o),s[o]=i*Math.cos(e*o)):(r[o]=0,s[o]=0)}return[r,s]}_inverseFFT(t,e,n){let i=0;const r=t.length;for(let s=0;s<r;s++)i+=t[s]*Math.cos(s*n)+e[s]*Math.sin(s*n);return i}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const i=2*Math.PI,r=32;for(let s=0;s<r;s++)n=Math.max(this._inverseFFT(t,e,s/r*i),n);return Z(-this._inverseFFT(t,e,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return O(this,arguments,void 0,(function*(t=1024){return ge(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}be._periodicWaveCache=[];class we extends re{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new se({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class xe extends qt{constructor(){const t=j(xe.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new zt({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(qt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class ke extends ue{constructor(){const t=j(ke.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new we({context:this.context}),this._modulationNode=new zt({context:this.context}),this._carrier=new be({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new be({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new xe({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),lt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(be.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return O(this,arguments,void 0,(function*(t=1024){return ge(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Se extends ue{constructor(){const t=j(Se.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new zt({context:this.context,gain:0}),this._carrier=new be({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new qt({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new be({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new xe({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new xe({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),lt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(be.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return O(this,arguments,void 0,(function*(t=1024){return ge(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ce extends ue{constructor(){const t=j(Ce.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new zt({context:this.context,gain:0}),this._thresh=new se({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new qt({context:this.context,units:"audioRange",value:t.width}),this._triangle=new be({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),lt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ue.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return O(this,arguments,void 0,(function*(t=1024){return ge(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Te extends ue{constructor(){const t=j(Te.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new qt({context:this.context,units:"frequency",value:t.frequency}),this.detune=new qt({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,lt(this,["frequency","detune"])}static getDefaults(){return Object.assign(be.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,i)=>t.detune.value=e+n*i))}}get count(){return this._oscillators.length}set count(t){if(m(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new be({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):ut});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(){return O(this,arguments,void 0,(function*(t=1024){return ge(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class Ae extends ue{constructor(){const t=j(Ae.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new xe({context:this.context,value:2}),this._pulse=new Ce({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new be({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),lt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ue.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return O(this,arguments,void 0,(function*(t=1024){return ge(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Ee={am:ke,fat:Te,fm:Se,oscillator:be,pulse:Ce,pwm:Ae};class Me extends ue{constructor(){const t=j(Me.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new qt({context:this.context,units:"frequency",value:t.frequency}),this.detune=new qt({context:this.context,units:"cents",value:t.detune}),lt(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(be.getDefaults(),Se.getDefaults(),ke.getDefaults(),Te.getDefaults(),Ce.getDefaults(),Ae.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Ee[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Ee[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&l(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&l(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&d(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(){return O(this,arguments,void 0,(function*(t=1024){return ge(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);function Oe(t,e=1/0){const n=new WeakMap;return function(i,r){Reflect.defineProperty(i,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){m(i,t,e),n.set(this,i)}})}}function Ie(t,e=1/0){const n=new WeakMap;return function(i,r){Reflect.defineProperty(i,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){m(this.toSeconds(i),t,e),n.set(this,i)}})}}class Pe extends ue{constructor(){const t=j(Pe.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new ht({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(ue.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ut,onerror:ut,playbackRate:1,reverse:!1})}load(t){return O(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=ut){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?q(e,this._loopStart):q(e,0);const i=this.toSeconds(e),r=n;n=q(n,Math.max(this._buffer.duration-i,0));let a=this.toSeconds(n);a/=this._playbackRate,t=this.toSeconds(t);const o=new he({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+a),this._state.setStateAtTime("stopped",t+a,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&s(r)?o.start(t,i):o.start(t,i,a-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){var i;null===(i=[...this._activeSources].pop())||void 0===i||i.stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&m(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&m(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}M([Ie(0)],Pe.prototype,"fadeIn",void 0),M([Ie(0)],Pe.prototype,"fadeOut",void 0);class Re extends re{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new se({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class De extends Nt{constructor(){const t=j(De.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new qt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(Nt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(d(t))return t;{let n;for(n in Ne)if(Ne[n][e]===t)return n;return t}}_setCurve(t,e,n){if(d(n)&&Reflect.has(Ne,n)){const i=Ne[n];c(i)?"_decayCurve"!==t&&(this[t]=i[e]):this[t]=i}else{if(!h(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);const n=this.toSeconds(this.attack);let i=n;const r=this.toSeconds(this.decay),s=this.getValueAtTime(t);if(s>0){const t=1/i,e=1-s;i=e/t}if(i<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,i,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,i,t);else{this._sig.cancelAndHoldAtTime(t);let n=this._attackCurve;for(let t=1;t<n.length;t++)if(n[t-1]<=s&&s<=n[t]){n=this._attackCurve.slice(t),n[0]=s;break}this._sig.setValueCurveAtTime(n,t,i,e)}if(r&&this.sustain<1){const n=e*this.sustain,s=t+i;this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(n,r+s):this._sig.exponentialApproachValueAtTime(n,s,r)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(p(h(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return Ut(this,t,e,n),this}asArray(){return O(this,arguments,void 0,(function*(t=1024){const e=t/this.context.sampleRate,n=new dt(1,e,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=i+this.toSeconds(this.release),s=.1*r,a=r+s,o=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/a,decay:e*this.toSeconds(this.decay)/a,release:e*this.toSeconds(this.release)/a,context:n}));o._sig.toDestination(),o.triggerAttackRelease(e*(i+s)/a,0);const l=yield n.render();return l.getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}M([Ie(0)],De.prototype,"attack",void 0),M([Ie(0)],De.prototype,"decay",void 0),M([Oe(0,1)],De.prototype,"sustain",void 0),M([Ie(0)],De.prototype,"release",void 0);const Ne=(()=>{const t=128;let e,n;const i=[];for(e=0;e<t;e++)i[e]=Math.sin(e/(t-1)*(Math.PI/2));const r=[],s=6.4;for(e=0;e<t-1;e++){n=e/(t-1);const i=Math.sin(n*(2*Math.PI)*s-Math.PI/2)+1;r[e]=i/10+.83*n}r[t-1]=1;const a=[],o=5;for(e=0;e<t;e++)a[e]=Math.ceil(e/(t-1)*o)/o;const l=[];for(e=0;e<t;e++)n=e/(t-1),l[e]=.5*(1-Math.cos(Math.PI*n));const c=[];for(e=0;e<t;e++){n=e/(t-1);const i=4*Math.pow(n,3)+.2,r=Math.cos(i*Math.PI*2*n);c[e]=Math.abs(r*(1-n))}function u(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}function h(t){return t.slice(0).reverse()}return{bounce:{In:u(c),Out:c},cosine:{In:i,Out:h(i)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:u(r)},sine:{In:l,Out:u(l)},step:{In:a,Out:u(a)}}})();class Le extends Nt{constructor(){const t=j(Le.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Gt({context:this.context,volume:t.volume}),this.volume=this._volume.volume,lt(this,"volume")}static getDefaults(){return Object.assign(Nt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const i=t[e],r=this.context.transport.schedule((i=>{t[e]=i,n.apply(this,t)}),i);this._scheduledEvents.push(r)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,e,n,i){const r=this.toSeconds(n),s=this.toSeconds(e);return this.triggerAttack(t,r,i),this.triggerRelease(r+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Be extends Le{constructor(){const t=j(Be.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Le.getDefaults(),{detune:0,onsilence:ut,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const i=this.toSeconds(e);return this._triggerEnvelopeAttack(i,n),this.setNote(t,i),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),i=t instanceof Et?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,t,n)}else this.frequency.setValueAtTime(i,n);return this}}M([Ie(0)],Be.prototype,"portamento",void 0);class Ve extends De{constructor(){super(j(Ve.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new zt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ze extends Be{constructor(){const t=j(ze.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new Me(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ve(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),lt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Be.getDefaults(),{envelope:Object.assign(U(De.getDefaults(),Object.keys(Nt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(U(Me.getDefaults(),[...Object.keys(ue.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class je extends Nt{constructor(){const t=j(je.getDefaults(),arguments,["frequency","type"]);super(t),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Dt({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new Dt({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new Dt({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new Dt({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(Nt.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){const e=["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"];p(-1!==e.indexOf(t),`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let s=0;s<t;s++){const n=Math.pow(s/t,2),i=19980*n+20;e[s]=i}const n=new Float32Array(t),i=new Float32Array(t),r=this.context.createBiquadFilter();return r.type=this.type,r.Q.value=this.Q.value,r.frequency.value=this.frequency.value,r.gain.value=this.gain.value,r.getFrequencyResponse(e,n,i),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Fe extends Nt{constructor(){const t=j(Fe.getDefaults(),arguments,["frequency","type","rolloff"]);super(t),this.name="Filter",this.input=new zt({context:this.context}),this.output=new zt({context:this.context}),this._filters=[],this._filters=[],this.Q=new qt({context:this.context,units:"positive",value:t.Q}),this.frequency=new qt({context:this.context,units:"frequency",value:t.frequency}),this.detune=new qt({context:this.context,units:"cents",value:t.detune}),this.gain=new qt({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,lt(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Nt.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){const e=["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"];p(-1!==e.indexOf(t),`Invalid filter type: ${t}`),this._type=t,this._filters.forEach((e=>e.type=t))}get rolloff(){return this._rolloff}set rolloff(t){const e=l(t)?t:parseInt(t,10),n=[-12,-24,-48,-96];let i=n.indexOf(e);p(-1!==i,`rolloff can only be ${n.join(", ")}`),i+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach((t=>t.disconnect())),this._filters=new Array(i);for(let r=0;r<i;r++){const t=new je({context:this.context});t.type=this._type,this.frequency.connect(t.frequency),this.detune.connect(t.detune),this.Q.connect(t.Q),this.gain.connect(t.gain),this._filters[r]=t}this._internalChannels=this._filters,Lt(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new je({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(t).map((()=>1));return this._filters.forEach((()=>{const i=e.getFrequencyResponse(t);i.forEach(((t,e)=>n[e]*=t))})),e.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((t=>{t.dispose()})),ct(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class qe extends ze{constructor(){const t=j(qe.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,lt(this,["oscillator","envelope"])}static getDefaults(){return V(Be.getDefaults(),ze.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),i=this.toFrequency(t instanceof Et?t.toFrequency():t),r=i*this.octaves;return this.oscillator.frequency.setValueAtTime(r,n),this.oscillator.frequency.exponentialRampToValueAtTime(i,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}M([Oe(0)],qe.prototype,"octaves",void 0),M([Ie(0)],qe.prototype,"pitchDecay",void 0);const Ue=new Set;function He(t){Ue.add(t)}function We(t,e){const n=`registerProcessor("${t}", ${e})`;Ue.add(n)}const Xe='\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n';He(Xe);const $e="\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n";He($e);const Ye="\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n";He(Ye);const Ge="feedback-comb-filter",Ze='\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n';We(Ge,Ze);class Ke extends Le{constructor(){const t=j(Ke.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const e={};Object.keys(t.urls).forEach((n=>{const i=parseInt(n,10);if(p(f(n)||l(i)&&isFinite(i),`url key is neither a note or midi pitch: ${n}`),f(n)){const i=new Et(this.context,n).toMidi();e[i]=t.urls[n]}else l(i)&&isFinite(i)&&(e[i]=t.urls[i])})),this._buffers=new Qt({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Le.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ut,onerror:ut,release:.1,urls:{}})}_findClosest(t){const e=96;let n=0;while(n<e){if(this._buffers.has(t+n))return-n;if(this._buffers.has(t-n))return n;n++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const i=St(new Et(this.context,t).toFrequency()),r=Math.round(i),s=i-r,a=this._findClosest(r),o=r-a,l=this._buffers.get(o),c=yt(a+s),u=new he({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:c}).connect(this.output);u.start(e,0,l.duration/c,n),h(this._activeSources.get(r))||this._activeSources.set(r,[]),this._activeSources.get(r).push(u),u.onended=()=>{if(this._activeSources&&this._activeSources.has(r)){const t=this._activeSources.get(r),e=t.indexOf(u);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new Et(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{while(t.length){const n=t.shift();n.stop(e)}})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,i=1){const r=this.toSeconds(n);return this.triggerAttack(t,r,i),h(e)?(p(h(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const i=e[Math.min(n,e.length-1)];this.triggerRelease(t,r+this.toSeconds(i))}))):this.triggerRelease(t,r+this.toSeconds(e)),this}add(t,e,n){if(p(f(t)||isFinite(t),`note must be a pitch or midi: ${t}`),f(t)){const i=new Et(this.context,t).toMidi();this._buffers.add(i,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}M([Ie(0)],Ke.prototype,"attack",void 0),M([Ie(0)],Ke.prototype,"release",void 0);class Qe extends Nt{constructor(){const t=j(Qe.getDefaults(),arguments,["fade"]);super(t),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Re({context:this.context}),this.a=new zt({context:this.context,gain:0}),this.b=new zt({context:this.context,gain:0}),this.output=new zt({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new qt({context:this.context,units:"normalRange",value:t.fade}),lt(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Bt(this._split,this.a.gain,0),Bt(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(Nt.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Je extends Nt{constructor(t){super(t),this.name="Effect",this._dryWet=new Qe({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new zt({context:this.context}),this.effectReturn=new zt({context:this.context}),this.input=new zt({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],lt(this,"wet")}static getDefaults(){return Object.assign(Nt.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class tn extends Nt{constructor(){const t=j(tn.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Dt({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",lt(this,"pan")}static getDefaults(){return Object.assign(Nt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const en="bit-crusher",nn="\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n";We(en,nn);class rn extends Nt{constructor(){const t=j(rn.getDefaults(),arguments,["channels"]);super(t),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(Nt.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class sn extends Je{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new zt({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,lt(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Je.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class an extends sn{constructor(){const t=j(an.getDefaults(),arguments,["delayTime","feedback"]);super(t),this.name="FeedbackDelay",this._delayNode=new Yt({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),lt(this,"delayTime")}static getDefaults(){return Object.assign(sn.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class on extends Je{constructor(){const t=j(on.getDefaults(),arguments,["decay"]);super(t),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve(),this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Je.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){t=this.toSeconds(t),m(t,.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){t=this.toSeconds(t),m(t,0),this._preDelay=t,this.generate()}generate(){return O(this,void 0,void 0,(function*(){const t=this.ready,e=new dt(2,this._decay+this._preDelay,this.context.sampleRate),n=new de({context:e}),i=new de({context:e}),r=new rn({context:e});n.connect(r,0,0),i.connect(r,0,1);const s=new zt({context:e}).toDestination();r.connect(s),n.start(0),i.start(0),s.gain.setValueAtTime(0,0),s.gain.setValueAtTime(1,this._preDelay),s.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const a=e.render();return this.ready=a.then(ut),yield t,this._convolver.buffer=(yield a).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class ln extends Nt{constructor(){const t=j(ln.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new zt({context:this.context}),ln._allSolos.has(this.context)||ln._allSolos.set(this.context,new Set),ln._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(Nt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),ln._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){ln._soloed.has(this.context)||ln._soloed.set(this.context,new Set),ln._soloed.get(this.context).add(this)}_removeSolo(){ln._soloed.has(this.context)&&ln._soloed.get(this.context).delete(this)}_isSoloed(){return ln._soloed.has(this.context)&&ln._soloed.get(this.context).has(this)}_noSolos(){return!ln._soloed.has(this.context)||ln._soloed.has(this.context)&&0===ln._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ln._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ln._allSolos=new Map,ln._soloed=new Map;class cn extends Nt{constructor(){const t=j(cn.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new tn({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Gt({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,lt(this,["pan","volume"])}static getDefaults(){return Object.assign(Nt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class un extends Nt{constructor(){const t=j(un.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new ln({solo:t.solo,context:this.context}),this._panVol=this.output=new cn({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),lt(this,["pan","volume"])}static getDefaults(){return Object.assign(Nt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return un.buses.has(t)||un.buses.set(t,new zt({context:this.context})),un.buses.get(t)}send(t,e=0){const n=this._getBus(t),i=new zt({context:this.context,units:"decibels",gain:e});return this.connect(i),i.connect(n),i}receive(t){const e=this._getBus(t);return e.connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}un.buses=new Map;class hn extends Nt{constructor(){const t=j(hn.getDefaults(),arguments);super(t),this.name="Recorder",this.input=new zt({context:this.context}),p(hn.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return Nt.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==T&&Reflect.has(T,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return O(this,void 0,void 0,(function*(){p("started"!==this.state,"Recorder is already started");const t=new Promise((t=>{const e=()=>{this._recorder.removeEventListener("start",e,!1),t()};this._recorder.addEventListener("start",e,!1)}));return this._recorder.start(),yield t}))}stop(){return O(this,void 0,void 0,(function*(){p("stopped"!==this.state,"Recorder is not started");const t=new Promise((t=>{const e=n=>{this._recorder.removeEventListener("dataavailable",e,!1),t(n.data)};this._recorder.addEventListener("dataavailable",e,!1)}));return this._recorder.stop(),yield t}))}pause(){return p("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class dn extends Nt{constructor(){const t=j(dn.getDefaults(),arguments,["threshold","ratio"]);super(t),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor,this.threshold=new Dt({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new Dt({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new Dt({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new Dt({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new Dt({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),lt(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(Nt.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}mt().transport;mt().destination;const fn=mt().destination;mt().listener;mt().draw;const pn=mt()},3780:function(t,e,n){"use strict";n.d(e,{A:function(){return c}});n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);class i{constructor(){this.listeners={}}on(t,e,n){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),null==n?void 0:n.once){const n=()=>{this.un(t,n),this.un(t,e)};return this.on(t,n),n}return()=>this.un(t,e)}un(t,e){var n;null===(n=this.listeners[t])||void 0===n||n.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach((t=>t(...e)))}}class r extends i{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((t=>t()))}}function s(t,e,n,i,r=3,s=0,a=100){if(!t)return()=>{};const o=matchMedia("(pointer: coarse)").matches;let l=()=>{};const c=c=>{if(c.button!==s)return;c.preventDefault(),c.stopPropagation();let u=c.clientX,h=c.clientY,d=!1;const f=Date.now(),p=i=>{if(i.preventDefault(),i.stopPropagation(),o&&Date.now()-f<a)return;const s=i.clientX,l=i.clientY,c=s-u,p=l-h;if(d||Math.abs(c)>r||Math.abs(p)>r){const i=t.getBoundingClientRect(),{left:r,top:a}=i;d||(null==n||n(u-r,h-a),d=!0),e(c,p,s-r,l-a),u=s,h=l}},m=e=>{if(d){const n=e.clientX,r=e.clientY,s=t.getBoundingClientRect(),{left:a,top:o}=s;null==i||i(n-a,r-o)}l()},_=t=>{t.relatedTarget&&t.relatedTarget!==document.documentElement||m(t)},v=t=>{d&&(t.stopPropagation(),t.preventDefault())},g=t=>{d&&t.preventDefault()};document.addEventListener("pointermove",p),document.addEventListener("pointerup",m),document.addEventListener("pointerout",_),document.addEventListener("pointercancel",_),document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("click",v,{capture:!0}),l=()=>{document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",m),document.removeEventListener("pointerout",_),document.removeEventListener("pointercancel",_),document.removeEventListener("touchmove",g),setTimeout((()=>{document.removeEventListener("click",v,{capture:!0})}),10)}};return t.addEventListener("pointerdown",c),()=>{l(),t.removeEventListener("pointerdown",c)}}function a(t,e){const n=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[i,r]of Object.entries(e))if("children"===i)for(const[t,s]of Object.entries(e))"string"==typeof s?n.appendChild(document.createTextNode(s)):n.appendChild(a(t,s));else"style"===i?Object.assign(n.style,r):"textContent"===i?n.textContent=r:n.setAttribute(i,r.toString());return n}function o(t,e,n){const i=a(t,e||{});return null==n||n.appendChild(i),i}class l extends i{constructor(t,e,n=0){var i,r,s,a,o,l,c,u;super(),this.totalDuration=e,this.numberOfChannels=n,this.minLength=0,this.maxLength=1/0,this.contentEditable=!1,this.subscriptions=[],this.subscriptions=[],this.id=t.id||`region-${Math.random().toString(32).slice(2)}`,this.start=this.clampPosition(t.start),this.end=this.clampPosition(null!==(i=t.end)&&void 0!==i?i:t.start),this.drag=null===(r=t.drag)||void 0===r||r,this.resize=null===(s=t.resize)||void 0===s||s,this.color=null!==(a=t.color)&&void 0!==a?a:"rgba(0, 0, 0, 0.1)",this.minLength=null!==(o=t.minLength)&&void 0!==o?o:this.minLength,this.maxLength=null!==(l=t.maxLength)&&void 0!==l?l:this.maxLength,this.channelIdx=null!==(c=t.channelIdx)&&void 0!==c?c:-1,this.contentEditable=null!==(u=t.contentEditable)&&void 0!==u?u:this.contentEditable,this.element=this.initElement(),this.setContent(t.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(t){return Math.max(0,Math.min(this.totalDuration,t))}setPart(){const t=this.start===this.end;this.element.setAttribute("part",`${t?"marker":"region"} ${this.id}`)}addResizeHandles(t){const e={position:"absolute",zIndex:"2",width:"6px",height:"100%",top:"0",cursor:"ew-resize",wordBreak:"keep-all"},n=o("div",{part:"region-handle region-handle-left",style:Object.assign(Object.assign({},e),{left:"0",borderLeft:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"2px 0 0 2px"})},t),i=o("div",{part:"region-handle region-handle-right",style:Object.assign(Object.assign({},e),{right:"0",borderRight:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"0 2px 2px 0"})},t);this.subscriptions.push(s(n,(t=>this.onResize(t,"start")),(()=>null),(()=>this.onEndResizing()),1),s(i,(t=>this.onResize(t,"end")),(()=>null),(()=>this.onEndResizing()),1))}removeResizeHandles(t){const e=t.querySelector('[part*="region-handle-left"]'),n=t.querySelector('[part*="region-handle-right"]');e&&t.removeChild(e),n&&t.removeChild(n)}initElement(){const t=this.start===this.end;let e=0,n=100;this.channelIdx>=0&&this.channelIdx<this.numberOfChannels&&(n=100/this.numberOfChannels,e=n*this.channelIdx);const i=o("div",{style:{position:"absolute",top:`${e}%`,height:`${n}%`,backgroundColor:t?"none":this.color,borderLeft:t?"2px solid "+this.color:"none",borderRadius:"2px",boxSizing:"border-box",transition:"background-color 0.2s ease",cursor:this.drag?"grab":"default",pointerEvents:"all"}});return!t&&this.resize&&this.addResizeHandles(i),i}renderPosition(){const t=this.start/this.totalDuration,e=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*t+"%",this.element.style.right=100*e+"%"}toggleCursor(t){var e;this.drag&&(null===(e=this.element)||void 0===e?void 0:e.style)&&(this.element.style.cursor=t?"grabbing":"grab")}initMouseEvents(){const{element:t}=this;t&&(t.addEventListener("click",(t=>this.emit("click",t))),t.addEventListener("mouseenter",(t=>this.emit("over",t))),t.addEventListener("mouseleave",(t=>this.emit("leave",t))),t.addEventListener("dblclick",(t=>this.emit("dblclick",t))),t.addEventListener("pointerdown",(()=>this.toggleCursor(!0))),t.addEventListener("pointerup",(()=>this.toggleCursor(!1))),this.subscriptions.push(s(t,(t=>this.onMove(t)),(()=>this.toggleCursor(!0)),(()=>{this.toggleCursor(!1),this.drag&&this.emit("update-end")}))),this.contentEditable&&this.content&&(this.content.addEventListener("click",(t=>this.onContentClick(t))),this.content.addEventListener("blur",(()=>this.onContentBlur()))))}_onUpdate(t,e){if(!this.element.parentElement)return;const{width:n}=this.element.parentElement.getBoundingClientRect(),i=t/n*this.totalDuration,r=e&&"start"!==e?this.start:this.start+i,s=e&&"end"!==e?this.end:this.end+i,a=s-r;r>=0&&s<=this.totalDuration&&r<=s&&a>=this.minLength&&a<=this.maxLength&&(this.start=r,this.end=s,this.renderPosition(),this.emit("update",e))}onMove(t){this.drag&&this._onUpdate(t)}onResize(t,e){this.resize&&this._onUpdate(t,e)}onEndResizing(){this.resize&&this.emit("update-end")}onContentClick(t){t.stopPropagation(),t.target.focus(),this.emit("click",t)}onContentBlur(){this.emit("update-end")}_setTotalDuration(t){this.totalDuration=t,this.renderPosition()}play(){this.emit("play")}setContent(t){var e;if(null===(e=this.content)||void 0===e||e.remove(),t){if("string"==typeof t){const e=this.start===this.end;this.content=o("div",{style:{padding:`0.2em ${e?.2:.4}em`,display:"inline-block"},textContent:t})}else this.content=t;this.contentEditable&&(this.content.contentEditable="true"),this.content.setAttribute("part","region-content"),this.element.appendChild(this.content)}else this.content=void 0}setOptions(t){var e,n;if(t.color&&(this.color=t.color,this.element.style.backgroundColor=this.color),void 0!==t.drag&&(this.drag=t.drag,this.element.style.cursor=this.drag?"grab":"default"),void 0!==t.start||void 0!==t.end){const i=this.start===this.end;this.start=this.clampPosition(null!==(e=t.start)&&void 0!==e?e:this.start),this.end=this.clampPosition(null!==(n=t.end)&&void 0!==n?n:i?this.start:this.end),this.renderPosition(),this.setPart()}if(t.content&&this.setContent(t.content),t.id&&(this.id=t.id,this.setPart()),void 0!==t.resize&&t.resize!==this.resize){const e=this.start===this.end;this.resize=t.resize,this.resize&&!e?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}}remove(){this.emit("remove"),this.subscriptions.forEach((t=>t())),this.element.remove(),this.element=null}}class c extends r{constructor(t){super(t),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(t){return new c(t)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer);let t=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",(e=>{const n=this.regions.filter((t=>t.start<=e&&(t.end===t.start?t.start+.05:t.end)>=e));n.forEach((e=>{t.includes(e)||this.emit("region-in",e)})),t.forEach((t=>{n.includes(t)||this.emit("region-out",t)})),t=n})))}initRegionsContainer(){return o("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"3",pointerEvents:"none"}})}getRegions(){return this.regions}avoidOverlapping(t){t.content&&setTimeout((()=>{const e=t.content,n=e.getBoundingClientRect(),i=this.regions.map((e=>{if(e===t||!e.content)return 0;const i=e.content.getBoundingClientRect();return n.left<i.left+i.width&&i.left<n.left+n.width?i.height:0})).reduce(((t,e)=>t+e),0);e.style.marginTop=`${i}px`}),10)}adjustScroll(t){var e,n;const i=null===(n=null===(e=this.wavesurfer)||void 0===e?void 0:e.getWrapper())||void 0===n?void 0:n.parentElement;if(!i)return;const{clientWidth:r,scrollWidth:s}=i;if(s<=r)return;const a=i.getBoundingClientRect(),o=t.element.getBoundingClientRect(),l=o.left-a.left,c=o.right-a.left;l<0?i.scrollLeft+=l:c>r&&(i.scrollLeft+=c-r)}virtualAppend(t,e,n){const i=()=>{if(!this.wavesurfer)return;const i=this.wavesurfer.getWidth(),r=this.wavesurfer.getScroll(),s=e.clientWidth,a=this.wavesurfer.getDuration(),o=Math.round(t.start/a*s);o+(Math.round((t.end-t.start)/a*s)||1)>r&&o<r+i?e.appendChild(n):n.remove()};setTimeout((()=>{if(!this.wavesurfer)return;i();const e=this.wavesurfer.on("scroll",i);this.subscriptions.push(t.once("remove",e),e)}),0)}saveRegion(t){this.virtualAppend(t,this.regionsContainer,t.element),this.avoidOverlapping(t),this.regions.push(t);const e=[t.on("update",(e=>{e||this.adjustScroll(t),this.emit("region-update",t,e)})),t.on("update-end",(()=>{this.avoidOverlapping(t),this.emit("region-updated",t)})),t.on("play",(()=>{var e,n;null===(e=this.wavesurfer)||void 0===e||e.play(),null===(n=this.wavesurfer)||void 0===n||n.setTime(t.start)})),t.on("click",(e=>{this.emit("region-clicked",t,e)})),t.on("dblclick",(e=>{this.emit("region-double-clicked",t,e)})),t.once("remove",(()=>{e.forEach((t=>t())),this.regions=this.regions.filter((e=>e!==t)),this.emit("region-removed",t)}))];this.subscriptions.push(...e),this.emit("region-created",t)}addRegion(t){var e,n;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const i=this.wavesurfer.getDuration(),r=null===(n=null===(e=this.wavesurfer)||void 0===e?void 0:e.getDecodedData())||void 0===n?void 0:n.numberOfChannels,s=new l(t,i,r);return i?this.saveRegion(s):this.subscriptions.push(this.wavesurfer.once("ready",(t=>{s._setTotalDuration(t),this.saveRegion(s)}))),s}enableDragSelection(t,e=3){var n;const i=null===(n=this.wavesurfer)||void 0===n?void 0:n.getWrapper();if(!(i&&i instanceof HTMLElement))return()=>{};let r=null,a=0;return s(i,((t,e,n)=>{r&&r._onUpdate(t,n>a?"end":"start")}),(e=>{var n,i;if(a=e,!this.wavesurfer)return;const s=this.wavesurfer.getDuration(),o=null===(i=null===(n=this.wavesurfer)||void 0===n?void 0:n.getDecodedData())||void 0===i?void 0:i.numberOfChannels,{width:c}=this.wavesurfer.getWrapper().getBoundingClientRect(),u=e/c*s,h=(e+5)/c*s;r=new l(Object.assign(Object.assign({},t),{start:u,end:h}),s,o),this.regionsContainer.appendChild(r.element)}),(()=>{r&&(this.saveRegion(r),r=null)}),e)}clearRegions(){this.regions.forEach((t=>t.remove()))}destroy(){this.clearRegions(),super.destroy(),this.regionsContainer.remove()}}},8664:function(t,e,n){"use strict";n.d(e,{A:function(){return m}});n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(4603),n(7566),n(8721);function i(t,e,n,i){return new(n||(n=Promise))((function(r,s){function a(t){try{l(i.next(t))}catch(t){s(t)}}function o(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((i=i.apply(t,e||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;class r{constructor(){this.listeners={}}on(t,e,n){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),null==n?void 0:n.once){const n=()=>{this.un(t,n),this.un(t,e)};return this.on(t,n),n}return()=>this.un(t,e)}un(t,e){var n;null===(n=this.listeners[t])||void 0===n||n.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach((t=>t(...e)))}}const s={decode:function(t,e){return i(this,void 0,void 0,(function*(){const n=new AudioContext({sampleRate:e});return n.decodeAudioData(t).finally((()=>n.close()))}))},createBuffer:function(t,e){return"number"==typeof t[0]&&(t=[t]),function(t){const e=t[0];if(e.some((t=>t>1||t<-1))){const n=e.length;let i=0;for(let t=0;t<n;t++){const n=Math.abs(e[t]);n>i&&(i=n)}for(const e of t)for(let t=0;t<n;t++)e[t]/=i}}(t),{duration:e,length:t[0].length,sampleRate:t[0].length/e,numberOfChannels:t.length,getChannelData:e=>null==t?void 0:t[e],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function a(t,e){const n=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[i,r]of Object.entries(e))if("children"===i)for(const[t,s]of Object.entries(e))"string"==typeof s?n.appendChild(document.createTextNode(s)):n.appendChild(a(t,s));else"style"===i?Object.assign(n.style,r):"textContent"===i?n.textContent=r:n.setAttribute(i,r.toString());return n}function o(t,e,n){const i=a(t,e||{});return null==n||n.appendChild(i),i}var l=Object.freeze({__proto__:null,createElement:o,default:o});const c={fetchBlob:function(t,e,n){return i(this,void 0,void 0,(function*(){const r=yield fetch(t,n);if(r.status>=400)throw new Error(`Failed to fetch ${t}: ${r.status} (${r.statusText})`);return function(t,e){i(this,void 0,void 0,(function*(){if(!t.body||!t.headers)return;const n=t.body.getReader(),r=Number(t.headers.get("Content-Length"))||0;let s=0;const a=t=>i(this,void 0,void 0,(function*(){s+=(null==t?void 0:t.length)||0;const n=Math.round(s/r*100);e(n)})),o=()=>i(this,void 0,void 0,(function*(){let t;try{t=yield n.read()}catch(t){return}t.done||(a(t.value),yield o())}));o()}))}(r.clone(),e),r.blob()}))}};class u extends r{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),null!=t.playbackRate&&this.onMediaEvent("canplay",(()=>{null!=t.playbackRate&&(this.media.playbackRate=t.playbackRate)}),{once:!0})}onMediaEvent(t,e,n){return this.media.addEventListener(t,e,n),()=>this.media.removeEventListener(t,e,n)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return""!==this.media.canPlayType(t)}setSrc(t,e){const n=this.getSrc();if(t&&n===t)return;this.revokeSrc();const i=e instanceof Blob&&(this.canPlayType(e.type)||!t)?URL.createObjectURL(e):t;try{this.media.src=i}catch(e){this.media.src=t}}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return i(this,void 0,void 0,(function*(){return this.media.play()}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,e){null!=e&&(this.media.preservesPitch=e),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class h extends r{constructor(t,e){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.subscriptions=[],this.options=t;const n=this.parentFromOptionsContainer(t.container);this.parent=n;const[i,r]=this.initHtml();n.appendChild(i),this.container=i,this.scrollContainer=r.querySelector(".scroll"),this.wrapper=r.querySelector(".wrapper"),this.canvasWrapper=r.querySelector(".canvases"),this.progressWrapper=r.querySelector(".progress"),this.cursor=r.querySelector(".cursor"),e&&r.appendChild(e),this.initEvents()}parentFromOptionsContainer(t){let e;if("string"==typeof t?e=document.querySelector(t):t instanceof HTMLElement&&(e=t),!e)throw new Error("Container not found");return e}initEvents(){const t=t=>{const e=this.wrapper.getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top;return[n/e.width,i/e.height]};if(this.wrapper.addEventListener("click",(e=>{const[n,i]=t(e);this.emit("click",n,i)})),this.wrapper.addEventListener("dblclick",(e=>{const[n,i]=t(e);this.emit("dblclick",n,i)})),!0!==this.options.dragToSeek&&"object"!=typeof this.options.dragToSeek||this.initDrag(),this.scrollContainer.addEventListener("scroll",(()=>{const{scrollLeft:t,scrollWidth:e,clientWidth:n}=this.scrollContainer,i=t/e,r=(t+n)/e;this.emit("scroll",i,r,t,t+n)})),"function"==typeof ResizeObserver){const t=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{t().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&"auto"!==this.options.height||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push(function(t,e,n,i,r=3,s=0,a=100){if(!t)return()=>{};const o=matchMedia("(pointer: coarse)").matches;let l=()=>{};const c=c=>{if(c.button!==s)return;c.preventDefault(),c.stopPropagation();let u=c.clientX,h=c.clientY,d=!1;const f=Date.now(),p=i=>{if(i.preventDefault(),i.stopPropagation(),o&&Date.now()-f<a)return;const s=i.clientX,l=i.clientY,c=s-u,p=l-h;if(d||Math.abs(c)>r||Math.abs(p)>r){const i=t.getBoundingClientRect(),{left:r,top:a}=i;d||(null==n||n(u-r,h-a),d=!0),e(c,p,s-r,l-a),u=s,h=l}},m=e=>{if(d){const n=e.clientX,r=e.clientY,s=t.getBoundingClientRect(),{left:a,top:o}=s;null==i||i(n-a,r-o)}l()},_=t=>{t.relatedTarget&&t.relatedTarget!==document.documentElement||m(t)},v=t=>{d&&(t.stopPropagation(),t.preventDefault())},g=t=>{d&&t.preventDefault()};document.addEventListener("pointermove",p),document.addEventListener("pointerup",m),document.addEventListener("pointerout",_),document.addEventListener("pointercancel",_),document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("click",v,{capture:!0}),l=()=>{document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",m),document.removeEventListener("pointerout",_),document.removeEventListener("pointercancel",_),document.removeEventListener("touchmove",g),setTimeout((()=>{document.removeEventListener("click",v,{capture:!0})}),10)}};return t.addEventListener("pointerdown",c),()=>{l(),t.removeEventListener("pointerdown",c)}}(this.wrapper,((t,e,n)=>{this.emit("drag",Math.max(0,Math.min(1,n/this.wrapper.getBoundingClientRect().width)))}),(t=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}),(t=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))})))}getHeight(t,e){var n;const i=(null===(n=this.audioData)||void 0===n?void 0:n.numberOfChannels)||1;if(null==t)return 128;if(!isNaN(Number(t)))return Number(t);if("auto"===t){const t=this.parent.clientHeight||128;return(null==e?void 0:e.every((t=>!t.overlay)))?t/i:t}return 128}initHtml(){const t=document.createElement("div"),e=t.attachShadow({mode:"open"});return e.innerHTML=`\n      <style>\n        :host {\n          user-select: none;\n          min-width: 1px;\n        }\n        :host audio {\n          display: block;\n          width: 100%;\n        }\n        :host .scroll {\n          overflow-x: auto;\n          overflow-y: hidden;\n          width: 100%;\n          position: relative;\n        }\n        :host .noScrollbar {\n          scrollbar-color: transparent;\n          scrollbar-width: none;\n        }\n        :host .noScrollbar::-webkit-scrollbar {\n          display: none;\n          -webkit-appearance: none;\n        }\n        :host .wrapper {\n          position: relative;\n          overflow: visible;\n          z-index: 2;\n        }\n        :host .canvases {\n          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;\n        }\n        :host .canvases > div {\n          position: relative;\n        }\n        :host canvas {\n          display: block;\n          position: absolute;\n          top: 0;\n          image-rendering: pixelated;\n        }\n        :host .progress {\n          pointer-events: none;\n          position: absolute;\n          z-index: 2;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 100%;\n          overflow: hidden;\n        }\n        :host .progress > div {\n          position: relative;\n        }\n        :host .cursor {\n          pointer-events: none;\n          position: absolute;\n          z-index: 5;\n          top: 0;\n          left: 0;\n          height: 100%;\n          border-radius: 2px;\n        }\n      </style>\n\n      <div class="scroll" part="scroll">\n        <div class="wrapper" part="wrapper">\n          <div class="canvases" part="canvases"></div>\n          <div class="progress" part="progress"></div>\n          <div class="cursor" part="cursor"></div>\n        </div>\n      </div>\n    `,[t,e]}setOptions(t){if(this.options.container!==t.container){const e=this.parentFromOptionsContainer(t.container);e.appendChild(this.container),this.parent=e}!0!==t.dragToSeek&&"object"!=typeof this.options.dragToSeek||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:e}=this.scrollContainer,n=e*t;this.setScroll(n)}destroy(){var t,e;this.subscriptions.forEach((t=>t())),this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),null===(e=this.unsubscribeOnScroll)||void 0===e||e.call(this)}createDelay(t=10){let e,n;const i=()=>{e&&clearTimeout(e),n&&n()};return this.timeouts.push(i),()=>new Promise(((r,s)=>{i(),n=s,e=setTimeout((()=>{e=void 0,n=void 0,r()}),t)}))}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const e=document.createElement("canvas"),n=e.getContext("2d"),i=e.height*(window.devicePixelRatio||1),r=n.createLinearGradient(0,0,0,i),s=1/(t.length-1);return t.forEach(((t,e)=>{const n=e*s;r.addColorStop(n,t)})),r}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(t,e,n,i){const r=t[0],s=t[1]||t[0],a=r.length,{width:o,height:l}=n.canvas,c=l/2,u=this.getPixelRatio(),h=e.barWidth?e.barWidth*u:1,d=e.barGap?e.barGap*u:e.barWidth?h/2:0,f=e.barRadius||0,p=o/(h+d)/a,m=f&&"roundRect"in n?"roundRect":"rect";n.beginPath();let _=0,v=0,g=0;for(let y=0;y<=a;y++){const t=Math.round(y*p);if(t>_){const r=Math.round(v*c*i),s=r+Math.round(g*c*i)||1;let a=c-r;"top"===e.barAlign?a=0:"bottom"===e.barAlign&&(a=l-s),n[m](_*(h+d),a,h,s,f),_=t,v=0,g=0}const a=Math.abs(r[y]||0),o=Math.abs(s[y]||0);a>v&&(v=a),o>g&&(g=o)}n.fill(),n.closePath()}renderLineWaveform(t,e,n,i){const r=e=>{const r=t[e]||t[0],s=r.length,{height:a}=n.canvas,o=a/2,l=n.canvas.width/s;n.moveTo(0,o);let c=0,u=0;for(let t=0;t<=s;t++){const s=Math.round(t*l);if(s>c){const t=o+(Math.round(u*o*i)||1)*(0===e?-1:1);n.lineTo(c,t),c=s,u=0}const a=Math.abs(r[t]||0);a>u&&(u=a)}n.lineTo(c,o)};n.beginPath(),r(0),r(1),n.fill(),n.closePath()}renderWaveform(t,e,n){if(n.fillStyle=this.convertColorValues(e.waveColor),e.renderFunction)return void e.renderFunction(t,n);let i=e.barHeight||1;if(e.normalize){const e=Array.from(t[0]).reduce(((t,e)=>Math.max(t,Math.abs(e))),0);i=e?1/e:1}e.barWidth||e.barGap||e.barAlign?this.renderBarWaveform(t,e,n,i):this.renderLineWaveform(t,e,n,i)}renderSingleCanvas(t,e,n,i,r,s,a){const o=this.getPixelRatio(),l=document.createElement("canvas");l.width=Math.round(n*o),l.height=Math.round(i*o),l.style.width=`${n}px`,l.style.height=`${i}px`,l.style.left=`${Math.round(r)}px`,s.appendChild(l);const c=l.getContext("2d");if(this.renderWaveform(t,e,c),l.width>0&&l.height>0){const t=l.cloneNode(),n=t.getContext("2d");n.drawImage(l,0,0),n.globalCompositeOperation="source-in",n.fillStyle=this.convertColorValues(e.progressColor),n.fillRect(0,0,l.width,l.height),a.appendChild(t)}}renderMultiCanvas(t,e,n,i,r,s){const a=this.getPixelRatio(),{clientWidth:o}=this.scrollContainer,l=n/a;let c=Math.min(h.MAX_CANVAS_WIDTH,o,l),u={};if(e.barWidth||e.barGap){const t=e.barWidth||.5,n=t+(e.barGap||t/2);c%n!=0&&(c=Math.floor(c/n)*n)}const d=n=>{if(n<0||n>=f)return;if(u[n])return;u[n]=!0;const a=n*c,o=Math.min(l-a,c);if(o<=0)return;const h=t.map((t=>{const e=Math.floor(a/l*t.length),n=Math.floor((a+o)/l*t.length);return t.slice(e,n)}));this.renderSingleCanvas(h,e,o,i,a,r,s)},f=Math.ceil(l/c);if(!this.isScrollable){for(let t=0;t<f;t++)d(t);return}const p=this.scrollContainer.scrollLeft/l,m=Math.floor(p*f);d(m-1),d(m),d(m+1),f>1&&(this.unsubscribeOnScroll=this.on("scroll",(()=>{const{scrollLeft:t}=this.scrollContainer,e=Math.floor(t/l*f);Object.keys(u).length>h.MAX_NODES&&(r.innerHTML="",s.innerHTML="",u={}),d(e-1),d(e),d(e+1)})))}renderChannel(t,e,n,i){var{overlay:r}=e,s=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(e,["overlay"]);const a=document.createElement("div"),o=this.getHeight(s.height,s.splitChannels);a.style.height=`${o}px`,r&&i>0&&(a.style.marginTop=`-${o}px`),this.canvasWrapper.style.minHeight=`${o}px`,this.canvasWrapper.appendChild(a);const l=a.cloneNode();this.progressWrapper.appendChild(l),this.renderMultiCanvas(t,s,n,o,a,l)}render(t){return i(this,void 0,void 0,(function*(){var e;this.timeouts.forEach((t=>t())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",null!=this.options.width&&(this.scrollContainer.style.width="number"==typeof this.options.width?`${this.options.width}px`:this.options.width);const n=this.getPixelRatio(),i=this.scrollContainer.clientWidth,r=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=r>i;const s=this.options.fillParent&&!this.isScrollable,a=(s?i:r)*n;if(this.wrapper.style.width=s?"100%":`${r}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let o=0;o<t.numberOfChannels;o++){const n=Object.assign(Object.assign({},this.options),null===(e=this.options.splitChannels)||void 0===e?void 0:e[o]);this.renderChannel([t.getChannelData(o)],n,a,o)}else{const e=[t.getChannelData(0)];t.numberOfChannels>1&&e.push(t.getChannelData(1)),this.renderChannel(e,this.options,a,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){var t;if(null===(t=this.unsubscribeOnScroll)||void 0===t||t.call(this),delete this.unsubscribeOnScroll,!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:t}=this.progressWrapper.getBoundingClientRect();let e=t-n;e*=2,e=e<0?Math.floor(e):Math.ceil(e),e/=2,this.scrollContainer.scrollLeft+=e}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,e=!1){const{scrollLeft:n,scrollWidth:i,clientWidth:r}=this.scrollContainer,s=t*i,a=n,o=n+r,l=r/2;if(this.isDragging){const t=30;s+t>o?this.scrollContainer.scrollLeft+=t:s-t<a&&(this.scrollContainer.scrollLeft-=t)}else{(s<a||s>o)&&(this.scrollContainer.scrollLeft=s-(this.options.autoCenter?l:0));const t=s-n-l;e&&this.options.autoCenter&&t>0&&(this.scrollContainer.scrollLeft+=Math.min(t,10))}{const t=this.scrollContainer.scrollLeft,e=t/i,n=(t+r)/i;this.emit("scroll",e,n,t,t+r)}}renderProgress(t,e){if(isNaN(t))return;const n=100*t;this.canvasWrapper.style.clipPath=`polygon(${n}% 0, 100% 0, 100% 100%, ${n}% 100%)`,this.progressWrapper.style.width=`${n}%`,this.cursor.style.left=`${n}%`,this.cursor.style.transform=`translateX(-${100===Math.round(n)?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,e)}exportImage(t,e,n){return i(this,void 0,void 0,(function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if("dataURL"===n){const n=Array.from(i).map((n=>n.toDataURL(t,e)));return Promise.resolve(n)}return Promise.all(Array.from(i).map((n=>new Promise(((i,r)=>{n.toBlob((t=>{t?i(t):r(new Error("Could not export image"))}),t,e)})))))}))}}h.MAX_CANVAS_WIDTH=8e3,h.MAX_NODES=10;class d extends r{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",(()=>{requestAnimationFrame((()=>{this.emit("tick")}))})),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class f extends r{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return i(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then((e=>{if(e.status>=400)throw new Error(`Failed to fetch ${t}: ${e.status} (${e.statusText})`);return e.arrayBuffer()})).then((e=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(e))).then((e=>{this.currentSrc===t&&(this.buffer=e,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())}))}_play(){var t;if(!this.paused)return;this.paused=!1,null===(t=this.bufferNode)||void 0===t||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let e=this.playedDuration*this._playbackRate;e>=this.duration&&(e=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,e),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,null===(t=this.bufferNode)||void 0===t||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return i(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var e,n;const i=t-this.currentTime;null===(e=this.bufferNode)||void 0===e||e.stop(this.audioContext.currentTime+i),null===(n=this.bufferNode)||void 0===n||n.addEventListener("ended",(()=>{this.bufferNode=null,this.pause()}),{once:!0})}setSinkId(t){return i(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const e=!this.paused;e&&this._pause(),this.playedDuration=t/this._playbackRate,e&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,e;return null!==(t=this._duration)&&void 0!==t?t:(null===(e=this.buffer)||void 0===e?void 0:e.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const e=this.buffer.numberOfChannels;for(let n=0;n<e;n++)t.push(this.buffer.getChannelData(n));return t}}const p={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class m extends u{static create(t){return new m(t)}constructor(t){const e=t.media||("WebAudio"===t.backend?new f:void 0);super({media:e,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},p,t),this.timer=new d;const n=e?void 0:this.getMediaElement();this.renderer=new h(this.options,n),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:t,duration:e}=this.options;(i||t&&e)&&this.load(i,t,e).catch((()=>null))}))}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}})))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const t=this.updateProgress();this.emit("timeupdate",t)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop()})),this.onMediaEvent("emptied",(()=>{this.timer.stop()})),this.onMediaEvent("ended",(()=>{this.emit("finish")})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(t=>{this.emit("error",t.error)})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((t,e)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,e))})),this.renderer.on("dblclick",((t,e)=>{this.emit("dblclick",t,e)})),this.renderer.on("scroll",((t,e,n,i)=>{const r=this.getDuration();this.emit("scroll",t*r,e*r,n,i)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(t=>{this.emit("dragstart",t)})),this.renderer.on("dragend",(t=>{this.emit("dragend",t)})));{let t;this.subscriptions.push(this.renderer.on("drag",(e=>{if(!this.options.interact)return;let n;this.renderer.renderProgress(e),clearTimeout(t),this.isPlaying()?n=0:!0===this.options.dragToSeek?n=200:"object"==typeof this.options.dragToSeek&&void 0!==this.options.dragToSeek&&(n=this.options.dragToSeek.debounceTime),t=setTimeout((()=>{this.seekTo(e)}),n),this.emit("interaction",e*this.getDuration()),this.emit("drag",e)})))}}initPlugins(){var t;(null===(t=this.options.plugins)||void 0===t?void 0:t.length)&&this.options.plugins.forEach((t=>{this.registerPlugin(t)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((t=>t())),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),null!=t.mediaControls&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",(()=>{this.plugins=this.plugins.filter((e=>e!==t))}))),t}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const e=t/this.getDuration();this.renderer.setScrollPercentage(e)}getActivePlugins(){return this.plugins}loadAudio(t,e,n,r){return i(this,void 0,void 0,(function*(){var i;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!e&&!n){const n=this.options.fetchParams||{};window.AbortController&&!n.signal&&(this.abortController=new AbortController,n.signal=null===(i=this.abortController)||void 0===i?void 0:i.signal);const r=t=>this.emit("loading",t);e=yield c.fetchBlob(t,r,n)}this.setSrc(t,e);const a=yield new Promise((t=>{const e=r||this.getDuration();e?t(e):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>t(this.getDuration())),{once:!0}))}));if(!t&&!e){const t=this.getMediaElement();t instanceof f&&(t.duration=a)}if(n)this.decodedData=s.createBuffer(n,a||0);else if(e){const t=yield e.arrayBuffer();this.decodedData=yield s.decode(t,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(t,e,n){return i(this,void 0,void 0,(function*(){try{return yield this.loadAudio(t,void 0,e,n)}catch(i){throw this.emit("error",i),i}}))}loadBlob(t,e,n){return i(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",t,e,n)}catch(i){throw this.emit("error",i),i}}))}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:e=8e3,precision:n=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),r=[];for(let s=0;s<i;s++){const t=this.decodedData.getChannelData(s),i=[],a=t.length/e;for(let r=0;r<e;r++){const e=t.slice(Math.floor(r*a),Math.ceil((r+1)*a));let s=0;for(let t=0;t<e.length;t++){const n=e[t];Math.abs(n)>Math.abs(s)&&(s=n)}i.push(Math.round(s*n)/n)}r.push(i)}return r}getDuration(){let t=super.getDuration()||0;return 0!==t&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const e=this.getDuration()*t;this.setTime(e)}playPause(){return i(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return i(this,arguments,void 0,(function*(t="image/png",e=1,n="dataURL"){return this.renderer.exportImage(t,e,n)}))}destroy(){var t;this.emit("destroy"),null===(t=this.abortController)||void 0===t||t.abort(),this.plugins.forEach((t=>t.destroy())),this.subscriptions.forEach((t=>t())),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}m.BasePlugin=class extends r{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((t=>t()))}},m.dom=l}}]);
//# sourceMappingURL=chunk-vendors.968825c0.js.map