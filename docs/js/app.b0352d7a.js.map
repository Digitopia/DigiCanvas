{"version":3,"file":"js/app.b0352d7a.js","mappings":"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","sources":["webpack://digicanvas/./src/App.vue","webpack://digicanvas/./src/components/Sample.vue","webpack://digicanvas/./src/utils.js","webpack://digicanvas/src/components/Sample.vue","webpack://digicanvas/./src/components/Sample.vue?0499","webpack://digicanvas/./src/components/Sample.vue?8059","webpack://digicanvas/./src/components/Reverb.vue","webpack://digicanvas/./src/components/Effect.vue","webpack://digicanvas/src/components/Effect.vue","webpack://digicanvas/./src/components/Effect.vue?ac8e","webpack://digicanvas/./src/components/Effect.vue?8a93","webpack://digicanvas/src/components/Reverb.vue","webpack://digicanvas/./src/components/Reverb.vue?067b","webpack://digicanvas/./src/components/Reverb.vue?81e6","webpack://digicanvas/./src/components/Delay.vue","webpack://digicanvas/src/components/Delay.vue","webpack://digicanvas/./src/components/Delay.vue?8bb6","webpack://digicanvas/./src/components/Delay.vue?00f3","webpack://digicanvas/src/App.vue","webpack://digicanvas/./src/App.vue?c036","webpack://digicanvas/./src/App.vue?0e40","webpack://digicanvas/./src/main.js","webpack://digicanvas/webpack/bootstrap","webpack://digicanvas/webpack/runtime/chunk loaded","webpack://digicanvas/webpack/runtime/compat get default export","webpack://digicanvas/webpack/runtime/define property getters","webpack://digicanvas/webpack/runtime/global","webpack://digicanvas/webpack/runtime/hasOwnProperty shorthand","webpack://digicanvas/webpack/runtime/jsonp chunk loading","webpack://digicanvas/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"no-select\",attrs:{\"id\":\"app\"},on:{\"dragover\":function($event){$event.preventDefault();},\"drop\":function($event){$event.preventDefault();return _vm.handleDrop.apply(null, arguments)}}},[_c('img',{staticClass:\"app-button scale-hover\",staticStyle:{\"right\":\"20px\"},attrs:{\"id\":\"add-button\",\"src\":\"icons/add.svg\"},on:{\"click\":_vm.addSound}}),_c('img',{staticClass:\"app-button disabled\",staticStyle:{\"right\":\"80px\"},attrs:{\"id\":\"save-button\",\"src\":\"icons/save.svg\"},on:{\"click\":_vm.save}}),_c('img',{staticClass:\"app-button disabled\",staticStyle:{\"right\":\"140px\"},attrs:{\"id\":\"record-button\",\"src\":\"icons/record.svg\"},on:{\"click\":_vm.record}}),_c('img',{staticClass:\"app-button disabled\",staticStyle:{\"right\":\"200px\"},attrs:{\"id\":\"mic-button\",\"src\":\"icons/mic.svg\"},on:{\"click\":_vm.microphone}}),_vm._l((_vm.samples),function(sample,idx){return [_c('Sample',{key:idx,ref:`sample-${idx}`,refInFor:true,attrs:{\"name\":sample.name,\"audio\":sample.audio,\"idx\":idx,\"audio-buffer\":sample.buffer},nativeOn:{\"mouseover\":function($event){_vm.$root.lastSampleInteractionIdx = idx}}})]}),_c('Reverb',{ref:\"reverb\",staticStyle:{\"bottom\":\"50px\",\"left\":\"30px\"}}),_c('Delay',{ref:\"delay\",staticStyle:{\"bottom\":\"50px\",\"left\":\"280px\"}}),_c('input',{ref:\"fileChooser\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"hiddenFileInput\",\"type\":\"file\",\"accept\":\".mp3\"},on:{\"change\":_vm.handleAddSound}}),_c('a',{attrs:{\"href\":\"https://github.com/Digitopia/DigiCanvas\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"app-button scale-hover\",attrs:{\"id\":\"info-button\",\"src\":\"icons/info.svg\"},on:{\"click\":function($event){_vm.showInfo = true}}})])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"container\",staticClass:\"container\"},[_c('div',{staticClass:\"sample\",class:{ playing: _vm.isPlaying }},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.controls === 'settings'),expression:\"controls === 'settings'\"}],staticClass:\"controls no-select\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mode == 'sample'),expression:\"mode == 'sample'\"}],staticClass:\"spaced-out\"},_vm._l((_vm.settings.sample.modes),function(m){return _c('img',{key:m,staticClass:\"sample-mode-icon\",class:{\n            active: _vm.settings.sample.mode === m,\n            disabled: m === 'back-and-forth',\n          },attrs:{\"src\":`icons/${m}.svg`},on:{\"click\":function($event){$event.stopPropagation();_vm.settings.sample.mode = m}}})}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mode === 'granular'),expression:\"mode === 'granular'\"}],staticClass:\"granular-sliders spaced-out\"},[_c('div',{attrs:{\"id\":`grainSize-${_vm.idx}`}},[_vm._v(\"Gs\")]),_c('div',{attrs:{\"id\":`rate-${_vm.idx}`}},[_vm._v(\"Rt\")]),_c('div',{attrs:{\"id\":`random-${_vm.idx}`}},[_vm._v(\"Rd\")])])]),_c('div',{ref:\"header\",staticClass:\"header scale-hover\",on:{\"dblclick\":_vm.toggleEditName}},[(!_vm.isEditingName)?[_vm._v(\" \"+_vm._s(_vm.name)+\" \")]:[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editName),expression:\"editName\"}],staticStyle:{\"text-align\":\"center\"},attrs:{\"type\":\"text\",\"maxlength\":\"20\"},domProps:{\"value\":(_vm.editName)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.toggleEditName.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.editName=$event.target.value}}})]],2),_c('div',{ref:\"waveformWrapper\",attrs:{\"id\":\"waveform-wrapper\"}},[_c('div',{ref:\"waveform\",class:`waveform-${_vm.idx}`}),_c('canvas',{ref:\"canvas\",staticClass:\"canvas\"})]),_c('div',{attrs:{\"id\":\"buttons\"}},[_c('div',{class:{ active: _vm.controls === 'settings' },attrs:{\"id\":\"settings-btn\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleControls('settings')}}},[_c('img',{staticClass:\"control-icon\",attrs:{\"src\":\"icons/overlay.svg\",\"alt\":\"\"}})]),_c('div',{attrs:{\"id\":\"mode-btn\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleMode()}}},[_c('img',{staticClass:\"control-icon\",attrs:{\"src\":_vm.mode === 'sample' ? 'icons/play.svg' : 'icons/granular.svg',\"alt\":\"\"}})]),_c('div',{ref:\"scaleButton\",staticStyle:{\"background-image\":\"url('icons/stretch.svg')\"},attrs:{\"id\":\"scale-btn\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleControls('scale')}}},[_c('img',{ref:\"scaleImage\",staticClass:\"control-icon\",attrs:{\"id\":\"scale-img\",\"src\":\"icons/stretch.svg\",\"alt\":\"\"},on:{\"dblclick\":_vm.resetTimestretch}})])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const mapNumber = (number, inMin, inMax, outMin, outMax) =>\n  ((number - inMin) * (outMax - outMin)) / (inMax - inMin) + outMin\n\nexport function clamp(value, min, max) {\n  return Math.min(max, Math.max(min, value))\n}\n\nexport function randomFloat(min, max) {\n  return Math.random() * (max - min) + min\n}\n\nexport function randomInt(min, max) {\n  return Math.round(randomFloat(min, max))\n}\n\n// taken from https://stackoverflow.com/questions/25582882/javascript-math-random-normal-distribution-gaussian-bell-curve\nexport function randomGaussian(mean = 0, stdev = 1) {\n  const u = 1 - Math.random() // Converting [0,1) to (0,1]\n  const v = Math.random()\n  const z = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v)\n  // Transform to the desired mean and standard deviation:\n  return z * stdev + mean\n}\n\n// taken from p5.js (with help from ChatGPT, so here be dragons)\nexport function lerpColor(c1, c2, amt) {\n  let r1, g1, b1, a1\n  let r2, g2, b2, a2\n  let r3, g3, b3, a3\n\n  r1 = c1[0]\n  g1 = c1[1]\n  b1 = c1[2]\n  a1 = c1[3]\n\n  r2 = c2[0]\n  g2 = c2[1]\n  b2 = c2[2]\n  a2 = c2[3]\n\n  r3 = r1 + (r2 - r1) * amt\n  g3 = g1 + (g2 - g1) * amt\n  b3 = b1 + (b2 - b1) * amt\n  a3 = a1 + (a2 - a1) * amt\n\n  return [r3, g3, b3, a3]\n}\n\nexport function mapExp(val, min, max) {\n  /**\n   * Maps a linear range to an exponential one\n   */\n  const norm = mapNumber(val, min, max, 0, 1)\n  return min * (max / min) ** norm\n}\n\nexport function mapLog(val, min, max) {\n  /**\n   * Maps a linear range to an exponential one\n   */\n  const norm = mapNumber(val, min, max, 0, 1)\n  const log = 0.14462 * Math.log(1006.94 * norm)\n  const ret = mapNumber(log < 0 ? 0 : log, 0, 1, min, max)\n  return ret\n}\n","<template>\n  <div ref=\"container\" class=\"container\">\n    <div class=\"sample\" :class=\"{ playing: isPlaying }\">\n      <div\n        v-show=\"controls === 'settings'\"\n        class=\"controls no-select\"\n        @click.stop\n      >\n        <div v-show=\"mode == 'sample'\" class=\"spaced-out\">\n          <img\n            v-for=\"m in settings.sample.modes\"\n            :key=\"m\"\n            :class=\"{\n              active: settings.sample.mode === m,\n              disabled: m === 'back-and-forth',\n            }\"\n            class=\"sample-mode-icon\"\n            :src=\"`icons/${m}.svg`\"\n            @click.stop=\"settings.sample.mode = m\"\n          />\n        </div>\n        <div v-show=\"mode === 'granular'\" class=\"granular-sliders spaced-out\">\n          <div :id=\"`grainSize-${idx}`\">Gs</div>\n          <div :id=\"`rate-${idx}`\">Rt</div>\n          <div :id=\"`random-${idx}`\">Rd</div>\n        </div>\n      </div>\n      <div ref=\"header\" class=\"header scale-hover\" @dblclick=\"toggleEditName\">\n        <template v-if=\"!isEditingName\">\n          {{ name }}\n        </template>\n        <template v-else>\n          <input\n            v-model=\"editName\"\n            type=\"text\"\n            maxlength=\"20\"\n            style=\"text-align: center\"\n            @keypress.enter=\"toggleEditName\"\n          />\n        </template>\n      </div>\n      <div id=\"waveform-wrapper\" ref=\"waveformWrapper\">\n        <div ref=\"waveform\" :class=\"`waveform-${idx}`\"></div>\n        <canvas ref=\"canvas\" class=\"canvas\"></canvas>\n      </div>\n      <div id=\"buttons\">\n        <div\n          id=\"settings-btn\"\n          :class=\"{ active: controls === 'settings' }\"\n          @click.stop=\"toggleControls('settings')\"\n        >\n          <img src=\"icons/overlay.svg\" class=\"control-icon\" alt=\"\" />\n        </div>\n        <div id=\"mode-btn\" @click.stop=\"toggleMode()\">\n          <img\n            :src=\"mode === 'sample' ? 'icons/play.svg' : 'icons/granular.svg'\"\n            class=\"control-icon\"\n            alt=\"\"\n          />\n        </div>\n        <div\n          id=\"scale-btn\"\n          ref=\"scaleButton\"\n          style=\"background-image: url('icons/stretch.svg')\"\n          @click.stop=\"toggleControls('scale')\"\n        >\n          <img\n            id=\"scale-img\"\n            ref=\"scaleImage\"\n            src=\"icons/stretch.svg\"\n            class=\"control-icon\"\n            alt=\"\"\n            @dblclick=\"resetTimestretch\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport WaveSurfer from \"wavesurfer.js\"\nimport RegionsPlugin from \"wavesurfer.js/dist/plugins/regions.esm.js\"\n\nimport Draggable from \"gsap/Draggable\"\nimport Nexus from \"nexusui\"\nimport Tone from \"tone\"\nimport gsap from \"gsap\"\n\n// eslint-disable-next-line no-unused-vars\nimport {\n  mapNumber,\n  randomGaussian,\n  // eslint-disable-next-line no-unused-vars\n  randomInt,\n  clamp,\n  lerpColor,\n  // eslint-disable-next-line no-unused-vars\n  mapExp,\n  mapLog,\n} from \"@/utils\"\n\nexport default {\n  props: {\n    audio: {\n      type: String,\n      required: true,\n    },\n    // eslint-disable-next-line vue/require-default-prop\n    audioBuffer: {\n      type: AudioBuffer,\n      required: false,\n    },\n    name: {\n      type: String,\n      required: true,\n    },\n    idx: {\n      type: Number,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      isEditingName: false,\n      editName: null,\n      audioNode: null, // to be used as source of the grains\n      audioElementSource: null, // to be used to route the audio from waveform into the Tone.js\n      wavesurfer: null,\n      controls: \"\", // other options: 'settings', 'granular' (ui)\n      mode: \"sample\", // or 'granular'\n      settings: {\n        sample: {\n          modes: [\"one-shot\", \"loop\"],\n          mode: \"loop\",\n        },\n        granular: {\n          origin: 0.5, // this is stored in [0, 1] range of the progress of the sample (start at middle)\n          params: {\n            grainSize: {\n              min: 0.1,\n              max: 1.5,\n              step: 0.01,\n              value: 0.2,\n            },\n            rate: {\n              // how often a new grain is produced [100ms, 1500s]\n              min: 0.1,\n              max: 1.5,\n              value: 1.5, // NOTE: since nexus-ui doesn't support inverted sliders (min > max), for better UX these values later get inverted\n            },\n            random: {\n              // how random (0 is at center, 1 is almost linearly, but still follows normal distribution)\n              min: 0,\n              max: 1,\n              value: 0.8,\n            },\n          },\n          sliders: {},\n          grains: [],\n          envelope: {\n            attack: 0.02,\n            release: 0.02,\n          },\n        },\n        scale: {\n          params: {\n            amplitude: {\n              min: 0.05,\n              max: 1.5,\n              value: 1,\n            },\n            timestretch: {\n              // min and max are given by minWidth and maxWidth\n              value: 1,\n            },\n          },\n        },\n      },\n      region: null, // regions are used in both granular and delimiters for the play and loop\n      isPlaying: false,\n      canvas: null,\n      canvasCtx: null,\n      width: null,\n      height: null,\n      pixelsPerSecond: 40,\n      maxWidth: 750,\n      minWidth: 200,\n      originalDuration: null, // so that can revert with double click\n      originalWidth: null, // so that can revert with double click\n      effectSends: {\n        reverb: null,\n        delay: null,\n      },\n    }\n  },\n\n  computed: {\n    maxDuration() {\n      return this.maxWidth / this.pixelsPerSecond\n    },\n\n    isLooping() {\n      return !(\n        this.mode === \"sample\" && this.settings.sample.mode === \"one-shot\"\n      )\n    },\n\n    bufferDuration() {\n      if (this.audioNode && this.audioNode.buffer) {\n        return this.audioNode.buffer.duration\n      }\n\n      return NaN\n    },\n\n    grainSize() {\n      return this.settings.granular.params.grainSize.value\n    },\n  },\n\n  watch: {\n    isPlaying() {\n      console.log(\"isPlaying\", this.isPlaying)\n    },\n\n    controls() {\n      console.log(\"controls are now\", this.controls)\n      const bool = this.controls === null || this.controls === \"scale\"\n      this.settings.region.setOptions({\n        resize: bool,\n        drag: bool,\n      })\n    },\n  },\n\n  mounted() {\n    window.WaveSurfer = WaveSurfer\n    window.region = this.settings.region\n    window.settings = this.settings\n\n    window.propAudioBuffer = this.audioBuffer\n    window.propAudio = this.audio\n\n    this.editName = this.name\n\n    this.initWaveform()\n    this.initAudio()\n    this.initGranularSliders()\n    this.initCanvas()\n\n    this.$refs.container.style.minWidth = this.minWidth + \"px\"\n    this.$refs.container.style.maxWidth = this.maxWidth + \"px\"\n\n    this.$root.$on(\"toggleControls\", this.toggleControls)\n    this.$root.$on(\"effectDrag\", this.effectDrag)\n\n    document.addEventListener(\"keydown\", (event) => {\n      if (\n        event.key === \"Backspace\" &&\n        this.$root.lastSampleInteractionIdx === this.idx &&\n        !this.isEditingName\n      ) {\n        this.$destroy()\n      }\n    })\n\n    // gsap.to(this.$refs.container, { opacity: 1, duration: 2 })\n\n    window.grains = this.settings.granular.grains\n  },\n\n  beforeDestroy() {\n    console.log(\"this is going to be destroyed\")\n    this.resizeObserver.unobserve(this.$refs.container)\n    this.$root.$off(\"toggleCofftrols\", this.toggleControls)\n    this.$root.$off(\"effectDrag\", this.effectDrag)\n    this.$el.parentNode.removeChild(this.$el)\n  },\n\n  methods: {\n    getInvertedRate() {\n      return mapNumber(\n        this.settings.granular.params.rate.value,\n        this.settings.granular.params.rate.min,\n        this.settings.granular.params.rate.max,\n        this.settings.granular.params.rate.max,\n        this.settings.granular.params.rate.min\n      )\n    },\n\n    toggleEditName() {\n      this.isEditingName = !this.isEditingName\n      if (this.isEditingName) {\n        this.draggable.disable()\n      } else {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.name = this.editName\n        this.draggable.enable()\n      }\n    },\n\n    timestamp2Progress(timestamp) {\n      return mapNumber(timestamp, 0, this.bufferDuration, 0, 1)\n    },\n\n    initWaveform() {\n      const wavesurfer = WaveSurfer.create({\n        container: this.$refs.waveform,\n        backgroundColor: \"white\",\n        waveColor: \"lightgray\",\n        progressColor: \"lightgray\",\n        cursorColor: \"black\",\n        cursorWidth: 1,\n        barWidth: 2,\n        barHeight: 1, // goes from [0.1 to 4]\n        barGap: 3,\n        normalize: false, // if true, then barHeight for amplitude doesn't work\n        interact: false,\n        hideScrollbar: true,\n        plugins: [RegionsPlugin.create({})],\n      })\n\n      // Initialize the Regions plugin\n      this.regionsPlugin = wavesurfer.registerPlugin(RegionsPlugin.create())\n\n      wavesurfer.on(\"ready\", () => {\n        console.log(\"waveform ready for\", this.audio)\n        this.audioElementSource = Tone.context.createMediaElementSource(\n          wavesurfer.media\n        )\n        Tone.connect(this.audioElementSource, this.audioGainNode)\n\n        this.resize()\n        // const initX = randomInt(0, window.innerWidth - this.width * 1.2)\n        // const initY = randomInt(0, window.innerHeight - this.height * 1.2)\n        // const initX = window.innerWidth / 2 - this.width / 2\n        // const initY = window.innerHeight / 2 - this.height / 2\n        // gsap.to(this.$refs.container, {\n        //   x: initX,\n        //   y: initY,\n        //   ease: \"power2.out\",\n        //   duration: 0,\n        // })\n      })\n\n      wavesurfer.on(\"finish\", () => {\n        // since region-out doesn't get fired when region is full sample\n        if (this.isLooping) this.settings.region.play()\n      })\n\n      wavesurfer.on(\"load\", (evt) => {\n        console.log(\"ON LOAD\", evt)\n      })\n\n      wavesurfer.on(\"loading\", () => {\n        console.log(\"ON LOADING\")\n      })\n\n      this.wavesurfer = wavesurfer\n      window.wavesurfer = wavesurfer\n      this.$refs.waveform.addEventListener(\"click\", this.onClick)\n\n      if (!this.audioBuffer) wavesurfer.load(this.audio)\n      else {\n        console.log(\"this.audio\", this.audio)\n\n        // this draws the waveform but throws the error GET /blob\n        const p = wavesurfer.loadBlob(\n          this.audio,\n          [this.audioBuffer.getChannelData(0)],\n          this.audioBuffer.duration\n        )\n        console.log(p)\n        window.p = p\n\n        // this DOES NOT get the error /GET a blob, but does not draw the waveform at all\n        // window.p2 = wavesurfer.loadAudio(\n        //   this.audio,\n        //   this.audioBuffer.getChannelData(0),\n        //   this.audioBuffer.duration\n        // )\n      }\n\n      this.draggable = Draggable.create(this.$refs.container, {\n        trigger: this.$refs.header,\n        type: \"x,y\",\n        bounds: \"html\",\n        zIndexBoost: true,\n        onDrag: () => {\n          this.$root.$emit(\"effectDrag\", this.$parent.$refs.reverb.$children[0])\n          this.$root.$emit(\"effectDrag\", this.$parent.$refs.delay.$children[0])\n        },\n      })[0]\n    },\n\n    initAudio() {\n      console.log(\"init audio\")\n      // init audio node\n      this.audioNode = new Tone.Player(this.audio, () => {\n        console.log(\"loaded audio\", this.audio)\n        this.originalDuration = this.bufferDuration\n        this.$refs.container.style.width = `${\n          this.bufferDuration * this.pixelsPerSecond\n        }px`\n        this.originalWidth = parseInt(this.$refs.container.style.width)\n        console.log(\"originalWidth\", this.originalWidth)\n\n        this.resetTimestretch()\n        this.initResizeObserver()\n        this.initScaleDraggable()\n        setTimeout(() => {\n          this.initRegion()\n          this.stop() // to avoid UI jump at play\n        }, 200) // TODO: requiring timeout\n      })\n      this.audioNode.volume.value = -6\n      window.audioNode = this.audioNode\n\n      // gain node to control via amplitude slider\n      this.audioGainNode = new Tone.Gain(\n        this.settings.scale.params.amplitude.value\n      )\n\n      // create effect send (gain) nodes and connect them to the global effect nodes\n      const effects = [\"reverb\", \"delay\"]\n      effects.forEach((effect) => {\n        this.effectSends[effect] = new Tone.Gain(0)\n        this.effectSends[effect].connect(this.$root.effectNodes[effect])\n        this.audioGainNode.connect(this.effectSends[effect])\n      })\n\n      // and create audio gain to master\n      this.audioGainNode.connect(Tone.Master)\n    },\n\n    initGranularSliders() {\n      const opts = {\n        size: [20, 80],\n        mode: \"relative\",\n      }\n\n      // grain size\n      const grainSizeSlider = new Nexus.Slider(`#grainSize-${this.idx}`, {\n        ...opts,\n        ...this.settings.granular.params.grainSize,\n      })\n      this.settings.granular.sliders.grainSize = grainSizeSlider\n\n      grainSizeSlider.on(\"change\", (val) => {\n        const expGrainSize = mapLog(\n          val,\n          this.settings.granular.params.grainSize.min,\n          this.settings.granular.params.grainSize.max\n        )\n        console.log(\"grainSize is now\", val.toFixed(2), expGrainSize.toFixed(2))\n        this.settings.granular.params.grainSize.value = expGrainSize\n      })\n\n      // rate\n      const rateSlider = new Nexus.Slider(`#rate-${this.idx}`, {\n        ...opts,\n        ...this.settings.granular.params.rate,\n      })\n      this.settings.granular.sliders.rate = rateSlider\n      rateSlider.on(\"change\", (val) => {\n        const logRate = mapLog(\n          val,\n          this.settings.granular.params.rate.min,\n          this.settings.granular.params.rate.max\n        )\n        this.settings.granular.params.rate.value = logRate\n        // console.log(\n        //   \"inverted rate before exp\",\n        //   this.getInvertedRate().toFixed(2)\n        // )\n        // this.settings.granular.params.rate.value = logRate\n        // console.log(\n        //   \"inverted rate after exp\",\n        //   this.getInvertedRate().toFixed(2)\n        // )\n        console.log(\n          \"rate is now\",\n          val.toFixed(2),\n          logRate.toFixed(2),\n          this.getInvertedRate().toFixed(2)\n        )\n      })\n\n      // random\n      const randomSlider = new Nexus.Slider(`#random-${this.idx}`, {\n        ...opts,\n        ...this.settings.granular.params.random,\n      })\n      this.settings.granular.sliders.rate = randomSlider\n      randomSlider.on(\"change\", (val) => {\n        console.log(\"random is now\", val)\n        this.settings.granular.params.random.value = val\n      })\n\n      // colors\n      grainSizeSlider.colorize(\"accent\", \"var(--blue)\")\n      grainSizeSlider.colorize(\"fill\", \"var(--blue-light)\")\n      rateSlider.colorize(\"accent\", \"var(--blue)\")\n      rateSlider.colorize(\"fill\", \"var(--blue-light)\")\n      randomSlider.colorize(\"accent\", \"var(--blue)\")\n      randomSlider.colorize(\"fill\", \"var(--blue-light)\")\n    },\n\n    updateAmplitude(val) {\n      // amplitude maps at a 1:1 to barHeight\n      console.log(\"amplitude is now\", val)\n      this.wavesurfer.setOptions({\n        barHeight: val,\n      })\n      console.log(\"using amplitude of \", val, \"to apply in gain node\")\n      this.audioGainNode.gain.exponentialRampToValueAtTime(val, 0.02)\n      this.settings.scale.params.amplitude.value = val\n    },\n\n    updateTimestretch(width) {\n      console.log(\"timestretch is now\", width)\n      this.$refs.container.style.width = `${width}px`\n      const playbackRate = 1 / (width / this.originalWidth)\n\n      // interpolate color\n      const startColor = [255, 255, 255, 0.95]\n      const stopColor = [255, 255, 255, 0.95]\n      const color = lerpColor(\n        startColor,\n        stopColor,\n        mapNumber(width, this.minWidth, this.maxWidth, 0, 1)\n      )\n      this.$refs.container.style.backgroundColor = `rgba(${color[0]},${color[1]},${color[2]},${color[3]})`\n\n      this.settings.scale.params.timestretch.value = playbackRate\n      console.log(\"playbackRate\", playbackRate)\n\n      this.resize()\n\n      this.wavesurfer.setPlaybackRate(playbackRate, false)\n    },\n\n    initCanvas() {\n      this.canvas = this.$refs.canvas\n      this.canvasCtx = this.canvas.getContext(\"2d\")\n      this.resize()\n    },\n\n    initScaleDraggable() {\n      const that = this\n      Draggable.create(this.$refs.scaleImage, {\n        trigger: this.$refs.scaleImage,\n        type: \"y\",\n        lockAxis: true,\n        bounds: {\n          minY: 0,\n          maxY: -128,\n        },\n        onDragEnd: function () {\n          gsap.to(this.target, {\n            y: 0,\n            ease: \"power2.out\",\n            duration: 0.2,\n          })\n          return\n        },\n        onDragStart: () => {\n          gsap.set(this.$refs.scaleImage, { cursor: \"grabbing\" })\n        },\n        onDrag: function () {\n          console.log(\"end\", this.endX, this.endY)\n          if (this.lockedAxis === \"x\") {\n            const mappedAmplitude = mapNumber(\n              this.endY,\n              0,\n              -128,\n              that.settings.scale.params.amplitude.min,\n              that.settings.scale.params.amplitude.max\n            )\n            that.updateAmplitude(mappedAmplitude)\n          }\n        },\n      })\n    },\n\n    initResizeObserver() {\n      const resizeObserver = new ResizeObserver((entries) => {\n        entries.forEach((entry) => {\n          const newWidth = entry.contentRect.width\n          console.log(\"newWidth\", newWidth)\n          this.updateTimestretch(newWidth)\n        })\n      })\n\n      resizeObserver.observe(this.$refs.container)\n      this.resizeObserver = resizeObserver // so that later can unobserve before destroy\n    },\n\n    resetTimestretch() {\n      this.updateTimestretch(this.originalDuration * this.pixelsPerSecond)\n      this.updateAmplitude(1)\n    },\n\n    initRegion() {\n      console.log(\"initting region...\")\n      const start = 0\n      const end = this.audioNode.buffer.duration\n      this.settings.region = this.regionsPlugin.addRegion({\n        start,\n        end,\n        content: \"\",\n        color: \"rgba(170, 197, 216, 0.1)\",\n        resize: true,\n        drag: true,\n        loop: false, // NOTE: his prop doesn't work, so need to work around with region and wavesurfer events\n      })\n      console.log(\"added region\", this.settings.region)\n      window.region = this.settings.region\n\n      this.settings.region.on(\"update\", () => {\n        if (this.mode === \"granular\") {\n          this.updateGranularOrigin()\n        }\n      })\n\n      this.regionsPlugin.on(\"region-update-end\", () => {\n        if (this.mode === \"sample\" && !this.isPlaying) {\n          // to avoid UI jump\n          this.stop()\n        }\n      })\n\n      // workaround for looping region, since loop proper of region not working...\n      this.regionsPlugin.on(\"region-out\", (region) => {\n        console.log(\"region out\")\n        if (this.isLooping) {\n          console.log(\"playing region again\")\n          region.play()\n        } else {\n          this.stop()\n        }\n      })\n    },\n\n    updateGranularOrigin() {\n      const { start, end } = this.settings.region\n      const mx = (end - start) / 2 + start\n      this.settings.granular.origin = this.timestamp2Progress(mx)\n    },\n\n    resize() {\n      console.log(\"resizing...\")\n      this.width = this.$refs.waveformWrapper.clientWidth\n      this.height = this.$refs.waveformWrapper.clientHeight\n      console.log({ height: this.height })\n      console.log(this.width, this.height)\n      this.canvas.setAttribute(\"width\", this.width)\n      this.canvas.setAttribute(\"height\", this.height)\n      this.wavesurfer.setOptions({ height: this.height })\n    },\n\n    play() {\n      if (this.mode === \"sample\") {\n        this.wavesurfer.setOptions({ cursorColor: \"black\" })\n        this.settings.region.play()\n        this.audioGainNode.gain.exponentialRampToValueAtTime(1, 0.02)\n      } else {\n        this.resize()\n        this.addGrain()\n        this.updateRateInterval()\n      }\n      this.isPlaying = true\n    },\n\n    stop() {\n      if (this.mode === \"sample\") {\n        this.wavesurfer.setOptions({ cursorColor: \"transparent\" })\n        // this.audioGainNode.gain.exponentialRampToValueAtTime(0, 0.02)\n        this.wavesurfer.stop()\n        this.wavesurfer.seekTo(\n          this.timestamp2Progress(this.settings.region.start)\n        )\n      } else {\n        // cleanup of granular\n        this.clearGranularInterval()\n        this.clearCanvas()\n      }\n      this.isPlaying = false\n    },\n\n    toggleControls(controls) {\n      console.log(\"toggling controls:\", controls)\n      this.controls = this.controls === controls ? null : controls\n    },\n\n    toggleMode() {\n      this.updateGranularOrigin()\n      this.stop()\n\n      this.mode = this.mode === \"sample\" ? \"granular\" : \"sample\"\n      console.log(\"mode is now\", this.mode)\n\n      switch (this.mode) {\n        case \"sample\":\n          this.wavesurfer.setOptions({ interact: true })\n          break\n\n        case \"granular\":\n          this.wavesurfer.setOptions({ interact: false })\n          break\n      }\n    },\n\n    clearGranularInterval() {\n      console.log(\n        \"clearing granular interval\",\n        this.settings.granular.params.rate.interval\n      )\n      clearInterval(this.settings.granular.params.rate.interval)\n    },\n\n    updateRateInterval() {\n      this.clearGranularInterval()\n      const delay = Math.round(this.getInvertedRate() * 1000)\n      console.log(\"INVERTED RATE\", delay)\n      this.settings.granular.params.rate.interval = setInterval(\n        (delay) => {\n          this.addGrain()\n          // update interval at setInterval end with new interval, only if changed from previous\n          const currentDelay = Math.round(this.getInvertedRate() * 1000)\n          if (delay !== currentDelay) {\n            // console.log(\"updating\")\n            this.updateRateInterval()\n          } else {\n            // console.log(\"not updating\")\n          }\n        },\n        delay,\n        delay\n      )\n    },\n\n    addGrain() {\n      // console.log(\"adding grain...\")\n      // access buffer\n      this.buffer = this.audioNode.buffer.getChannelData(0)\n\n      // determine where to read the grain from\n      const baseOffset = mapNumber(\n        this.settings.granular.origin,\n        0,\n        1,\n        0,\n        this.bufferDuration\n      )\n\n      // use 1/4 of the spray (the region of the granular) as std dev\n      const space = (this.settings.region.end - this.settings.region.start) / 4\n      const mappedStdDev = mapNumber(\n        this.settings.granular.params.random.value,\n        0,\n        1,\n        0,\n        space\n      )\n      const randOffset = randomGaussian(0, mappedStdDev)\n\n      const grainOffset = clamp(\n        baseOffset + randOffset,\n        this.settings.region.start,\n        this.settings.region.end\n      )\n      // console.log({ baseOffset, mappedStdDev, randOffset, grainOffset })\n\n      // create a grain buffer\n      const grain = new Tone.Player(this.audioNode.buffer)\n      grain.fadeIn = this.settings.granular.envelope.attack\n      grain.fadeOut = this.settings.granular.envelope.release\n      grain.playbackRate = this.settings.scale.params.timestretch.value\n      setTimeout(() => {\n        this.settings.granular.grains.shift() // remove the last grain created\n        this.drawGrains()\n      }, this.grainSize * 1000)\n\n      grain.volume.value = -6\n      window.grain = grain\n      grain.connect(this.audioGainNode)\n\n      // play grain\n      // grain.start(now, grainOffset, this.grainSize) // this clicks!\n      grain.start(\"+0\", grainOffset, this.grainSize) // this doesn't!\n\n      // draw grains\n      const x = mapNumber(grainOffset, 0, this.bufferDuration, 0, this.width)\n      this.settings.granular.grains.push({ x })\n      this.drawGrains()\n\n      // TODO: cleanup grain after playing\n    },\n\n    clearCanvas() {\n      this.canvasCtx.clearRect(0, 0, this.width, this.height)\n    },\n\n    drawGrains() {\n      this.clearCanvas()\n\n      this.canvasCtx.fillStyle = \"rgba(10, 10, 10, 0.4)\"\n      this.canvasCtx.beginPath()\n\n      // drawing source point\n      // const r = 5\n      // this.canvasCtx.beginPath()\n      // this.canvasCtx.stroke()\n      // this.canvasCtx.fillStyle = \"red\"\n      // this.canvasCtx.arc(this.x, this.height / 2, r, 0, 2 * Math.PI)\n      // this.canvasCtx.closePath()\n\n      for (let i = 0; i < this.settings.granular.grains.length; i++) {\n        const { x } = this.settings.granular.grains[i]\n        this.canvasCtx.fillStyle = \"var(--blue)\"\n\n        // circle\n        this.canvasCtx.beginPath()\n        const r = ((this.width / this.bufferDuration) * this.grainSize) / 2\n        console.log(\"HEIGHT\", this.height)\n        this.canvasCtx.arc(x, this.height / 2, r, 0, 2 * Math.PI)\n        // this.canvasCtx.stroke()\n        this.canvasCtx.fill()\n        this.canvasCtx.closePath()\n      }\n    },\n\n    onClick() {\n      Tone.context.resume() // so that it works in Chrome/Edge\n      if (this.controls) return\n      console.log(\"click\")\n      if (this.mode === \"sample\") {\n        if (this.wavesurfer.isPlaying()) {\n          console.log(\"stopping...\")\n          this.stop()\n        } else {\n          this.play()\n        }\n      } else if (this.mode === \"granular\") {\n        if (this.settings.granular.grains.length === 0) {\n          this.play()\n        } else {\n          this.stop()\n        }\n      }\n    },\n\n    effectDrag(evt) {\n      // console.log(\"got event\", evt.$el, evt.name, evt.rangeRadius)\n      // Calculate the distance between this sample center and the effect center\n      const { name: effectName, rangeRadius: effectRadius } = evt\n      const effectElem = evt.$el\n      const effectRect = effectElem.getBoundingClientRect()\n      const x1 = effectRect.left + effectRect.width / 2\n      const y1 = effectRect.top + effectRect.height / 2\n      const waveformRect = this.$refs.waveform.getBoundingClientRect()\n      const x2 = waveformRect.left + waveformRect.width / 2\n      const y2 = waveformRect.top + waveformRect.height / 2\n      const dx = x1 - x2\n      const dy = y1 - y2\n      const distance = Math.round(Math.sqrt(dx * dx + dy * dy))\n\n      console.log(`\"d(${this.name}, ${effectName})\"`, distance)\n\n      if (distance > effectRadius) return\n      const val = mapNumber(distance, 0, effectRadius, 1, 0).toFixed(2)\n      console.log(val)\n\n      this.effectSends[effectName].gain.exponentialRampToValueAtTime(val, 0.02)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#waveform {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.header {\n  color: white;\n  font-weight: bold;\n  font-size: 0.9rem;\n  position: relative;\n  background: var(--blue);\n  width: 100%;\n  border-top-left-radius: var(--border-radius);\n  border-top-right-radius: var(--border-radius);\n  border: 1px solid var(--blue);\n  &:hover {\n    cursor: grab !important;\n  }\n}\n\n#buttons {\n  display: flex;\n  justify-content: space-between;\n  // margin-top: 3px;\n  height: var(--buttons-height);\n}\n\n.controls {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 10;\n  display: flex;\n  font-size: 50px;\n  span {\n    opacity: 0.65;\n  }\n  border-radius: var(--border-radius);\n  pointer-events: none;\n}\n\n.container {\n  position: relative;\n  width: 200px;\n  margin: 0 auto;\n  border-radius: var(--border-radius);\n  background: rgb(255, 255, 255);\n  &.playing {\n    background: var(--blue-light) !important;\n  }\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  resize: horizontal;\n  overflow: hidden;\n  // opacity: 0;\n}\n\n.spaced-out {\n  display: flex;\n  justify-content: space-evenly;\n  flex-direction: row;\n  align-items: center;\n  width: 100%;\n}\n\n.granular-sliders {\n  display: flex;\n  width: 100%;\n  font-size: 0.9rem;\n  & > div {\n    pointer-events: auto;\n  }\n  margin-top: -30px; // so that don't get so much on top of bottom row buttons\n}\n\n.grain {\n  width: 20px;\n}\n\n#waveform-wrapper {\n  position: relative;\n  #waveform,\n  .canvas {\n    border-radius: calc(var(--border-radius) / 2);\n  }\n\n  .canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    width: 100% !important;\n    z-index: 0;\n    height: 128px;\n  }\n\n  #waveform {\n    width: 100%;\n  }\n}\n\n.sample-mode-icon {\n  width: 50px;\n  height: 50px;\n  opacity: 0.4;\n  &:hover {\n    cursor: pointer;\n  }\n  &.active {\n    opacity: 1;\n  }\n  pointer-events: auto !important;\n}\n\n#scale-btn {\n  background-color: var(--blue-light);\n  &:-moz-drag-over {\n    cursor: move !important;\n  }\n  &:hover {\n    // cursor: move !important;\n  }\n}\n\n.control-icon,\n.sample-mode-icon,\n#scale-btn {\n  transition: all 0.05s;\n  &:hover {\n    transform: scale(1.05);\n    cursor: pointer !important;\n  }\n}\n\n.control-icon {\n  padding: 2px;\n  background-color: var(--blue-light);\n  width: 30px;\n  height: 30px;\n  pointer-events: auto !important;\n}\n\n#settings-btn > img {\n  border-top-right-radius: var(--border-radius);\n  border-bottom-left-radius: var(--border-radius);\n}\n\n#mode-btn > img {\n  border-top-left-radius: var(--border-radius);\n  border-top-right-radius: var(--border-radius);\n}\n\n#scale-img,\n#scale-btn {\n  border-top-left-radius: var(--border-radius);\n  border-bottom-right-radius: var(--border-radius);\n  &:hover {\n    cursor: n-resize !important;\n  }\n}\n\n#scale-img {\n  opacity: 0.15;\n}\n\n.disabled {\n  opacity: 0.2 !important;\n  pointer-events: none;\n  &:hover {\n    cursor: not-allowed !important;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Sample.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Sample.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Sample.vue?vue&type=template&id=7e8a2691&scoped=true\"\nimport script from \"./Sample.vue?vue&type=script&lang=js\"\nexport * from \"./Sample.vue?vue&type=script&lang=js\"\nimport style0 from \"./Sample.vue?vue&type=style&index=0&id=7e8a2691&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e8a2691\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Effect',{attrs:{\"params\":_vm.params,\"effect-node\":_vm.reverbNode,\"icon\":\"icons/reverb.svg\",\"name\":\"reverb\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"effect\",staticClass:\"effect\"},[_c('div',{ref:\"effectArea\",staticClass:\"effect-area\"}),_c('div',{ref:\"effectCenter\",staticClass:\"effect-center\",style:({ backgroundImage: `url('${_vm.icon}')` }),on:{\"dblclick\":function($event){$event.stopPropagation();_vm.showSliders = !_vm.showSliders}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSliders),expression:\"showSliders\"}],staticClass:\"sliders\"},_vm._l((_vm.params),function(param,paramName,idx){return _c('round-slider',{key:paramName,staticStyle:{\"position\":\"absolute\"},attrs:{\"id\":paramName,\"start-angle\":idx * _vm.sliderArcAngle +\n        idx * _vm.sliderArcAngleStep -\n        _vm.sliderArcAngleAngleOffset,\"end-angle\":`+${_vm.sliderArcAngle}`,\"line-cap\":\"round\",\"width\":\"8\",\"path-color\":\"rgba(255,255,255,0.4)\",\"range-color\":\"var(--blue)\",\"animation\":false,\"radius\":\"50\",\"show-tooltip\":false,\"keyboard-action\":false,\"min\":param.min,\"max\":param.max,\"step\":param.step,\"handle-size\":\"+2\",\"update\":_vm.handleParamChange},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}})}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"effect\" class=\"effect\">\n    <div ref=\"effectArea\" class=\"effect-area\"></div>\n    <div\n      ref=\"effectCenter\"\n      class=\"effect-center\"\n      :style=\"{ backgroundImage: `url('${icon}')` }\"\n      @dblclick.stop=\"showSliders = !showSliders\"\n    ></div>\n    <div v-show=\"showSliders\" class=\"sliders\">\n      <round-slider\n        v-for=\"(param, paramName, idx) in params\"\n        :id=\"paramName\"\n        :key=\"paramName\"\n        v-model=\"param.value\"\n        :start-angle=\"\n          idx * sliderArcAngle +\n          idx * sliderArcAngleStep -\n          sliderArcAngleAngleOffset\n        \"\n        :end-angle=\"`+${sliderArcAngle}`\"\n        line-cap=\"round\"\n        width=\"8\"\n        path-color=\"rgba(255,255,255,0.4)\"\n        range-color=\"var(--blue)\"\n        :animation=\"false\"\n        radius=\"50\"\n        :show-tooltip=\"false\"\n        :keyboard-action=\"false\"\n        :min=\"param.min\"\n        :max=\"param.max\"\n        :step=\"param.step\"\n        handle-size=\"+2\"\n        style=\"position: absolute\"\n        :update=\"handleParamChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport RoundSlider from \"vue-round-slider\"\nimport Draggable from \"gsap/Draggable\"\n\nimport gsap from \"gsap\"\nimport { mapNumber } from \"@/utils\"\n\ngsap.registerPlugin(Draggable)\n\nexport default {\n  components: {\n    RoundSlider,\n  },\n\n  props: {\n    params: {\n      type: Object,\n      required: true,\n    },\n\n    name: {\n      type: String,\n      required: true,\n    },\n\n    icon: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      effectNode: null,\n      showSliders: false,\n      sliderArcAngle: 90,\n      rangeRadius: null, // need a specific var so that <round-slider> auto changes\n    }\n  },\n\n  computed: {\n    sliderArcAngleStep() {\n      const n = Object.keys(this.params).length\n      const remaining = 360 - n * this.sliderArcAngle\n      return remaining / n\n    },\n\n    sliderArcAngleAngleOffset() {\n      return this.sliderArcAngle + this.sliderArcAngleStep / 2 - 90\n    },\n  },\n\n  created() {\n    // eslint-disable-next-line vue/no-mutating-props\n    this.params.range = {\n      min: 40,\n      max: 120,\n      step: 1,\n      value: 50,\n      handler: (val) => {\n        console.log(\"handler\", val)\n        // this.rangeRadius = val\n        // changing width/height\n        // this.$refs.area.style.width = `${val * 2}px`\n        // this.$refs.area.style.height = `${val * 2}px`\n        const { min, max } = this.params.range\n        console.log(min, max)\n        const scale = mapNumber(val, min, max, 1, max / min)\n        console.log({ scale })\n        this.$refs.effectArea.style.transform = `scale(${scale})`\n      },\n    }\n\n    this.rangeRadius = this.params.range.value\n  },\n\n  mounted() {\n    this.initDraggable()\n  },\n\n  methods: {\n    initDraggable() {\n      Draggable.create(this.$refs.effect, {\n        trigger: this.$refs.effectCenter,\n        type: \"x,y\",\n        bounds: \"html\",\n        zIndexBoost: false,\n        onDragStart: () => {\n          // simulate zIndexBoost, but only within effects\n          const areas = document.querySelectorAll(\".effect-area\")\n          const highest = Math.max(\n            ...Array.from(areas).map((area) => parseInt(area.style.zIndex))\n          )\n          this.$refs.effectArea.style.zIndex = highest + 1\n        },\n        onDrag: () => {\n          // this.$root.$emit(\"effectDrag\", {\n          //   name: this.name,\n          //   el: this.$el,\n          //   radius: this.rangeRadius,\n          // })\n          this.$root.$emit(\"effectDrag\", this)\n        },\n      })\n    },\n\n    handleParamChange(roundSliderEvt) {\n      console.log(\"handleParamChange!\")\n      console.log(\"handleParamChange!\")\n      const paramName = roundSliderEvt.id\n      const val = roundSliderEvt.value\n      console.log(paramName, val)\n      this.params[paramName].handler(val)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.effect {\n  position: absolute;\n  width: 200px;\n  height: 200px;\n}\n\n.effect-area {\n  position: absolute;\n  width: 200px;\n  height: 200px;\n  border-radius: 100%;\n  background: radial-gradient(circle, var(--blue-light), rgba(0, 0, 0, 0.2));\n  pointer-events: none; // so that can move a sample behind\n}\n\n.effect-center {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 50px;\n  height: 50px;\n  border-radius: 100%;\n  pointer-events: auto; // to override the none of the parent\n  &:hover {\n    border: 1px solid black;\n  }\n  z-index: 1000;\n}\n\n.sliders {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-100%, -100%);\n  width: 50px;\n  height: 50px;\n  pointer-events: auto !important; // to override the none of the parent\n}\n\n.rs-handle {\n  box-shadow: 0 0 2px 0 #000 !important;\n  transition: all 0.05s;\n  &:hover {\n    transform: scale(1.1);\n    cursor: pointer !important;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Effect.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Effect.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Effect.vue?vue&type=template&id=0c1a78c6\"\nimport script from \"./Effect.vue?vue&type=script&lang=js\"\nexport * from \"./Effect.vue?vue&type=script&lang=js\"\nimport style0 from \"./Effect.vue?vue&type=style&index=0&id=0c1a78c6&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <Effect\n    :params=\"params\"\n    :effect-node=\"reverbNode\"\n    icon=\"icons/reverb.svg\"\n    name=\"reverb\"\n  ></Effect>\n</template>\n\n<script>\nimport Tone from \"tone\"\nimport Effect from \"@/components/Effect\"\n\nexport default {\n  components: {\n    Effect,\n  },\n\n  data() {\n    return {\n      reverbNode: null,\n      params: {\n        dampening: {\n          min: 0,\n          max: 20000,\n          step: 100,\n          value: 8000,\n          handler: (val) => {\n            console.log(\"dampening is now\", val)\n            this.reverbNode.dampening.rampTo(val, 0.01)\n          },\n        },\n        decay: {\n          min: 0.15,\n          max: 1,\n          step: 0.01,\n          value: 0.5,\n          handler: (val) => {\n            console.log(\"decay/roomsize is now\", val)\n            this.reverbNode.roomSize.rampTo(val, 0.01)\n          },\n        },\n      },\n    }\n  },\n\n  mounted() {\n    this.reverbNode = new Tone.Freeverb(\n      this.params.decay.value,\n      this.params.dampening.value\n    ).toMaster()\n    console.log(\"created reverb node\")\n    if (!this.$root.effectNodes) this.$root.effectNodes = []\n    this.$root.effectNodes[\"reverb\"] = this.reverbNode\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Reverb.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Reverb.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Reverb.vue?vue&type=template&id=5974cf8c\"\nimport script from \"./Reverb.vue?vue&type=script&lang=js\"\nexport * from \"./Reverb.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Effect',{attrs:{\"params\":_vm.params,\"effect-node\":_vm.delayNode,\"icon\":\"icons/delay.svg\",\"name\":\"delay\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Effect\n    :params=\"params\"\n    :effect-node=\"delayNode\"\n    icon=\"icons/delay.svg\"\n    name=\"delay\"\n  ></Effect>\n</template>\n\n<script>\nimport Tone from \"tone\"\nimport Effect from \"@/components/Effect\"\n\nexport default {\n  components: {\n    Effect,\n  },\n\n  data() {\n    return {\n      delayNode: null,\n      params: {\n        delayTime: {\n          min: 0,\n          max: 2.5,\n          step: 0.01,\n          value: 0.5,\n          handler: (val) => {\n            console.log(\"delay time is now\", val)\n            this.delayNode.delayTime.rampTo(val, 0.01)\n          },\n        },\n        feedback: {\n          min: 0,\n          max: 1,\n          step: 0.01,\n          value: 0.5,\n          handler: (val) => {\n            console.log(\"feedback is now\", val)\n            this.delayNode.feedback.rampTo(val, 0.01)\n          },\n        },\n      },\n    }\n  },\n\n  mounted() {\n    this.delayNode = new Tone.FeedbackDelay(\n      this.params.delayTime.value,\n      this.params.feedback.value\n    ).toMaster()\n    console.log(\"created delay node\")\n    if (!this.$root.effectNodes) this.$root.effectNodes = []\n    this.$root.effectNodes[\"delay\"] = this.delayNode\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Delay.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Delay.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Delay.vue?vue&type=template&id=bd3699d2\"\nimport script from \"./Delay.vue?vue&type=script&lang=js\"\nexport * from \"./Delay.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" class=\"no-select\" @dragover.prevent @drop.prevent=\"handleDrop\">\n    <img\n      id=\"add-button\"\n      class=\"app-button scale-hover\"\n      src=\"icons/add.svg\"\n      style=\"right: 20px\"\n      @click=\"addSound\"\n    />\n    <img\n      id=\"save-button\"\n      class=\"app-button disabled\"\n      src=\"icons/save.svg\"\n      style=\"right: 80px\"\n      @click=\"save\"\n    />\n    <img\n      id=\"record-button\"\n      class=\"app-button disabled\"\n      src=\"icons/record.svg\"\n      style=\"right: 140px\"\n      @click=\"record\"\n    />\n    <img\n      id=\"mic-button\"\n      class=\"app-button disabled\"\n      src=\"icons/mic.svg\"\n      style=\"right: 200px\"\n      @click=\"microphone\"\n    />\n    <template v-for=\"(sample, idx) in samples\">\n      <Sample\n        :ref=\"`sample-${idx}`\"\n        :key=\"idx\"\n        :name=\"sample.name\"\n        :audio=\"sample.audio\"\n        :idx=\"idx\"\n        :audio-buffer=\"sample.buffer\"\n        @mouseover.native=\"$root.lastSampleInteractionIdx = idx\"\n      />\n    </template>\n    <Reverb ref=\"reverb\" style=\"bottom: 50px; left: 30px\" />\n    <Delay ref=\"delay\" style=\"bottom: 50px; left: 280px\" />\n    <input\n      id=\"hiddenFileInput\"\n      ref=\"fileChooser\"\n      type=\"file\"\n      style=\"display: none\"\n      accept=\".mp3\"\n      @change=\"handleAddSound\"\n    />\n    <a href=\"https://github.com/Digitopia/DigiCanvas\" target=\"_blank\">\n      <img\n        id=\"info-button\"\n        class=\"app-button scale-hover\"\n        src=\"icons/info.svg\"\n        @click=\"showInfo = true\"\n      />\n    </a>\n  </div>\n</template>\n\n<script>\nimport Tone from \"tone\"\n\nimport Sample from \"@/components/Sample\"\nimport Reverb from \"@/components/Reverb\"\nimport Delay from \"@/components/Delay\"\n\n// eslint-disable-next-line no-unused-vars\nimport { randomInt, logMap, mapExp, mapLog } from \"@/utils\"\n\nexport default {\n  name: \"App\",\n\n  components: {\n    Sample,\n    Reverb,\n    Delay,\n  },\n\n  data() {\n    return {\n      samples: [],\n      presets: {\n        0: {\n          audio: \"presets/guit_plus_background.mp3\",\n          name: \"guit + bg\",\n        },\n        1: {\n          audio: \"presets/birds1_mono.mp3\",\n          name: \"birds\",\n        },\n        2: {\n          audio: \"presets/chains1_mono.mp3\",\n          name: \"chains\",\n        },\n        3: {\n          audio: \"presets/flute1_mono.mp3\",\n          name: \"flute\",\n        },\n        4: {\n          audio: \"presets/horse1_mono.mp3\",\n          name: \"horse\",\n        },\n        5: {\n          audio: \"presets/marimba_roll_and_clarinet1_mono.mp3\",\n          name: \"marimba\",\n        },\n        6: {\n          audio: \"presets/metalHit1_mono.mp3\",\n          name: \"metal 1\",\n        },\n        7: {\n          audio: \"presets/metalHit2_mono.mp3\",\n          name: \"metal 2\",\n        },\n        8: {\n          audio: \"presets/sailing1_mono.mp3\",\n          name: \"sailing\",\n        },\n        9: {\n          audio: \"presets/snoring1_mono.mp3\",\n          name: \"snoring\",\n        },\n      },\n    }\n  },\n\n  mounted() {\n    this.samples.push(this.presets[1])\n\n    // start with a ramdom sample?\n    // this.samples.push(\n    //   this.presets[randomInt(0, Object.keys(this.presets).length - 1)]\n    // )\n\n    // quick entry of presets with keyboard (1, 2, 3, 4)\n    document.addEventListener(\"keydown\", (event) => {\n      if (\n        event.key == 0 ||\n        event.key == 1 ||\n        event.key == 2 ||\n        event.key == 3 ||\n        event.key == 4 ||\n        event.key == 5 ||\n        event.key == 6 ||\n        event.key == 7 ||\n        event.key == 8 ||\n        event.key == 9\n      ) {\n        this.samples.push(this.presets[event.key])\n      }\n    })\n\n    window.Tone = Tone\n  },\n\n  methods: {\n    addSound() {\n      console.log(\"adding sound...\")\n      this.$refs.fileChooser.click()\n    },\n\n    handleAddSound(event) {\n      const file = event.target.files[0]\n      console.log(\"Selected file:\", file)\n      this.initSample(file)\n    },\n\n    record() {\n      console.log(\"recording...\")\n    },\n\n    save() {\n      console.log(\"saving...\")\n    },\n\n    microphone() {\n      console.log(\"microphoning...\")\n    },\n\n    handleDrop(event) {\n      console.log(\"handling drop\")\n      const file = event.dataTransfer.files[0]\n      if (file && file.type.startsWith(\"audio/\")) {\n        this.initSample(file)\n      } else {\n        alert(\"Please drop a valid audio file.\")\n      }\n    },\n\n    initSample(file) {\n      // Load the dropped audio file\n      const reader = new FileReader()\n      reader.onload = (evt) => {\n        // option blob\n        const blob = new Blob([reader.result], { type: file.type })\n        console.log(\"BLOB\", blob)\n        const blobUrl = URL.createObjectURL(blob)\n\n        // check audio duration (by creating an Audio element and getting its metadata)\n        const audio = new Audio()\n        audio.src = blobUrl\n        audio.addEventListener(\"loadedmetadata\", () => {\n          console.log(\"Audio duration:\", audio.duration)\n          if (audio.duration > 5) {\n            console.log(blobUrl)\n            this.samples.push({\n              audio: blobUrl,\n              name: file.name.replace(/\\.[^/.]+$/, \"\"),\n            })\n          } else {\n            alert(\"Samples need to be between 5 and 15 seconds.\")\n            return\n            // TODO: add some silence or crop\n            // eslint-disable-next-line no-unreachable\n            console.log(\"going to add some silence\")\n            const data = evt.target.result\n            Tone.context.decodeAudioData(data, (buffer) => {\n              const modifiedBuffer = this.addSilenceToEnd(buffer, 10)\n              console.log(\n                \"Modified audio buffer:\",\n                modifiedBuffer,\n                modifiedBuffer.duration\n              )\n              // create a new blob with the silence\n              const blobSilence = new Blob([modifiedBuffer], {\n                type: file.type,\n              })\n              window.modifiedBuffer = modifiedBuffer\n              const blobSilenceUrl = URL.createObjectURL(blobSilence)\n              console.log(\"BLOB\", blobSilence)\n              console.log(blobSilenceUrl)\n              this.samples.push({\n                audio: blobSilenceUrl,\n                name: file.name.replace(/\\.[^/.]+$/, \"\"),\n                buffer: modifiedBuffer,\n              })\n            })\n          }\n        })\n        audio.load()\n      }\n      reader.readAsArrayBuffer(file)\n    },\n\n    addSilenceToEnd(audioBuffer, targetDuration) {\n      const currentDuration = audioBuffer.duration\n      if (currentDuration >= targetDuration) {\n        console.log(\n          \"Audio is already equal to or longer than the target duration.\"\n        )\n        return audioBuffer\n      }\n      const channels = audioBuffer.numberOfChannels\n      const sampleRate = audioBuffer.sampleRate\n      const targetLength = Math.floor(targetDuration * sampleRate)\n      // Create a new AudioBuffer with the target duration\n      const newBuffer = Tone.context.createBuffer(\n        channels,\n        targetLength,\n        sampleRate\n      )\n      // Copy the original audio data to the new buffer\n      for (let channel = 0; channel < channels; channel++) {\n        const channelData = audioBuffer.getChannelData(channel)\n        newBuffer.getChannelData(channel).set(channelData)\n      }\n      return newBuffer\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n:root {\n  --blue: rgb(86, 143, 179);\n  --blue-light: rgb(170, 197, 216);\n  --yellow: rgb(255, 220, 96);\n  --border-radius: 10px;\n  --reverb-radius: 150px;\n  --buttons-height: 34px;\n}\n\nhtml,\nbody {\n  background: var(--yellow);\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  margin: 0;\n}\n\n.scale-hover {\n  transition: all 0.05s;\n  &:hover {\n    transform: scale(1.05);\n    cursor: pointer !important;\n  }\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  width: 100%;\n  min-height: 100vh;\n}\n\n.no-select {\n  -webkit-user-select: none; /* Safari */\n  -ms-user-select: none; /* IE 10 and IE 11 */\n  user-select: none; /* Standard syntax */\n}\n\n.app-button {\n  bottom: 20px;\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  &:hover {\n    cursor: pointer;\n  }\n  &.disabled {\n    opacity: 0.2;\n    &:hover {\n      cursor: not-allowed !important;\n    }\n  }\n}\n\n#info-button {\n  top: 10px;\n  right: 10px;\n  width: 15px;\n  height: 15px;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9713b698\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=9713b698&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\"\nimport App from \"./App.vue\"\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount(\"#app\")\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdigicanvas\"] = self[\"webpackChunkdigicanvas\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(569); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","preventDefault","handleDrop","apply","arguments","staticStyle","addSound","save","record","microphone","_l","samples","sample","idx","key","ref","refInFor","name","audio","buffer","nativeOn","$root","lastSampleInteractionIdx","handleAddSound","showInfo","staticRenderFns","class","playing","isPlaying","directives","rawName","value","controls","expression","stopPropagation","mode","settings","modes","m","active","disabled","_v","toggleEditName","isEditingName","editName","domProps","type","indexOf","_k","keyCode","target","composing","_s","toggleControls","toggleMode","resetTimestretch","mapNumber","number","inMin","inMax","outMin","outMax","clamp","min","max","Math","randomGaussian","mean","stdev","u","random","v","z","sqrt","log","cos","PI","lerpColor","c1","c2","amt","r1","g1","b1","a1","r2","g2","b2","a2","r3","g3","b3","a3","mapLog","val","norm","ret","props","String","required","audioBuffer","AudioBuffer","Number","data","audioNode","audioElementSource","wavesurfer","granular","origin","params","grainSize","step","rate","sliders","grains","envelope","attack","release","scale","amplitude","timestretch","region","canvas","canvasCtx","width","height","pixelsPerSecond","maxWidth","minWidth","originalDuration","originalWidth","effectSends","reverb","delay","computed","maxDuration","isLooping","bufferDuration","duration","NaN","watch","console","bool","setOptions","resize","drag","mounted","window","WaveSurfer","propAudioBuffer","propAudio","initWaveform","initAudio","initGranularSliders","initCanvas","$refs","container","style","$on","effectDrag","document","addEventListener","event","$destroy","beforeDestroy","resizeObserver","unobserve","$off","$el","parentNode","removeChild","methods","getInvertedRate","draggable","disable","enable","timestamp2Progress","timestamp","create","waveform","backgroundColor","waveColor","progressColor","cursorColor","cursorWidth","barWidth","barHeight","barGap","normalize","interact","hideScrollbar","plugins","RegionsPlugin","regionsPlugin","registerPlugin","Tone","createMediaElementSource","media","audioGainNode","play","evt","onClick","p","loadBlob","getChannelData","load","Draggable","trigger","header","bounds","zIndexBoost","onDrag","$emit","$parent","$children","parseInt","initResizeObserver","initScaleDraggable","setTimeout","initRegion","stop","volume","effects","forEach","effect","connect","effectNodes","opts","size","grainSizeSlider","Nexus","expGrainSize","toFixed","rateSlider","logRate","randomSlider","colorize","updateAmplitude","gain","exponentialRampToValueAtTime","updateTimestretch","playbackRate","startColor","stopColor","color","setPlaybackRate","getContext","that","scaleImage","lockAxis","minY","maxY","onDragEnd","gsap","to","y","ease","onDragStart","set","cursor","endX","endY","lockedAxis","mappedAmplitude","ResizeObserver","entries","entry","newWidth","contentRect","observe","start","end","addRegion","content","loop","updateGranularOrigin","mx","waveformWrapper","clientWidth","clientHeight","setAttribute","addGrain","updateRateInterval","seekTo","clearGranularInterval","clearCanvas","interval","clearInterval","round","setInterval","currentDelay","baseOffset","space","mappedStdDev","randOffset","grainOffset","grain","fadeIn","fadeOut","shift","drawGrains","x","push","clearRect","fillStyle","beginPath","i","length","r","arc","fill","closePath","resume","effectName","rangeRadius","effectRadius","effectElem","effectRect","getBoundingClientRect","x1","left","y1","top","waveformRect","x2","y2","dx","dy","distance","component","reverbNode","backgroundImage","icon","showSliders","param","paramName","sliderArcAngle","sliderArcAngleStep","sliderArcAngleAngleOffset","handleParamChange","model","callback","$$v","$set","components","RoundSlider","Object","effectNode","n","keys","remaining","created","range","handler","effectArea","transform","initDraggable","effectCenter","areas","querySelectorAll","highest","Array","from","map","area","zIndex","roundSliderEvt","id","Effect","dampening","rampTo","decay","roomSize","toMaster","delayNode","delayTime","feedback","Sample","Reverb","Delay","presets","fileChooser","click","file","files","initSample","dataTransfer","startsWith","alert","reader","FileReader","onload","blob","Blob","result","blobUrl","URL","createObjectURL","Audio","src","replace","readAsArrayBuffer","addSilenceToEnd","targetDuration","currentDuration","channels","numberOfChannels","sampleRate","targetLength","floor","newBuffer","createBuffer","channel","channelData","Vue","config","productionTip","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}